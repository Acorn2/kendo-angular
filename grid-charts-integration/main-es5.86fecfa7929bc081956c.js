function _templateObject104(){var e=_taggedTemplateLiteral([":kendo.tooltip.closeTitle|The title of the close button\u241fde53b3f74f2d4a81b5c3f54c0ac1269cb017bd4f\u241f1245147641110884896:Close"]);return _templateObject104=function(){return e},e}function _templateObject103(){var e=_taggedTemplateLiteral([":kendo.window.minimizeTitle|The title of the minimize button\u241f7ca9f9b41a23760f7f74e91ee4c76d5a5f4a706c\u241f7581084655285341827:Minimize"]);return _templateObject103=function(){return e},e}function _templateObject102(){var e=_taggedTemplateLiteral([":kendo.window.maximizeTitle|The title of the maximize button\u241f42bc654ef8767c5df5277aa88941b94f8d373b4d\u241f7793415109119115257:Maximize"]);return _templateObject102=function(){return e},e}function _templateObject101(){var e=_taggedTemplateLiteral([":kendo.window.restoreTitle|The title of the restore button\u241f9a9ce231f0396e40adcfa80bfa76e546e0085be0\u241f3443120027481340803:Restore"]);return _templateObject101=function(){return e},e}function _templateObject100(){var e=_taggedTemplateLiteral([":kendo.window.closeTitle|The title of the close button\u241fbb50cb526949482fc976fd868573ab283580ee69\u241f2849207436137160812:Close"]);return _templateObject100=function(){return e},e}function _templateObject99(){var e=_taggedTemplateLiteral([":kendo.dialog.closeTitle|The title of the close button\u241f9b2bd34897f127e69e5f02f64692fca98a5a7572\u241f7499923323865444383:Close"]);return _templateObject99=function(){return e},e}function _templateObject98(){var e=_taggedTemplateLiteral([":kendo.grid.detailCollapse|The title of the collapse icon of detail rows.\u241face0c0a58fbb211e8678efb3bd6ac9bb587144c3\u241f6065477639036399169:Collapse Details"]);return _templateObject98=function(){return e},e}function _templateObject97(){var e=_taggedTemplateLiteral([":kendo.grid.detailExpand|The title of the expand icon of detail rows.\u241fad6629bb6e79235623cfce486ef48087dbe96fb5\u241f6952757249912226136:Expand Details"]);return _templateObject97=function(){return e},e}function _templateObject96(){var e=_taggedTemplateLiteral([":kendo.grid.columnsReset|The text shown in the column menu or column chooser for the columns reset button\u241f94d3b472d99994a5cca9930afd4cf0ac2774c382\u241f4465838259914958827:Reset"]);return _templateObject96=function(){return e},e}function _templateObject95(){var e=_taggedTemplateLiteral([":kendo.grid.columnsApply|The text shown in the column menu or column chooser for the columns apply button\u241f04600bd6e362cf9da9f7f9c4666eab2c88eb6a90\u241f34213208292862969:Apply"]);return _templateObject95=function(){return e},e}function _templateObject94(){var e=_taggedTemplateLiteral([":kendo.grid.sortedDefault|The status announcement when a column is no longer sorted\u241f66e99ea340974022c07c52a6f668f5573e7edab0\u241f5229177293891232538:Not Sorted"]);return _templateObject94=function(){return e},e}function _templateObject93(){var e=_taggedTemplateLiteral([":kendo.grid.sortedDescending|The status announcement when a column is sorted descending\u241f092a688d1b2b6d873bdc29beaaf43c3f45336581\u241f8155280769473236383:Sorted Descending"]);return _templateObject93=function(){return e},e}function _templateObject92(){var e=_taggedTemplateLiteral([":kendo.grid.sortedAscending|The status announcement when a column is sorted ascending\u241f947c64329461efd9f8a9aa2c51acbbd099170aa5\u241f6275944032047713540:Sorted Ascending"]);return _templateObject92=function(){return e},e}function _templateObject91(){var e=_taggedTemplateLiteral([":kendo.grid.sortDescending|The text shown in the column menu for the sort descending item\u241f208d0538d4c2537a1cbf456941e34a2884053d52\u241f5605073536641230977:Sort Descending"]);return _templateObject91=function(){return e},e}function _templateObject90(){var e=_taggedTemplateLiteral([":kendo.grid.sortAscending|The text shown in the column menu for the sort ascending item\u241f96beffd8446c5455f3bbdc313c946db32df7dcc2\u241f6297762560864270240:Sort Ascending"]);return _templateObject90=function(){return e},e}function _templateObject89(){var e=_taggedTemplateLiteral([":kendo.grid.sortable|The label of the sort icon\u241fa692ba271be066ce379f942ff67094e1ea989f4c\u241f3824304972336788145:Sortable"]);return _templateObject89=function(){return e},e}function _templateObject88(){var e=_taggedTemplateLiteral([":kendo.grid.unlock|The text shown in the column menu for the unlock item\u241ff33355540003068372e39ba7f3def794869ea9f8\u241f6968586378603932789:Unlock"]);return _templateObject88=function(){return e},e}function _templateObject87(){var e=_taggedTemplateLiteral([":kendo.grid.lock|The text shown in the column menu for the lock item\u241ff356cae509dec3dc1b7156326b9a0328a79c62a8\u241f5849203148124173556:Lock"]);return _templateObject87=function(){return e},e}function _templateObject86(){var e=_taggedTemplateLiteral([":kendo.grid.columns|The text shown in the column menu for the columns item\u241f9b841399fbb3d81f2401f98b4f4763834b72a1e5\u241f5332162737795508854:Columns"]);return _templateObject86=function(){return e},e}function _templateObject85(){var e=_taggedTemplateLiteral([":kendo.grid.columnMenu|The title of the column menu icon\u241f3596c6b21d39223adc5c352daec9938474a8cc0d\u241f2820335494528144626:Column Menu"]);return _templateObject85=function(){return e},e}function _templateObject84(){var e=_taggedTemplateLiteral([":kendo.grid.loading|The loading text\u241f781c049cc69efc30bc8053af9ace3cb4b04bd438\u241f5425510787229531767:Loading"]);return _templateObject84=function(){return e},e}function _templateObject83(){var e=_taggedTemplateLiteral([":kendo.grid.filterOrLogic|The text of the Or filter logic\u241f04e64780de0fc1c3a9986997e0808ec53a5f2a63\u241f1964926727342405367:Or"]);return _templateObject83=function(){return e},e}function _templateObject82(){var e=_taggedTemplateLiteral([":kendo.grid.filterAndLogic|The text of the And filter logic\u241ff73fbcc2f813d469e4a34491950ca01ea1ac8f60\u241f512662285155477884:And"]);return _templateObject82=function(){return e},e}function _templateObject81(){var e=_taggedTemplateLiteral([":kendo.grid.filterClearButton|The text of the clear filter button\u241f06e4e4dadede6f91f261cdbb7fb174246a135238\u241f3031209415830321799:Clear"]);return _templateObject81=function(){return e},e}function _templateObject80(){var e=_taggedTemplateLiteral([":kendo.grid.filterFilterButton|The text of the filter button\u241f4f1c08d0b056646cdb668da669e2e15825adfe4d\u241f5185263258022896121:Filter"]);return _templateObject80=function(){return e},e}function _templateObject79(){var e=_taggedTemplateLiteral([":kendo.grid.filterBeforeOrEqualOperator|The text of the before or equal date filter operator\u241f27a6b29ffbc1eb498de8d7af20051461a2e842ec\u241f6582064037090631388:Is before or equal to"]);return _templateObject79=function(){return e},e}function _templateObject78(){var e=_taggedTemplateLiteral([":kendo.grid.filterBeforeOperator|The text of the before date filter operator\u241f35ef5cf367670f15432c9f8761bc85fbdb2b1830\u241f3348865631071358219:Is before"]);return _templateObject78=function(){return e},e}function _templateObject77(){var e=_taggedTemplateLiteral([":kendo.grid.filterAfterOperator|The text of the after date filter operator\u241fbff777df0d0831cc02679227422fab4ef2763fa9\u241f3078502182807244703:Is after"]);return _templateObject77=function(){return e},e}function _templateObject76(){var e=_taggedTemplateLiteral([":kendo.grid.filterAfterOrEqualOperator|The text of the after or equal date filter operator\u241fd7dac1bbc2372d578a9d2bca099de766043aed7e\u241f1964413288176201979:Is after or equal to"]);return _templateObject76=function(){return e},e}function _templateObject75(){var e=_taggedTemplateLiteral([":kendo.grid.filterBooleanAll|The text of the (All) boolean filter option\u241f4da1456a62bafe2614ed2bc05a2c790a64a4dd0b\u241f9215343856736761875:(All)"]);return _templateObject75=function(){return e},e}function _templateObject74(){var e=_taggedTemplateLiteral([":kendo.grid.filterIsFalse|The text of the IsFalse boolean filter option\u241f6d34731320e2536fd78f4a9e08f0b8dcd01edf3d\u241f7759366406135608407:Is False"]);return _templateObject74=function(){return e},e}function _templateObject73(){var e=_taggedTemplateLiteral([":kendo.grid.filterIsTrue|The text of the IsTrue boolean filter option\u241fd5f1e9028bc60c30e8f8e0f9cfeb872512446cea\u241f2361673238316312251:Is True"]);return _templateObject73=function(){return e},e}function _templateObject72(){var e=_taggedTemplateLiteral([":kendo.grid.filterLtOperator|The text of the less than filter operator\u241fc4d58f0e509cb7e37014715dd91546a724210d70\u241f498627126459578706:Is less than"]);return _templateObject72=function(){return e},e}function _templateObject71(){var e=_taggedTemplateLiteral([":kendo.grid.filterLteOperator|The text of the less than or equal filter operator\u241fe48d50a6422c616a00b95025adc5283aff4fa8cb\u241f4840714404733417604:Is less than or equal to"]);return _templateObject71=function(){return e},e}function _templateObject70(){var e=_taggedTemplateLiteral([":kendo.grid.filterGtOperator|The text of the greater than filter operator\u241fae68acc0e18252a348bdfb32112996d81e5305de\u241f1527483349261806183:Is greater than"]);return _templateObject70=function(){return e},e}function _templateObject69(){var e=_taggedTemplateLiteral([":kendo.grid.filterGteOperator|The text of the greater than or equal filter operator\u241f68471603db771d0304d02fe086da9701c16911c3\u241f4542824413455511831:Is greater than or equal to"]);return _templateObject69=function(){return e},e}function _templateObject68(){var e=_taggedTemplateLiteral([":kendo.grid.filterEndsWithOperator|The text of the ends with filter operator\u241fa54b2ecffb41f0603ceedc7ea5a40b7d130e2fa1\u241f3662435311670509156:Ends with"]);return _templateObject68=function(){return e},e}function _templateObject67(){var e=_taggedTemplateLiteral([":kendo.grid.filterNotContainsOperator|The text of the does not contain filter operator\u241fbe06aa4fde7fa722c9de5a45f241ff595071d718\u241f7331253838216904826:Does not contain"]);return _templateObject67=function(){return e},e}function _templateObject66(){var e=_taggedTemplateLiteral([":kendo.grid.filterContainsOperator|The text of the contains filter operator\u241f5b568a46d2e34ebde7dd53a7e599cbbb7dc6bae1\u241f3831180413287131758:Contains"]);return _templateObject66=function(){return e},e}function _templateObject65(){var e=_taggedTemplateLiteral([":kendo.grid.filterStartsWithOperator|The text of the starts with filter operator\u241fda43b363b636156e3ccdbb64a0788bdeab51e992\u241f6087783423599420507:Starts with"]);return _templateObject65=function(){return e},e}function _templateObject64(){var e=_taggedTemplateLiteral([":kendo.grid.filterIsNotEmptyOperator|The text of the is not empty filter operator\u241fdee7553c341248e90aef4a8e7438c52e667e68be\u241f8245213618709258015:Is not empty"]);return _templateObject64=function(){return e},e}function _templateObject63(){var e=_taggedTemplateLiteral([":kendo.grid.filterIsEmptyOperator|The text of the is empty filter operator\u241fa4e77e444b4e9b63851ac818e20136212b06c750\u241f4762263229995523226:Is empty"]);return _templateObject63=function(){return e},e}function _templateObject62(){var e=_taggedTemplateLiteral([":kendo.grid.filterIsNotNullOperator|The text of the is not null filter operator\u241f70b39eeaf2674907b2e59b414baf17e032b464dc\u241f8362279767336741540:Is not null"]);return _templateObject62=function(){return e},e}function _templateObject61(){var e=_taggedTemplateLiteral([":kendo.grid.filterIsNullOperator|The text of the is null filter operator\u241f078c50eb1fe8b2b43fcc40c5e7f4493152310c2f\u241f1298299704757177797:Is null"]);return _templateObject61=function(){return e},e}function _templateObject60(){var e=_taggedTemplateLiteral([":kendo.grid.filterNotEqOperator|The text of the not equal filter operator\u241fd46e14d35d89d2fadf5c852abf5557643510a013\u241f8497658332767349737:Is not equal to"]);return _templateObject60=function(){return e},e}function _templateObject59(){var e=_taggedTemplateLiteral([":kendo.grid.filterEqOperator|The text of the equal filter operator\u241f8b31e1604d10a2f8709dcb1ed5c237e33cffc135\u241f4328959145426393682:Is equal to"]);return _templateObject59=function(){return e},e}function _templateObject58(){var e=_taggedTemplateLiteral([":kendo.grid.filter|The label of the filter cell or icon\u241f21a04b7b090dac60e0449cb6e435b7e879173c75\u241f7977992299945497789:Filter"]);return _templateObject58=function(){return e},e}function _templateObject57(){var e=_taggedTemplateLiteral([":kendo.grid.pagerItemsPerPage|The label for the page size chooser in the Grid pager\u241f3331fe7ec45f299afaa4c1e08ea25c493eda9144\u241f8838594644885628398:items per page"]);return _templateObject57=function(){return e},e}function _templateObject56(){var e=_taggedTemplateLiteral([":kendo.grid.pagerItems|The label after the total pages number in the Grid pager\u241f7c1704d11bfb77340485acd891439c2b6c6616ca\u241f700193548223931835:items"]);return _templateObject56=function(){return e},e}function _templateObject55(){var e=_taggedTemplateLiteral([":kendo.grid.pagerOf|The label before the total pages number in the Grid pager\u241f0c9abe48f5d4bd2cb51846712e41864fc64aad6a\u241f7004642096327889102:of"]);return _templateObject55=function(){return e},e}function _templateObject54(){var e=_taggedTemplateLiteral([":kendo.grid.pagerPage|The label before the current page number in the Grid pager\u241f89c1f616c25bb610824cd8a26473a03921df48bd\u241f5228228287003939680:Page"]);return _templateObject54=function(){return e},e}function _templateObject53(){var e=_taggedTemplateLiteral([":kendo.grid.pagerLastPage|The label for the last page button in Grid pager\u241ffe84f2ea868286ce03e50b6e55558c16d675c753\u241f4539768510520419313:Go to the last page"]);return _templateObject53=function(){return e},e}function _templateObject52(){var e=_taggedTemplateLiteral([":kendo.grid.pagerNextPage|The label for the next page button in Grid pager\u241f90031133fca899b4e491d9fc51128c1a184afb30\u241f5510985262435270859:Go to the next page"]);return _templateObject52=function(){return e},e}function _templateObject51(){var e=_taggedTemplateLiteral([":kendo.grid.pagerPreviousPage|The label for the previous page button in Grid pager\u241f47aa4fe05f5a2577d3336971d7c44ce48802b860\u241f6745088753482690847:Go to the previous page"]);return _templateObject51=function(){return e},e}function _templateObject50(){var e=_taggedTemplateLiteral([":kendo.grid.pagerFirstPage|The label for the first page button in Grid pager\u241fb405dfc5ee42415daa08d54847d3010de1821111\u241f5647145449685906398:Go to the first page"]);return _templateObject50=function(){return e},e}function _templateObject49(){var e=_taggedTemplateLiteral([":kendo.grid.noRecords|The label visible in the Grid when there are no records\u241fff9cfd4bf3e40305db251f2b6961796c0550b4b0\u241f1243399825085142134:No records available."]);return _templateObject49=function(){return e},e}function _templateObject48(){var e=_taggedTemplateLiteral([":kendo.grid.groupPanelEmpty|The label visible in the Grid group panel when it is empty\u241f30bcb3a2fbc22fcab6ca805e74b90adb8ba1ae96\u241f1430663748859427158:Drag a column header and drop it here to group by that column"]);return _templateObject48=function(){return e},e}function _templateObject47(){var e=_taggedTemplateLiteral([":kendo.timeselector.nowLabel|The label for the Now button in the timeselector component\u241f08e6a8a51d970609e138950fdd89c5cf201869f3\u241f7789175884909488647:Select now"]);return _templateObject47=function(){return e},e}function _templateObject46(){var e=_taggedTemplateLiteral([":kendo.timeselector.now|The Now button text in the timeselector component\u241f98cba1ae36a7bbe15e1bac1837e07922ec109e7d\u241f1926162752852226109:Now"]);return _templateObject46=function(){return e},e}function _templateObject45(){var e=_taggedTemplateLiteral([":kendo.timeselector.cancelLabel|The label for the Cancel button in the timeselector component\u241f08dfbdfffd662371a6ff4c0b6ed82b9faa48143b\u241f5738120209397145846:Cancel changes"]);return _templateObject45=function(){return e},e}function _templateObject44(){var e=_taggedTemplateLiteral([":kendo.timeselector.cancel|The Cancel button text in the timeselector component\u241f3004d7704ffa6202a3b3925fcea490e486203a3e\u241f1890188482755567622:Cancel"]);return _templateObject44=function(){return e},e}function _templateObject43(){var e=_taggedTemplateLiteral([":kendo.timeselector.acceptLabel|The label for the Accept button in the timeselector component\u241fb4b1e5ac55f0330f6c4e32b866ae4339ad969978\u241f3417396278000787211:Set time"]);return _templateObject43=function(){return e},e}function _templateObject42(){var e=_taggedTemplateLiteral([":kendo.timeselector.accept|The Accept button text in the timeselector component\u241f801811aa1609e3f173c86baa82cee037f75a215f\u241f5362895271044573681:Set"]);return _templateObject42=function(){return e},e}function _templateObject41(){var e=_taggedTemplateLiteral([":kendo.multiviewcalendar.nextButtonTitle|The label for the next button in the Multiview calendar\u241f3e3a529a242f39d22f841c3bd8045ec75b696b7a\u241f3994336778698343633:Navigate to next view"]);return _templateObject41=function(){return e},e}function _templateObject40(){var e=_taggedTemplateLiteral([":kendo.multiviewcalendar.prevButtonTitle|The label for the previous button in the Multiview calendar\u241fe783e2af4828224b846fa92148ea1cc52b21bb13\u241f9101635325676663492:Navigate to previous view"]);return _templateObject40=function(){return e},e}function _templateObject39(){var e=_taggedTemplateLiteral([":kendo.multiviewcalendar.today|The label for the today button in the calendar header\u241f063d99483243b27bc8282abfb5f2c76877e1112e\u241f3892034896682737327:TODAY"]);return _templateObject39=function(){return e},e}function _templateObject38(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.today|The label for the today button in the calendar header\u241f7ee30b9ae5918cc544fbd87a4135694397aeefaf\u241f7904626229769721311:TODAY"]);return _templateObject38=function(){return e},e}function _templateObject37(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.nowLabel|The label for the Now button in the timepicker component\u241f52d90641b26b1ce4c011cadf0437ce36c1dac1d5\u241f5046379108717037514:Select now"]);return _templateObject37=function(){return e},e}function _templateObject36(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.now|The Now button text in the timepicker component\u241f7172e7e9a1741f6b63439ec89e498c995cb23b0d\u241f5497093725885127701:NOW"]);return _templateObject36=function(){return e},e}function _templateObject35(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.cancelLabel|The label for the Cancel button in the datetimepicker component\u241fba26795ab9f4c21d66b17549ba854a96fcdac1f9\u241f3535986227615756275:Cancel"]);return _templateObject35=function(){return e},e}function _templateObject34(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.cancel|The Cancel button text in the datetimepicker component\u241f17ab795d6f7527dd962a309759ca58cb4edd7e52\u241f5100781969600382158:Cancel"]);return _templateObject34=function(){return e},e}function _templateObject33(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.acceptLabel|The label for the Accept button in the datetimepicker component\u241fcbea4571cca81ad9767a6b29f0287d1f3f6372dc\u241f4770689705864890748:Set"]);return _templateObject33=function(){return e},e}function _templateObject32(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.accept|The Accept button text in the datetimepicker component\u241f4359b59db7ded88e106ada877e744c71b188f8f9\u241f3915774704336012538:Set"]);return _templateObject32=function(){return e},e}function _templateObject31(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.toggle|The label for the toggle button in the datetimepicker component\u241f60296a83f0d3e3d07aaba87c4f8e91b0aca3c22a\u241f3159207801887264026:Toggle popup"]);return _templateObject31=function(){return e},e}function _templateObject30(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.timeTabLabel|The label for the Time tab in the datetimepicker popup header\u241f13bf7e3a1036140119732c6d5952f7a20c22999e\u241f2577682127494513393:Time tab"]);return _templateObject30=function(){return e},e}function _templateObject29(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.timeTab|The Time tab text in the datetimepicker popup header\u241fe9b2b760a6916040e7520a9a2926d65de175944d\u241f3807284594201983607:Time"]);return _templateObject29=function(){return e},e}function _templateObject28(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.dateTabLabel|The label for the Date tab in the datetimepicker popup header\u241f2a400c9e364a4c6d83ac39b5513c962805db54b2\u241f1810540079817643910:Date tab"]);return _templateObject28=function(){return e},e}function _templateObject27(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.dateTab|The Date tab text in the datetimepicker popup header\u241f5bb17f81ae8dbc109499ce3792afffa6b7cef855\u241f3360129034450596425:Date"]);return _templateObject27=function(){return e},e}function _templateObject26(){var e=_taggedTemplateLiteral([":kendo.timepicker.toggle|The label for the toggle button in the timepicker component\u241ff2c196786ed2d3ecb2369750c36aac9a4053fb30\u241f6938407659294495526:Toggle time list"]);return _templateObject26=function(){return e},e}function _templateObject25(){var e=_taggedTemplateLiteral([":kendo.timepicker.nowLabel|The label for the Now button in the timepicker component\u241fdf1a696f318275aa934e27850920889d494c2740\u241f371982627910576599:Select now"]);return _templateObject25=function(){return e},e}function _templateObject24(){var e=_taggedTemplateLiteral([":kendo.timepicker.now|The Now button text in the timepicker component\u241fbbc99bb74ae75a503bd813aad0c7253d3553e923\u241f5912507758515138116:Now"]);return _templateObject24=function(){return e},e}function _templateObject23(){var e=_taggedTemplateLiteral([":kendo.timepicker.cancelLabel|The label for the Cancel button in the timepicker component\u241f2cf6f4ca4470810944b4016c9b6f87943d3390ab\u241f83621966901491941:Cancel changes"]);return _templateObject23=function(){return e},e}function _templateObject22(){var e=_taggedTemplateLiteral([":kendo.timepicker.cancel|The Cancel button text in the timepicker component\u241f132eefca16bd41d489b4647724b91e93793603aa\u241f1086687567255473060:Cancel"]);return _templateObject22=function(){return e},e}function _templateObject21(){var e=_taggedTemplateLiteral([":kendo.timepicker.acceptLabel|The label for the Accept button in the timepicker component\u241f93c2a9c3aa49f56e452c0aecbaabe3bb33fa4222\u241f4355879331538595758:Set time"]);return _templateObject21=function(){return e},e}function _templateObject20(){var e=_taggedTemplateLiteral([":kendo.timepicker.accept|The Accept button text in the timepicker component\u241f4c3bf42192220c7611c09ece1c5de14855139dd0\u241f7519663530416240229:Set"]);return _templateObject20=function(){return e},e}function _templateObject19(){var e=_taggedTemplateLiteral([":kendo.datepicker.toggle|The label for the toggle button in the datepicker component\u241ff6c28c2d80dbe993c4b33f4dc4010364f41cc2ae\u241f4817467473728423164:Toggle calendar"]);return _templateObject19=function(){return e},e}function _templateObject18(){var e=_taggedTemplateLiteral([":kendo.datepicker.today|The label for the today button in the calendar header\u241f91a84f2d4871dbe7e90d84865d4a4d83c8ae041e\u241f1910980355989755624:TODAY"]);return _templateObject18=function(){return e},e}function _templateObject17(){var e=_taggedTemplateLiteral([":kendo.dateinput.decrement|The label for the **Decrement** button in the DateInput\u241f0eded761107e6dad120997006a7f915bade9b15c\u241f6980524091606682769:Decrease value"]);return _templateObject17=function(){return e},e}function _templateObject16(){var e=_taggedTemplateLiteral([":kendo.dateinput.increment|The label for the **Increment** button in the DateInput\u241fa55944f9de69e7cc86b91200fe96f980a947d704\u241f589112377451589685:Increase value"]);return _templateObject16=function(){return e},e}function _templateObject15(){var e=_taggedTemplateLiteral([":kendo.calendar.today|The label for the today button in the calendar header\u241f2df64767cd895a8fabe3e18b94b5b6b6f9e2e3f0\u241f826701167553276328:TODAY"]);return _templateObject15=function(){return e},e}function _templateObject14(){var e=_taggedTemplateLiteral([":kendo.numerictextbox.decrement|The title for the **Decrement** button in the NumericTextBox\u241fdf4751834075bf970c77d0da2c960b4e19a6b0dd\u241f3960022057994897997:Decrease value"]);return _templateObject14=function(){return e},e}function _templateObject13(){var e=_taggedTemplateLiteral([":kendo.numerictextbox.increment|The title for the **Increment** button in the NumericTextBox\u241f0fc68540ffa04fdc246cf6cf8a1fed085f8b19a5\u241f4467784268438010275:Increase value"]);return _templateObject13=function(){return e},e}function _templateObject12(){var e=_taggedTemplateLiteral([":kendo.switch.off|The **Off** label of the Switch.\u241f79df1a6d2b35c32b2948e3cee56dd3ffe28127bc\u241f759820891948194060:OFF"]);return _templateObject12=function(){return e},e}function _templateObject11(){var e=_taggedTemplateLiteral([":kendo.switch.on|The **On** label of the Switch.\u241f155f0a38198ffbf0429c5dbf9765e74f246a8617\u241f818154782831456441:ON"]);return _templateObject11=function(){return e},e}function _templateObject10(){var e=_taggedTemplateLiteral([":kendo.slider.dragHandle|The title of the drag handle of the Slider.\u241f481eb98e9cd8ef8e8b22051796441901e883763d\u241f9117416417579607469:Drag"]);return _templateObject10=function(){return e},e}function _templateObject9(){var e=_taggedTemplateLiteral([":kendo.slider.decrement|The title of the **Decrease** button of the Slider.\u241f042c26f68d78afd6834ea46a5f7533850fe8c800\u241f652458644240352212:decrement"]);return _templateObject9=function(){return e},e}function _templateObject8(){var e=_taggedTemplateLiteral([":kendo.slider.increment|The title of the **Increase** button of the Slider.\u241f0fa71630d40c425b9c366afd7f6c3cecc5bef59d\u241f8302125540024939132:increment"]);return _templateObject8=function(){return e},e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _templateObject7(){var e=_taggedTemplateLiteral([":kendo.combobox.clearTitle|The title of the clear button\u241f069e8fae80677e3e785861123bef446b3ff41ab4\u241f2025597431468961462:clear"]);return _templateObject7=function(){return e},e}function _templateObject6(){var e=_taggedTemplateLiteral([":kendo.multiselect.noDataText|The text displayed in the popup when there are no items\u241f3cc1323f79a5fe012960578e513f8a35b2af1e96\u241f1450213984397806503:NO DATA FOUND"]);return _templateObject6=function(){return e},e}function _templateObject5(){var e=_taggedTemplateLiteral([":kendo.dropdownlist.noDataText|The text displayed in the popup when there are no items\u241f4fc2f70c9c8cf7b18affd6b938105996d6ac3306\u241f8289552890585138350:NO DATA FOUND"]);return _templateObject5=function(){return e},e}function _templateObject4(){var e=_taggedTemplateLiteral([":kendo.combobox.clearTitle|The title of the clear button\u241f069e8fae80677e3e785861123bef446b3ff41ab4\u241f2025597431468961462:clear"]);return _templateObject4=function(){return e},e}function _templateObject3(){var e=_taggedTemplateLiteral([":kendo.combobox.noDataText|The text displayed in the popup when there are no items\u241f2b6e00c74a6d9c98c03a6274d0224e9bd457ff89\u241f7708502966028483300:NO DATA FOUND"]);return _templateObject3=function(){return e},e}function _templateObject2(){var e=_taggedTemplateLiteral([":kendo.autocomplete.clearTitle|The title of the clear button\u241f7cf49cc2d50eebd29f8d61564512383caaaac7a6\u241f4821453594854847070:clear"]);return _templateObject2=function(){return e},e}function _templateObject(){var e=_taggedTemplateLiteral([":kendo.autocomplete.noDataText|The text displayed in the popup when there are no items\u241f4e9993e088a293543eb0c2801343518c115b6f20\u241f2690656529626907484:NO DATA FOUND"]);return _templateObject=function(){return e},e}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _construct(e,t,n){return(_construct=isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&_setPrototypeOf(r,n.prototype),r}).apply(null,arguments)}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},g1Xn:function(e,t,n){e.exports=function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};t[s][0].call(u.exports,(function(e){return r(t[s][1][e]||e)}),u,u.exports,e,t,n,i)}return n[s].exports}for(var o=!1,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,r,s,a,l,u=[],c=0,h=e.length,f=h,d="string"!==i.getTypeOf(e);c<e.length;)f=h-c,d?(t=e[c++],n=c<h?e[c++]:0,r=c<h?e[c++]:0):(t=e.charCodeAt(c++),n=c<h?e.charCodeAt(c++):0,r=c<h?e.charCodeAt(c++):0),s=(3&t)<<4|n>>4,a=f>1?(15&n)<<2|r>>6:64,l=f>2?63&r:64,u.push(o.charAt(t>>2)+o.charAt(s)+o.charAt(a)+o.charAt(l));return u.join("")},n.decode=function(e){var t,n,i,s,a,l,u=0,c=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var h,f=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&f--,e.charAt(e.length-2)===o.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=r.uint8array?new Uint8Array(0|f):new Array(0|f);u<e.length;)i=o.indexOf(e.charAt(u++)),t=(15&(s=o.indexOf(e.charAt(u++))))<<4|(a=o.indexOf(e.charAt(u++)))>>2,n=(3&a)<<6|(l=o.indexOf(e.charAt(u++))),h[c++]=i<<2|s>>4,64!==a&&(h[c++]=t),64!==l&&(h[c++]=n);return h}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var i=e("./external"),r=e("./stream/DataWorker"),o=e("./stream/DataLengthProbe"),s=e("./stream/Crc32Probe");function a(e,t,n,i,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=r}o=e("./stream/DataLengthProbe"),a.prototype={getContentWorker:function(){var e=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(e,t,n){return e.pipe(new s).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var i=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var i=e("./utils"),r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?function(e,t,n,i){var o=r,s=0+n;e^=-1;for(var a=0;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}(0|t,e,e.length):function(e,t,n,i){var o=r,s=0+n;e^=-1;for(var a=0;a<s;a++)e=e>>>8^o[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var i;i="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:i}},{lie:37}],7:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako"),o=e("./utils"),s=e("./stream/GenericWorker"),a=i?"uint8array":"array";function l(e,t){s.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(l,s),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(a,e.data),!1)},l.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../stream/GenericWorker"),o=e("../utf8"),s=e("../crc32"),a=e("../signature"),l=function(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i},u=function(e,t,n,r,u,c){var h,f,d=e.file,p=e.compression,v=c!==o.utf8encode,g=i.transformTo("string",c(d.name)),m=i.transformTo("string",o.utf8encode(d.name)),y=d.comment,k=i.transformTo("string",c(y)),b=i.transformTo("string",o.utf8encode(y)),_=m.length!==d.name.length,C=b.length!==y.length,w="",x="",S="",T=d.dir,O=d.date,I={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(I.crc32=e.crc32,I.compressedSize=e.compressedSize,I.uncompressedSize=e.uncompressedSize);var E=0;t&&(E|=8),v||!_&&!C||(E|=2048);var A,R,P=0,D=0;T&&(P|=16),"UNIX"===u?(D=798,P|=(R=A=d.unixPermissions,A||(R=T?16893:33204),(65535&R)<<16)):(D=20,P|=63&(d.dosPermissions||0)),h=O.getUTCHours(),h<<=6,h|=O.getUTCMinutes(),h<<=5,h|=O.getUTCSeconds()/2,f=O.getUTCFullYear()-1980,f<<=4,f|=O.getUTCMonth()+1,f<<=5,f|=O.getUTCDate(),_&&(x=l(1,1)+l(s(g),4)+m,w+="up"+l(x.length,2)+x),C&&(S=l(1,1)+l(s(k),4)+b,w+="uc"+l(S.length,2)+S);var F="";return F+="\n\0",F+=l(E,2),F+=p.magic,F+=l(h,2),F+=l(f,2),F+=l(I.crc32,4),F+=l(I.compressedSize,4),F+=l(I.uncompressedSize,4),F+=l(g.length,2),F+=l(w.length,2),{fileRecord:a.LOCAL_FILE_HEADER+F+g+w,dirRecord:a.CENTRAL_FILE_HEADER+l(D,2)+F+l(k.length,2)+"\0\0\0\0"+l(P,4)+l(r,4)+g+w+k}},c=function(e){return a.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)};function h(e,t,n,i){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(h,r),h.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,r.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},h.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=u(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=u(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:c(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=function(e,t,n,r,o){var s=i.transformTo("string",o(r));return a.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(n,4)+l(s.length,2)+s}(this.dirRecords.length,this.bytesWritten-e,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},h.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(e){var t=this._sources;if(!r.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},h.prototype.lock=function(){r.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var i=e("../compressions"),r=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new r(t.streamFiles,n,t.platform,t.encodeFileName),s=0;try{e.forEach((function(e,n){s++;var r=function(e,t){var n=e||t,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,t.compression),a=n.dir,l=n.date;n._compressWorker(r,n.options.compressionOptions||t.compressionOptions||{}).withStreamInfo("file",{name:e,dir:a,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=s}catch(a){o.error(a)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(i.prototype=e("./object")).loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.2.0",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./external"),o=e("./utf8"),s=(i=e("./utils"),e("./zipEntries")),a=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function u(e){return new r.Promise((function(t,n){var i=e.decompressed.getContentWorker().pipe(new a);i.on("error",(function(e){n(e)})).on("end",(function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new s(t);return n.load(e),n})).then((function(e){var n=[r.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var o=0;o<i.length;o++)n.push(u(i[o]));return r.Promise.all(n)})).then((function(e){for(var i=e.shift(),r=i.files,o=0;o<r.length;o++){var s=r[o];n.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../stream/GenericWorker");function o(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(o,r),o.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var i=e("readable-stream").Readable;function r(e,t,n){i.call(this,t),this._helper=e;var r=this;e.on("data",(function(e,t){r.push(e)||r._helper.pause(),n&&n(t)})).on("error",(function(e){r.emit("error",e)})).on("end",(function(){r.push(null)}))}e("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";var i=e("./utf8"),r=e("./utils"),o=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),a=e("./defaults"),l=e("./compressedObject"),u=e("./zipObject"),c=e("./generate"),h=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),d=function(e,t,n){var i,s,c=r.getTypeOf(t),d=r.extend(n||{},a);d.date=d.date||new Date,null!==d.compression&&(d.compression=d.compression.toUpperCase()),"string"==typeof d.unixPermissions&&(d.unixPermissions=parseInt(d.unixPermissions,8)),d.unixPermissions&&16384&d.unixPermissions&&(d.dir=!0),d.dosPermissions&&16&d.dosPermissions&&(d.dir=!0),d.dir&&(e=v(e)),d.createFolders&&(i=p(e))&&g.call(this,i,!0),n&&void 0!==n.binary||(d.binary=!("string"===c&&!1===d.binary&&!1===d.base64)),(t instanceof l&&0===t.uncompressedSize||d.dir||!t||0===t.length)&&(d.base64=!1,d.binary=!0,t="",d.compression="STORE",c="string"),s=t instanceof l||t instanceof o?t:h.isNode&&h.isStream(t)?new f(e,t):r.prepareContent(e,t,d.binary,d.optimizedBinaryString,d.base64);var m=new u(e,s,d);this.files[e]=m},p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},v=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:a.createFolders,e=v(e),this.files[e]||d.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function m(e){return"[object RegExp]"===Object.prototype.toString.call(e)}t.exports={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,i))},filter:function(e){var t=[];return this.forEach((function(n,i){e(n,i)&&t.push(i)})),t},file:function(e,t,n){if(1===arguments.length){if(m(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var r=this.files[this.root+e];return r&&!r.dir?r:null}return d.call(this,e=this.root+e,t,n),this},folder:function(e){if(!e)return this;if(m(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=g.call(this,this.root+e),n=this.clone();return n.root=t.name,n},remove:function(e){var t=this.files[e=this.root+e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=r.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");r.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS"),t=c.generateWorker(this,n,n.comment||this.comment||"")}catch(a){(t=new o("error")).error(a)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var i=e("./DataReader");function r(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var i=e("../utils");function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=r},{"../utils":32}],19:[function(e,t,n){"use strict";var i=e("./Uint8ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var i=e("./DataReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var i=e("./ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../support"),o=e("./ArrayReader"),s=e("./StringReader"),a=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new a(e):r.uint8array?new l(i.transformTo("uint8array",e)):new o(i.transformTo("array",e)):new s(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../utils");function o(e){i.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(o,i),o.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,i),o.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(o,r),o.prototype.processChunk=function(e){e&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+e.data.length),r.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}i.inherits(o,r),o.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./ConvertWorker"),o=e("./GenericWorker"),s=e("../base64"),a=e("../support"),l=e("../external"),u=null;if(a.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(h){}function c(e,t,n){var s=t;switch(t){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=t,this._mimeType=n,i.checkSupport(s),this._worker=e.pipe(new r(s)),e.lock()}catch(h){this._worker=new o("error"),this._worker.error(h)}}c.prototype={accumulate:function(e){return t=this,n=e,new l.Promise((function(e,r){var o=[],a=t._internalType,l=t._outputType,u=t._mimeType;t.on("data",(function(e,t){o.push(e),n&&n(t)})).on("error",(function(e){o=[],r(e)})).on("end",(function(){try{var t=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return s.encode(t);default:return i.transformTo(e,t)}}(l,function(e,t){var n,i=0,r=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=new Uint8Array(o),n=0;n<t.length;n++)r.set(t[n],i),i+=t[n].length;return r;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(a,o),u);e(t)}catch(h){r(h)}o=[]})).resume()}));var t,n},on:function(e,t){var n=this;return this._worker.on(e,"data"===e?function(e){t.call(n,e.data,e.meta)}:function(){i.delay(t,arguments,n)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(o){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),n.blob=0===r.getBlob("application/zip").size}catch(o){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(o){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var i=e("./utils"),r=e("./support"),o=e("./nodejsUtils"),s=e("./stream/GenericWorker"),a=new Array(256),l=0;l<256;l++)a[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;function u(){s.call(this,"utf-8 decode"),this.leftOver=null}function c(){s.call(this,"utf-8 encode")}a[254]=a[254]=1,n.utf8encode=function(e){return r.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,i,o,s,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=r.uint8array?new Uint8Array(l):new Array(l),s=0,o=0;s<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t}(e)},n.utf8decode=function(e){return r.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,r,o,s=e.length,l=new Array(2*s);for(n=0,t=0;t<s;)if((r=e[t++])<128)l[n++]=r;else if((o=a[r])>4)l[n++]=65533,t+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&t<s;)r=r<<6|63&e[t++],o--;o>1?l[n++]=65533:r<65536?l[n++]=r:(l[n++]=55296|(r-=65536)>>10&1023,l[n++]=56320|1023&r)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)}(e=i.transformTo(r.uint8array?"uint8array":"array",e))},i.inherits(u,s),u.prototype.processChunk=function(e){var t=i.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var s=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+a[e[n]]>t?n:t}(t),l=t;s!==t.length&&(r.uint8array?(l=t.subarray(0,s),this.leftOver=t.subarray(s,t.length)):(l=t.slice(0,s),this.leftOver=t.slice(s,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=u,i.inherits(c,s),c.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var i=e("./support"),r=e("./base64"),o=e("./nodejsUtils"),s=e("set-immediate-shim"),a=e("./external");function l(e){return e}function u(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(r){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(t)}catch(r){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,n){var i=[],r=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;r<o;)i.push(String.fromCharCode.apply(null,"array"===t||"nodebuffer"===t?e.slice(r,Math.min(r+n,o)):e.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function h(e){var t=65536,i=n.getTypeOf(e),r=!0;if("uint8array"===i?r=c.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=c.applyCanBeUsed.nodebuffer),r)for(;t>1;)try{return c.stringifyByChunk(e,i,t)}catch(o){t=Math.floor(t/2)}return c.stringifyByChar(e)}function f(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=h;var d={};d.string={string:l,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:function(e){return u(e,o.allocBuffer(e.length))}},d.array={string:h,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},d.arraybuffer={string:function(e){return h(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:h,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return o.newBufferFrom(e)}},d.nodebuffer={string:h,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:l},n.transformTo=function(e,t){if(t||(t=""),!e)return t;n.checkSupport(e);var i=n.getTypeOf(t);return d[i][e](t)},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&o.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)i+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return i},n.delay=function(e,t,n){s((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,s,l){return a.Promise.resolve(t).then((function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise((function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)})):e})).then((function(t){var c,h=n.getTypeOf(t);return h?("arraybuffer"===h?t=n.transformTo("uint8array",t):"string"===h&&(l?t=r.decode(t):o&&!0!==s&&(t=u(c=t,i.uint8array?new Uint8Array(c.length):new Array(c.length)))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),o=e("./signature"),s=e("./zipEntry"),a=(e("./utf8"),e("./support"));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=r.transformTo(a.uint8array?"uint8array":"array",e);this.zipComment=this.loadOptions.decodeFileName(t)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)this.reader.setIndex((t=this.files[e]).localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=t-n;if(i>0)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),o=e("./compressedObject"),s=e("./crc32"),a=e("./utf8"),l=e("./compressions"),u=e("./support");function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,i,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<r;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i}},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)?null:s(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)?null:s(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null}},t.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";var i=e("./stream/StreamHelper"),r=e("./stream/DataWorker"),o=e("./utf8"),s=e("./compressedObject"),a=e("./stream/GenericWorker"),l=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var s=!this._dataBinary;s&&!r&&(t=t.pipe(new o.Utf8EncodeWorker)),!s&&r&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(l){(t=new a("error")).error(l)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof a?this._data:new r(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<u.length;h++)l.prototype[u[h]]=c;t.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){"use strict";var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,s=new r(c),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,n=function(){l.port2.postMessage(0)}}var u=[];function c(){var e,t;i=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}i=!1}t.exports=function(e){1!==u.push(e)||i||n()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var i=e("immediate");function r(){}var o={},s=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&d(this,e)}function c(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){i((function(){var i;try{i=t(n)}catch(r){return o.reject(e,r)}i===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,i)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function i(t){n||(n=!0,o.reject(e,t))}function r(t){n||(n=!0,o.resolve(e,t))}var s=p((function(){t(r,i)}));"error"===s.status&&i(s.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(i){n.status="error",n.value=i}return n}t.exports=u,u.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(r);return this.state!==l?h(n,this.state===a?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){o.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(f,t);if("error"===n.status)return o.reject(e,n.value);var i=n.value;if(i)d(e,i);else{e.state=a,e.outcome=t;for(var r=-1,s=e.queue.length;++r<s;)e.queue[r].callFulfilled(t)}return e},o.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:o.resolve(new this(r),e)},u.reject=function(e){var t=new this(r);return o.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,l=-1,u=new this(r);++l<n;)c(e[l],l);return u;function c(e,r){t.resolve(e).then((function(e){s[r]=e,++a!==n||i||(i=!0,o.resolve(u,s))}),(function(e){i||(i=!0,o.reject(u,e))}))}},u.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var i=-1,s=new this(r);++i<t;)this.resolve(e[i]).then((function(e){n||(n=!0,o.resolve(s,e))}),(function(e){n||(n=!0,o.reject(s,e))}));return s}},{immediate:36}],38:[function(e,t,n){"use strict";var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var i=e("./zlib/deflate"),r=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/messages"),a=e("./zlib/zstream"),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(s[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=i.deflateSetDictionary(this.strm,c)))throw new Error(s[n]);this._dict_set=!0}}function c(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}u.prototype.push=function(e,t){var n,s,a=this.strm,u=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,a.input="string"==typeof e?o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?new Uint8Array(e):e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new r.Buf8(u),a.next_out=0,a.avail_out=u),1!==(n=i.deflate(a,s))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||this.onData("string"===this.options.to?o.buf2binstring(r.shrinkBuf(a.output,a.next_out)):r.shrinkBuf(a.output,a.next_out))}while((a.avail_in>0||0===a.avail_out)&&1!==n);return 4===s?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==s||(this.onEnd(0),a.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=u,n.deflate=c,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var i=e("./zlib/inflate"),r=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/constants"),a=e("./zlib/messages"),l=e("./zlib/zstream"),u=e("./zlib/gzheader"),c=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);this.header=new u,i.inflateGetHeader(this.strm,this.header)}function f(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(e,t){var n,a,l,u,h,f,d=this.strm,p=this.options.chunkSize,v=this.options.dictionary,g=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,d.input="string"==typeof e?o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?new Uint8Array(e):e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new r.Buf8(p),d.next_out=0,d.avail_out=p),(n=i.inflate(d,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&v&&(f="string"==typeof v?o.string2buf(v):"[object ArrayBuffer]"===c.call(v)?new Uint8Array(v):v,n=i.inflateSetDictionary(this.strm,f)),n===s.Z_BUF_ERROR&&!0===g&&(n=s.Z_OK,g=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==s.Z_STREAM_END&&(0!==d.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(d.output,d.next_out),u=d.next_out-l,h=o.buf2string(d.output,l),d.next_out=u,d.avail_out=p-u,u&&r.arraySet(d.output,d.output,l,u,0),this.onData(h)):this.onData(r.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),d.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===s.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=h,n.inflate=f,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},n.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,s;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(s=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)s.set(o=e[t],r),r+=o.length;return s}},o={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],42:[function(e,t,n){"use strict";var i=e("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(u){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){o=!1}for(var s=new i.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n}s[254]=s[254]=1,n.string2buf=function(e){var t,n,r,o,s,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(l),s=0,o=0;s<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,r,o,a=t||e.length,u=new Array(2*a);for(i=0,n=0;n<a;)if((r=e[n++])<128)u[i++]=r;else if((o=s[r])>4)u[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<a;)r=r<<6|63&e[n++],o--;o>1?u[i++]=65533:r<65536?u[i++]=r:(u[i++]=55296|(r-=65536)>>10&1023,u[i++]=56320|1023&r)}return l(u,i)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+s[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--s);r%=65521,o%=65521}return r|o<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,r){var o=i,s=r+n;e^=-1;for(var a=r;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,n){"use strict";var i,r=e("../utils/common"),o=e("./trees"),s=e("./adler32"),a=e("./crc32"),l=e("./messages");function u(e,t){return e.msg=l[t],t}function c(e){return(e<<1)-(e>4?9:0)}function h(e){for(var t=e.length;--t>=0;)e[t]=0}function f(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function d(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,f(e.strm)}function p(e,t){e.pending_buf[e.pending++]=t}function v(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function g(e,t){var n,i,r=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,c=e.w_mask,h=e.prev,f=e.strstart+258,d=u[o+s-1],p=u[o+s];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do{if(u[(n=t)+s]===p&&u[n+s-1]===d&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(i=258-(f-o),o=f-258,i>s){if(e.match_start=t,s=i,i>=a)break;d=u[o+s-1],p=u[o+s]}}}while((t=h[t&c])>l&&0!=--r);return s<=e.lookahead?s:e.lookahead}function m(e){var t,n,i,o,l,u,c,h,f,d,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-262)){r.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=p?i-p:0}while(--n);t=n=p;do{i=e.prev[--t],e.prev[t]=i>=p?i-p:0}while(--n);o+=p}if(0===e.strm.avail_in)break;if(c=e.window,h=e.strstart+e.lookahead,d=void 0,(d=(u=e.strm).avail_in)>(f=o)&&(d=f),n=0===d?0:(u.avail_in-=d,r.arraySet(c,u.input,u.next_in,d,h),1===u.state.wrap?u.adler=s(u.adler,c,d,h):2===u.state.wrap&&(u.adler=a(u.adler,c,d,h)),u.next_in+=d,u.total_in+=d,d),e.lookahead+=n,e.lookahead+e.insert>=3)for(e.ins_h=e.window[l=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function y(e,t){for(var n,i;;){if(e.lookahead<262){if(m(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=g(e,n)),e.match_length>=3)if(i=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function k(e,t){for(var n,i,r;;){if(e.lookahead<262){if(m(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=g(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(d(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=o._tr_tally(e,0,e.window[e.strstart-1]))&&d(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function b(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function _(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),h(this.dyn_ltree),h(this.dyn_dtree),h(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),h(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),h(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function C(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):u(e,-2)}function w(e){var t,n=C(e);return 0===n&&((t=e.state).window_size=2*t.w_size,h(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function x(e,t,n,i,o,s){if(!e)return-2;var a=1;if(-1===t&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),o<1||o>9||8!==n||i<8||i>15||t<0||t>9||s<0||s>4)return u(e,-2);8===i&&(i=9);var l=new _;return e.state=l,l.strm=e,l.wrap=a,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=n,w(e)}i=[new b(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(m(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,d(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&d(e,!1),1)})),new b(4,4,8,4,y),new b(4,5,16,8,y),new b(4,6,32,32,y),new b(4,4,16,16,k),new b(8,16,32,32,k),new b(8,16,128,128,k),new b(8,32,128,256,k),new b(32,128,258,1024,k),new b(32,258,258,4096,k)],n.deflateInit=function(e,t){return x(e,t,8,15,8,0)},n.deflateInit2=x,n.deflateReset=w,n.deflateResetKeep=C,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},n.deflate=function(e,t){var n,r,s,l;if(!e||!e.state||t>5||t<0)return e?u(e,-2):-2;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&4!==t)return u(e,0===e.avail_out?-5:-2);if(r.strm=e,n=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,p(r,31),p(r,139),p(r,8),r.gzhead?(p(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),p(r,255&r.gzhead.time),p(r,r.gzhead.time>>8&255),p(r,r.gzhead.time>>16&255),p(r,r.gzhead.time>>24&255),p(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),p(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(p(r,255&r.gzhead.extra.length),p(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=a(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(p(r,0),p(r,0),p(r,0),p(r,0),p(r,0),p(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),p(r,3),r.status=113);else{var g=8+(r.w_bits-8<<4)<<8;g|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(g|=32),g+=31-g%31,r.status=113,v(r,g),0!==r.strstart&&(v(r,e.adler>>>16),v(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(s=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),f(e),s=r.pending,r.pending!==r.pending_buf_size));)p(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),f(e),s=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,p(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),f(e),s=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,p(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),0===l&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&f(e),r.pending+2<=r.pending_buf_size&&(p(r,255&e.adler),p(r,e.adler>>8&255),e.adler=0,r.status=113)):r.status=113),0!==r.pending){if(f(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&c(t)<=c(n)&&4!==t)return u(e,-5);if(666===r.status&&0!==e.avail_in)return u(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&666!==r.status){var y=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(m(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var n,i,r,s,a=e.window;;){if(e.lookahead<=258){if(m(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=a[r=e.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){s=e.strstart+258;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<s);e.match_length=258-(s-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(r,t):i[r.level].func(r,t);if(3!==y&&4!==y||(r.status=666),1===y||3===y)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===y&&(1===t?o._tr_align(r):5!==t&&(o._tr_stored_block(r,0,0,!1),3===t&&(h(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),f(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(p(r,255&e.adler),p(r,e.adler>>8&255),p(r,e.adler>>16&255),p(r,e.adler>>24&255),p(r,255&e.total_in),p(r,e.total_in>>8&255),p(r,e.total_in>>16&255),p(r,e.total_in>>24&255)):(v(r,e.adler>>>16),v(r,65535&e.adler)),f(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},n.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?u(e,-2):(e.state=null,113===t?u(e,-3):0):-2},n.deflateSetDictionary=function(e,t){var n,i,o,a,l,u,c,f,d=t.length;if(!e||!e.state)return-2;if(2===(a=(n=e.state).wrap)||1===a&&42!==n.status||n.lookahead)return-2;for(1===a&&(e.adler=s(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(h(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new r.Buf8(n.w_size),r.arraySet(f,t,d-n.w_size,n.w_size,0),t=f,d=n.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=d,e.next_in=0,e.input=t,m(n);n.lookahead>=3;){i=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=2,m(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,n.wrap=a,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,i,r,o,s,a,l,u,c,h,f,d,p,v,g,m,y,k,b,_,C,w,x,S,T;S=e.input,r=(i=e.next_in)+(e.avail_in-5),T=e.output,s=(o=e.next_out)-(t-e.avail_out),a=o+(e.avail_out-257),l=(n=e.state).dmax,u=n.wsize,c=n.whave,h=n.wnext,f=n.window,d=n.hold,p=n.bits,v=n.lencode,g=n.distcode,m=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(d+=S[i++]<<p,d+=S[i++]<<(p+=8),p+=8),k=v[d&m];t:for(;;){if(d>>>=b=k>>>24,p-=b,0==(b=k>>>16&255))T[o++]=65535&k;else{if(!(16&b)){if(0==(64&b)){k=v[(65535&k)+(d&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}_=65535&k,(b&=15)&&(p<b&&(d+=S[i++]<<p,p+=8),_+=d&(1<<b)-1,d>>>=b,p-=b),p<15&&(d+=S[i++]<<p,d+=S[i++]<<(p+=8),p+=8),k=g[d&y];n:for(;;){if(d>>>=b=k>>>24,p-=b,!(16&(b=k>>>16&255))){if(0==(64&b)){k=g[(65535&k)+(d&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(C=65535&k,p<(b&=15)&&(d+=S[i++]<<p,(p+=8)<b&&(d+=S[i++]<<p,p+=8)),(C+=d&(1<<b)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=b,p-=b,C>(b=o-s)){if((b=C-b)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(w=0,x=f,0===h){if(w+=u-b,b<_){_-=b;do{T[o++]=f[w++]}while(--b);w=o-C,x=T}}else if(h<b){if(w+=u+h-b,(b-=h)<_){_-=b;do{T[o++]=f[w++]}while(--b);if(w=0,h<_){_-=b=h;do{T[o++]=f[w++]}while(--b);w=o-C,x=T}}}else if(w+=h-b,b<_){_-=b;do{T[o++]=f[w++]}while(--b);w=o-C,x=T}for(;_>2;)T[o++]=x[w++],T[o++]=x[w++],T[o++]=x[w++],_-=3;_&&(T[o++]=x[w++],_>1&&(T[o++]=x[w++]))}else{w=o-C;do{T[o++]=T[w++],T[o++]=T[w++],T[o++]=T[w++],_-=3}while(_>2);_&&(T[o++]=T[w++],_>1&&(T[o++]=T[w++]))}break}}break}}while(i<r&&o<a);d&=(1<<(p-=(_=p>>3)<<3))-1,e.next_in=i-=_,e.next_out=o,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=d,n.bits=p}},{}],49:[function(e,t,n){"use strict";var i=e("../utils/common"),r=e("./adler32"),o=e("./crc32"),s=e("./inffast"),a=e("./inftrees");function l(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(e){var t;return e&&e.state?(e.total_in=e.total_out=(t=e.state).total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):-2}function h(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,c(e)):-2}function f(e,t){var n,i;return e&&e.state?(t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==(i=e.state).window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,h(e))):-2}function d(e,t){var n,i;return e?(i=new u,e.state=i,i.window=null,0!==(n=f(e,t))&&(e.state=null),n):-2}var p,v,g=!0;function m(e){if(g){var t;for(p=new i.Buf32(512),v=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,p,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,v,0,e.work,{bits:5}),g=!1}e.lencode=p,e.lenbits=9,e.distcode=v,e.distbits=5}function y(e,t,n,r){var o,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new i.Buf8(s.wsize)),r>=s.wsize?(i.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>r&&(o=r),i.arraySet(s.window,t,n-r,o,s.wnext),(r-=o)?(i.arraySet(s.window,t,n-r,r,0),s.wnext=r,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}n.inflateReset=h,n.inflateReset2=f,n.inflateResetKeep=c,n.inflateInit=function(e){return d(e,15)},n.inflateInit2=d,n.inflate=function(e,t){var n,u,c,h,f,d,p,v,g,k,b,_,C,w,x,S,T,O,I,E,A,R,P,D,F=0,M=new i.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),f=e.next_out,c=e.output,h=e.next_in,u=e.input,v=n.hold,g=n.bits,k=d=e.avail_in,b=p=e.avail_out,R=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;g<16;){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}if(2&n.wrap&&35615===v){n.check=0,M[0]=255&v,M[1]=v>>>8&255,n.check=o(n.check,M,2,0),v=0,g=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&v)<<8)+(v>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&v)){e.msg="unknown compression method",n.mode=30;break}if(g-=4,A=8+(15&(v>>>=4)),0===n.wbits)n.wbits=A;else if(A>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<A,e.adler=n.check=1,n.mode=512&v?10:12,v=0,g=0;break;case 2:for(;g<16;){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}if(n.flags=v,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=v>>8&1),512&n.flags&&(M[0]=255&v,M[1]=v>>>8&255,n.check=o(n.check,M,2,0)),v=0,g=0,n.mode=3;case 3:for(;g<32;){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}n.head&&(n.head.time=v),512&n.flags&&(M[0]=255&v,M[1]=v>>>8&255,M[2]=v>>>16&255,M[3]=v>>>24&255,n.check=o(n.check,M,4,0)),v=0,g=0,n.mode=4;case 4:for(;g<16;){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}n.head&&(n.head.xflags=255&v,n.head.os=v>>8),512&n.flags&&(M[0]=255&v,M[1]=v>>>8&255,n.check=o(n.check,M,2,0)),v=0,g=0,n.mode=5;case 5:if(1024&n.flags){for(;g<16;){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}n.length=v,n.head&&(n.head.extra_len=v),512&n.flags&&(M[0]=255&v,M[1]=v>>>8&255,n.check=o(n.check,M,2,0)),v=0,g=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((_=n.length)>d&&(_=d),_&&(n.head&&(A=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,u,h,_,A)),512&n.flags&&(n.check=o(n.check,u,_,h)),d-=_,h+=_,n.length-=_),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===d)break e;_=0;do{A=u[h+_++],n.head&&A&&n.length<65536&&(n.head.name+=String.fromCharCode(A))}while(A&&_<d);if(512&n.flags&&(n.check=o(n.check,u,_,h)),d-=_,h+=_,A)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===d)break e;_=0;do{A=u[h+_++],n.head&&A&&n.length<65536&&(n.head.comment+=String.fromCharCode(A))}while(A&&_<d);if(512&n.flags&&(n.check=o(n.check,u,_,h)),d-=_,h+=_,A)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;g<16;){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}if(v!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}v=0,g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;g<32;){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}e.adler=n.check=l(v),v=0,g=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=f,e.avail_out=p,e.next_in=h,e.avail_in=d,n.hold=v,n.bits=g,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){v>>>=7&g,g-=7&g,n.mode=27;break}for(;g<3;){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}switch(n.last=1&v,g-=1,3&(v>>>=1)){case 0:n.mode=14;break;case 1:if(m(n),n.mode=20,6===t){v>>>=2,g-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}v>>>=2,g-=2;break;case 14:for(v>>>=7&g,g-=7&g;g<32;){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}if((65535&v)!=(v>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&v,v=0,g=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(_=n.length){if(_>d&&(_=d),_>p&&(_=p),0===_)break e;i.arraySet(c,u,h,_,f),d-=_,h+=_,p-=_,f+=_,n.length-=_;break}n.mode=12;break;case 17:for(;g<14;){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}if(n.nlen=257+(31&v),g-=5,n.ndist=1+(31&(v>>>=5)),g-=5,n.ncode=4+(15&(v>>>=5)),v>>>=4,g-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;g<3;){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}n.lens[z[n.have++]]=7&v,v>>>=3,g-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R=a(0,n.lens,0,19,n.lencode,0,n.work,P={bits:n.lenbits}),n.lenbits=P.bits,R){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;S=(F=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,T=65535&F,!((x=F>>>24)<=g);){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}if(T<16)v>>>=x,g-=x,n.lens[n.have++]=T;else{if(16===T){for(D=x+2;g<D;){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}if(v>>>=x,g-=x,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}A=n.lens[n.have-1],_=3+(3&v),v>>>=2,g-=2}else if(17===T){for(D=x+3;g<D;){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}g-=x,A=0,_=3+(7&(v>>>=x)),v>>>=3,g-=3}else{for(D=x+7;g<D;){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}g-=x,A=0,_=11+(127&(v>>>=x)),v>>>=7,g-=7}if(n.have+_>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;_--;)n.lens[n.have++]=A}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,R=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,P={bits:n.lenbits}),n.lenbits=P.bits,R){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,R=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,P={bits:n.distbits}),n.distbits=P.bits,R){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(d>=6&&p>=258){e.next_out=f,e.avail_out=p,e.next_in=h,e.avail_in=d,n.hold=v,n.bits=g,s(e,b),f=e.next_out,c=e.output,p=e.avail_out,h=e.next_in,u=e.input,d=e.avail_in,v=n.hold,g=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;S=(F=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,T=65535&F,!((x=F>>>24)<=g);){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}if(S&&0==(240&S)){for(O=x,I=S,E=T;S=(F=n.lencode[E+((v&(1<<O+I)-1)>>O)])>>>16&255,T=65535&F,!(O+(x=F>>>24)<=g);){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}v>>>=O,g-=O,n.back+=O}if(v>>>=x,g-=x,n.back+=x,n.length=T,0===S){n.mode=26;break}if(32&S){n.back=-1,n.mode=12;break}if(64&S){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&S,n.mode=22;case 22:if(n.extra){for(D=n.extra;g<D;){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}n.length+=v&(1<<n.extra)-1,v>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;S=(F=n.distcode[v&(1<<n.distbits)-1])>>>16&255,T=65535&F,!((x=F>>>24)<=g);){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}if(0==(240&S)){for(O=x,I=S,E=T;S=(F=n.distcode[E+((v&(1<<O+I)-1)>>O)])>>>16&255,T=65535&F,!(O+(x=F>>>24)<=g);){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}v>>>=O,g-=O,n.back+=O}if(v>>>=x,g-=x,n.back+=x,64&S){e.msg="invalid distance code",n.mode=30;break}n.offset=T,n.extra=15&S,n.mode=24;case 24:if(n.extra){for(D=n.extra;g<D;){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}n.offset+=v&(1<<n.extra)-1,v>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===p)break e;if(n.offset>(_=b-p)){if((_=n.offset-_)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}C=_>n.wnext?n.wsize-(_-=n.wnext):n.wnext-_,_>n.length&&(_=n.length),w=n.window}else w=c,C=f-n.offset,_=n.length;_>p&&(_=p),p-=_,n.length-=_;do{c[f++]=w[C++]}while(--_);0===n.length&&(n.mode=21);break;case 26:if(0===p)break e;c[f++]=n.length,p--,n.mode=21;break;case 27:if(n.wrap){for(;g<32;){if(0===d)break e;d--,v|=u[h++]<<g,g+=8}if(e.total_out+=b-=p,n.total+=b,b&&(e.adler=n.check=n.flags?o(n.check,c,b,f-b):r(n.check,c,b,f-b)),b=p,(n.flags?v:l(v))!==n.check){e.msg="incorrect data check",n.mode=30;break}v=0,g=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;g<32;){if(0===d)break e;d--,v+=u[h++]<<g,g+=8}if(v!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}v=0,g=0}n.mode=29;case 29:R=1;break e;case 30:R=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=f,e.avail_out=p,e.next_in=h,e.avail_in=d,n.hold=v,n.bits=g,(n.wsize||b!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&y(e,e.output,e.next_out,b-e.avail_out)?(n.mode=31,-4):(b-=e.avail_out,e.total_in+=k-=e.avail_in,e.total_out+=b,n.total+=b,n.wrap&&b&&(e.adler=n.check=n.flags?o(n.check,c,b,e.next_out-b):r(n.check,c,b,e.next_out-b)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===k&&0===b||4===t)&&0===R&&(R=-5),R)},n.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},n.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&r(1,t,i,0)!==n.check?-3:y(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,0):-2},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var i=e("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,u,c,h,f){var d,p,v,g,m,y,k,b,_,C=f.bits,w=0,x=0,S=0,T=0,O=0,I=0,E=0,A=0,R=0,P=0,D=null,F=0,M=new i.Buf16(16),z=new i.Buf16(16),L=null,V=0;for(w=0;w<=15;w++)M[w]=0;for(x=0;x<l;x++)M[t[n+x]]++;for(O=C,T=15;T>=1&&0===M[T];T--);if(O>T&&(O=T),0===T)return u[c++]=20971520,u[c++]=20971520,f.bits=1,0;for(S=1;S<T&&0===M[S];S++);for(O<S&&(O=S),A=1,w=1;w<=15;w++)if(A<<=1,(A-=M[w])<0)return-1;if(A>0&&(0===e||1!==T))return-1;for(z[1]=0,w=1;w<15;w++)z[w+1]=z[w]+M[w];for(x=0;x<l;x++)0!==t[n+x]&&(h[z[t[n+x]]++]=x);if(0===e?(D=L=h,y=19):1===e?(D=r,F-=257,L=o,V-=257,y=256):(D=s,L=a,y=-1),P=0,x=0,w=S,m=c,I=O,E=0,v=-1,g=(R=1<<O)-1,1===e&&R>852||2===e&&R>592)return 1;for(;;){k=w-E,h[x]<y?(b=0,_=h[x]):h[x]>y?(b=L[V+h[x]],_=D[F+h[x]]):(b=96,_=0),d=1<<w-E,S=p=1<<I;do{u[m+(P>>E)+(p-=d)]=k<<24|b<<16|_|0}while(0!==p);for(d=1<<w-1;P&d;)d>>=1;if(0!==d?(P&=d-1,P+=d):P=0,x++,0==--M[w]){if(w===T)break;w=t[n+h[x]]}if(w>O&&(P&g)!==v){for(0===E&&(E=O),m+=S,A=1<<(I=w-E);I+E<T&&!((A-=M[I+E])<=0);)I++,A<<=1;if(R+=1<<I,1===e&&R>852||2===e&&R>592)return 1;u[v=P&g]=O<<24|I<<16|m-c|0}}return 0!==P&&(u[m+P]=w-E<<24|64<<16|0),f.bits=O,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var i=e("../utils/common");function r(e){for(var t=e.length;--t>=0;)e[t]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],s=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);r(u);var c=new Array(60);r(c);var h=new Array(512);r(h);var f=new Array(256);r(f);var d=new Array(29);r(d);var p,v,g,m=new Array(30);function y(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function k(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function b(e){return e<256?h[e]:h[256+(e>>>7)]}function _(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function C(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,_(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function w(e,t,n){C(e,n[2*t],n[2*t+1])}function x(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function S(e,t,n){var i,r,o=new Array(16),s=0;for(i=1;i<=15;i++)o[i]=s=s+n[i-1]<<1;for(r=0;r<=t;r++){var a=e[2*r+1];0!==a&&(e[2*r]=x(o[a]++,a))}}function T(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function O(e){e.bi_valid>8?_(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function I(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function E(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&I(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!I(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function A(e,t,n){var i,r,a,l,u=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],r=e.pending_buf[e.l_buf+u],u++,0===i?w(e,r,t):(w(e,(a=f[r])+256+1,t),0!==(l=o[a])&&C(e,r-=d[a],l),w(e,a=b(--i),n),0!==(l=s[a])&&C(e,i-=m[a],l))}while(u<e.last_lit);w(e,256,t)}function R(e,t){var n,i,r,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[r]=0,e.opt_len--,a&&(e.static_len-=s[2*r+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)E(e,o,n);r=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],E(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,E(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,s,a,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,h=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,v=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=l[2*l[2*(i=e.heap[n])+1]+1]+1)>p&&(o=p,v++),l[2*i+1]=o,i>u||(e.bl_count[o]++,s=0,i>=d&&(s=f[i-d]),e.opt_len+=(a=l[2*i])*(o+s),h&&(e.static_len+=a*(c[2*i+1]+s)));if(0!==v){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,v-=2}while(v>0);for(o=p;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>u||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(e,t),S(o,u,e.bl_count)}function P(e,t,n){var i,r,o=-1,s=t[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=t[2*(i+1)+1],++a<l&&r===s||(a<u?e.bl_tree[2*r]+=a:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=r,0===s?(l=138,u=3):r===s?(l=6,u=3):(l=7,u=4))}function D(e,t,n){var i,r,o=-1,s=t[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),i=0;i<=n;i++)if(r=s,s=t[2*(i+1)+1],!(++a<l&&r===s)){if(a<u)do{w(e,r,e.bl_tree)}while(0!=--a);else 0!==r?(r!==o&&(w(e,r,e.bl_tree),a--),w(e,16,e.bl_tree),C(e,a-3,2)):a<=10?(w(e,17,e.bl_tree),C(e,a-3,3)):(w(e,18,e.bl_tree),C(e,a-11,7));a=0,o=r,0===s?(l=138,u=3):r===s?(l=6,u=3):(l=7,u=4)}}r(m);var F=!1;function M(e,t,n,r){C(e,0+(r?1:0),3),function(e,t,n,r){O(e),_(e,n),_(e,~n),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}n._tr_init=function(e){F||(function(){var e,t,n,i,r,l=new Array(16);for(n=0,i=0;i<28;i++)for(d[i]=n,e=0;e<1<<o[i];e++)f[n++]=i;for(f[n-1]=i,r=0,i=0;i<16;i++)for(m[i]=r,e=0;e<1<<s[i];e++)h[r++]=i;for(r>>=7;i<30;i++)for(m[i]=r<<7,e=0;e<1<<s[i]-7;e++)h[256+r++]=i;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,l[8]++;for(;e<=255;)u[2*e+1]=9,e++,l[9]++;for(;e<=279;)u[2*e+1]=7,e++,l[7]++;for(;e<=287;)u[2*e+1]=8,e++,l[8]++;for(S(u,287,l),e=0;e<30;e++)c[2*e+1]=5,c[2*e]=x(e,5);p=new y(u,o,257,286,15),v=new y(c,s,0,30,15),g=new y(new Array(0),a,0,19,7)}(),F=!0),e.l_desc=new k(e.dyn_ltree,p),e.d_desc=new k(e.dyn_dtree,v),e.bl_desc=new k(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,T(e)},n._tr_stored_block=M,n._tr_flush_block=function(e,t,n,i){var r,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),R(e,e.l_desc),R(e,e.d_desc),s=function(e){var t;for(P(e,e.dyn_ltree,e.l_desc.max_code),P(e,e.dyn_dtree,e.d_desc.max_code),R(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(o=e.static_len+3+7>>>3)<=(r=e.opt_len+3+7>>>3)&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?M(e,t,n,i):4===e.strategy||o===r?(C(e,2+(i?1:0),3),A(e,u,c)):(C(e,4+(i?1:0),3),function(e,t,n,i){var r;for(C(e,t-257,5),C(e,n-1,5),C(e,i-4,4),r=0;r<i;r++)C(e,e.bl_tree[2*l[r]+1],3);D(e,e.dyn_ltree,t-1),D(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),A(e,e.dyn_ltree,e.dyn_dtree)),T(e),i&&O(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(f[n]+256+1)]++,e.dyn_dtree[2*b(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){C(e,2,3),w(e,256,u),function(e){16===e.bi_valid?(_(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)},"wSl+":function(e,t,n){e.exports=function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};t[s][0].call(u.exports,(function(e){return r(t[s][1][e]||e)}),u,u.exports,e,t,n,i)}return n[s].exports}for(var o=!1,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,s;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(s=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)s.set(o=e[t],r),r+=o.length;return s}},s={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(i)},{}],2:[function(e,t,n){"use strict";var i=e("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(u){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){o=!1}for(var s=new i.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n}s[254]=s[254]=1,n.string2buf=function(e){var t,n,r,o,s,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(l),s=0,o=0;s<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,r,o,a=t||e.length,u=new Array(2*a);for(i=0,n=0;n<a;)if((r=e[n++])<128)u[i++]=r;else if((o=s[r])>4)u[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<a;)r=r<<6|63&e[n++],o--;o>1?u[i++]=65533:r<65536?u[i++]=r:(u[i++]=55296|(r-=65536)>>10&1023,u[i++]=56320|1023&r)}return l(u,i)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+s[e[n]]>t?n:t}},{"./common":1}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--s);r%=65521,o%=65521}return r|o<<16|0}},{}],4:[function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,r){var o=i,s=r+n;e^=-1;for(var a=r;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},{}],5:[function(e,t,n){"use strict";var i,r=e("../utils/common"),o=e("./trees"),s=e("./adler32"),a=e("./crc32"),l=e("./messages");function u(e,t){return e.msg=l[t],t}function c(e){return(e<<1)-(e>4?9:0)}function h(e){for(var t=e.length;--t>=0;)e[t]=0}function f(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function d(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,f(e.strm)}function p(e,t){e.pending_buf[e.pending++]=t}function v(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function g(e,t){var n,i,r=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,c=e.w_mask,h=e.prev,f=e.strstart+258,d=u[o+s-1],p=u[o+s];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do{if(u[(n=t)+s]===p&&u[n+s-1]===d&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(i=258-(f-o),o=f-258,i>s){if(e.match_start=t,s=i,i>=a)break;d=u[o+s-1],p=u[o+s]}}}while((t=h[t&c])>l&&0!=--r);return s<=e.lookahead?s:e.lookahead}function m(e){var t,n,i,o,l,u,c,h,f,d,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-262)){r.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=p?i-p:0}while(--n);t=n=p;do{i=e.prev[--t],e.prev[t]=i>=p?i-p:0}while(--n);o+=p}if(0===e.strm.avail_in)break;if(c=e.window,h=e.strstart+e.lookahead,d=void 0,(d=(u=e.strm).avail_in)>(f=o)&&(d=f),n=0===d?0:(u.avail_in-=d,r.arraySet(c,u.input,u.next_in,d,h),1===u.state.wrap?u.adler=s(u.adler,c,d,h):2===u.state.wrap&&(u.adler=a(u.adler,c,d,h)),u.next_in+=d,u.total_in+=d,d),e.lookahead+=n,e.lookahead+e.insert>=3)for(e.ins_h=e.window[l=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function y(e,t){for(var n,i;;){if(e.lookahead<262){if(m(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=g(e,n)),e.match_length>=3)if(i=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function k(e,t){for(var n,i,r;;){if(e.lookahead<262){if(m(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=g(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(d(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=o._tr_tally(e,0,e.window[e.strstart-1]))&&d(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function b(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function _(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),h(this.dyn_ltree),h(this.dyn_dtree),h(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),h(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),h(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function C(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):u(e,-2)}function w(e){var t,n=C(e);return 0===n&&((t=e.state).window_size=2*t.w_size,h(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function x(e,t,n,i,o,s){if(!e)return-2;var a=1;if(-1===t&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),o<1||o>9||8!==n||i<8||i>15||t<0||t>9||s<0||s>4)return u(e,-2);8===i&&(i=9);var l=new _;return e.state=l,l.strm=e,l.wrap=a,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=n,w(e)}i=[new b(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(m(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,d(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&d(e,!1),1)})),new b(4,4,8,4,y),new b(4,5,16,8,y),new b(4,6,32,32,y),new b(4,4,16,16,k),new b(8,16,32,32,k),new b(8,16,128,128,k),new b(8,32,128,256,k),new b(32,128,258,1024,k),new b(32,258,258,4096,k)],n.deflateInit=function(e,t){return x(e,t,8,15,8,0)},n.deflateInit2=x,n.deflateReset=w,n.deflateResetKeep=C,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},n.deflate=function(e,t){var n,r,s,l;if(!e||!e.state||t>5||t<0)return e?u(e,-2):-2;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&4!==t)return u(e,0===e.avail_out?-5:-2);if(r.strm=e,n=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,p(r,31),p(r,139),p(r,8),r.gzhead?(p(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),p(r,255&r.gzhead.time),p(r,r.gzhead.time>>8&255),p(r,r.gzhead.time>>16&255),p(r,r.gzhead.time>>24&255),p(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),p(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(p(r,255&r.gzhead.extra.length),p(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=a(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(p(r,0),p(r,0),p(r,0),p(r,0),p(r,0),p(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),p(r,3),r.status=113);else{var g=8+(r.w_bits-8<<4)<<8;g|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(g|=32),g+=31-g%31,r.status=113,v(r,g),0!==r.strstart&&(v(r,e.adler>>>16),v(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(s=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),f(e),s=r.pending,r.pending!==r.pending_buf_size));)p(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),f(e),s=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,p(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),f(e),s=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,p(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),0===l&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&f(e),r.pending+2<=r.pending_buf_size&&(p(r,255&e.adler),p(r,e.adler>>8&255),e.adler=0,r.status=113)):r.status=113),0!==r.pending){if(f(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&c(t)<=c(n)&&4!==t)return u(e,-5);if(666===r.status&&0!==e.avail_in)return u(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&666!==r.status){var y=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(m(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var n,i,r,s,a=e.window;;){if(e.lookahead<=258){if(m(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=a[r=e.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){s=e.strstart+258;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<s);e.match_length=258-(s-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(r,t):i[r.level].func(r,t);if(3!==y&&4!==y||(r.status=666),1===y||3===y)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===y&&(1===t?o._tr_align(r):5!==t&&(o._tr_stored_block(r,0,0,!1),3===t&&(h(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),f(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(p(r,255&e.adler),p(r,e.adler>>8&255),p(r,e.adler>>16&255),p(r,e.adler>>24&255),p(r,255&e.total_in),p(r,e.total_in>>8&255),p(r,e.total_in>>16&255),p(r,e.total_in>>24&255)):(v(r,e.adler>>>16),v(r,65535&e.adler)),f(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},n.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?u(e,-2):(e.state=null,113===t?u(e,-3):0):-2},n.deflateSetDictionary=function(e,t){var n,i,o,a,l,u,c,f,d=t.length;if(!e||!e.state)return-2;if(2===(a=(n=e.state).wrap)||1===a&&42!==n.status||n.lookahead)return-2;for(1===a&&(e.adler=s(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(h(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new r.Buf8(n.w_size),r.arraySet(f,t,d-n.w_size,n.w_size,0),t=f,d=n.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=d,e.next_in=0,e.input=t,m(n);n.lookahead>=3;){i=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=2,m(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,n.wrap=a,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(e,t,n){"use strict";var i=e("../utils/common");function r(e){for(var t=e.length;--t>=0;)e[t]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],s=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);r(u);var c=new Array(60);r(c);var h=new Array(512);r(h);var f=new Array(256);r(f);var d=new Array(29);r(d);var p,v,g,m=new Array(30);function y(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function k(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function b(e){return e<256?h[e]:h[256+(e>>>7)]}function _(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function C(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,_(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function w(e,t,n){C(e,n[2*t],n[2*t+1])}function x(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function S(e,t,n){var i,r,o=new Array(16),s=0;for(i=1;i<=15;i++)o[i]=s=s+n[i-1]<<1;for(r=0;r<=t;r++){var a=e[2*r+1];0!==a&&(e[2*r]=x(o[a]++,a))}}function T(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function O(e){e.bi_valid>8?_(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function I(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function E(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&I(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!I(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function A(e,t,n){var i,r,a,l,u=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],r=e.pending_buf[e.l_buf+u],u++,0===i?w(e,r,t):(w(e,(a=f[r])+256+1,t),0!==(l=o[a])&&C(e,r-=d[a],l),w(e,a=b(--i),n),0!==(l=s[a])&&C(e,i-=m[a],l))}while(u<e.last_lit);w(e,256,t)}function R(e,t){var n,i,r,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[r]=0,e.opt_len--,a&&(e.static_len-=s[2*r+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)E(e,o,n);r=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],E(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,E(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,s,a,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,h=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,v=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=l[2*l[2*(i=e.heap[n])+1]+1]+1)>p&&(o=p,v++),l[2*i+1]=o,i>u||(e.bl_count[o]++,s=0,i>=d&&(s=f[i-d]),e.opt_len+=(a=l[2*i])*(o+s),h&&(e.static_len+=a*(c[2*i+1]+s)));if(0!==v){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,v-=2}while(v>0);for(o=p;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>u||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(e,t),S(o,u,e.bl_count)}function P(e,t,n){var i,r,o=-1,s=t[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=t[2*(i+1)+1],++a<l&&r===s||(a<u?e.bl_tree[2*r]+=a:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=r,0===s?(l=138,u=3):r===s?(l=6,u=3):(l=7,u=4))}function D(e,t,n){var i,r,o=-1,s=t[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),i=0;i<=n;i++)if(r=s,s=t[2*(i+1)+1],!(++a<l&&r===s)){if(a<u)do{w(e,r,e.bl_tree)}while(0!=--a);else 0!==r?(r!==o&&(w(e,r,e.bl_tree),a--),w(e,16,e.bl_tree),C(e,a-3,2)):a<=10?(w(e,17,e.bl_tree),C(e,a-3,3)):(w(e,18,e.bl_tree),C(e,a-11,7));a=0,o=r,0===s?(l=138,u=3):r===s?(l=6,u=3):(l=7,u=4)}}r(m);var F=!1;function M(e,t,n,r){C(e,0+(r?1:0),3),function(e,t,n,r){O(e),_(e,n),_(e,~n),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}n._tr_init=function(e){F||(function(){var e,t,n,i,r,l=new Array(16);for(n=0,i=0;i<28;i++)for(d[i]=n,e=0;e<1<<o[i];e++)f[n++]=i;for(f[n-1]=i,r=0,i=0;i<16;i++)for(m[i]=r,e=0;e<1<<s[i];e++)h[r++]=i;for(r>>=7;i<30;i++)for(m[i]=r<<7,e=0;e<1<<s[i]-7;e++)h[256+r++]=i;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,l[8]++;for(;e<=255;)u[2*e+1]=9,e++,l[9]++;for(;e<=279;)u[2*e+1]=7,e++,l[7]++;for(;e<=287;)u[2*e+1]=8,e++,l[8]++;for(S(u,287,l),e=0;e<30;e++)c[2*e+1]=5,c[2*e]=x(e,5);p=new y(u,o,257,286,15),v=new y(c,s,0,30,15),g=new y(new Array(0),a,0,19,7)}(),F=!0),e.l_desc=new k(e.dyn_ltree,p),e.d_desc=new k(e.dyn_dtree,v),e.bl_desc=new k(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,T(e)},n._tr_stored_block=M,n._tr_flush_block=function(e,t,n,i){var r,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),R(e,e.l_desc),R(e,e.d_desc),s=function(e){var t;for(P(e,e.dyn_ltree,e.l_desc.max_code),P(e,e.dyn_dtree,e.d_desc.max_code),R(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(o=e.static_len+3+7>>>3)<=(r=e.opt_len+3+7>>>3)&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?M(e,t,n,i):4===e.strategy||o===r?(C(e,2+(i?1:0),3),A(e,u,c)):(C(e,4+(i?1:0),3),function(e,t,n,i){var r;for(C(e,t-257,5),C(e,n-1,5),C(e,i-4,4),r=0;r<i;r++)C(e,e.bl_tree[2*l[r]+1],3);D(e,e.dyn_ltree,t-1),D(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),A(e,e.dyn_ltree,e.dyn_dtree)),T(e),i&&O(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(f[n]+256+1)]++,e.dyn_dtree[2*b(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){C(e,2,3),w(e,256,u),function(e){16===e.bi_valid?(_(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":1}],8:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/deflate.js":[function(e,t,n){"use strict";var i=e("./zlib/deflate"),r=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/messages"),a=e("./zlib/zstream"),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(s[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=i.deflateSetDictionary(this.strm,c)))throw new Error(s[n]);this._dict_set=!0}}function c(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}u.prototype.push=function(e,t){var n,s,a=this.strm,u=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,a.input="string"==typeof e?o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?new Uint8Array(e):e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new r.Buf8(u),a.next_out=0,a.avail_out=u),1!==(n=i.deflate(a,s))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||this.onData("string"===this.options.to?o.buf2binstring(r.shrinkBuf(a.output,a.next_out)):r.shrinkBuf(a.output,a.next_out))}while((a.avail_in>0||0===a.avail_out)&&1!==n);return 4===s?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==s||(this.onEnd(0),a.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=u,n.deflate=c,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")},yLV6:function(e,t,n){var i;!function(r,o,s,a){"use strict";var l,u=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),h=Math.round,f=Math.abs,d=Date.now;function p(e,t,n){return setTimeout(_(e,n),t)}function v(e,t,n){return!!Array.isArray(e)&&(g(e,n[t],n),!0)}function g(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function m(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),e.apply(this,arguments)}}l="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var y=m((function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&void 0===e[i[r]])&&(e[i[r]]=t[i[r]]),r++;return e}),"extend","Use `assign`."),k=m((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.");function b(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&l(i,n)}function _(e,t){return function(){return e.apply(t,arguments)}}function C(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function w(e,t){return void 0===e?t:e}function x(e,t,n){g(I(t),(function(t){e.addEventListener(t,n,!1)}))}function S(e,t,n){g(I(t),(function(t){e.removeEventListener(t,n,!1)}))}function T(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function O(e,t){return e.indexOf(t)>-1}function I(e){return e.trim().split(/\s+/g)}function E(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function A(e){return Array.prototype.slice.call(e,0)}function R(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var s=t?e[o][t]:e[o];E(r,s)<0&&i.push(e[o]),r[o]=s,o++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}function P(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<u.length;){if((i=(n=u[o])?n+r:t)in e)return i;o++}}var D=1;function F(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var M="ontouchstart"in r,z=void 0!==P(r,"PointerEvent"),L=M&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),V=["x","y"],N=["clientX","clientY"];function B(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){C(e.options.enable,[e])&&n.handler(t)},this.init()}function j(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&t&&i-r==0,s=12&t&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=H(t)),r>1&&!n.firstMultiple?n.firstMultiple=H(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,l=t.center=G(i);t.timeStamp=d(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=Z(a,l),t.distance=q(a,l),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=W(t.deltaX,t.deltaY);var u,c,h=U(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=h.x,t.overallVelocityY=h.y,t.overallVelocity=f(h.x)>f(h.y)?h.x:h.y,t.scale=s?(u=s.pointers,q((c=i)[0],c[1],N)/q(u[0],u[1],N)):1,t.rotation=s?function(e,t){return Z(t[1],t[0],N)+Z(e[1],e[0],N)}(s.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,s=e.lastInterval||t,a=t.timeStamp-s.timeStamp;if(8!=t.eventType&&(a>25||void 0===s.velocity)){var l=t.deltaX-s.deltaX,u=t.deltaY-s.deltaY,c=U(a,l,u);i=c.x,r=c.y,n=f(c.x)>f(c.y)?c.x:c.y,o=W(l,u),e.lastInterval=t}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var p=e.element;T(t.srcEvent.target,p)&&(p=t.srcEvent.target),t.target=p}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function H(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:h(e.pointers[n].clientX),clientY:h(e.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:t,center:G(t),deltaX:e.deltaX,deltaY:e.deltaY}}function G(e){var t=e.length;if(1===t)return{x:h(e[0].clientX),y:h(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:h(n/t),y:h(i/t)}}function U(e,t,n){return{x:t/e||0,y:n/e||0}}function W(e,t){return e===t?1:f(e)>=f(t)?e<0?2:4:t<0?8:16}function q(e,t,n){n||(n=V);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function Z(e,t,n){return n||(n=V),180*Math.atan2(t[n[1]]-e[n[1]],t[n[0]]-e[n[0]])/Math.PI}B.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(F(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(F(this.element),this.evWin,this.domHandler)}};var $={mousedown:1,mousemove:2,mouseup:4};function K(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,B.apply(this,arguments)}b(K,B,{handler:function(e){var t=$[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var Y={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},X={2:"touch",3:"pen",4:"mouse",5:"kinect"},Q="pointerdown",J="pointermove pointerup pointercancel";function ee(){this.evEl=Q,this.evWin=J,B.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(Q="MSPointerDown",J="MSPointerMove MSPointerUp MSPointerCancel"),b(ee,B,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=Y[i],o=X[e.pointerType]||e.pointerType,s="touch"==o,a=E(t,e.pointerId,"pointerId");1&r&&(0===e.button||s)?a<0&&(t.push(e),a=t.length-1):12&r&&(n=!0),a<0||(t[a]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(a,1))}});var te={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ne(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,B.apply(this,arguments)}function ie(e,t){var n=A(e.touches),i=A(e.changedTouches);return 12&t&&(n=R(n.concat(i),"identifier",!0)),[n,i]}b(ne,B,{handler:function(e){var t=te[e.type];if(1===t&&(this.started=!0),this.started){var n=ie.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var re={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function oe(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},B.apply(this,arguments)}function se(e,t){var n=A(e.touches),i=this.targetIds;if(3&t&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=A(e.changedTouches),a=[],l=this.target;if(o=n.filter((function(e){return T(e.target,l)})),1===t)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),12&t&&delete i[s[r].identifier],r++;return a.length?[R(o.concat(a),"identifier",!0),a]:void 0}function ae(){B.apply(this,arguments);var e=_(this.handler,this);this.touch=new oe(this.manager,e),this.mouse=new K(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function le(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ue.call(this,t)):12&e&&ue.call(this,t)}function ue(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),2500)}}function ce(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),s=Math.abs(n-r.y);if(o<=25&&s<=25)return!0}return!1}b(oe,B,{handler:function(e){var t=re[e.type],n=se.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}),b(ae,B,{handler:function(e,t,n){var i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)le.call(this,t,n);else if(i&&ce.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var he=P(c.style,"touchAction"),fe=void 0!==he,de=function(){if(!fe)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||r.CSS.supports("touch-action",n)})),e}();function pe(e,t){this.manager=e,this.set(t)}function ve(e){this.options=l({},this.defaults,e||{}),this.id=D++,this.manager=null,this.options.enable=w(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ge(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function me(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function ye(e,t){var n=t.manager;return n?n.get(e):e}function ke(){ve.apply(this,arguments)}function be(){ke.apply(this,arguments),this.pX=null,this.pY=null}function _e(){ke.apply(this,arguments)}function Ce(){ve.apply(this,arguments),this._timer=null,this._input=null}function we(){ke.apply(this,arguments)}function xe(){ke.apply(this,arguments)}function Se(){ve.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Te(e,t){return(t=t||{}).recognizers=w(t.recognizers,Te.defaults.preset),new Oe(e,t)}function Oe(e,t){var n;this.options=l({},Te.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(z?ee:L?oe:M?ae:K))(n,j),this.touchAction=new pe(this,this.options.touchAction),Ie(this,!0),g(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Ie(e,t){var n,i=e.element;i.style&&(g(e.options.cssProps,(function(r,o){n=P(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}pe.prototype={set:function(e){"compute"==e&&(e=this.compute()),fe&&this.manager.element.style&&de[e]&&(this.manager.element.style[he]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return g(this.manager.recognizers,(function(t){C(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(O(e,"none"))return"none";var t=O(e,"pan-x"),n=O(e,"pan-y");return t&&n?"none":t||n?t?"pan-x":"pan-y":O(e,"manipulation")?"manipulation":"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=O(i,"none")&&!de.none,o=O(i,"pan-y")&&!de["pan-y"],s=O(i,"pan-x")&&!de["pan-x"];if(r&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;if(!s||!o)return r||o&&6&n||s&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}},ve.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(v(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=ye(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return v(e,"dropRecognizeWith",this)?this:(e=ye(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(v(e,"requireFailure",this))return this;var t=this.requireFail;return-1===E(t,e=ye(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(v(e,"dropRequireFailure",this))return this;e=ye(e,this);var t=E(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+ge(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+ge(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=l({},e);if(!C(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},b(ke,ve,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(8&n||!r)?16|t:i||r?4&n?8|t:2&t?4|t:2:32}}),b(be,ke,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,s=e.deltaY;return r&t.direction||(6&t.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===s?1:s<0?8:16,n=s!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return ke.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=me(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),b(_e,ke,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),this._super.emit.call(this,e)}}),b(Ce,ve,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||12&e.eventType&&!r)this.reset();else if(1&e.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),b(we,ke,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),b(xe,ke,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return be.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&f(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=me(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),b(Se,ve,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,s=!this.pCenter||q(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,s&&o?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Te.VERSION="2.0.7",Te.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[we,{enable:!1}],[_e,{enable:!1},["rotate"]],[xe,{direction:6}],[be,{direction:6},["swipe"]],[Se],[Se,{event:"doubletap",taps:2},["tap"]],[Ce]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Oe.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof ve)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(v(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(v(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=E(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var n=this.handlers;return g(I(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var n=this.handlers;return g(I(e),(function(e){t?n[e]&&n[e].splice(E(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&Ie(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Te,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Oe,Input:B,TouchAction:pe,TouchInput:oe,MouseInput:K,PointerEventInput:ee,TouchMouseInput:ae,SingleTouchInput:ne,Recognizer:ve,AttrRecognizer:ke,Tap:Se,Pan:be,Swipe:xe,Pinch:_e,Rotate:we,Press:Ce,on:x,off:S,each:g,merge:k,extend:y,assign:l,inherit:b,bindFn:_,prefixed:P}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Te,void 0===(i=(function(){return Te}).call(t,n,t,e))||(e.exports=i)}(window,document)},zUnb:function(e,t,n){"use strict";var i,r,o,s,a,l,u,c,h;n.r(t);var f={};n.r(f),n.d(f,"append",(function(){return px})),n.d(f,"arabicToRoman",(function(){return gx})),n.d(f,"createPromise",(function(){return mx})),n.d(f,"defined",(function(){return yx})),n.d(f,"definitionId",(function(){return bx})),n.d(f,"deg",(function(){return xx})),n.d(f,"encodeBase64",(function(){return Ox})),n.d(f,"eventCoordinates",(function(){return Ix})),n.d(f,"eventElement",(function(){return Ex})),n.d(f,"isTransparent",(function(){return Ax})),n.d(f,"last",(function(){return Rx})),n.d(f,"limitValue",(function(){return Px})),n.d(f,"mergeSort",(function(){return Dx})),n.d(f,"promiseAll",(function(){return Fx})),n.d(f,"rad",(function(){return Mx})),n.d(f,"round",(function(){return zx})),n.d(f,"valueOrDefault",(function(){return Lx})),n.d(f,"bindEvents",(function(){return Vx})),n.d(f,"elementOffset",(function(){return Nx})),n.d(f,"elementSize",(function(){return Hx})),n.d(f,"elementStyles",(function(){return Bx})),n.d(f,"unbindEvents",(function(){return Gx})),n.d(f,"DEG_TO_RAD",(function(){return _x})),n.d(f,"MAX_NUM",(function(){return Cx})),n.d(f,"MIN_NUM",(function(){return wx})),n.d(f,"LRUCache",(function(){return Ux})),n.d(f,"TextMetrics",(function(){return Qx})),n.d(f,"measureText",(function(){return Jx})),n.d(f,"objectKey",(function(){return Zx})),n.d(f,"hashKey",(function(){return $x})),n.d(f,"normalizeText",(function(){return qx}));var d={};n.r(d),n.d(d,"swing",(function(){return oO})),n.d(d,"linear",(function(){return sO})),n.d(d,"easeOutElastic",(function(){return aO}));var p={};n.r(p),n.d(p,"Circle",(function(){return wS})),n.d(p,"Arc",(function(){return LS})),n.d(p,"Rect",(function(){return pS})),n.d(p,"Point",(function(){return cS})),n.d(p,"Segment",(function(){return oT})),n.d(p,"Matrix",(function(){return aS})),n.d(p,"Size",(function(){return fS})),n.d(p,"toMatrix",(function(){return lS})),n.d(p,"Transformation",(function(){return gS})),n.d(p,"transform",(function(){return mS}));var v={};n.r(v),n.d(v,"Surface",(function(){return NO})),n.d(v,"RootNode",(function(){return LO})),n.d(v,"Node",(function(){return AO})),n.d(v,"GroupNode",(function(){return jO})),n.d(v,"ArcNode",(function(){return ZO})),n.d(v,"CircleNode",(function(){return KO})),n.d(v,"RectNode",(function(){return XO})),n.d(v,"ImageNode",(function(){return JO})),n.d(v,"TextNode",(function(){return iI})),n.d(v,"PathNode",(function(){return WO})),n.d(v,"MultiPathNode",(function(){return oI})),n.d(v,"DefinitionNode",(function(){return zO})),n.d(v,"ClipNode",(function(){return MO})),n.d(v,"GradientStopNode",(function(){return RO})),n.d(v,"LinearGradientNode",(function(){return DO})),n.d(v,"RadialGradientNode",(function(){return FO})),n.d(v,"exportGroup",(function(){return sI}));var g={};n.r(g),n.d(g,"Surface",(function(){return kI})),n.d(g,"RootNode",(function(){return dI})),n.d(g,"Node",(function(){return uI})),n.d(g,"GroupNode",(function(){return hI})),n.d(g,"ArcNode",(function(){return wI})),n.d(g,"CircleNode",(function(){return SI})),n.d(g,"RectNode",(function(){return OI})),n.d(g,"ImageNode",(function(){return EI})),n.d(g,"TextNode",(function(){return RI})),n.d(g,"PathNode",(function(){return _I})),n.d(g,"MultiPathNode",(function(){return DI}));var m={};function y(e){return"function"==typeof e}n.r(m),n.d(m,"PathParser",(function(){return mT})),n.d(m,"Surface",(function(){return mO})),n.d(m,"BaseNode",(function(){return yO})),n.d(m,"SurfaceFactory",(function(){return vO})),n.d(m,"OptionsStore",(function(){return nS})),n.d(m,"exportImage",(function(){return FI})),n.d(m,"exportSVG",(function(){return MI})),n.d(m,"QuadNode",(function(){return vI})),n.d(m,"ShapesQuadTree",(function(){return mI})),n.d(m,"ObserversMixin",(function(){return Fw})),n.d(m,"svg",(function(){return v})),n.d(m,"canvas",(function(){return g})),n.d(m,"util",(function(){return f})),n.d(m,"Element",(function(){return kS})),n.d(m,"Circle",(function(){return AS})),n.d(m,"Arc",(function(){return _T})),n.d(m,"Path",(function(){return kT})),n.d(m,"MultiPath",(function(){return uT})),n.d(m,"Text",(function(){return wT})),n.d(m,"Image",(function(){return ST})),n.d(m,"Group",(function(){return IT})),n.d(m,"Layout",(function(){return MT})),n.d(m,"Rect",(function(){return LT})),n.d(m,"align",(function(){return NT})),n.d(m,"vAlign",(function(){return BT})),n.d(m,"stack",(function(){return GT})),n.d(m,"vStack",(function(){return UT})),n.d(m,"wrap",(function(){return qT})),n.d(m,"vWrap",(function(){return ZT})),n.d(m,"fit",(function(){return $T})),n.d(m,"LinearGradient",(function(){return nO})),n.d(m,"RadialGradient",(function(){return rO})),n.d(m,"GradientStop",(function(){return QT})),n.d(m,"Gradient",(function(){return eO})),n.d(m,"Animation",(function(){return pO})),n.d(m,"AnimationFactory",(function(){return uO}));var k=!1,b={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else k&&console.log("RxJS: Back to a better error behavior. Thank you. <3");k=e},get useDeprecatedSynchronousErrorHandling(){return k}};function _(e){setTimeout((function(){throw e}),0)}var C={closed:!0,next:function(e){},error:function(e){if(b.useDeprecatedSynchronousErrorHandling)throw e;_(e)},complete:function(){}},w=Array.isArray||function(e){return e&&"number"==typeof e.length};function x(e){return null!==e&&"object"==typeof e}var S,T=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),O=((S=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,i=this._unsubscribe,r=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var o=0;o<n.length;++o)n[o].remove(this);if(y(i))try{i.call(this)}catch(u){t=u instanceof T?I(u.errors):[u]}if(w(r))for(var s=-1,a=r.length;++s<a;){var l=r[s];if(x(l))try{l.unsubscribe()}catch(u){t=t||[],u instanceof T?t=t.concat(I(u.errors)):t.push(u)}}if(t)throw new T(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=function(e){return e.closed=!0,e}(new S),S);function I(e){return e.reduce((function(e,t){return e.concat(t instanceof T?t.errors:t)}),[])}var E="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),A=function(e){function t(e,n,i){var r;switch(_classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).syncErrorValue=null,r.syncErrorThrown=!1,r.syncErrorThrowable=!1,r.isStopped=!1,arguments.length){case 0:r.destination=C;break;case 1:if(!e){r.destination=C;break}if("object"==typeof e){e instanceof t?(r.syncErrorThrowable=e.syncErrorThrowable,r.destination=e,e.add(_assertThisInitialized(r))):(r.syncErrorThrowable=!0,r.destination=new R(_assertThisInitialized(r),e));break}default:r.syncErrorThrowable=!0,r.destination=new R(_assertThisInitialized(r),e,n,i)}return r}return _inherits(t,e),_createClass(t,[{key:E,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(t.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,n,i){var r=new t(e,n,i);return r.syncErrorThrowable=!1,r}}]),t}(O),R=function(e){function t(e,n,i,r){var o,s;_classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._parentSubscriber=e;var a=_assertThisInitialized(o);return y(n)?s=n:n&&(s=n.next,i=n.error,r=n.complete,n!==C&&(y((a=Object.create(n)).unsubscribe)&&o.add(a.unsubscribe.bind(a)),a.unsubscribe=o.unsubscribe.bind(_assertThisInitialized(o)))),o._context=a,o._next=s,o._error=i,o._complete=r,o}return _inherits(t,e),_createClass(t,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;b.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=b.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):_(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;_(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};b.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),b.useDeprecatedSynchronousErrorHandling)throw n;_(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!b.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return b.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(_(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),t}(A),P="function"==typeof Symbol&&Symbol.observable||"@@observable";function D(){}var F,M=((F=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var i=this.operator,r=function(e,t,n){if(e){if(e instanceof A)return e;if(e[E])return e[E]()}return e||t||n?new A(e,t,n):new A(C)}(e,t,n);if(r.add(i?i.call(r,this.source):this.source||b.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),b.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){b.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,i=t.destination,r=t.isStopped;if(n||r)return!1;e=i&&i instanceof A?i:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=z(t))((function(t,i){var r;r=n.subscribe((function(t){try{e(t)}catch(n){i(n),r&&r.unsubscribe()}}),i,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:P,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:((i=t)?1===i.length?i[0]:function(e){return i.reduce((function(e,t){return t(e)}),e)}:D)(this);var i}},{key:"toPromise",value:function(e){var t=this;return new(e=z(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))}}]),e}()).create=function(e){return new F(e)},F);function z(e){if(e||(e=b.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var L,V=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),N=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).subject=e,i.subscriber=n,i.closed=!1,i}return _inherits(t,e),_createClass(t,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),t}(O),B=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).destination=e,n}return _inherits(t,e),t}(A),j=((L=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _inherits(t,e),_createClass(t,[{key:E,value:function(){return new B(this)}},{key:"lift",value:function(e){var t=new H(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new V;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].next(e)}},{key:"error",value:function(e){if(this.closed)throw new V;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new V;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new V;return _get(_getPrototypeOf(t.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new V;return this.hasError?(e.error(this.thrownError),O.EMPTY):this.isStopped?(e.complete(),O.EMPTY):(this.observers.push(e),new N(this,e))}},{key:"asObservable",value:function(){var e=new M;return e.source=this,e}}]),t}(M)).create=function(e,t){return new H(e,t)},L),H=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).destination=e,i.source=n,i}return _inherits(t,e),_createClass(t,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):O.EMPTY}}]),t}(j);function G(e){return e&&"function"==typeof e.schedule}var U=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).parent=e,r.outerValue=n,r.outerIndex=i,r.index=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),t}(A),W=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()}};var q="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Z=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function $(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var K=function(e){if(e&&"function"==typeof e[P])return i=e,function(e){var t=i[P]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Z(e))return W(e);if($(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,_),e};if(e&&"function"==typeof e[q])return t=e,function(e){for(var n=t[q]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,i,r=x(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(r," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")};function Y(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new U(e,n,i);if(!r.closed)return t instanceof M?t.subscribe(r):K(t)(r)}var X=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"notifyNext",value:function(e,t,n,i,r){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),t}(A);function Q(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new J(e,t))}}var J=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ee(e,this.project,this.thisArg))}}]),e}(),ee=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).project=n,r.count=0,r.thisArg=i||_assertThisInitialized(r),r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),t}(A);function te(e,t){return new M((function(n){var i=new O,r=0;return i.add(t.schedule((function(){r!==e.length?(n.next(e[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i}))}function ne(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[P]}(e))return function(e,t){return new M((function(n){var i=new O;return i.add(t.schedule((function(){var r=e[P]();i.add(r.subscribe({next:function(e){i.add(t.schedule((function(){return n.next(e)})))},error:function(e){i.add(t.schedule((function(){return n.error(e)})))},complete:function(){i.add(t.schedule((function(){return n.complete()})))}}))}))),i}))}(e,t);if($(e))return function(e,t){return new M((function(n){var i=new O;return i.add(t.schedule((function(){return e.then((function(e){i.add(t.schedule((function(){n.next(e),i.add(t.schedule((function(){return n.complete()})))})))}),(function(e){i.add(t.schedule((function(){return n.error(e)})))}))}))),i}))}(e,t);if(Z(e))return te(e,t);if(function(e){return e&&"function"==typeof e[q]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new M((function(n){var i,r=new O;return r.add((function(){i&&"function"==typeof i.return&&i.return()})),r.add(t.schedule((function(){i=e[q](),r.add(t.schedule((function(){if(!n.closed){var e,t;try{var r=i.next();e=r.value,t=r.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),r}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof M?e:new M(K(e))}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(i){return i.pipe(ie((function(n,i){return ne(e(n,i)).pipe(Q((function(e,r){return t(n,e,i,r)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new re(e,n))})}var re=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new oe(e,this.project,this.concurrent))}}]),e}(),oe=function(e){function t(e,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=new U(this,t,n),r=this.destination;r.add(i);var o=Y(this,e,void 0,void 0,i);o!==i&&r.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,i,r){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),t}(X);function se(e){return e}function ae(e,t){return t?te(e,t):new M(W(e))}function le(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Number.POSITIVE_INFINITY,r=null,o=t[t.length-1];return G(o)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(i=t.pop())):"number"==typeof o&&(i=t.pop()),null===r&&1===t.length&&t[0]instanceof M?t[0]:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return ie(se,e)}(i)(ae(t,r))}function ue(){return function(e){return e.lift(new he(e))}}var ce,he=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var i=new fe(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r}}]),e}(),fe=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).connectable=n,i}return _inherits(t,e),_createClass(t,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),t}(A),de={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(ce=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).source=e,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return _inherits(t,e),_createClass(t,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new O).add(this.source.subscribe(new pe(this.getSubject(),this))),e.closed&&(this._connection=null,e=O.EMPTY)),e}},{key:"refCount",value:function(){return ue()(this)}}]),t}(M).prototype)._subscribe},_isComplete:{value:ce._isComplete,writable:!0},getSubject:{value:ce.getSubject},connect:{value:ce.connect},refCount:{value:ce.refCount}},pe=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).connectable=n,i}return _inherits(t,e),_createClass(t,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(t.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(t.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),t}(B);function ve(){return new j}function ge(e,t,n){var i=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof r)return i.apply(this,t),this;var o=_construct(r,t);return s.annotation=o,s;function s(e,t,n){for(var i=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(o),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r}var me=ge("Inject",(function(e){return{token:e}})),ye=ge("Optional"),ke=ge("Self"),be=ge("SkipSelf"),_e=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function Ce(e){for(var t in e)if(e[t]===Ce)return t;throw Error("Could not find renamed property on target object.")}function we(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function xe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}var Se=xe;function Te(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function Oe(e){return Ie(e,e[Ae])||Ie(e,e[De])}function Ie(e,t){return t&&t.token===e?t:null}function Ee(e){return e&&(e.hasOwnProperty(Re)||e.hasOwnProperty(Fe))?e[Re]:null}var Ae=Ce({"\u0275prov":Ce}),Re=Ce({"\u0275inj":Ce}),Pe=Ce({"\u0275provFallback":Ce}),De=Ce({ngInjectableDef:Ce}),Fe=Ce({ngInjectorDef:Ce});function Me(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Me).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ze(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var Le=Ce({__forward_ref__:Ce});function Ve(e){return e.__forward_ref__=Ve,e.toString=function(){return Me(this())},e}function Ne(e){return Be(e)?e():e}function Be(e){return"function"==typeof e&&e.hasOwnProperty(Le)&&e.__forward_ref__===Ve}var je,He="undefined"!=typeof globalThis&&globalThis,Ge="undefined"!=typeof window&&window,Ue="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,We="undefined"!=typeof global&&global,qe=He||We||Ge||Ue,Ze=Ce({"\u0275cmp":Ce}),$e=Ce({"\u0275dir":Ce}),Ke=Ce({"\u0275pipe":Ce}),Ye=Ce({"\u0275mod":Ce}),Xe=Ce({"\u0275loc":Ce}),Qe=Ce({"\u0275fac":Ce}),Je=Ce({__NG_ELEMENT_ID__:Ce}),et=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=xe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),tt=new et("INJECTOR",-1),nt={},it=/\n/gm,rt=Ce({provide:String,useValue:Ce}),ot=void 0;function st(e){var t=ot;return ot=e,t}function at(e){var t=je;return je=e,t}function lt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_e.Default;if(void 0===ot)throw new Error("inject() must be called from an injection context");return null===ot?ht(e,void 0,t):ot.get(e,t&_e.Optional?null:void 0,t)}function ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_e.Default;return(je||lt)(Ne(e),t)}var ct=ut;function ht(e,t,n){var i=Oe(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&_e.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(Me(e),"]"))}function ft(e){for(var t=[],n=0;n<e.length;n++){var i=Ne(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var r=void 0,o=_e.Default,s=0;s<i.length;s++){var a=i[s];a instanceof ye||"Optional"===a.ngMetadataName||a===ye?o|=_e.Optional:a instanceof be||"SkipSelf"===a.ngMetadataName||a===be?o|=_e.SkipSelf:a instanceof ke||"Self"===a.ngMetadataName||a===ke?o|=_e.Self:r=a instanceof me||a===me?a.token:a}t.push(ut(r,o))}else t.push(ut(i))}return t}var dt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt;if(t===nt){var n=new Error("NullInjectorError: No provider for ".concat(Me(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),pt=function e(){_classCallCheck(this,e)};function vt(e,t){for(var n=0;n<e.length;n++)t.push(e[n])}function gt(e,t){e.forEach((function(e){return Array.isArray(e)?gt(e,t):t(e)}))}function mt(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function yt(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function kt(e,t){for(var n=[],i=0;i<e;i++)n.push(t);return n}function bt(e,t,n){var i=Ct(e,t);return i>=0?e[1|i]=n:function(e,t,n,i){var r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i=~i,t,n),i}function _t(e,t){var n=Ct(e,t);if(n>=0)return e[1|n]}function Ct(e,t){return function(e,t,n){for(var i=0,r=e.length>>1;r!==i;){var o=i+(r-i>>1),s=e[o<<1];if(t===s)return o<<1;s>t?r=o:i=o+1}return~(r<<1)}(e,t)}var wt=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),xt=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}();function St(e){return""+{toString:e}}var Tt={},Ot=[],It=0;function Et(e){var t=e.type,n=t.prototype,i={},r={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===wt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Ot,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||xt.Emulated,id:"c",styles:e.styles||Ot,_:null,setInput:null,schemas:e.schemas||null,tView:null};return r._=St((function(){var t=e.directives,n=e.features,o=e.pipes;r.id+=It++,r.inputs=Ft(e.inputs,i),r.outputs=Ft(e.outputs),n&&n.forEach((function(e){return e(r)})),r.directiveDefs=t?function(){return("function"==typeof t?t():t).map(At)}:null,r.pipeDefs=o?function(){return("function"==typeof o?o():o).map(Rt)}:null})),r}function At(e){return Lt(e)||function(e){return e[$e]||null}(e)}function Rt(e){return function(e){return e[Ke]||null}(e)}var Pt={};function Dt(e){var t={type:e.type,bootstrap:e.bootstrap||Ot,declarations:e.declarations||Ot,imports:e.imports||Ot,exports:e.exports||Ot,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&St((function(){Pt[e.id]=e.type})),t}function Ft(e,t){if(null==e)return Tt;var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,t&&(t[r]=o)}return n}var Mt=Et;function zt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Lt(e){return e[Ze]||null}function Vt(e,t){return e.hasOwnProperty(Qe)?e[Qe]:null}function Nt(e,t){var n=e[Ye]||null;if(!n&&!0===t)throw new Error("Type ".concat(Me(e)," does not have '\u0275mod' property."));return n}function Bt(e){return Array.isArray(e)&&"object"==typeof e[1]}function jt(e){return Array.isArray(e)&&!0===e[1]}function Ht(e){return 0!=(8&e.flags)}function Gt(e){return 2==(2&e.flags)}function Ut(e){return 1==(1&e.flags)}function Wt(e){return null!==e.template}function qt(e){return 0!=(512&e[2])}var Zt={lFrame:vn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function $t(){return Zt.bindingsEnabled}function Kt(){return Zt.lFrame.lView}function Yt(){return Zt.lFrame.tView}function Xt(e){Zt.lFrame.contextLView=e}function Qt(){return Zt.lFrame.previousOrParentTNode}function Jt(e,t){Zt.lFrame.previousOrParentTNode=e,Zt.lFrame.isParent=t}function en(){return Zt.lFrame.isParent}function tn(){Zt.lFrame.isParent=!1}function nn(){return Zt.checkNoChangesMode}function rn(e){Zt.checkNoChangesMode=e}function on(){var e=Zt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function sn(){return Zt.lFrame.bindingIndex}function an(){return Zt.lFrame.bindingIndex++}function ln(e){var t=Zt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function un(e,t){var n=Zt.lFrame;n.bindingIndex=n.bindingRootIndex=e,n.currentDirectiveIndex=t}function cn(){return Zt.lFrame.currentQueryIndex}function hn(e){Zt.lFrame.currentQueryIndex=e}function fn(e,t){var n=pn();Zt.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function dn(e,t){var n=pn(),i=e[1];Zt.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex}function pn(){var e=Zt.lFrame,t=null===e?null:e.child;return null===t?vn(e):t}function vn(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function gn(){var e=Zt.lFrame;return Zt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var mn=gn;function yn(){var e=gn();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function kn(){return Zt.lFrame.selectedIndex}function bn(e){Zt.lFrame.selectedIndex=e}function _n(e,t){for(var n=t.directiveStart,i=t.directiveEnd;n<i;n++){var r=e.data[n];r.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,r.afterContentInit),r.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,r.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,r.afterContentChecked)),r.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,r.afterViewInit),r.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,r.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,r.afterViewChecked)),null!=r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,r.onDestroy)}}function Cn(e,t,n){Sn(e,t,3,n)}function wn(e,t,n,i){(3&e[2])===n&&Sn(e,t,n,i)}function xn(e,t){var n=e[2];(3&n)===t&&(n&=1023,n+=1,e[2]=n)}function Sn(e,t,n,i){for(var r=null!=i?i:-1,o=0,s=void 0!==i?65535&e[18]:0;s<t.length;s++)if("number"==typeof t[s+1]){if(o=t[s],null!=i&&o>=i)break}else t[s]<0&&(e[18]+=65536),(o<r||-1==r)&&(Tn(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function Tn(e,t,n,i){var r=n[i]<0,o=n[i+1],s=e[r?-n[i]:n[i]];r?e[2]>>10<e[18]>>16&&(3&e[2])===t&&(e[2]+=1024,o.call(s)):o.call(s)}var On=function e(t,n,i){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i},In=void 0;function En(){return void 0!==In?In:"undefined"!=typeof document?document:void 0}function An(e){return!!e.listen}var Rn={createRenderer:function(e,t){return En()}};function Pn(e,t,n){for(var i=An(e),r=0;r<n.length;){var o=n[r];if("number"==typeof o){if(0!==o)break;r++;var s=n[r++],a=n[r++],l=n[r++];i?e.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{var u=o,c=n[++r];Dn(u)?i&&e.setProperty(t,u,c):i?e.setAttribute(t,u,c):t.setAttribute(u,c),r++}}return r}function Dn(e){return 64===e.charCodeAt(0)}function Fn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,i=0;i<t.length;i++){var r=t[i];"number"==typeof r?n=r:0===n||Mn(e,n,r,null,-1===n||2===n?t[++i]:null)}return e}function Mn(e,t,n,i,r){var o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){var a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){var l=e[o];if("number"==typeof l)break;if(l===n){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}function zn(e){return-1!==e}function Ln(e){return 32767&e}function Vn(e){return e>>16}function Nn(e,t){for(var n=Vn(e),i=t;n>0;)i=i[15],n--;return i}function Bn(e){return"string"==typeof e?e:null==e?"":""+e}function jn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Bn(e)}var Hn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(qe);function Gn(e){return e instanceof Function?e():e}var Un=!0;function Wn(e){var t=Un;return Un=e,t}var qn=0;function Zn(e,t){var n=Kn(e,t);if(-1!==n)return n;var i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,$n(i.data,e),$n(t,null),$n(i.blueprint,null));var r=Yn(e,t),o=e.injectorIndex;if(zn(r))for(var s=Ln(r),a=Nn(r,t),l=a[1].data,u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u];return t[o+8]=r,o}function $n(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Kn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Yn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],i=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function Xn(e,t,n){!function(e,t,n){var i="string"!=typeof n?n[Je]:n.charCodeAt(0)||0;null==i&&(i=n[Je]=qn++);var r=255&i,o=1<<r,s=64&r,a=32&r,l=t.data;128&r?s?a?l[e+7]|=o:l[e+6]|=o:a?l[e+5]|=o:l[e+4]|=o:s?a?l[e+3]|=o:l[e+2]|=o:a?l[e+1]|=o:l[e]|=o}(e,t,n)}function Qn(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_e.Default,r=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[Je];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){fn(t,e);try{var s=o();if(null!=s||i&_e.Optional)return s;throw new Error("No provider for ".concat(jn(n),"!"))}finally{mn()}}else if("number"==typeof o){if(-1===o)return new oi(e,t);var a=null,l=Kn(e,t),u=-1,c=i&_e.Host?t[16][6]:null;for((-1===l||i&_e.SkipSelf)&&(u=-1===l?Yn(e,t):t[l+8],ri(i,!1)?(a=t[1],l=Ln(u),t=Nn(u,t)):l=-1);-1!==l;){u=t[l+8];var h=t[1];if(ii(o,l,h.data)){var f=ei(l,t,n,a,i,c);if(f!==Jn)return f}ri(i,t[1].data[l+8]===c)&&ii(o,l,t)?(a=h,l=Ln(u),t=Nn(u,t)):l=-1}}}if(i&_e.Optional&&void 0===r&&(r=null),0==(i&(_e.Self|_e.Host))){var d=t[9],p=at(void 0);try{return d?d.get(n,r,i&_e.Optional):ht(n,r,i&_e.Optional)}finally{at(p)}}if(i&_e.Optional)return r;throw new Error("NodeInjector: NOT_FOUND [".concat(jn(n),"]"))}var Jn={};function ei(e,t,n,i,r,o){var s=t[1],a=s.data[e+8],l=ti(a,s,n,null==i?Gt(a)&&Un:i!=s&&3===a.type,r&_e.Host&&o===a);return null!==l?ni(t,s,l,a):Jn}function ti(e,t,n,i,r){for(var o=e.providerIndexes,s=t.data,a=65535&o,l=e.directiveStart,u=o>>16,c=r?a+u:e.directiveEnd,h=i?a:a+u;h<c;h++){var f=s[h];if(h<l&&n===f||h>=l&&f.type===n)return h}if(r){var d=s[l];if(d&&Wt(d)&&d.type===n)return l}return null}function ni(e,t,n,i){var r=e[n],o=t.data;if(r instanceof On){var s=r;if(s.resolving)throw new Error("Circular dep for ".concat(jn(o[n])));var a,l=Wn(s.canSeeViewProviders);s.resolving=!0,s.injectImpl&&(a=at(s.injectImpl)),fn(e,i);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){var i=t.onChanges,r=t.onInit,o=t.doCheck;i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i)),r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{s.injectImpl&&at(a),Wn(l),s.resolving=!1,mn()}}return r}function ii(e,t,n){var i=64&e,r=32&e;return!!((128&e?i?r?n[t+7]:n[t+6]:r?n[t+5]:n[t+4]:i?r?n[t+3]:n[t+2]:r?n[t+1]:n[t])&1<<e)}function ri(e,t){return!(e&_e.Self||e&_e.Host&&t)}var oi=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return Qn(this._tNode,this._lView,e,void 0,t)}}]),e}();function si(e){var t=Object.getPrototypeOf(e.prototype).constructor,n=t[Qe]||function e(t){var n=t;if(Be(t))return function(){var t=e(Ne(n));return t?t():null};var i=Vt(n);if(null===i){var r=Ee(n);i=r&&r.factory}return i||null}(t);return null!==n?n:function(e){return new e}}function ai(e){return e.ngDebugContext}function li(e){return e.ngOriginalError}function ui(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e.error.apply(e,n)}var ci=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||ui}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?ai(e)?ai(e):this._findContext(li(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=li(e);t&&li(t);)t=li(t);return t}}]),e}(),hi=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),e}(),fi=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getTypeName",value:function(){return"HTML"}}]),t}(hi),di=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getTypeName",value:function(){return"Style"}}]),t}(hi),pi=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getTypeName",value:function(){return"Script"}}]),t}(hi),vi=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getTypeName",value:function(){return"URL"}}]),t}(hi),gi=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),t}(hi);function mi(e){return e instanceof hi?e.changingThisBreaksApplicationSecurity:e}function yi(e,t){var n=ki(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===t}function ki(e){return e instanceof hi&&e.getTypeName()||null}var bi=!0,_i=!1;function Ci(){return _i=!0,bi}var wi=function(){function e(t){_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i),n=this.inertDocument.createElement("body"),i.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(i){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;var n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var i=t.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||e.removeAttribute(i)}for(var r=e.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}]),e}(),xi=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Si=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ti(e){return(e=String(e)).match(xi)||e.match(Si)?e:(Ci()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function Oi(e){var t={},n=!0,i=!1,r=void 0;try{for(var o,s=e.split(",")[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){t[o.value]=!0}}catch(a){i=!0,r=a}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}return t}function Ii(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var r=0,o=n;r<o.length;r++){var s=o[r];for(var a in s)s.hasOwnProperty(a)&&(e[a]=!0)}return e}var Ei,Ai=Oi("area,br,col,hr,img,wbr"),Ri=Oi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pi=Oi("rp,rt"),Di=Ii(Pi,Ri),Fi=Ii(Ai,Ii(Ri,Oi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ii(Pi,Oi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Di),Mi=Oi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zi=Oi("srcset"),Li=Ii(Mi,zi,Oi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Oi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Vi=Oi("script,style,template"),Ni=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!Fi.hasOwnProperty(t))return this.sanitizedSomething=!0,!Vi.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,i=e.attributes,r=0;r<i.length;r++){var o=i.item(r),s=o.name,a=s.toLowerCase();if(Li.hasOwnProperty(a)){var l=o.value;Mi[a]&&(l=Ti(l)),zi[a]&&(n=l,l=(n=String(n)).split(",").map((function(e){return Ti(e.trim())})).join(", ")),this.buf.push(" ",s,'="',Hi(l),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();Fi.hasOwnProperty(t)&&!Ai.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(Hi(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),Bi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ji=/([^\#-~ |!])/g;function Hi(e){return e.replace(/&/g,"&amp;").replace(Bi,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(ji,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Gi(e,t){var n=null;try{Ei=Ei||new wi(e);var i=t?String(t):"";n=Ei.getInertBodyElement(i);var r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=Ei.getInertBodyElement(i)}while(i!==o);var s=new Ni,a=s.sanitizeChildren(Ui(n)||n);return Ci()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n)for(var l=Ui(n)||n;l.firstChild;)l.removeChild(l.firstChild)}}function Ui(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Wi=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),qi=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Zi=/^url\(([^)]+)\)$/;function $i(e){var t=Yi();return t?t.sanitize(Wi.HTML,e)||"":yi(e,"HTML")?mi(e):Gi(En(),Bn(e))}function Ki(e){var t=Yi();return t?t.sanitize(Wi.URL,e)||"":yi(e,"URL")?mi(e):Ti(Bn(e))}function Yi(){var e=Kt();return e&&e[12]}function Xi(e){for(;Array.isArray(e);)e=e[0];return e}function Qi(e,t){return Xi(t[e+19])}function Ji(e,t){return Xi(t[e.index])}function er(e,t){return e.data[t+19]}function tr(e,t){return e[t+19]}function nr(e,t){var n=t[e];return Bt(n)?n:n[0]}function ir(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function rr(e){return 4==(4&e[2])}function or(e){return 128==(128&e[2])}function sr(e,t){return null===e||null==t?null:e[t]}function ar(e){e[18]=0}function lr(e,t){e.__ngContext__=t}function ur(e){throw new Error("Multiple components match node with tagname ".concat(e.tagName))}function cr(){throw new Error("Cannot mix multi providers and regular providers")}function hr(e,t,n){for(var i=e.length;;){var r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){var o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}function fr(e,t,n){for(var i=0;i<e.length;){var r=e[i++];if(n&&"class"===r){if(-1!==hr((r=e[i]).toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function dr(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function pr(e,t,n){for(var i=4,r=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(3===(n=e[t])||4===n||6===n)return t;var n;return e.length}(r),s=!1,a=0;a<t.length;a++){var l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!dr(e,l,n)||""===l&&1===t.length){if(vr(i))return!1;s=!0}}else{var u=8&i?l:t[++a];if(8&i&&null!==e.attrs){if(!fr(e.attrs,u,n)){if(vr(i))return!1;s=!0}continue}var c=gr(8&i?"class":l,r,0==e.type&&"ng-template"!==e.tagName,n);if(-1===c){if(vr(i))return!1;s=!0;continue}if(""!==u){var h;h=c>o?"":r[c+1].toLowerCase();var f=8&i?h:null;if(f&&-1!==hr(f,u,0)||2&i&&u!==h){if(vr(i))return!1;s=!0}}}}else{if(!s&&!vr(i)&&!vr(l))return!1;if(s&&vr(l))continue;s=!1,i=l|1&i}}return vr(i)||s}function vr(e){return 0==(1&e)}function gr(e,t,n,i){if(null===t)return-1;var r=0;if(i||!n){for(var o=!1;r<t.length;){var s=t[r];if(s===e)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){for(var a=t[++r];"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){if(e[n]===t)return n;n++}return-1}(t,e)}function mr(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;i<t.length;i++)if(pr(e,t[i],n))return!0;return!1}function yr(e,t){e:for(var n=0;n<t.length;n++){var i=t[n];if(e.length===i.length){for(var r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function kr(e,t){return e?":not("+t.trim()+")":t}function br(e){for(var t=e[0],n=1,i=2,r="",o=!1;n<e.length;){var s=e[n];if("string"==typeof s)if(2&i){var a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""===r||vr(s)||(t+=kr(o,r),r=""),i=s,o=o||!vr(i);n++}return""!==r&&(t+=kr(o,r)),t}var _r={};function Cr(e){var t=e[3];return jt(t)?t[3]:t}function wr(e){xr(Yt(),Kt(),kn()+e,nn())}function xr(e,t,n,i){if(!i)if(3==(3&t[2])){var r=e.preOrderCheckHooks;null!==r&&Cn(t,r,n)}else{var o=e.preOrderHooks;null!==o&&wn(t,o,0,n)}bn(n)}function Sr(e,t){return e<<17|t<<2}function Tr(e){return e>>17&32767}function Or(e){return 2|e}function Ir(e){return(131068&e)>>2}function Er(e,t){return-131069&e|t<<2}function Ar(e){return 1|e}function Rr(e,t){var n=e.contentQueries;if(null!==n)for(var i=0;i<n.length;i+=2){var r=n[i],o=n[i+1];if(-1!==o){var s=e.data[o];hn(r),s.contentQueries(2,t[o],o)}}}function Pr(e,t,n){return An(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Dr(e,t,n,i,r,o,s,a,l,u){var c=t.blueprint.slice();return c[0]=r,c[2]=140|i,ar(c),c[3]=c[15]=e,c[8]=n,c[10]=s||e&&e[10],c[11]=a||e&&e[11],c[12]=l||e&&e[12]||null,c[9]=u||e&&e[9]||null,c[6]=o,c[16]=2==t.type?e[16]:c,c}function Fr(e,t,n,i,r,o){var s=n+19,a=e.data[s]||function(e,t,n,i,r,o){var s=Qt(),a=en(),l=a?s:s&&s.parent,u=e.data[n]=Ur(0,l&&l!==t?l:null,i,n,r,o);return null===e.firstChild&&(e.firstChild=u),s&&(!a||null!=s.child||null===u.parent&&2!==s.type?a||(s.next=u):s.child=u),u}(e,t,s,i,r,o);return Jt(a,!0),a}function Mr(e,t,n){dn(t,t[6]);try{var i=e.viewQuery;null!==i&&po(1,i,n);var r=e.template;null!==r&&Vr(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Rr(e,t),e.staticViewQueries&&po(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)lo(e,t[n])}(t,o)}finally{t[2]&=-5,yn()}}function zr(e,t,n,i){var r=t[2];if(256!=(256&r)){dn(t,t[6]);var o=nn();try{ar(t),Zt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Vr(e,t,n,2,i);var s=3==(3&r);if(!o)if(s){var a=e.preOrderCheckHooks;null!==a&&Cn(t,a,null)}else{var l=e.preOrderHooks;null!==l&&wn(t,l,0,null),xn(t,0)}if(function(e){for(var t=e[13];null!==t;){var n=void 0;if(jt(t)&&(n=t[2])>>1==-1){for(var i=9;i<t.length;i++){var r=t[i],o=r[1];or(r)&&zr(o,r,o.template,r[8])}0!=(1&n)&&so(t,e[16])}t=t[4]}}(t),null!==e.contentQueries&&Rr(e,t),!o)if(s){var u=e.contentCheckHooks;null!==u&&Cn(t,u)}else{var c=e.contentHooks;null!==c&&wn(t,c,1),xn(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var i=e.expandoStartIndex,r=-1,o=0;o<n.length;o++){var s=n[o];"number"==typeof s?s<=0?(bn(0-s),r=i+=9+n[++o]):i+=s:(null!==s&&(un(i,r),s(2,t[r])),r++)}}finally{bn(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)ao(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&po(2,f,i),!o)if(s){var d=e.viewCheckHooks;null!==d&&Cn(t,d)}else{var p=e.viewHooks;null!==p&&wn(t,p,2),xn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73)}finally{yn()}}}function Lr(e,t,n,i){var r=t[10],o=!nn(),s=rr(t);try{o&&!s&&r.begin&&r.begin(),s&&Mr(e,t,i),zr(e,t,n,i)}finally{o&&!s&&r.end&&r.end()}}function Vr(e,t,n,i,r){var o=kn();try{bn(-1),2&i&&t.length>19&&xr(e,t,0,nn()),n(i,r)}finally{bn(o)}}function Nr(e,t,n){if(Ht(t))for(var i=t.directiveEnd,r=t.directiveStart;r<i;r++){var o=e.data[r];o.contentQueries&&o.contentQueries(1,n[r],r)}}function Br(e,t,n){$t()&&(function(e,t,n,i){var r=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Zn(n,t),lr(i,t);for(var s=n.initialInputs,a=r;a<o;a++){var l=e.data[a],u=Wt(l);u&&to(t,n,l);var c=ni(t,e,a,n);lr(c,t),null!==s&&io(0,a-r,c,l,0,s),u&&(nr(n.index,t)[8]=c)}}(e,t,n,Ji(n,t)),128==(128&n.flags)&&function(e,t,n){var i=n.directiveStart,r=n.directiveEnd,o=e.expandoInstructions,s=e.firstCreatePass,a=n.index-19;try{bn(a);for(var l=i;l<r;l++){var u=e.data[l],c=t[l];null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs?Kr(u,c):s&&o.push(null)}}finally{bn(-1)}}(e,t,n))}function jr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ji,i=t.localNames;if(null!==i)for(var r=t.index+1,o=0;o<i.length;o+=2){var s=i[o+1],a=-1===s?n(t,e):e[s];e[r++]=a}}function Hr(e){return e.tView||(e.tView=Gr(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts))}function Gr(e,t,n,i,r,o,s,a,l,u){var c=19+i,h=c+r,f=function(e,t){for(var n=[],i=0;i<t;i++)n.push(i<e?null:_r);return n}(c,h);return f[1]={type:e,id:t,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:u}}function Ur(e,t,n,i,r,o){return{type:n,index:i,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Wr(e,t,n){for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function qr(e,t,n,i){var r=!1;if($t()){var o=function(e,t,n){var i=e.directiveRegistry,r=null;if(i)for(var o=0;o<i.length;o++){var s=i[o];mr(n,s.selectors,!1)&&(r||(r=[]),Xn(Zn(n,t),e,s.type),Wt(s)?(2&n.flags&&ur(n),Xr(e,n),r.unshift(s)):r.push(s))}return r}(e,t,n),s=null===i?null:{"":-1};if(null!==o){var a=0;r=!0,Jr(n,e.data.length,o.length);for(var l=0;l<o.length;l++){var u=o[l];u.providersResolver&&u.providersResolver(u)}Yr(e,n,o.length);for(var c=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Fn(n.mergedAttrs,d.hostAttrs),eo(e,t,d),Qr(e.data.length-1,d,s),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!c&&(d.onChanges||d.onInit||d.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-19),c=!0),h||!d.onChanges&&!d.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-19),h=!0),Zr(e,d),a+=d.hostVars}!function(e,t){for(var n=t.directiveEnd,i=e.data,r=t.attrs,o=[],s=null,a=null,l=t.directiveStart;l<n;l++){var u=i[l],c=u.inputs;o.push(null!==r?ro(c,r):null),s=Wr(c,l,s),a=Wr(u.outputs,l,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=a}(e,n),$r(e,t,a)}s&&function(e,t,n){if(t)for(var i=e.localNames=[],r=0;r<t.length;r+=2){var o=n[t[r+1]];if(null==o)throw new Error("Export of name '".concat(t[r+1],"' not found!"));i.push(t[r],o)}}(n,i,s)}return n.mergedAttrs=Fn(n.mergedAttrs,n.attrs),r}function Zr(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function $r(e,t,n){for(var i=0;i<n;i++)t.push(_r),e.blueprint.push(_r),e.data.push(null)}function Kr(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Yr(e,t,n){var i=19-t.index,r=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(i,r,n)}function Xr(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Qr(e,t,n){if(n){if(t.exportAs)for(var i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Wt(t)&&(n[""]=e)}}function Jr(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function eo(e,t,n){e.data.push(n);var i=n.factory||(n.factory=Vt(n.type)),r=new On(i,Wt(n),null);e.blueprint.push(r),t.push(r)}function to(e,t,n){var i=Ji(t,e),r=Hr(n),o=e[10],s=uo(e,Dr(e,r,null,n.onPush?64:16,i,t,o,o.createRenderer(i,n)));e[t.index]=s}function no(e,t,n,i,r,o,s){var a=Qi(e,r),l=r[11];if(null==n)An(l)?l.removeAttribute(a,t,s):a.removeAttribute(t);else{var u=er(i,e),c=null==o?Bn(n):o(n,u.tagName||"",t);An(l)?l.setAttribute(a,t,c,s):s?a.setAttributeNS(s,t,c):a.setAttribute(t,c)}}function io(e,t,n,i,r,o){var s=o[t];if(null!==s)for(var a=i.setInput,l=0;l<s.length;){var u=s[l++],c=s[l++],h=s[l++];null!==a?i.setInput(n,h,u,c):n[c]=h}}function ro(e,t){for(var n=null,i=0;i<t.length;){var r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function oo(e,t,n,i){return new Array(e,!0,-2,t,null,null,i,n,null)}function so(e,t){for(var n=e[5],i=0;i<n.length;i++){var r=n[i],o=r[3][3][16];if(o!==t&&0==(16&o[2])){var s=r[1];zr(s,r,s.template,r[8])}}}function ao(e,t){var n=nr(t,e);if(or(n)&&80&n[2]){var i=n[1];zr(i,n,i.template,n[8])}}function lo(e,t){var n=nr(t,e),i=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n),Mr(i,n,n[8])}function uo(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function co(e){for(;e;){e[2]|=64;var t=Cr(e);if(qt(e)&&!t)return e;e=t}return null}function ho(e,t,n){var i=t[10];i.begin&&i.begin();try{zr(e,t,e.template,n)}catch(r){throw yo(t,r),r}finally{i.end&&i.end()}}function fo(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],i=ir(n),r=i[1];Lr(r,i,r.template,n)}}(e[8])}function po(e,t,n){hn(0),t(e,n)}var vo=Promise.resolve(null);function go(e){return e[7]||(e[7]=[])}function mo(e){return e.cleanup||(e.cleanup=[])}function yo(e,t){var n=e[9],i=n?n.get(ci,null):null;i&&i.handleError(t)}function ko(e,t,n,i,r){for(var o=0;o<n.length;){var s=n[o++],a=n[o++],l=t[s],u=e.data[s];null!==u.setInput?u.setInput(l,r,i,a):l[a]=r}}function bo(e,t,n){var i=Qi(t,e),r=e[11];An(r)?r.setValue(i,n):i.textContent=n}function _o(e,t){var n=t[3];return-1===e.index?jt(n)?n:null:n}function Co(e,t){var n=_o(e,t);return n?Fo(t[11],n[7]):null}function wo(e,t,n,i,r){if(null!=i){var o,s=!1;jt(i)?o=i:Bt(i)&&(s=!0,i=i[0]);var a=Xi(i);0===e&&null!==n?null==r?Po(t,n,a):Ro(t,n,a,r||null):1===e&&null!==n?Ro(t,n,a,r||null):2===e?function(e,t,n){var i=Fo(e,t);i&&function(e,t,n,i){An(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,i,r){var o=n[7];o!==Xi(n)&&wo(t,e,i,o,r);for(var s=9;s<n.length;s++){var a=n[s];No(a[1],a,e,t,i,o)}}(t,e,o,n,r)}}function xo(e,t,n,i){var r=Co(e.node,t);r&&No(e,t,t[11],n?1:2,r,i)}function So(e,t){var n=e[5],i=n.indexOf(t);n.splice(i,1)}function To(e,t){if(!(e.length<=9)){var n=9+t,i=e[n];if(i){var r=i[17];null!==r&&r!==e&&So(r,i),t>0&&(e[n-1][4]=i[4]);var o=yt(e,9+t);xo(i[1],i,!1,null);var s=o[5];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Oo(e,t){if(!(256&t[2])){var n=t[11];An(n)&&n.destroyNode&&No(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Eo(e[1],e);for(;t;){var n=null;if(Bt(t))n=t[13];else{var i=t[9];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)Bt(t)&&Eo(t[1],t),t=Io(t,e);null===t&&(t=e),Bt(t)&&Eo(t[1],t),n=t&&t[4]}t=n}}(t)}}function Io(e,t){var n;return Bt(e)&&(n=e[6])&&2===n.type?_o(n,e):e[3]===t?null:e[3]}function Eo(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var i=0;i<n.length;i+=2){var r=t[n[i]];r instanceof On||n[i+1].call(r)}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var i=t[7],r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){var o=n[r+1],s="function"==typeof o?o(t):Xi(t[o]),a=i[n[r+2]],l=n[r+3];"boolean"==typeof l?s.removeEventListener(n[r],a,l):l>=0?i[l]():i[-l].unsubscribe(),r+=2}else n[r].call(i[n[r+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&An(t[11])&&t[11].destroy();var i=t[17];if(null!==i&&jt(t[3])){i!==t[3]&&So(i,t);var r=t[5];null!==r&&r.detachView(e)}}}function Ao(e,t,n){for(var i=t.parent;null!=i&&(4===i.type||5===i.type);)i=(t=i).parent;if(null==i){var r=n[6];return 2===r.type?Co(r,n):n[0]}if(t&&5===t.type&&4&t.flags)return Ji(t,n).parentNode;if(2&i.flags){var o=e.data,s=o[o[i.index].directiveStart].encapsulation;if(s!==xt.ShadowDom&&s!==xt.Native)return null}return Ji(i,n)}function Ro(e,t,n,i){An(e)?e.insertBefore(t,n,i):t.insertBefore(n,i,!0)}function Po(e,t,n){An(e)?e.appendChild(t,n):t.appendChild(n)}function Do(e,t,n,i){null!==i?Ro(e,t,n,i):Po(e,t,n)}function Fo(e,t){return An(e)?e.parentNode(t):t.parentNode}function Mo(e,t){if(2===e.type){var n=_o(e,t);return null===n?null:Lo(n.indexOf(t,9)-9,n)}return 4===e.type||5===e.type?Ji(e,t):null}function zo(e,t,n,i){var r=Ao(e,i,t);if(null!=r){var o=t[11],s=Mo(i.parent||t[6],t);if(Array.isArray(n))for(var a=0;a<n.length;a++)Do(o,r,n[a],s);else Do(o,r,n,s)}}function Lo(e,t){var n=9+e+1;if(n<t.length){var i=t[n],r=i[1].firstChild;if(null!==r)return function e(t,n){if(null!==n){var i=n.type;if(3===i)return Ji(n,t);if(0===i)return Lo(-1,t[n.index]);if(4===i||5===i){var r=n.child;if(null!==r)return e(t,r);var o=t[n.index];return jt(o)?Lo(-1,o):Xi(o)}var s=t[16],a=s[6],l=Cr(s),u=a.projection[n.projection];return null!=u?e(l,u):e(t,n.next)}return null}(i,r)}return t[7]}function Vo(e,t,n,i,r,o,s){for(;null!=n;){var a=i[n.index],l=n.type;s&&0===t&&(a&&lr(Xi(a),i),n.flags|=4),64!=(64&n.flags)&&(4===l||5===l?(Vo(e,t,n.child,i,r,o,!1),wo(t,e,r,a,o)):1===l?Bo(e,t,i,n,r,o):wo(t,e,r,a,o)),n=s?n.projectionNext:n.next}}function No(e,t,n,i,r,o){Vo(n,i,e.node.child,t,r,o,!1)}function Bo(e,t,n,i,r,o){var s=n[16],a=s[6].projection[i.projection];if(Array.isArray(a))for(var l=0;l<a.length;l++)wo(t,e,r,a[l],o);else Vo(e,t,a,s[3],r,o,!0)}function jo(e,t,n){An(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Ho(e,t,n){An(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var Go,Uo,Wo,qo=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}return _createClass(e,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Oo(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,i;t=this._lView[1],i=e,go(n=this._lView).push(i),t.firstCreatePass&&mo(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){co(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){ho(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){rn(!0);try{ho(e,t,n)}finally{rn(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,No(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,i,r){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==i;){var s=n[i.index];if(null!==s&&r.push(Xi(s)),jt(s))for(var a=9;a<s.length;a++){var l=s[a],u=l[1].firstChild;null!==u&&e(l[1],l,u,r)}var c=i.type;if(4===c||5===c)e(t,n,i.child,r);else if(1===c){var h=n[16],f=h[6],d=Cr(h),p=f.projection[i.projection];null!==p&&null!==d&&e(d[1],d,p,r,!0)}i=o?i.projectionNext:i.next}return r}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),e}(),Zo=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e)))._view=e,n}return _inherits(t,e),_createClass(t,[{key:"detectChanges",value:function(){fo(this._view)}},{key:"checkNoChanges",value:function(){!function(e){rn(!0);try{fo(e)}finally{rn(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),t}(qo);function $o(e,t,n){return Go||(Go=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(e)),new Go(Ji(t,n))}function Ko(e,t,n,i){return Uo||(Uo=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._declarationView=e,r._declarationTContainer=n,r.elementRef=i,r}return _inherits(t,e),_createClass(t,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Dr(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var i=this._declarationView[5];null!==i&&(n[5]=i.createEmbeddedView(t)),Mr(t,n,e);var r=new qo(n);return r._tViewNode=n[6],r}}]),t}(e)),0===n.type?new Uo(i,n,$o(t,n,i)):null}function Yo(e,t,n,i){var r;Wo||(Wo=function(e){function n(e,t,i){var r;return _classCallCheck(this,n),(r=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this)))._lContainer=e,r._hostTNode=t,r._hostView=i,r}return _inherits(n,e),_createClass(n,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"createEmbeddedView",value:function(e,t,n){var i=e.createEmbeddedView(t||{});return this.insert(i,n),i}},{key:"createComponent",value:function(e,t,n,i,r){var o=n||this.parentInjector;if(!r&&null==e.ngModule&&o){var s=o.get(pt,null);s&&(r=s)}var a=e.create(o,i,void 0,r);return this.insert(a.hostView,t),a}},{key:"insert",value:function(e,t){var n=e._lView,i=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),jt(n[3])){var r=this.indexOf(e);if(-1!==r)this.detach(r);else{var o=n[3],s=new Wo(o,o[6],o[3]);s.detach(s.indexOf(e))}}var a=this._adjustIndex(t);return function(e,t,n,i){var r=9+i,o=n.length;i>0&&(n[r-1][4]=t),i<o-9?(t[4]=n[r],mt(n,9+i,t)):(n.push(t),t[4]=null),t[3]=n;var s=t[17];null!==s&&n!==s&&function(e,t){var n=e[5],i=t[3][3][16];16!=(16&i[2])&&t[16]!==i&&(e[2]|=1),null===n?e[5]=[t]:n.push(t)}(s,t);var a=t[5];null!==a&&a.insertView(e),t[2]|=128}(i,n,this._lContainer,a),xo(i,n,!0,Lo(a,this._lContainer)),e.attachToViewContainerRef(this),mt(this._lContainer[8],a,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);(function(e,t){var n=To(e,t);n&&Oo(n[1],n)})(this._lContainer,t),yt(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=To(this._lContainer,t);return n&&null!=yt(this._lContainer[8],t)?new qo(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return $o(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new oi(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=Yn(this._hostTNode,this._hostView),t=Nn(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var i=n.parent.injectorIndex,r=n.parent;null!=r.parent&&i==r.parent.injectorIndex;)r=r.parent;return r}for(var o=Vn(e),s=t,a=t[6];o>1;)a=(s=s[15])[6],o--;return a}(e,this._hostView,this._hostTNode);return zn(e)&&null!=n?new oi(n,t):new oi(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-9}}]),n}(e));var o=i[n.index];if(jt(o))(function(e,t){e[2]=-2})(r=o);else{var s;if(4===n.type)s=Xi(o);else if(s=i[11].createComment(""),qt(i)){var a=i[11],l=Ji(n,i);Ro(a,Fo(a,l),s,function(e,t){return An(e)?e.nextSibling(t):t.nextSibling}(a,l))}else zo(i[1],i,s,n);i[n.index]=r=oo(o,i,s,n),uo(i,r)}return new Wo(r,n,i)}var Xo=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Qo()},e}(),Qo=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&Gt(e)){var i=nr(e.index,t);return new qo(i,i)}return 3===e.type||0===e.type||4===e.type||5===e.type?new qo(t[16],t):null}(Qt(),Kt(),e)},Jo=new et("Set Injector scope."),es={},ts={},ns=[],is=void 0;function rs(){return void 0===is&&(is=new dt),is}function os(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return new ss(e,n,t||rs(),i)}var ss=function(){function e(t,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&gt(n,(function(e){return r.processProvider(e,t,n)})),gt([t],(function(e){return r.processInjectorType(e,[],s)})),this.records.set(tt,us(void 0,this));var a=this.records.get(Jo);this.scope=null!=a?a.value:null,this.source=o||("object"==typeof t?null:Me(t))}return _createClass(e,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_e.Default;this.assertNotDestroyed();var i,r=st(this);try{if(!(n&_e.SkipSelf)){var o=this.records.get(e);if(void 0===o){var s=("function"==typeof(i=e)||"object"==typeof i&&i instanceof et)&&Oe(e);o=s&&this.injectableDefInScope(s)?us(as(e),es):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&_e.Self?rs():this.parent).get(e,t=n&_e.Optional&&t===nt?null:t)}catch(a){if("NullInjectorError"===a.name){if((a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(Me(e)),r)throw a;return function(e,t,n,i){var r=e.ngTempTokenPath;throw t.__source&&r.unshift(t.__source),e.message=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var r=Me(t);if(Array.isArray(t))r=t.map(Me).join(" -> ");else if("object"==typeof t){var o=[];for(var s in t)if(t.hasOwnProperty(s)){var a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Me(a)))}r="{".concat(o.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(r,"]: ").concat(e.replace(it,"\n  "))}("\n"+e.message,r,"R3InjectorError",i),e.ngTokenPath=r,e.ngTempTokenPath=null,e}(a,e,0,this.source)}throw a}finally{st(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(Me(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var i=this;if(!(e=Ne(e)))return!1;var r=Ee(e),o=null==r&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==n.indexOf(s);if(void 0!==o&&(r=Ee(o)),null==r)return!1;if(null!=r.imports&&!a){var l;n.push(s);try{gt(r.imports,(function(e){i.processInjectorType(e,t,n)&&(void 0===l&&(l=[]),l.push(e))}))}finally{}if(void 0!==l)for(var u=function(e){var t=l[e],n=t.ngModule,r=t.providers;gt(r,(function(e){return i.processProvider(e,n,r||ns)}))},c=0;c<l.length;c++)u(c)}this.injectorDefTypes.add(s),this.records.set(s,us(r.factory,es));var h=r.providers;if(null!=h&&!a){var f=e;gt(h,(function(e){return i.processProvider(e,f,h)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var i=hs(e=Ne(e))?e:Ne(e&&e.provide),r=function(e,t,n){return cs(e)?us(void 0,e.useValue):us(ls(e,t,n),es)}(e,t,n);if(hs(e)||!0!==e.multi){var o=this.records.get(i);o&&void 0!==o.multi&&cr()}else{var s=this.records.get(i);s?void 0===s.multi&&cr():((s=us(void 0,es,!0)).factory=function(){return ft(s.multi)},this.records.set(i,s)),i=e,s.multi.push(e)}this.records.set(i,r)}},{key:"hydrate",value:function(e,t){var n;return t.value===ts?function(e){throw new Error("Cannot instantiate cyclic dependency! ".concat(e))}(Me(e)):t.value===es&&(t.value=ts,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function as(e){var t=Oe(e),n=null!==t?t.factory:Vt(e);if(null!==n)return n;var i=Ee(e);if(null!==i)return i.factory;if(e instanceof et)throw new Error("Token ".concat(Me(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=kt(t,"?");throw new Error("Can't resolve all parameters for ".concat(Me(e),": (").concat(n.join(", "),")."))}var i=function(e){var t=e&&(e[Ae]||e[De]||e[Pe]&&e[Pe]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in v10. Please add @Injectable() to the "'.concat(n,'" class.')),t}return null}(e);return null!==i?function(){return i.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function ls(e,t,n){var i,r=void 0;if(hs(e)){var o=Ne(e);return Vt(o)||as(o)}if(cs(e))r=function(){return Ne(e.useValue)};else if((i=e)&&i.useFactory)r=function(){return e.useFactory.apply(e,_toConsumableArray(ft(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))r=function(){return ut(Ne(e.useExisting))};else{var s=Ne(e&&(e.useClass||e.provide));if(s||function(e,t,n){var i="";throw e&&t&&(i=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(Me(e),"'")+i)}(t,n,e),!function(e){return!!e.deps}(e))return Vt(s)||as(s);r=function(){return _construct(s,_toConsumableArray(ft(e.deps)))}}return r}function us(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function cs(e){return null!==e&&"object"==typeof e&&rt in e}function hs(e){return"function"==typeof e}var fs=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,r=os(e,t,n,i);return r._resolveInjectorDefTypes(),r}({name:n},t,e,n)},ds=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?fs(e,t,""):fs(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=nt,e.NULL=new dt,e.\u0275prov=xe({token:e,providedIn:"any",factory:function(){return ut(tt)}}),e.__NG_ELEMENT_ID__=-1,e}(),ps=new Map,vs=new Set;function gs(e){return"string"==typeof e?e:e.text()}function ms(e,t){for(var n=e.styles,i=e.classes,r=0,o=0;o<t.length;o++){var s=t[o];"number"==typeof s?r=s:1==r?i=ze(i,s):2==r&&(n=ze(n,s+": "+t[++o]+";"))}null!==n&&(e.styles=n),null!==i&&(e.classes=i)}var ys=null;function ks(){if(!ys){var e=qe.Symbol;if(e&&e.iterator)ys=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(ys=i)}}return ys}function bs(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}var _s=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Cs(e){return!!ws(e)&&(Array.isArray(e)||!(e instanceof Map)&&ks()in e)}function ws(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function xs(e,t,n){return e[t]=n}function Ss(e,t){return e[t]}function Ts(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Os(e,t,n,i){var r=Ts(e,t,n);return Ts(e,t+1,i)||r}function Is(e,t,n,i,r){var o=Os(e,t,n,i);return Ts(e,t+2,r)||o}function Es(e,t,n,i,r,o){var s=Os(e,t,n,i);return Os(e,t+2,r,o)||s}function As(e,t,n,i){var r=Kt();return Ts(r,an(),t)&&no(kn(),e,t,Yt(),r,n,i),As}function Rs(e,t,n,i,r,o,s,a){var l=Kt(),u=Yt(),c=e+19,h=u.firstCreatePass?function(e,t,n,i,r,o,s,a,l){var u=t.consts,c=Fr(t,n[6],e,0,s||null,sr(u,a));qr(t,n,c,sr(u,l)),_n(t,c);var h=c.tViews=Gr(2,-1,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u),f=Ur(0,null,2,-1,null,null);return f.injectorIndex=c.injectorIndex,h.node=f,null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(e,u,l,t,n,i,r,o,s):u.data[c];Jt(h,!1);var f=l[11].createComment("");zo(u,l,f,h),lr(f,l),uo(l,l[c]=oo(f,l,f,h)),Ut(h)&&Br(u,l,h),null!=s&&jr(l,h,a)}function Ps(e){return tr(Zt.lFrame.contextLView,e)}function Ds(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_e.Default,n=Kt();return null==n?ut(e,t):Qn(Qt(),n,Ne(e),t)}function Fs(){throw new Error("invalid")}function Ms(e,t,n){var i=Kt();if(Ts(i,an(),t)){var r=kn();!function(e,t,n,i,r,o,s,a){var l,u=Qi(n,t),c=er(e,n),h=c.inputs;if(null!=h&&(l=h[i]))ko(e,t,l,i,r),Gt(c)&&function(e,t){var n=nr(t,e);16&n[2]||(n[2]|=64)}(t,n+19);else if(3===c.type){i=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i);var f=t[11];r=null!=o?o(r,c.tagName||"",i):r,An(f)?f.setProperty(u,i,r):Dn(i)||(u.setProperty?u.setProperty(i,r):u[i]=r)}}(Yt(),i,r,e,t,n)}return Ms}function zs(e,t,n,i,r){var o=r?"class":"style";ko(e,n,t.inputs[o],o,i)}function Ls(e,t,n,i){var r=Kt(),o=Yt(),s=19+e,a=r[11],l=r[s]=Pr(t,a,Zt.lFrame.currentNamespace),u=o.firstCreatePass?function(e,t,n,i,r,o,s){var a=t.consts,l=sr(a,o),u=Fr(t,n[6],e,3,r,l);return qr(t,n,u,sr(a,s)),null!==u.mergedAttrs&&ms(u,u.mergedAttrs),null!==t.queries&&t.queries.elementStart(t,u),u}(e,o,r,0,t,n,i):o.data[s];Jt(u,!0);var c=u.mergedAttrs;null!==c&&Pn(a,l,c);var h=u.classes;null!==h&&Ho(a,l,h);var f=u.styles;null!==f&&jo(a,l,f),zo(o,r,l,u),0===Zt.lFrame.elementDepthCount&&lr(l,r),Zt.lFrame.elementDepthCount++,Ut(u)&&(Br(o,r,u),Nr(o,u,r)),null!==i&&jr(r,u)}function Vs(){var e=Qt();en()?tn():Jt(e=e.parent,!1);var t=e;Zt.lFrame.elementDepthCount--;var n=Yt();n.firstCreatePass&&(_n(n,e),Ht(e)&&n.queries.elementEnd(e)),null!==t.classes&&function(e){return 0!=(16&e.flags)}(t)&&zs(n,t,Kt(),t.classes,!0),null!==t.styles&&function(e){return 0!=(32&e.flags)}(t)&&zs(n,t,Kt(),t.styles,!1)}function Ns(e,t,n,i){Ls(e,t,n,i),Vs()}function Bs(e,t,n){var i=Kt(),r=Yt(),o=e+19,s=r.firstCreatePass?function(e,t,n,i,r){var o=t.consts,s=sr(o,i),a=Fr(t,n[6],e,4,"ng-container",s);return null!==s&&ms(a,s),qr(t,n,a,sr(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(e,r,i,t,n):r.data[o];Jt(s,!0);var a=i[o]=i[11].createComment("");zo(r,i,a,s),lr(a,i),Ut(s)&&(Br(r,i,s),Nr(r,s,i)),null!=n&&jr(i,s)}function js(){var e=Qt(),t=Yt();en()?tn():Jt(e=e.parent,!1),t.firstCreatePass&&(_n(t,e),Ht(e)&&t.queries.elementEnd(e))}function Hs(e,t,n){Bs(e,t,n),js()}function Gs(){return Kt()}function Us(e){return!!e&&"function"==typeof e.then}function Ws(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=Kt(),o=Yt(),s=Qt();return function(e,t,n,i,r,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7?arguments[7]:void 0,l=Ut(i),u=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),c=go(t),h=!0;if(3===i.type){var f=Ji(i,t),d=a?a(f):Tt,p=d.target||f,v=c.length,g=a?function(e){return a(Xi(e[i.index])).target}:i.index;if(An(n)){var m=null;if(!a&&l&&(m=function(e,t,n,i){var r=e.cleanup;if(null!=r)for(var o=0;o<r.length-1;o+=2){var s=r[o];if(s===n&&r[o+1]===i){var a=t[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,t,r,i.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=o,m.__ngLastListenerFn__=o,h=!1;else{o=Zs(i,t,o,!1);var y=n.listen(d.name||p,r,o);c.push(o,y),u&&u.push(r,g,v,v+1)}}else o=Zs(i,t,o,!0),p.addEventListener(r,o,s),c.push(o),u&&u.push(r,g,v,s)}var k,b=i.outputs;if(h&&null!==b&&(k=b[r])){var _=k.length;if(_)for(var C=0;C<_;C+=2){var w=t[k[C]][k[C+1]].subscribe(o),x=c.length;c.push(o,w),u&&u.push(r,i.index,x,-(x+1))}}}(o,r,r[11],s,e,t,n,i),Ws}function qs(e,t,n){try{return!1!==t(n)}catch(i){return yo(e,i),!1}}function Zs(e,t,n,i){return function r(o){if(o===Function)return n;var s=2&e.flags?nr(e.index,t):t;0==(32&t[2])&&co(s);for(var a=qs(t,n,o),l=r.__ngNextListenerFn__;l;)a=qs(t,l,o)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function $s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(Zt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Zt.lFrame.contextLView))[8]}(e)}function Ks(e,t){for(var n=null,i=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),r=0;r<t.length;r++){var o=t[r];if("*"!==o){if(null===i?mr(e,o,!0):yr(i,o))return r}else n=r}return n}function Ys(e){var t=Kt()[16][6];if(!t.projection)for(var n=t.projection=kt(e?e.length:1,null),i=n.slice(),r=t.child;null!==r;){var o=e?Ks(r,e):0;null!==o&&(i[o]?i[o].projectionNext=r:n[o]=r,i[o]=r),r=r.next}}function Xs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=Kt(),r=Yt(),o=Fr(r,i[6],e,1,null,n||null);null===o.projection&&(o.projection=t),tn(),function(e,t,n){Bo(t[11],0,t,n,Ao(e,n,t),Mo(n.parent||t[6],t))}(r,i,o)}var Qs=[];function Js(e,t,n,i,r){for(var o=e[n+1],s=null===t,a=i?Tr(o):Ir(o),l=!1;0!==a&&(!1===l||s);){var u=e[a+1];ea(e[a],t)&&(l=!0,e[a+1]=i?Ar(u):Or(u)),a=i?Tr(u):Ir(u)}l&&(e[n+1]=i?Or(o):Ar(o))}function ea(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ct(e,t)>=0}var ta={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function na(e){return e.substring(ta.key,ta.keyEnd)}function ia(e,t){var n=ta.textEnd;return n===t?-1:(t=ta.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ta.key=t,n),ra(e,t,n))}function ra(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function oa(e,t,n){return ua(e,t,n,!1),oa}function sa(e,t){return ua(e,t,null,!0),sa}function aa(e){!function(e,t,n,i){var r=Yt(),o=ln(2);r.firstUpdatePass&&ha(r,null,o,!0);var s=Kt();if(n!==_r&&Ts(s,o,n)){var a=r.data[kn()+19];if(ma(a,!0)&&!ca(r,o)){var l=a.classes;null!==l&&(n=ze(l,n||"")),zs(r,a,s,n,!0)}else!function(e,t,n,i,r,o,s,a){r===_r&&(r=Qs);for(var l=0,u=0,c=0<r.length?r[0]:null,h=0<o.length?o[0]:null;null!==c||null!==h;){var f=l<r.length?r[l+1]:void 0,d=u<o.length?o[u+1]:void 0,p=null,v=void 0;c===h?(l+=2,u+=2,f!==d&&(p=h,v=d)):null===h||null!==c&&c<h?(l+=2,p=c):(u+=2,p=h,v=d),null!==p&&pa(e,t,n,i,p,v,!0,a),c=l<r.length?r[l]:null,h=u<o.length?o[u]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function(e,t,n){if(null==n||""===n)return Qs;var i=[],r=mi(n);if(Array.isArray(r))for(var o=0;o<r.length;o++)e(i,r[o],!0);else if("object"==typeof r)for(var s in r)r.hasOwnProperty(s)&&e(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(e,t,n),0,o)}}(bt,la,e)}function la(e,t){for(var n=function(e){return function(e){ta.key=0,ta.keyEnd=0,ta.value=0,ta.valueEnd=0,ta.textEnd=e.length}(e),ia(e,ra(e,0,ta.textEnd))}(t);n>=0;n=ia(t,n))bt(e,na(t),!0)}function ua(e,t,n,i){var r,o,s=Kt(),a=Yt(),l=ln(2);(a.firstUpdatePass&&ha(a,e,l,i),t!==_r&&Ts(s,l,t))&&(null==n&&(r=null===(o=Zt.lFrame)?null:o.currentSanitizer)&&(n=r),pa(a,a.data[kn()+19],s,s[11],e,s[l+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=Me(mi(e)))),e}(t,n),i,l))}function ca(e,t){return t>=e.expandoStartIndex}function ha(e,t,n,i){var r=e.data;if(null===r[n+1]){var o=r[kn()+19],s=ca(e,n);ma(o,i)&&null===t&&!s&&(t=!1),t=function(e,t,n,i){var r=function(e){var t=Zt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=da(n=fa(null,e,t,n,i),t.attrs,i),o=null);else{var s=t.directiveStylingLast;if(-1===s||e[s]!==r)if(n=fa(r,e,t,n,i),null===o){var a=function(e,t,n){var i=n?t.classBindings:t.styleBindings;if(0!==Ir(i))return e[Tr(i)]}(e,t,i);void 0!==a&&Array.isArray(a)&&function(e,t,n,i){e[Tr(n?t.classBindings:t.styleBindings)]=i}(e,t,i,a=da(a=fa(null,e,t,a[1],i),t.attrs,i))}else o=function(e,t,n){for(var i=void 0,r=t.directiveEnd,o=1+t.directiveStylingLast;o<r;o++)i=da(i,e[o].hostAttrs,n);return da(i,t.attrs,n)}(e,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),n}(r,o,t,i),function(e,t,n,i,r,o){var s=o?t.classBindings:t.styleBindings,a=Tr(s),l=Ir(s);e[i]=n;var u,c=!1;if(Array.isArray(n)){var h=n;(null===(u=h[1])||Ct(h,u)>0)&&(c=!0)}else u=n;if(r)if(0!==l){var f=Tr(e[a+1]);e[i+1]=Sr(f,a),0!==f&&(e[f+1]=Er(e[f+1],i)),e[a+1]=131071&e[a+1]|i<<17}else e[i+1]=Sr(a,0),0!==a&&(e[a+1]=Er(e[a+1],i)),a=i;else e[i+1]=Sr(l,0),0===a?a=i:e[l+1]=Er(e[l+1],i),l=i;c&&(e[i+1]=Or(e[i+1])),Js(e,u,i,!0),Js(e,u,i,!1),function(e,t,n,i,r){var o=r?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Ct(o,t)>=0&&(n[i+1]=Ar(n[i+1]))}(t,u,e,i,o),s=Sr(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,n,s,i)}}function fa(e,t,n,i,r){var o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=da(i,(o=t[a]).hostAttrs,r),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),i}function da(e,t,n){var i=n?1:2,r=-1;if(null!==t)for(var o=0;o<t.length;o++){var s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),bt(e,s,!!n||t[++o]))}return void 0===e?null:e}function pa(e,t,n,i,r,o,s,a){if(3===t.type){var l=e.data,u=l[a+1];ga(1==(1&u)?va(l,t,n,r,Ir(u),s):void 0)||(ga(o)||2==(2&u)&&(o=va(l,null,n,r,a,s)),function(e,t,n,i,r){var o=An(e);if(t)r?o?e.addClass(n,i):n.classList.add(i):o?e.removeClass(n,i):n.classList.remove(i);else{var s=-1==i.indexOf("-")?void 0:2;null==r?o?e.removeStyle(n,i,s):n.style.removeProperty(i):o?e.setStyle(n,i,r,s):n.style.setProperty(i,r)}}(i,s,Qi(kn(),n),r,o))}}function va(e,t,n,i,r,o){for(var s=null===t,a=void 0;r>0;){var l=e[r],u=Array.isArray(l),c=u?l[1]:l,h=null===c,f=n[r+1];f===_r&&(f=h?Qs:void 0);var d=h?_t(f,i):c===i?f:void 0;if(u&&!ga(d)&&(d=_t(l,i)),ga(d)&&(a=d,s))return a;var p=e[r+1];r=s?Tr(p):Ir(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(a=_t(v,i))}return a}function ga(e){return void 0!==e}function ma(e,t){return 0!=(e.flags&(t?16:32))}function ya(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Kt(),i=Yt(),r=e+19,o=i.firstCreatePass?Fr(i,n[6],e,3,null,null):i.data[r],s=n[r]=function(e,t){return An(t)?t.createText(e):t.createTextNode(e)}(t,n[11]);zo(i,n,s,o),Jt(o,!1)}function ka(e){return ba("",e,""),ka}function ba(e,t,n){var i=Kt(),r=function(e,t,n,i){return Ts(e,an(),n)?t+Bn(n)+i:_r}(i,e,t,n);return r!==_r&&bo(i,kn(),r),ba}function _a(e,t,n,i,r){var o=Kt(),s=function(e,t,n,i,r,o){var s=Os(e,sn(),n,r);return ln(2),s?t+Bn(n)+i+Bn(r)+o:_r}(o,e,t,n,i,r);return s!==_r&&bo(o,kn(),s),_a}function Ca(e,t,n,i,r,o,s){var a=Kt(),l=function(e,t,n,i,r,o,s,a){var l=Is(e,sn(),n,r,s);return ln(3),l?t+Bn(n)+i+Bn(r)+o+Bn(s)+a:_r}(a,e,t,n,i,r,o,s);return l!==_r&&bo(a,kn(),l),Ca}function wa(e,t,n,i,r,o,s,a,l,u,c){var h=Kt(),f=function(e,t,n,i,r,o,s,a,l,u,c,h){var f=sn(),d=Es(e,f,n,r,s,l);return d=Ts(e,f+4,c)||d,ln(5),d?t+Bn(n)+i+Bn(r)+o+Bn(s)+a+Bn(l)+u+Bn(c)+h:_r}(h,e,t,n,i,r,o,s,a,l,u,c);return f!==_r&&bo(h,kn(),f),wa}function xa(e,t){var n=ir(e)[1],i=n.data.length-1;_n(n,{directiveStart:i,directiveEnd:i+1})}function Sa(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,i=[e];t;){var r=void 0;if(Wt(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");r=t.\u0275dir}if(r){if(n){i.push(r);var o=e;o.inputs=Ta(e.inputs),o.declaredInputs=Ta(e.declaredInputs),o.outputs=Ta(e.outputs);var s=r.hostBindings;s&&Ea(e,s);var a=r.viewQuery,l=r.contentQueries;if(a&&Oa(e,a),l&&Ia(e,l),we(e.inputs,r.inputs),we(e.declaredInputs,r.declaredInputs),we(e.outputs,r.outputs),Wt(r)&&r.data.animation){var u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}o.afterContentChecked=o.afterContentChecked||r.afterContentChecked,o.afterContentInit=e.afterContentInit||r.afterContentInit,o.afterViewChecked=e.afterViewChecked||r.afterViewChecked,o.afterViewInit=e.afterViewInit||r.afterViewInit,o.doCheck=e.doCheck||r.doCheck,o.onDestroy=e.onDestroy||r.onDestroy,o.onInit=e.onInit||r.onInit}var c=r.features;if(c)for(var h=0;h<c.length;h++){var f=c[h];f&&f.ngInherit&&f(e),f===Sa&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,i=e.length-1;i>=0;i--){var r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Fn(r.hostAttrs,n=Fn(n,r.hostAttrs))}}(i)}function Ta(e){return e===Tt?{}:e===Ot?[]:e}function Oa(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,i){t(e,i),n(e,i)}:t}function Ia(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,i,r){t(e,i,r),n(e,i,r)}:t}function Ea(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,i){t(e,i),n(e,i)}:t}var Aa=function(){function e(t,n,i){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=i}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function Ra(){return Pa.ngInherit=!0,Pa}function Pa(e){e.type.prototype.ngOnChanges&&(e.setInput=Da,e.onChanges=function(){var e=Fa(this),t=e&&e.current;if(t){var n=e.previous;if(n===Tt)e.previous=t;else for(var i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}})}function Da(e,t,n,i){var r=Fa(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Tt,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],l=s[a];o[a]=new Aa(l&&l.currentValue,t,s===Tt),e[i]=t}function Fa(e){return e.__ngSimpleChanges__||null}function Ma(e,t,n,i,r){if(e=Ne(e),Array.isArray(e))for(var o=0;o<e.length;o++)Ma(e[o],t,n,i,r);else{var s=Yt(),a=Kt(),l=hs(e)?e:Ne(e.provide),u=ls(e),c=Qt(),h=65535&c.providerIndexes,f=c.directiveStart,d=c.providerIndexes>>16;if(hs(e)||!e.multi){var p=new On(u,r,Ds),v=Va(l,t,r?h:h+d,f);-1===v?(Xn(Zn(c,a),s,l),za(s,e,t.length),t.push(l),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=65536),n.push(p),a.push(p)):(n[v]=p,a[v]=p)}else{var g=Va(l,t,h+d,f),m=Va(l,t,h,h+d),y=g>=0&&n[g],k=m>=0&&n[m];if(r&&!k||!r&&!y){Xn(Zn(c,a),s,l);var b=function(e,t,n,i,r){var o=new On(e,n,Ds);return o.multi=[],o.index=t,o.componentProviders=0,La(o,r,i&&!n),o}(r?Ba:Na,n.length,r,i,u);!r&&k&&(n[m].providerFactory=b),za(s,e,t.length),t.push(l),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=65536),n.push(b),a.push(b)}else za(s,e,g>-1?g:m),La(n[r?m:g],u,!r&&i);!r&&i&&k&&n[m].componentProviders++}}}function za(e,t,n){if(hs(t)||t.useClass){var i=(t.useClass||t).prototype.ngOnDestroy;i&&(e.destroyHooks||(e.destroyHooks=[])).push(n,i)}}function La(e,t,n){e.multi.push(t),n&&e.componentProviders++}function Va(e,t,n,i){for(var r=n;r<i;r++)if(t[r]===e)return r;return-1}function Na(e,t,n,i){return ja(this.multi,[])}function Ba(e,t,n,i){var r,o=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,a=ni(n,n[1],this.providerFactory.index,i);ja(o,r=a.slice(0,s));for(var l=s;l<a.length;l++)r.push(a[l])}else ja(o,r=[]);return r}function ja(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ha(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,i){return function(e,t,n){var i=Yt();if(i.firstCreatePass){var r=Wt(e);Ma(n,i.data,i.blueprint,r,!0),Ma(t,i.data,i.blueprint,r,!1)}}(n,i?i(e):e,t)}}}var Ga=function e(){_classCallCheck(this,e)},Ua=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(Me(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),Wa=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new Ua,e}(),qa=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return Za(e)},e}(),Za=function(e){return $o(e,Qt(),Kt())},$a=function e(){_classCallCheck(this,e)},Ka=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),Ya=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Xa()},e}(),Xa=function(){var e=Kt(),t=nr(Qt().index,e);return function(e){var t=e[11];if(An(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Bt(t)?t:e)},Qa=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=xe({token:e,providedIn:"root",factory:function(){return null}}),e}(),Ja=new function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("9.0.5"),el=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return Cs(e)}},{key:"create",value:function(e){return new nl(e)}}]),e}(),tl=function(e,t){return t},nl=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||tl}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,i=0,r=null;t||n;){var o=!n||t&&t.currentIndex<sl(n,i,r)?t:n,s=sl(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{r||(r=[]);var l=s-i,u=a-i;if(l!=u){for(var c=0;c<l;c++){var h=c<r.length?r[c]:r[c]=0,f=h+c;u<=f&&f<l&&(r[c]=h+1)}r[o.previousIndex]=u-l}}s!==a&&e(o,s,a)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Cs(e))throw new Error("Error trying to diff '".concat(Me(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,i,r,o=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(var a=0;a<this.length;a++)i=e[a],r=this._trackByFn(a,i),null!==o&&bs(o.trackById,r)?(s&&(o=this._verifyReinsertion(o,i,r,a)),bs(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,r,a),s=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var i,r=e[ks()]();!(i=r.next()).done;)t(i.value)}(e,(function(e){r=t._trackByFn(n,e),null!==o&&bs(o.trackById,r)?(s&&(o=t._verifyReinsertion(o,e,r,n)),bs(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,r,n),s=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,i){var r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(bs(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(bs(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,i)):e=this._addAfter(new il(t,n),r,i),e}},{key:"_verifyReinsertion",value:function(e,t,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var i=e._prevRemoved,r=e._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ol),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ol),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),il=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},rl=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&bs(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),ol=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new rl,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function sl(e,t,n){var i=e.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+t+r}var al=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||ws(e)}},{key:"create",value:function(){return new ll}}]),e}(),ll=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||ws(e)))throw new Error("Error trying to diff '".concat(Me(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,i){if(n&&n.key===i)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var r=t._getOrCreateRecordForKey(i,e);n=t._insertBeforeOrAppend(n,r)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var o=new ul(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){bs(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),ul=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},cl=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new be,new ye]]}}}]),e}();return e.\u0275prov=xe({token:e,providedIn:"root",factory:function(){return new e([new el])}}),e}(),hl=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new be,new ye]]}}}]),e}();return e.\u0275prov=xe({token:e,providedIn:"root",factory:function(){return new e([new al])}}),e}(),fl=[new al],dl=new cl([new el]),pl=new hl(fl),vl=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return gl(e,qa)},e}(),gl=function(e,t){return Ko(e,t,Qt(),Kt())},ml=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return yl(e,qa)},e}(),yl=function(e,t){return Yo(e,t,Qt(),Kt())},kl={},bl=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).ngModule=e,n}return _inherits(t,e),_createClass(t,[{key:"resolveComponentFactory",value:function(e){var t=Lt(e);return new wl(t,this.ngModule)}}]),t}(Wa);function _l(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Cl=new et("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Hn}}),wl=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).componentDef=e,i.ngModule=n,i.componentType=e.type,i.selector=e.selectors.map(br).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!n,i}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e,t,n,i){var r,o,s=(i=i||this.ngModule)?function(e,t){return{get:function(n,i,r){var o=e.get(n,kl,r);return o!==kl||i===kl?o:t.get(n,i,r)}}}(e,i.injector):e,a=s.get($a,Rn),l=s.get(Qa,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(An(e))return e.selectRootElement(t,n===xt.ShadowDom);var i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(u,n,this.componentDef.encapsulation):Pr(c,a.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:Hn,clean:vo,playerHandler:null,flags:0},v=Gr(0,-1,null,1,0,null,null,null,null,null),g=Dr(null,v,p,f,null,null,a,u,l,s);dn(g,null);try{var m=function(e,t,n,i,r,o){var s=n[1];n[19]=e;var a=Fr(s,null,0,3,null,null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(ms(a,l),null!==e&&(Pn(r,e,l),null!==a.classes&&Ho(r,e,a.classes),null!==a.styles&&jo(r,e,a.styles)));var u=i.createRenderer(e,t),c=Dr(n,Hr(t),null,t.onPush?64:16,n[19],a,i,u,void 0);return s.firstCreatePass&&(Xn(Zn(a,n),s,t.type),Xr(s,a),Jr(a,n.length,1)),uo(n,c),n[19]=c}(h,this.componentDef,g,a,u);if(h)if(n)Pn(u,h,["ng-version",Ja.full]);else{var y=function(e){for(var t=[],n=[],i=1,r=2;i<e.length;){var o=e[i];if("string"==typeof o)2===r?""!==o&&t.push(o,e[++i]):8===r&&n.push(o);else{if(!vr(r))break;r=o}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),k=y.attrs,b=y.classes;k&&Pn(u,h,k),b&&b.length>0&&Ho(u,h,b.join(" "))}o=er(g[1],0),t&&(o.projection=t.map((function(e){return Array.from(e)}))),r=function(e,t,n,i,r){var o=n[1],s=function(e,t,n){var i=Qt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Yr(e,i,1),eo(e,t,n));var r=ni(t,e,t.length-1,i);lr(r,t);var o=Ji(i,t);return o&&lr(o,t),r}(o,n,t);i.components.push(s),e[8]=s,r&&r.forEach((function(e){return e(s,t)})),t.contentQueries&&t.contentQueries(1,s,n.length-1);var a=Qt();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){bn(a.index-19);var l=n[1];Zr(l,t),$r(l,n,t.hostVars),Kr(t,s)}return s}(m,this.componentDef,g,p,[xa]),Mr(v,g,null)}finally{yn()}var _=new xl(this.componentType,r,$o(qa,o,g),g,o);return n&&!d||(_.hostView._tViewNode.child=o),_}},{key:"inputs",get:function(){return _l(this.componentDef.inputs)}},{key:"outputs",get:function(){return _l(this.componentDef.outputs)}}]),t}(Ga),xl=function(e){function t(e,n,i,r,o){var s,a,l,u;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).location=i,s._rootLView=r,s._tNode=o,s.destroyCbs=[],s.instance=n,s.hostView=s.changeDetectorRef=new Zo(r),s.hostView._tViewNode=(a=r[1],l=r,null==(u=a.node)&&(a.node=u=Ur(0,null,2,-1,null,null)),l[6]=u),s.componentType=e,s}return _inherits(t,e),_createClass(t,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}},{key:"injector",get:function(){return new oi(this._tNode,this._rootLView)}}]),t}(function(){return function e(){_classCallCheck(this,e)}}()),Sl=void 0,Tl=["en",[["a","p"],["AM","PM"],Sl],[["AM","PM"],Sl,Sl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sl,"{1} 'at' {0}",Sl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Ol={};function Il(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=El(t);if(n)return n;var i=t.split("-")[0];if(n=El(i))return n;if("en"===i)return Tl;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function El(e){return e in Ol||(Ol[e]=qe.ng&&qe.ng.common&&qe.ng.common.locales&&qe.ng.common.locales[e]),Ol[e]}var Al=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),Rl=/\ufffd(\d+):?\d*\ufffd/gi,Pl=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi;function Dl(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=[null,null],o=e.split(Rl),s=0,a=0;a<o.length;a++){var l=o[a];if(1&a){var u=parseInt(l,10);r.push(-1-u),s|=Fl(u)}else""!==l&&r.push(l)}return r.push(t<<2|(n?1:0)),n&&r.push(n,i),r[0]=s,r[1]=r.length-2,r}function Fl(e){return 1<<Math.min(e,31)}function Ml(e,t){!function(e,t,n,i){for(var r=Qt().index-19,o=[],s=0;s<i.length;s+=2)for(var a=i[s],l=i[s+1].split(Pl),u=0;u<l.length;u++){var c=l[u];if(1&u)throw new Error("ICU expressions are not yet supported in attributes");if(""!==c)if(c.match(Rl))t.firstCreatePass&&null===t.data[n+19]&&vt(Dl(c,r,a),o);else{var h=er(t,r);3===h.type&&no(r,a,c,t,e);var f=null!==h.inputs&&h.inputs[a];f&&ko(t,e,f,a,c)}}t.firstCreatePass&&null===t.data[n+19]&&(t.data[n+19]=o)}(Kt(),Yt(),e,t)}function zl(e){var t;null==(t=e)&&function(e,t,n,i){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined")+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var Ll=new Map,Vl=function(e){function t(e,n){var i;_classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._parent=n,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new bl(_assertThisInitialized(i));var r=Nt(e),o=e[Xe]||null;return o&&zl(o),i._bootstrapComponents=Gn(r.bootstrap),i._r3Injector=os(e,n,[{provide:pt,useValue:_assertThisInitialized(i)},{provide:Wa,useValue:i.componentFactoryResolver}],Me(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return _inherits(t,e),_createClass(t,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ds.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_e.Default;return e===ds||e===pt||e===tt?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),t}(pt),Nl=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).moduleType=e,null!==Nt(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(Me(t)," vs ").concat(Me(t.name)))})(n,Ll.get(n),t),Ll.set(n,t)}var i=t.\u0275mod.imports;i instanceof Function&&(i=i()),i&&i.forEach((function(t){return e(t)}))}(e),n}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e){return new Vl(this.moduleType,e)}}]),t}(function(){return function e(){_classCallCheck(this,e)}}());function Bl(e,t,n){var i=on()+e,r=Kt();return r[i]===_r?xs(r,i,n?t.call(n):t()):Ss(r,i)}function jl(e,t,n,i){return Zl(Kt(),on(),e,t,n,i)}function Hl(e,t,n,i,r){return $l(Kt(),on(),e,t,n,i,r)}function Gl(e,t,n,i,r,o){return Kl(Kt(),on(),e,t,n,i,r,o)}function Ul(e,t,n,i,r,o,s){return function(e,t,n,i,r,o,s,a,l){var u=t+n;return Es(e,u,r,o,s,a)?xs(e,u+4,l?i.call(l,r,o,s,a):i(r,o,s,a)):Ss(e,u+4)}(Kt(),on(),e,t,n,i,r,o,s)}function Wl(e,t,n,i,r,o,s,a,l){var u=on()+e,c=Kt(),h=Es(c,u,n,i,r,o);return Os(c,u+4,s,a)||h?xs(c,u+6,l?t.call(l,n,i,r,o,s,a):t(n,i,r,o,s,a)):Ss(c,u+6)}function ql(e,t,n,i,r,o,s,a,l,u){var c=on()+e,h=Kt(),f=Es(h,c,n,i,r,o);return Is(h,c+4,s,a,l)||f?xs(h,c+7,u?t.call(u,n,i,r,o,s,a,l):t(n,i,r,o,s,a,l)):Ss(h,c+7)}function Zl(e,t,n,i,r,o){var s=t+n;return Ts(e,s,r)?xs(e,s+1,o?i.call(o,r):i(r)):Ss(e,s+1)}function $l(e,t,n,i,r,o,s){var a=t+n;return Os(e,a,r,o)?xs(e,a+2,s?i.call(s,r,o):i(r,o)):Ss(e,a+2)}function Kl(e,t,n,i,r,o,s,a){var l=t+n;return Is(e,l,r,o,s)?xs(e,l+3,a?i.call(a,r,o,s):i(r,o,s)):Ss(e,l+3)}function Yl(e,t){var n,i=Yt(),r=e+19;i.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var i=t[n];if(e===i.name)return i}throw new Error("The pipe '".concat(e,"' could not be found!"))}(t,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(r,n.onDestroy)):n=i.data[r];var o=n.factory||(n.factory=Vt(n.type)),s=at(Ds),a=o();return at(s),function(e,t,n,i){var r=n+19;r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=i}(i,Kt(),e,a),a}function Xl(e,t,n){var i=Kt(),r=tr(i,e);return eu(i,Jl(i,e)?Zl(i,on(),t,r.transform,n,r):r.transform(n))}function Ql(e,t,n,i,r){var o=Kt(),s=tr(o,e);return eu(o,Jl(o,e)?Kl(o,on(),t,s.transform,n,i,r,s):s.transform(n,i,r))}function Jl(e,t){return e[1].data[t+19].pure}function eu(e,t){return _s.isWrapped(t)&&(t=_s.unwrap(t),e[sn()]=_r),t}var tu=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).__isAsync=n,e}return _inherits(t,e),_createClass(t,[{key:"emit",value:function(e){_get(_getPrototypeOf(t.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,n,i){var r,o=function(e){return null},s=function(){return null};e&&"object"==typeof e?(r=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(r=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},n&&(o=this.__isAsync?function(e){setTimeout((function(){return n(e)}))}:function(e){n(e)}),i&&(s=this.__isAsync?function(){setTimeout((function(){return i()}))}:function(){i()}));var a=_get(_getPrototypeOf(t.prototype),"subscribe",this).call(this,r,o,s);return e instanceof O&&e.add(a),a}}]),t}(j);function nu(){return this._results[ks()]()}var iu=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new tu,this.length=0;var t=ks(),n=e.prototype;n[t]||(n[t]=nu)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var i=0;i<t.length;i++){var r=t[i];Array.isArray(r)?(n===t&&(n=t.slice(0,i)),e(r,n)):n!==t&&n.push(r)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),ru=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),ou=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[],o=0;o<i;o++){var s=n.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new e(r)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Cu(e,t).matches&&this.queries[t].setDirty()}}]),e}(),su=function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.predicate=t,this.descendants=n,this.isStatic=i,this.read=r},au=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,i=0;i<this.length;i++){var r=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"track",value:function(e){this.queries.push(e)}},{key:"length",get:function(){return this.queries.length}}]),e}(),lu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,i=0;i<n.length;i++)this.matchTNodeWithReadOption(e,t,uu(t,n[i]));else{var r=this.metadata.predicate;r===vl?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ti(t,e,r,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var i=this.metadata.read;if(null!==i)if(i===qa||i===ml||i===vl&&0===t.type)this.addMatch(t.index,-2);else{var r=ti(t,e,i,!1,!1);null!==r&&this.addMatch(t.index,r)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function uu(e,t){var n=e.localNames;if(null!==n)for(var i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function cu(e,t,n,i){return-1===n?function(e,t){return 3===e.type||4===e.type?$o(qa,e,t):0===e.type?Ko(vl,qa,e,t):null}(t,e):-2===n?function(e,t,n){return n===qa?$o(qa,t,e):n===vl?Ko(vl,qa,t,e):n===ml?Yo(ml,qa,t,e):void 0}(e,t,i):ni(e,e[1],n,t)}function hu(e,t,n,i){var r=t[5].queries[i];if(null===r.matches){for(var o=e.data,s=n.matches,a=[],l=0;l<s.length;l+=2){var u=s[l];a.push(u<0?null:cu(t,o[u],s[l+1],n.metadata.read))}r.matches=a}return r.matches}function fu(e){var t=Kt(),n=Yt(),i=cn();hn(i+1);var r=Cu(n,i);if(e.dirty&&rr(t)===r.metadata.isStatic){if(null===r.matches)e.reset([]);else{var o=r.crossesNgTemplate?function e(t,n,i,r){var o=t.queries.getByIndex(i),s=o.matches;if(null!==s)for(var a=hu(t,n,o,i),l=0;l<s.length;l+=2){var u=s[l];if(u>0)r.push(a[l/2]);else{for(var c=s[l+1],h=n[-u],f=9;f<h.length;f++){var d=h[f];d[17]===d[3]&&e(d[1],d,c,r)}if(null!==h[5])for(var p=h[5],v=0;v<p.length;v++){var g=p[v];e(g[1],g,c,r)}}}return r}(n,t,i,[]):hu(n,t,r,i);e.reset(o),e.notifyOnChanges()}return!0}return!1}function du(e,t,n){vu(Yt(),Kt(),e,t,n,!0)}function pu(e,t,n){vu(Yt(),Kt(),e,t,n,!1)}function vu(e,t,n,i,r,o){e.firstCreatePass&&(_u(e,new su(n,i,o,r),-1),o&&(e.staticViewQueries=!0)),bu(e,t)}function gu(e,t,n,i){yu(Yt(),Kt(),t,n,i,!1,Qt(),e)}function mu(e,t,n,i){yu(Yt(),Kt(),t,n,i,!0,Qt(),e)}function yu(e,t,n,i,r,o,s,a){e.firstCreatePass&&(_u(e,new su(n,i,o,r),s.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,a),o&&(e.staticContentQueries=!0)),bu(e,t)}function ku(){return e=Kt(),t=cn(),e[5].queries[t].queryList;var e,t}function bu(e,t){var n=new iu;!function(e,t,n,i){var r=go(t);r.push(n),e.firstCreatePass&&mo(e).push(i,r.length-1)}(e,t,n,n.destroy),null===t[5]&&(t[5]=new ou),t[5].queries.push(new ru(n))}function _u(e,t,n){null===e.queries&&(e.queries=new au),e.queries.track(new lu(t,n))}function Cu(e,t){return e.queries.getByIndex(t)}function wu(e,t){return Ko(vl,qa,e,t)}var xu=new et("Application Initializer"),Su=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();Us(r)&&t.push(r)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ut(xu,8))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),Tu=new et("AppId"),Ou={provide:Tu,useFactory:function(){return"".concat(Iu()).concat(Iu()).concat(Iu())},deps:[]};function Iu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Eu=new et("Platform Initializer"),Au=new et("Platform ID"),Ru=new et("appBootstrapListener"),Pu=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),Du=new et("LocaleId"),Fu=new et("DefaultCurrencyCode"),Mu=function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n},zu=function(e){return new Nl(e)},Lu=zu,Vu=function(e){return Promise.resolve(zu(e))},Nu=function(e){var t=zu(e),n=Gn(Nt(e).declarations).reduce((function(e,t){var n=Lt(t);return n&&e.push(new wl(n)),e}),[]);return new Mu(t,n)},Bu=Nu,ju=function(e){return Promise.resolve(Nu(e))},Hu=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=Lu,this.compileModuleAsync=Vu,this.compileModuleAndAllComponentsSync=Bu,this.compileModuleAndAllComponentsAsync=ju}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),Gu=new et("compilerOptions"),Uu=Promise.resolve(0);function Wu(e){"undefined"==typeof Zone?Uu.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var qu=function(){function e(t){var n,i,r=t.enableLongStackTrace,o=void 0!==r&&r,s=t.shouldCoalesceEventChangeDetection,a=void 0!==s&&s;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tu(!1),this.onMicrotaskEmpty=new tu(!1),this.onStable=new tu(!1),this.onError=new tu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=a,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=qe.requestAnimationFrame,t=qe.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,i=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(qe,(function(){e.lastRequestAnimationFrameId=-1,Yu(e),Ku(e)})),Yu(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:i},onInvokeTask:function(e,t,r,o,s,a){try{return Xu(n),e.invokeTask(r,o,s,a)}finally{i&&"eventTask"===o.type&&i(),Qu(n)}},onInvoke:function(e,t,i,r,o,s,a){try{return Xu(n),e.invoke(i,r,o,s,a)}finally{Qu(n)}},onHasTask:function(e,t,i,r){e.hasTask(i,r),t===i&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,Yu(n),Ku(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:function(e,t,i,r){return e.handleError(i,r),n.runOutsideAngular((function(){return n.onError.emit(r)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,i){var r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,e,$u,Zu,Zu);try{return r.runTask(o,t,n)}finally{r.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function Zu(){}var $u={};function Ku(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function Yu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function Xu(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Qu(e){e._nesting--,Ku(e)}var Ju,ec=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tu,this.onMicrotaskEmpty=new tu,this.onStable=new tu,this.onError=new tu}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,i){return e.apply(t,n)}}]),e}(),tc=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){qu.assertNotInAngularZone(),Wu((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Wu((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var i=this,r=-1;t&&t>0&&(r=setTimeout((function(){i._callbacks=i._callbacks.filter((function(e){return e.timeoutId!==r})),e(i._didWork,i.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ut(qu))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),nc=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,ic.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ic.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),ic=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),rc=function(e,t,n){var i=new Nl(n);if(0===ps.size)return Promise.resolve(i);var r,o,s=(r=e.get(Gu,[]).concat(t).map((function(e){return e.providers})),o=[],r.forEach((function(e){return e&&o.push.apply(o,_toConsumableArray(e))})),o);if(0===s.length)return Promise.resolve(i);var a=function(){var e=qe.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}(),l=ds.create({providers:s}).get(a.ResourceLoader);return function(e){var t=[],n=new Map;function i(e){var t=n.get(e);if(!t){var i=function(e){return Promise.resolve(l.get(e))}(e);n.set(e,t=i.then(gs))}return t}return ps.forEach((function(e,n){var r=[];e.templateUrl&&r.push(i(e.templateUrl).then((function(t){e.template=t})));var o=e.styleUrls,s=e.styles||(e.styles=[]),a=e.styles.length;o&&o.forEach((function(t,n){s.push(""),r.push(i(t).then((function(i){s[a+n]=i,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)})))}));var l=Promise.all(r).then((function(){return function(e){vs.delete(e)}(n)}));t.push(l)})),ps=new Map,Promise.all(t).then((function(){}))}().then((function(){return i}))},oc=new et("AllowMultipleToken");function sc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: ".concat(t),r=new et(i);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=ac();if(!o||o.injector.get(oc,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{var s=n.concat(t).concat({provide:r,useValue:!0},{provide:Jo,useValue:"platform"});!function(e){if(Ju&&!Ju.destroyed&&!Ju.injector.get(oc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ju=e.get(lc);var t=e.get(Eu,null);t&&t.forEach((function(e){return e()}))}(ds.create({providers:s,name:i}))}return function(e){var t=ac();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function ac(){return Ju&&!Ju.destroyed?Ju:null}var lc=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,i,r=this,o=(n=t?t.ngZone:void 0,i=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new ec:("zone.js"===n?void 0:n)||new qu({enableLongStackTrace:Ci(),shouldCoalesceEventChangeDetection:i})),s=[{provide:qu,useValue:o}];return o.run((function(){var t=ds.create({providers:s,parent:r.injector,name:e.moduleType.name}),n=e.create(t),i=n.injector.get(ci,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return fc(r._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){i.handleError(e)}})})),function(e,t,i){try{var o=((s=n.injector.get(Su)).runInitializers(),s.donePromise.then((function(){return zl(n.injector.get(Du,"en-US")||"en-US"),r._moduleDoBootstrap(n),n})));return Us(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(a){throw t.runOutsideAngular((function(){return e.handleError(a)})),a}var s}(i,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=uc({},n);return rc(this.injector,i,e).then((function(e){return t.bootstrapModuleFactory(e,i)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(hc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(Me(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ut(ds))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}();function uc(e,t){return Array.isArray(t)?t.reduce(uc,e):Object.assign(Object.assign({},e),t)}var cc,hc=((cc=function(){function e(t,n,i,r,o,s){var a=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ci(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run((function(){a.tick()}))}});var l=new M((function(e){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular((function(){e.next(a._stable),e.complete()}))})),u=new M((function(e){var t;a._zone.runOutsideAngular((function(){t=a._zone.onStable.subscribe((function(){qu.assertNotInAngularZone(),Wu((function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,e.next(!0))}))}))}));var n=a._zone.onUnstable.subscribe((function(){qu.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=le(l,u.pipe((function(e){return ue()((t=ve,function(e){var n;n="function"==typeof t?t:function(){return t};var i=Object.create(e,de);return i.source=e,i.subjectFactory=n,i})(e));var t})))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Ga?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var r=n.isBoundToModule?void 0:this._injector.get(pt),o=n.create(ds.NULL,[],t||n.selector,r);o.onDestroy((function(){i._unloadComponent(o)}));var s=o.injector.get(tc,null);return s&&o.injector.get(nc).registerApplication(o.location.nativeElement,s),this._loadComponent(o),Ci()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t=!0,n=!1,i=void 0;try{for(var r,o=this._views[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)r.value.detectChanges()}catch(h){n=!0,i=h}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}if(this._enforceNoNewChanges){var s=!0,a=!1,l=void 0;try{for(var u,c=this._views[Symbol.iterator]();!(s=(u=c.next()).done);s=!0)u.value.checkNoChanges()}catch(h){a=!0,l=h}finally{try{s||null==c.return||c.return()}finally{if(a)throw l}}}}catch(f){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(f)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;fc(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Ru,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),fc(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}()).\u0275fac=function(e){return new(e||cc)(ut(qu),ut(Pu),ut(ds),ut(ci),ut(Wa),ut(Su))},cc.\u0275prov=xe({token:cc,factory:cc.\u0275fac}),cc);function fc(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var dc=sc(null,"core",[{provide:Au,useValue:"unknown"},{provide:lc,deps:[ds]},{provide:nc,deps:[]},{provide:Pu,deps:[]}]),pc=[{provide:hc,useClass:hc,deps:[qu,Pu,ds,ci,Wa,Su]},{provide:Cl,deps:[qu],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:Su,useClass:Su,deps:[[new ye,xu]]},{provide:Hu,useClass:Hu,deps:[]},Ou,{provide:cl,useFactory:function(){return dl},deps:[]},{provide:hl,useFactory:function(){return pl},deps:[]},{provide:Du,useFactory:function(e){return zl(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new me(Du),new ye,new be]]},{provide:Fu,useValue:"USD"}],vc=function(){var e=function e(t){_classCallCheck(this,e)};return e.\u0275mod=Dt({type:e}),e.\u0275inj=Te({factory:function(t){return new(t||e)(ut(hc))},providers:pc}),e}(),gc=null;function mc(){return gc}var yc=new et("DocumentToken"),kc={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},bc=function(){var e={Decimal:0,Percent:1,Currency:2,Scientific:3};return e[e.Decimal]="Decimal",e[e.Percent]="Percent",e[e.Currency]="Currency",e[e.Scientific]="Scientific",e}(),_c=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),Cc=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function wc(e,t){var n=Il(e),i=n[Al.NumberSymbols][t];if(void 0===i){if(t===Cc.CurrencyDecimal)return n[Al.NumberSymbols][Cc.Decimal];if(t===Cc.CurrencyGroup)return n[Al.NumberSymbols][Cc.Group]}return i}var xc=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Sc(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var Tc,Oc,Ic,Ec,Ac=function e(){_classCallCheck(this,e)},Rc=((Oc=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).locale=e,n}return _inherits(t,e),_createClass(t,[{key:"getPluralCategory",value:function(e,t){switch(function(e){return Il(e)[Al.PluralCase]}(t||this.locale)(e)){case _c.Zero:return"zero";case _c.One:return"one";case _c.Two:return"two";case _c.Few:return"few";case _c.Many:return"many";default:return"other"}}}]),t}(Ac)).\u0275fac=function(e){return new(e||Oc)(ut(Du))},Oc.\u0275prov=xe({token:Oc,factory:Oc.\u0275fac}),Oc),Pc=((Tc=function(){function e(t,n,i,r){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=i,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Me(e.item)));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}},{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Cs(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),e}()).\u0275fac=function(e){return new(e||Tc)(Ds(cl),Ds(hl),Ds(qa),Ds(Ya))},Tc.\u0275dir=Mt({type:Tc,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),Tc),Dc=function(){function e(t,n,i,r){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),Fc=((Ic=function(){function e(t,n,i){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,i,r){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new Dc(null,t._ngForOf,-1,-1),null===r?void 0:r),s=new Mc(e,o);n.push(s)}else if(null==r)t._viewContainer.remove(null===i?void 0:i);else if(null!==i){var a=t._viewContainer.get(i);t._viewContainer.move(a,r);var l=new Mc(e,a);n.push(l)}}));for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var r=0,o=this._viewContainer.length;r<o;r++){var s=this._viewContainer.get(r);s.context.index=r,s.context.count=o,s.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){Ci()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". ")+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||Ic)(Ds(ml),Ds(vl),Ds(cl))},Ic.\u0275dir=Mt({type:Ic,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Ic),Mc=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},zc=((Ec=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new Lc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Vc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Vc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||Ec)(Ds(ml),Ds(vl))},Ec.\u0275dir=Mt({type:Ec,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Ec),Lc=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function Vc(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Me(t),"'."))}var Nc,Bc,jc,Hc,Gc,Uc,Wc,qc,Zc,$c,Kc,Yc=function(){function e(t,n){_classCallCheck(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return _createClass(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),Xc=((Wc=function(){function e(){_classCallCheck(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(e,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}},{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}}]),e}()).\u0275fac=function(e){return new(e||Wc)},Wc.\u0275dir=Mt({type:Wc,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),Wc),Qc=((Uc=function(){function e(t,n,i){_classCallCheck(this,e),this.ngSwitch=i,i._addCase(),this._view=new Yc(t,n)}return _createClass(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}()).\u0275fac=function(e){return new(e||Uc)(Ds(ml),Ds(vl),Ds(Xc,1))},Uc.\u0275dir=Mt({type:Uc,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),Uc),Jc=((Gc=function e(t,n,i){_classCallCheck(this,e),i._addDefault(new Yc(t,n))}).\u0275fac=function(e){return new(e||Gc)(Ds(ml),Ds(vl),Ds(Xc,1))},Gc.\u0275dir=Mt({type:Gc,selectors:[["","ngSwitchDefault",""]]}),Gc),eh=((Hc=function(){function e(t,n,i){_classCallCheck(this,e),this._ngEl=t,this._differs=n,this._renderer=i,this._ngStyle=null,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}},{key:"_setStyle",value:function(e,t){var n=_slicedToArray(e.split("."),2),i=n[0],r=n[1];null!=(t=null!=t&&r?"".concat(t).concat(r):t)?this._renderer.setStyle(this._ngEl.nativeElement,i,t):this._renderer.removeStyle(this._ngEl.nativeElement,i)}},{key:"_applyChanges",value:function(e){var t=this;e.forEachRemovedItem((function(e){return t._setStyle(e.key,null)})),e.forEachAddedItem((function(e){return t._setStyle(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._setStyle(e.key,e.currentValue)}))}},{key:"ngStyle",set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}}]),e}()).\u0275fac=function(e){return new(e||Hc)(Ds(qa),Ds(hl),Ds(Ya))},Hc.\u0275dir=Mt({type:Hc,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),Hc),th=((jc=function(){function e(t){_classCallCheck(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(this._shouldRecreateView(e)){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var i=!0,r=!1,o=void 0;try{for(var s,a=n[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var l=s.value;if(-1===t.indexOf(l))return!0}}catch(u){r=!0,o=u}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];this._viewRef.context[i]=this.ngTemplateOutletContext[i]}}}]),e}()).\u0275fac=function(e){return new(e||jc)(Ds(ml))},jc.\u0275dir=Mt({type:jc,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Ra()]}),jc),nh=((Bc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";_classCallCheck(this,e),this._locale=t,this._defaultCurrencyCode=n}return _createClass(e,[{key:"transform",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"symbol",r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(function(e){return null==e||""===e||e!=e}(t))return null;o=o||this._locale,"boolean"==typeof i&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),i=i?"symbol":"code");var s=n||this._defaultCurrencyCode;"code"!==i&&(s="symbol"===i||"symbol-narrow"===i?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",i=function(e){return Il(e)[Al.Currencies]}(n)[e]||kc[e]||[],r=i[1];return"narrow"===t&&"string"==typeof r?r:i[0]||e}(s,"symbol"===i?"wide":"narrow",o):i);try{return function(e,t,n,i,r){var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split(";"),r=i[0],o=i[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(var u=0;u<l.length;u++){var c=l.charAt(u);"0"===c?n.minFrac=n.maxFrac=u+1:"#"===c?n.maxFrac=u+1:n.posSuf+=c}var h=a.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var f=r.length-n.posPre.length-n.posSuf.length,d=o.indexOf("#");n.negPre=o.substr(0,d).replace(/'/g,""),n.negSuf=o.substr(d+f).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function(e,t){return Il(e)[Al.NumberFormats][t]}(t,bc.Currency),wc(t,Cc.MinusSign));return o.minFrac=function(e){var t,n=kc[e];return n&&(t=n[2]),"number"==typeof t?t:2}(i),o.maxFrac=o.minFrac,function(e,t,n,i,r,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a="",l=!1;if(isFinite(e)){var u=function(e){var t,n,i,r,o,s=Math.abs(e)+"",a=0;for((n=s.indexOf("."))>-1&&(s=s.replace(".","")),(i=s.search(/e/i))>0?(n<0&&(n=i),n+=+s.slice(i+1),s=s.substring(0,i)):n<0&&(n=s.length),i=0;"0"===s.charAt(i);i++);if(i===(o=s.length))t=[0],n=1;else{for(o--;"0"===s.charAt(o);)o--;for(n-=i,t=[],r=0;i<=o;i++,r++)t[r]=Number(s.charAt(i))}return n>22&&(t=t.splice(0,21),a=n-1,n=1),{digits:t,exponent:a,integerLen:n}}(e);s&&(u=function(e){if(0===e.digits[0])return e;var t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(u));var c=t.minInt,h=t.minFrac,f=t.maxFrac;if(o){var d=o.match(xc);if(null===d)throw new Error("".concat(o," is not a valid digit info"));var p=d[1],v=d[3],g=d[5];null!=p&&(c=Sc(p)),null!=v&&(h=Sc(v)),null!=g?f=Sc(g):null!=v&&h>f&&(f=h)}!function(e,t,n){if(t>n)throw new Error("The minimum number of digits after fraction (".concat(t,") is higher than the maximum (").concat(n,")."));var i=e.digits,r=i.length-e.integerLen,o=Math.min(Math.max(t,r),n),s=o+e.integerLen,a=i[s];if(s>0){i.splice(Math.max(e.integerLen,s));for(var l=s;l<i.length;l++)i[l]=0}else{r=Math.max(0,r),e.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(var u=1;u<s;u++)i[u]=0}if(a>=5)if(s-1<0){for(var c=0;c>s;c--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);var h=0!==o,f=t+e.integerLen,d=i.reduceRight((function(e,t,n,i){return i[n]=(t+=e)<10?t:t-10,h&&(0===i[n]&&n>=f?i.pop():h=!1),t>=10?1:0}),0);d&&(i.unshift(d),e.integerLen++)}(u,h,f);var m=u.digits,y=u.integerLen,k=u.exponent,b=[];for(l=m.every((function(e){return!e}));y<c;y++)m.unshift(0);for(;y<0;y++)m.unshift(0);y>0?b=m.splice(y,m.length):(b=m,m=[0]);var _=[];for(m.length>=t.lgSize&&_.unshift(m.splice(-t.lgSize,m.length).join(""));m.length>t.gSize;)_.unshift(m.splice(-t.gSize,m.length).join(""));m.length&&_.unshift(m.join("")),a=_.join(wc(n,i)),b.length&&(a+=wc(n,r)+b.join("")),k&&(a+=wc(n,Cc.Exponential)+"+"+k)}else a=wc(n,Cc.Infinity);return a=e<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf}(e,o,t,Cc.CurrencyGroup,Cc.CurrencyDecimal,r).replace("\xa4",n).replace("\xa4","").trim()}(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error("".concat(e," is not a number"));return e}(t),o,s,n,r)}catch(a){throw function(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(Me(e),"'"))}(e,a.message)}}}]),e}()).\u0275fac=function(e){return new(e||Bc)(Ds(Du),Ds(Fu))},Bc.\u0275pipe=zt({name:"currency",type:Bc,pure:!0}),Bc),ih=((Nc=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:Nc}),Nc.\u0275inj=Te({factory:function(e){return new(e||Nc)},providers:[{provide:Ac,useClass:Rc}]}),Nc),rh=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=oh||(oh=document.querySelector("base"))?oh.getAttribute("href"):null;return null==n?null:(t=n,qc||(qc=document.createElement("a")),qc.setAttribute("href",t),"/"===qc.pathname.charAt(0)?qc.pathname:"/"+qc.pathname)}},{key:"resetBaseElement",value:function(){oh=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return function(e,t){t=encodeURIComponent(t);var n=!0,i=!1,r=void 0;try{for(var o,s=e.split(";")[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value,l=a.indexOf("="),u=_slicedToArray(-1==l?[a,""]:[a.slice(0,l),a.slice(l+1)],2),c=u[0],h=u[1];if(c.trim()===t)return decodeURIComponent(h)}}catch(f){i=!0,r=f}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}return null}(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new t,gc||(gc=e)}}]),t}(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))}return _inherits(t,e),_createClass(t,[{key:"supportsDOMEvents",value:function(){return!0}}]),t}(function(){return function e(){_classCallCheck(this,e)}}())),oh=null,sh=new et("TRANSITION_ID"),ah=[{provide:xu,useFactory:function(e,t,n){return function(){n.get(Su).donePromise.then((function(){var n=mc();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[sh,yc,ds],multi:!0}],lh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){qe.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},qe.getAllAngularTestabilities=function(){return e.getAllTestabilities()},qe.getAllAngularRootElements=function(){return e.getAllRootElements()},qe.frameworkStabilizers||(qe.frameworkStabilizers=[]),qe.frameworkStabilizers.push((function(e){var t=qe.getAllAngularTestabilities(),n=t.length,i=!1,r=function(t){i=i||t,0==--n&&e(i)};t.forEach((function(e){e.whenStable(r)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var i=e.getTestability(t);return null!=i?i:n?mc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){var t;t=new e,ic=t}}]),e}(),uh=new et("EventManagerPlugins"),ch=((Zc=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=i})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(e))return this._eventNameToPlugin.set(e,r),r}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}()).\u0275fac=function(e){return new(e||Zc)(ut(uh),ut(qu))},Zc.\u0275prov=xe({token:Zc,factory:Zc.\u0275fac}),Zc),hh=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var i=mc().getGlobalEventTarget(this._doc,e);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(t));return this.addEventListener(i,t,n)}}]),e}(),fh=((Kc=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||Kc)},Kc.\u0275prov=xe({token:Kc,factory:Kc.\u0275fac}),Kc),dh=(($c=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return _inherits(t,e),_createClass(t,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var i=n._doc.createElement("style");i.textContent=e,n._styleNodes.add(t.appendChild(i))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return mc().remove(e)}))}}]),t}(fh)).\u0275fac=function(e){return new(e||$c)(ut(yc))},$c.\u0275prov=xe({token:$c,factory:$c.\u0275fac}),$c),ph={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},vh=/%COMP%/g;function gh(e,t,n){for(var i=0;i<t.length;i++){var r=t[i];Array.isArray(r)?gh(e,r,n):(r=r.replace(vh,e),n.push(r))}return n}function mh(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var yh,kh,bh,_h,Ch,wh,xh=((yh=function(){function e(t,n,i){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Sh(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case xt.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new Th(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case xt.Native:case xt.ShadowDom:return new Oh(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=gh(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||yh)(ut(ch),ut(dh),ut(Tu))},yh.\u0275prov=xe({token:yh,factory:yh.\u0275fac}),yh),Sh=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(ph[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,i){if(i){t=i+":"+t;var r=ph[i];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var i=ph[n];i?e.removeAttributeNS(i,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,i){i&Ka.DashCase?e.style.setProperty(t,n,i&Ka.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&Ka.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,mh(n)):this.eventManager.addEventListener(e,t,mh(n))}}]),e}(),Th=function(e){function t(e,n,i,r){var o;_classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).component=i;var s,a=gh(r+"-"+i.id,i.styles,[]);return n.addStyles(a),o.contentAttr="_ngcontent-%COMP%".replace(vh,r+"-"+i.id),o.hostAttr=(s=r+"-"+i.id,"_nghost-%COMP%".replace(vh,s)),o}return _inherits(t,e),_createClass(t,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(t.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,n){var i=_get(_getPrototypeOf(t.prototype),"createElement",this).call(this,e,n);return _get(_getPrototypeOf(t.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),t}(Sh),Oh=function(e){function t(e,n,i,r){var o;_classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).sharedStylesHost=n,o.hostEl=i,o.component=r,o.shadowRoot=r.encapsulation===xt.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=gh(r.id,r.styles,[]),a=0;a<s.length;a++){var l=document.createElement("style");l.textContent=s[a],o.shadowRoot.appendChild(l)}return o}return _inherits(t,e),_createClass(t,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,n){return _get(_getPrototypeOf(t.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),n)}},{key:"insertBefore",value:function(e,n,i){return _get(_getPrototypeOf(t.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),n,i)}},{key:"removeChild",value:function(e,n){return _get(_getPrototypeOf(t.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),n)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(t.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),t}(Sh),Ih=((kh=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),_createClass(t,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var i=this;return e.addEventListener(t,n,!1),function(){return i.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),t}(hh)).\u0275fac=function(e){return new(e||kh)(ut(yc))},kh.\u0275prov=xe({token:kh,factory:kh.\u0275fac}),kh),Eh=["alt","control","meta","shift"],Ah={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ph={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Dh=((Ch=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),_createClass(t,[{key:"supports",value:function(e){return null!=t.parseEventName(e)}},{key:"addEventListener",value:function(e,n,i){var r=t.parseEventName(n),o=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return mc().onAndCancel(e,r.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;var r=t._normalizeKey(n.pop()),o="";if(Eh.forEach((function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),o+=e+".")})),o+=r,0!=n.length||0===r.length)return null;var s={};return s.domEventName=i,s.fullKey=o,s}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Rh.hasOwnProperty(t)&&(t=Rh[t]))}return Ah[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Eh.forEach((function(i){i!=n&&(0,Ph[i])(e)&&(t+=i+".")})),t+=n}},{key:"eventCallback",value:function(e,n,i){return function(r){t.getEventFullKey(r)===e&&i.runGuarded((function(){return n(r)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),t}(hh)).\u0275fac=function(e){return new(e||Ch)(ut(yc))},Ch.\u0275prov=xe({token:Ch,factory:Ch.\u0275fac}),Ch),Fh=((_h=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||_h)},_h.\u0275prov=xe({factory:function(){return ut(Mh)},token:_h,providedIn:"root"}),_h),Mh=((bh=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._doc=e,n}return _inherits(t,e),_createClass(t,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case Wi.NONE:return t;case Wi.HTML:return yi(t,"HTML")?mi(t):Gi(this._doc,String(t));case Wi.STYLE:return yi(t,"Style")?mi(t):function(e){if(!(e=String(e).trim()))return"";var t=e.match(Zi);return t&&Ti(t[1])===t[1]||e.match(qi)&&function(e){for(var t=!0,n=!0,i=0;i<e.length;i++){var r=e.charAt(i);"'"===r&&n?t=!t:'"'===r&&t&&(n=!n)}return t&&n}(e)?e:(Ci()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}(t);case Wi.SCRIPT:if(yi(t,"Script"))return mi(t);throw new Error("unsafe value used in a script context");case Wi.URL:return ki(t),yi(t,"URL")?mi(t):Ti(String(t));case Wi.RESOURCE_URL:if(yi(t,"ResourceURL"))return mi(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return new fi(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return new di(e)}},{key:"bypassSecurityTrustScript",value:function(e){return new pi(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return new vi(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return new gi(e)}}]),t}(Fh)).\u0275fac=function(e){return new(e||bh)(ut(yc))},bh.\u0275prov=xe({factory:function(){return e=ut(tt),new Mh(e.get(yc));var e},token:bh,providedIn:"root"}),bh),zh=sc(dc,"browser",[{provide:Au,useValue:"browser"},{provide:Eu,useValue:function(){rh.makeCurrent(),lh.init()},multi:!0},{provide:yc,useFactory:function(){return function(e){In=e}(document),document},deps:[]}]),Lh=[[],{provide:Jo,useValue:"root"},{provide:ci,useFactory:function(){return new ci},deps:[]},{provide:uh,useClass:Ih,multi:!0,deps:[yc,qu,Au]},{provide:uh,useClass:Dh,multi:!0,deps:[yc]},[],{provide:xh,useClass:xh,deps:[ch,dh,Tu]},{provide:$a,useExisting:xh},{provide:fh,useExisting:dh},{provide:dh,useClass:dh,deps:[yc]},{provide:tc,useClass:tc,deps:[qu]},{provide:ch,useClass:ch,deps:[uh,qu]},[]],Vh=((wh=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:Tu,useValue:t.appId},{provide:sh,useExisting:Tu},ah]}}}]),e}()).\u0275mod=Dt({type:wh}),wh.\u0275inj=Te({factory:function(e){return new(e||wh)(ut(wh,12))},providers:Lh,imports:[ih,vc]}),wh);"undefined"!=typeof window&&window;var Nh=function e(){_classCallCheck(this,e)};function Bh(e,t){return{type:7,name:e,definitions:t,options:{}}}function jh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function Hh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function Gh(e){return{type:6,styles:e,offset:null}}function Uh(e,t,n){return{type:0,name:e,styles:t,options:n}}function Wh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function qh(e){Promise.resolve(null).then(e)}var Zh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;qh((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),$h=function(){function e(t){var n=this;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var i=0,r=0,o=0,s=this.players.length;0==s?qh((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++i==s&&n._onFinish()})),e.onDestroy((function(){++r==s&&n._onDestroy()})),e.onStart((function(){++o==s&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}();function Kh(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Yh(e){switch(e.length){case 0:return new Zh;case 1:return e[0];default:return new $h(e)}}function Xh(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],a=[],l=-1,u=null;if(i.forEach((function(e){var n=e.offset,i=n==l,c=i&&u||{};Object.keys(e).forEach((function(n){var i=n,a=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,s),a){case"!":a=r[n];break;case"*":a=o[n];break;default:a=t.normalizeStyleValue(n,i,a,s)}c[i]=a})),i||a.push(c),u=c,l=n})),s.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(s.join(c)))}return a}function Qh(e,t,n,i){switch(t){case"start":e.onStart((function(){return i(n&&Jh(n,"start",e))}));break;case"done":e.onDone((function(){return i(n&&Jh(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return i(n&&Jh(n,"destroy",e))}))}}function Jh(e,t,n){var i=n.totalTime,r=ef(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),o=e._data;return null!=o&&(r._data=o),r}function ef(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function tf(e,t,n){var i;return e instanceof Map?(i=e.get(t))||e.set(t,i=n):(i=e[t])||(i=e[t]=n),i}function nf(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var rf=function(e,t){return!1},of=function(e,t){return!1},sf=function(e,t,n){return[]},af=Kh();(af||"undefined"!=typeof Element)&&(rf=function(e,t){return e.contains(t)},of=function(){if(af||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:of}(),sf=function(e,t,n){var i=[];if(n)i.push.apply(i,_toConsumableArray(e.querySelectorAll(t)));else{var r=e.querySelector(t);r&&i.push(r)}return i});var lf=null,uf=!1;function cf(e){lf||(lf=("undefined"!=typeof document?document.body:null)||{},uf=!!lf.style&&"WebkitAppearance"in lf.style);var t=!0;return lf.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in lf.style)&&uf)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in lf.style),t}var hf=of,ff=rf,df=sf;function pf(e){var t={};return Object.keys(e).forEach((function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]})),t}var vf,gf=((vf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return cf(e)}},{key:"matchesElement",value:function(e,t){return hf(e,t)}},{key:"containsElement",value:function(e,t){return ff(e,t)}},{key:"query",value:function(e,t,n){return df(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,i,r){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new Zh(n,i)}}]),e}()).\u0275fac=function(e){return new(e||vf)},vf.\u0275prov=xe({token:vf,factory:vf.\u0275fac}),vf),mf=function(){var e=function e(){_classCallCheck(this,e)};return e.NOOP=new gf,e}();function yf(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:kf(parseFloat(t[1]),t[2])}function kf(e,t){switch(t){case"s":return 1e3*e;default:return e}}function bf(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var i,r=0,o="";if("string"==typeof e){var s=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};i=kf(parseFloat(s[1]),s[2]);var a=s[3];null!=a&&(r=kf(parseFloat(a),s[4]));var l=s[5];l&&(o=l)}else i=e;if(!n){var u=!1,c=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),u=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),u=!0),u&&t.splice(c,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:i,delay:r,easing:o}}(e,t,n)}function _f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function Cf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var i in e)n[i]=e[i];else _f(e,n);return n}function wf(e,t,n){return n?t+":"+n+";":""}function xf(e){for(var t="",n=0;n<e.style.length;n++){var i=e.style.item(n);t+=wf(0,i,e.style.getPropertyValue(i))}for(var r in e.style)e.style.hasOwnProperty(r)&&!r.startsWith("_")&&(t+=wf(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[r]));e.setAttribute("style",t)}function Sf(e,t,n){e.style&&(Object.keys(t).forEach((function(i){var r=Df(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[r]),e.style[r]=t[i]})),Kh()&&xf(e))}function Tf(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=Df(t);e.style[n]=""})),Kh()&&xf(e))}function Of(e){return Array.isArray(e)?1==e.length?e[0]:Hh(e):e}var If=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ef(e){var t=[];if("string"==typeof e){for(var n;n=If.exec(e);)t.push(n[1]);If.lastIndex=0}return t}function Af(e,t,n){var i=e.toString(),r=i.replace(If,(function(e,i){var r=t[i];return t.hasOwnProperty(i)||(n.push("Please provide a value for the animation param ".concat(i)),r=""),r.toString()}));return r==i?e:r}function Rf(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var Pf=/-+([a-z0-9])/g;function Df(e){return e.replace(Pf,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function Ff(e,t){return 0===e||0===t}function Mf(e,t,n){var i=Object.keys(n);if(i.length&&t.length){var r=t[0],o=[];if(i.forEach((function(e){r.hasOwnProperty(e)||o.push(e),r[e]=n[e]})),o.length)for(var s=function(){var n=t[a];o.forEach((function(t){n[t]=Lf(e,t)}))},a=1;a<t.length;a++)s()}return t}function zf(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function Lf(e,t){return window.getComputedStyle(e)[t]}function Vf(e,t){var n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}var r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=r[1],s=r[2],a=r[3];t.push(jf(o,a)),"<"!=s[0]||"*"==o&&"*"==a||t.push(jf(a,o))}(e,n,t)})):n.push(e),n}var Nf=new Set(["true","1"]),Bf=new Set(["false","0"]);function jf(e,t){var n=Nf.has(e)||Bf.has(e),i=Nf.has(t)||Bf.has(t);return function(r,o){var s="*"==e||e==r,a="*"==t||t==o;return!s&&n&&"boolean"==typeof r&&(s=r?Nf.has(e):Bf.has(e)),!a&&i&&"boolean"==typeof o&&(a=o?Nf.has(t):Bf.has(t)),s&&a}}var Hf=new RegExp("s*:selfs*,?","g");function Gf(e,t,n){return new Uf(e).build(t,n)}var Uf=function(){function e(t){_classCallCheck(this,e),this._driver=t}return _createClass(e,[{key:"build",value:function(e,t){var n=new Wf(t);return this._resetContextStyleTimingState(n),zf(this,Of(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,i=t.queryCount=0,r=t.depCount=0,o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var a=e,l=a.name;l.toString().split(/\s*,\s*/).forEach((function(e){a.name=e,o.push(n.visitState(a,t))})),a.name=l}else if(1==e.type){var u=n.visitTransition(e,t);i+=u.queryCount,r+=u.depCount,s.push(u)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){var r=new Set,o=i||{};if(n.styles.forEach((function(e){if(qf(e)){var t=e;Object.keys(t).forEach((function(e){Ef(t[e]).forEach((function(e){o.hasOwnProperty(e)||r.add(e)}))}))}})),r.size){var s=Rf(r.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(s.join(", ")))}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n=zf(this,Of(e.animation),t);return{type:1,matchers:Vf(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Zf(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return zf(n,e,t)})),options:Zf(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,i=t.currentTime,r=0,o=e.steps.map((function(e){t.currentTime=i;var o=zf(n,e,t);return r=Math.max(r,t.currentTime),o}));return t.currentTime=r,{type:3,steps:o,options:Zf(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,i=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return $f(bf(e,t).duration,0,"");var i=e;if(i.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var r=$f(0,0,"");return r.dynamic=!0,r.strValue=i,r}return $f((n=n||bf(i,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;var r=e.styles?e.styles:Gh({});if(5==r.type)n=this.visitKeyframes(r,t);else{var o=e.styles,s=!1;if(!o){s=!0;var a={};i.easing&&(a.easing=i.easing),o=Gh(a)}t.currentTime+=i.duration+i.delay;var l=this.visitStyle(o,t);l.isEmptyStep=s,n=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?"*"==e?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var i=!1,r=null;return n.forEach((function(e){if(qf(e)){var t=e,n=t.easing;if(n&&(r=n,delete t.easing),!i)for(var o in t)if(t[o].toString().indexOf("{{")>=0){i=!0;break}}})),{type:6,styles:n,easing:r,offset:e.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,i=t.currentAnimateTimings,r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(i){if(n._driver.validateStyleProperty(i)){var s=t.collectedStyles[t.currentQuerySelector],a=s[i],l=!0;a&&(o!=r&&o>=a.startTime&&r<=a.endTime&&(t.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(a.startTime,'ms" and "').concat(a.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(r,'ms"')),l=!1),o=a.startTime),l&&(s[i]={startTime:o,endTime:r}),t.options&&function(e,t,n){var i=t.params||{},r=Ef(e);r.length&&r.forEach((function(e){i.hasOwnProperty(e)||n.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))}))}(e[i],t.options,t.errors)}else t.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;var r=0,o=[],s=!1,a=!1,l=0,u=e.steps.map((function(e){var i=n._makeStyleAst(e,t),u=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(qf(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(qf(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(i.styles),c=0;return null!=u&&(r++,c=i.offset=u),a=a||c<0||c>1,s=s||c<l,l=c,o.push(c),i}));a&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");var c=e.steps.length,h=0;r>0&&r<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(c-1));var f=c-1,d=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return u.forEach((function(e,r){var s=h>0?r==f?1:h*r:o[r],a=s*v;t.currentTime=d+p.delay+a,p.duration=a,n._validateStyleAst(e,t),e.offset=s,i.styles.push(e)})),i}},{key:"visitReference",value:function(e,t){return{type:8,animation:zf(this,Of(e.animation),t),options:Zf(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:Zf(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Zf(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;var r=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(Hf,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),o=r[0],s=r[1];t.currentQuerySelector=n.length?n+" "+o:o,tf(t.collectedStyles,t.currentQuerySelector,{});var a=zf(this,Of(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Zf(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:bf(e.timings,t.errors,!0);return{type:12,animation:zf(this,Of(e.animation),t),timings:n,options:null}}}]),e}(),Wf=function e(t){_classCallCheck(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function qf(e){return!Array.isArray(e)&&"object"==typeof e}function Zf(e){var t;return e?(e=_f(e)).params&&(e.params=(t=e.params)?_f(t):null):e={},e}function $f(e,t,n){return{duration:e,delay:t,easing:n}}function Kf(e,t,n,i,r,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var Yf=function(){function e(){_classCallCheck(this,e),this._map=new Map}return _createClass(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,i=this._map.get(e);i||this._map.set(e,i=[]),(n=i).push.apply(n,_toConsumableArray(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),Xf=new RegExp(":enter","g"),Qf=new RegExp(":leave","g");function Jf(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new ed).buildKeyframes(e,t,n,i,r,o,s,a,l,u)}var ed=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"buildKeyframes",value:function(e,t,n,i,r,o,s,a,l){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];l=l||new Yf;var c=new nd(e,t,l,i,r,u,[]);c.options=a,c.currentTimeline.setStyles([o],null,c.errors,a),zf(this,n,c);var h=c.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(s).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([s],null,c.errors,a)}return h.length?h.map((function(e){return e.buildKeyframes()})):[Kf(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var i=t.createSubContext(e.options),r=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var i=t.currentTimeline.currentTime,r=null!=n.duration?yf(n.duration):null,o=null!=n.delay?yf(n.delay):null;return 0!==r&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,r,o);i=Math.max(i,n.duration+n.delay)})),i}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),zf(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,i=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&((r=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=td);var s=yf(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach((function(e){return zf(n,e,r)})),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,i=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?yf(e.options.delay):0;e.steps.forEach((function(s){var a=t.createSubContext(e.options);o&&a.delayNextStep(o),zf(n,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)})),i.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(r),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return bf(t.params?Af(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());var r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var r=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,i=t.currentTimeline.duration,r=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach((function(e){o.forwardTime((e.offset||0)*r),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(i+r),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?yf(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=td);var s=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;var l=null;a.forEach((function(i,r){t.currentQueryIndex=r;var a=t.createSubContext(e.options,i);o&&a.delayNextStep(o),i===t.element&&(l=a.currentTimeline),zf(n,e.animation,a),a.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,a.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,i=t.currentTimeline,r=e.timings,o=Math.abs(r.duration),s=o*(t.currentQueryTotal-1),a=o*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}var l=t.currentTimeline;a&&l.delayNextStep(a);var u=l.currentTime;zf(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}]),e}(),td={},nd=function(){function e(t,n,i,r,o,s,a,l){_classCallCheck(this,e),this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=td,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new id(this._driver,n,0),a.push(this.currentTimeline)}return _createClass(e,[{key:"updateOptions",value:function(e,t){var n=this;if(e){var i=e,r=this.options;null!=i.duration&&(r.duration=yf(i.duration)),null!=i.delay&&(r.delay=yf(i.delay));var o=i.params;if(o){var s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach((function(e){t&&s.hasOwnProperty(e)||(s[e]=Af(o[e],s,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=n||this.element,o=new e(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=td,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},r=new rd(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(r),i}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,i,r,o){var s=[];if(i&&s.push(this.element),e.length>0){e=(e=e.replace(Xf,"."+this._enterClassName)).replace(Qf,"."+this._leaveClassName);var a=this._driver.query(this.element,e,1!=n);0!==n&&(a=n<0?a.slice(a.length+n,a.length):a.slice(0,n)),s.push.apply(s,_toConsumableArray(a))}return r||0!=s.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),s}},{key:"params",get:function(){return this.options.params}}]),e}(),id=function(){function e(t,n,i,r){_classCallCheck(this,e),this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||"*",t._currentKeyframe[e]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,i){var r=this;t&&(this._previousKeyframe.easing=t);var o=i&&i.params||{},s=function(e,t){var n,i={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){i[e]="*"})):Cf(e,!1,i)})),i}(e,this._globalTimelineStyles);Object.keys(s).forEach((function(e){var t=Af(s[e],o,n);r._pendingStyles[e]=t,r._localTimelineStyles.hasOwnProperty(e)||(r._backFill[e]=r._globalTimelineStyles.hasOwnProperty(e)?r._globalTimelineStyles[e]:"*"),r._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var i=t._styleSummary[n],r=e._styleSummary[n];(!i||r.time>i.time)&&t._updateStyle(n,r.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,r=[];this._keyframes.forEach((function(o,s){var a=Cf(o,!0);Object.keys(a).forEach((function(e){var i=a[e];"!"==i?t.add(e):"*"==i&&n.add(e)})),i||(a.offset=s/e.duration),r.push(a)}));var o=t.size?Rf(t.values()):[],s=n.size?Rf(n.values()):[];if(i){var a=r[0],l=_f(a);a.offset=0,l.offset=1,r=[a,l]}return Kf(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}}]),e}(),rd=function(e){function t(e,n,i,r,o,s){var a,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,s.delay))).element=n,a.keyframes=i,a.preStyleProps=r,a.postStyleProps=o,a._stretchStartingKeyframe=l,a.timings={duration:s.duration,delay:s.delay,easing:s.easing},a}return _inherits(t,e),_createClass(t,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,i=t.duration,r=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],s=i+n,a=n/s,l=Cf(e[0],!1);l.offset=0,o.push(l);var u=Cf(e[0],!1);u.offset=od(a),o.push(u);for(var c=e.length-1,h=1;h<=c;h++){var f=Cf(e[h],!1);f.offset=od((n+f.offset*i)/s),o.push(f)}i=s,n=0,r="",e=o}return Kf(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}]),t}(id);function od(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var sd,ad,ld=function e(){_classCallCheck(this,e)},ud=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"normalizePropertyName",value:function(e,t){return Df(e)}},{key:"normalizeStyleValue",value:function(e,t,n,i){var r="",o=n.toString().trim();if(cd[t]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&i.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+r}}]),t}(ld),cd=(sd="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),ad={},sd.forEach((function(e){return ad[e]=!0})),ad);function hd(e,t,n,i,r,o,s,a,l,u,c,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:f}}var fd={},dd=function(){function e(t,n,i){_classCallCheck(this,e),this._triggerName=t,this.ast=n,this._stateStyles=i}return _createClass(e,[{key:"match",value:function(e,t,n,i){return function(e,t,n,i,r){return e.some((function(e){return e(t,n,i,r)}))}(this.ast.matchers,e,t,n,i)}},{key:"buildStyles",value:function(e,t,n){var i=this._stateStyles["*"],r=this._stateStyles[e],o=i?i.buildStyles(t,n):{};return r?r.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,i,r,o,s,a,l,u){var c=[],h=this.ast.options&&this.ast.options.params||fd,f=this.buildStyles(n,s&&s.params||fd,c),d=a&&a.params||fd,p=this.buildStyles(i,d,c),v=new Set,g=new Map,m=new Map,y="void"===i,k={params:Object.assign(Object.assign({},h),d)},b=u?[]:Jf(e,t,this.ast.animation,r,o,f,p,k,l,c),_=0;if(b.forEach((function(e){_=Math.max(e.duration+e.delay,_)})),c.length)return hd(t,this._triggerName,n,i,y,f,p,[],[],g,m,_,c);b.forEach((function(e){var n=e.element,i=tf(g,n,{});e.preStyleProps.forEach((function(e){return i[e]=!0}));var r=tf(m,n,{});e.postStyleProps.forEach((function(e){return r[e]=!0})),n!==t&&v.add(n)}));var C=Rf(v.values());return hd(t,this._triggerName,n,i,y,f,p,b,C,g,m,_)}}]),e}(),pd=function(){function e(t,n){_classCallCheck(this,e),this.styles=t,this.defaultParams=n}return _createClass(e,[{key:"buildStyles",value:function(e,t){var n={},i=_f(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(i[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var r=e;Object.keys(r).forEach((function(e){var o=r[e];o.length>1&&(o=Af(o,i,t)),n[e]=o}))}})),n}}]),e}(),vd=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){i.states[e.name]=new pd(e.style,e.options&&e.options.params||{})})),gd(this.states,"true","1"),gd(this.states,"false","0"),n.transitions.forEach((function(e){i.transitionFactories.push(new dd(t,e,i.states))})),this.fallbackTransition=new dd(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(e,[{key:"matchTransition",value:function(e,t,n,i){return this.transitionFactories.find((function(r){return r.match(e,t,n,i)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),e}();function gd(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var md=new Yf,yd=function(){function e(t,n,i){_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return _createClass(e,[{key:"register",value:function(e,t){var n=[],i=Gf(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=i}},{key:"_buildPlayer",value:function(e,t,n){var i=e.element,r=Xh(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,r,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],s=this._animations[e],a=new Map;if(s?(n=Jf(this._driver,t,s,"ng-enter","ng-leave",{},{},r,md,o)).forEach((function(e){var t=tf(a,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));a.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=i._driver.computeStyle(t,n,"*")}))}));var l=Yh(n.map((function(e){var t=a.get(e.element);return i._buildPlayer(e,{},t)})));return this._playersById[e]=l,l.onDestroy((function(){return i.destroy(e)})),this.players.push(l),l}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,i){var r=ef(t,"","","");return Qh(this._getPlayer(e),n,r,i),function(){}}},{key:"command",value:function(e,t,n,i){if("register"!=n)if("create"!=n){var r=this._getPlayer(e);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,i[0]||{});else this.register(e,i[0])}}]),e}(),kd=[],bd={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_d={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Cd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,e),this.namespaceId=n;var i,r=t&&t.hasOwnProperty("value");if(this.value=null!=(i=r?t.value:t)?i:null,r){var o=_f(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(e,[{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}},{key:"params",get:function(){return this.options.params}}]),e}(),wd=new Cd("void"),xd=function(){function e(t,n,i){_classCallCheck(this,e),this.id=t,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Rd(n,this._hostClassName)}return _createClass(e,[{key:"listen",value:function(e,t,n,i){var r,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(r=n)&&"done"!=r)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var s=tf(this._elementListeners,e,[]),a={name:t,phase:n,callback:i};s.push(a);var l=tf(this._engine.statesByElement,e,{});return l.hasOwnProperty(t)||(Rd(e,"ng-trigger"),Rd(e,"ng-trigger-"+t),l[t]=wd),function(){o._engine.afterFlush((function(){var e=s.indexOf(a);e>=0&&s.splice(e,1),o._triggers[t]||delete l[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),s=new Td(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Rd(e,"ng-trigger"),Rd(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,a={}));var l=a[t],u=new Cd(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a[t]=u,l||(l=wd),"void"===u.value||l.value!==u.value){var c=tf(this._engine.playersByElement,e,[]);c.forEach((function(e){e.namespaceId==i.id&&e.triggerName==t&&e.queued&&e.destroy()}));var h=o.matchTransition(l.value,u.value,e,u.params),f=!1;if(!h){if(!r)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:l,toState:u,player:s,isFallbackTransition:f}),f||(Rd(e,"ng-animate-queued"),s.onStart((function(){Pd(e,"ng-animate-queued")}))),s.onDone((function(){var t=i.players.indexOf(s);t>=0&&i.players.splice(t,1);var n=i._engine.playersByElement.get(e);if(n){var r=n.indexOf(s);r>=0&&n.splice(r,1)}})),this.players.push(s),c.push(s),s}if(!function(e,t){var n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(l.params,u.params)){var d=[],p=o.matchStyles(l.value,l.params,d),v=o.matchStyles(u.value,u.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){Tf(e,p),Sf(e,v)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,i){t._elementListeners.set(i,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,i=this._engine.driver.query(e,".ng-trigger",!0);i.forEach((function(e){if(!e.__ng_removed){var i=n._engine.fetchNamespacesByElement(e);i.size?i.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}})),this._engine.afterFlushAnimationsDone((function(){return i.forEach((function(e){return n.clearElementCache(e)}))}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,i){var r=this,o=this._engine.statesByElement.get(e);if(o){var s=[];if(Object.keys(o).forEach((function(t){if(r._triggers[t]){var n=r.trigger(e,t,"void",i);n&&s.push(n)}})),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Yh(s).onDone((function(){return r._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var i=new Set;n.forEach((function(n){var r=n.name;if(!i.has(r)){i.add(r);var o=t._triggers[r].fallbackTransition,s=t._engine.statesByElement.get(e)[r]||wd,a=new Cd("void"),l=new Td(t.id,r,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:r,transition:o,fromState:s,toState:a,player:l,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var r=!1;if(i.totalAnimations){var o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else for(var s=e;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{var a=e.__ng_removed;a&&a!==bd||(i.afterFlush((function(){return n.clearElementCache(e)})),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){Rd(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(i){var r=i.player;if(!r.destroyed){var o=i.element,s=t._elementListeners.get(o);s&&s.forEach((function(t){if(t.name==i.triggerName){var n=ef(o,i.triggerName,i.fromState.value,i.toState.value);n._data=e,Qh(i.player,t.phase,n,t.callback)}})),r.markedForDestroy?t._engine.afterFlush((function(){r.destroy()})):n.push(i)}})),this._queue=[],n.sort((function(e,n){var i=e.transition.ast.depCount,r=n.transition.ast.depCount;return 0==i||0==r?i-r:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),Sd=function(){function e(t,n,i){_classCallCheck(this,e),this.bodyNode=t,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"createNamespace",value:function(e,t){var n=new xd(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,t)){this._namespaceList.splice(r+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var i=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(i);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return i.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var o=n[i[r]].namespaceId;if(o){var s=this._fetchNamespace(o);s&&t.add(s)}}return t}},{key:"trigger",value:function(e,t,n,i){if(Od(t)){var r=this._fetchNamespace(e);if(r)return r.trigger(t,n,i),!0}return!1}},{key:"insertNode",value:function(e,t,n,i){if(Od(t)){var r=t.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var s=this._fetchNamespace(e);s&&s.insertNode(t,n)}i&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Rd(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Pd(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,i){if(Od(t)){var r=e?this._fetchNamespace(e):null;if(r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}},{key:"markElementAsRemoved",value:function(e,t,n,i){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,i,r){return Od(t)?this._fetchNamespace(e).listen(t,n,i,r):function(){}}},{key:"_buildInstruction",value:function(e,t,n,i,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,r)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return Yh(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=bd,n.namespaceId){this.destroyInnerAnimations(e);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)Rd(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var r=[];try{n=this._flushAnimations(r,t)}finally{for(var o=0;o<r.length;o++)r[o]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var a=this._whenQuietFns;this._whenQuietFns=[],n.length?Yh(n).onDone((function(){a.forEach((function(e){return e()}))})):a.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var n=this,i=new Yf,r=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach((function(e){c.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),i=0;i<t.length;i++)c.add(t[i])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=Ad(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(e,t){var n="ng-enter"+v++;p.set(t,n),e.forEach((function(e){return Rd(e,n)}))}));for(var g=[],m=new Set,y=new Set,k=0;k<this.collectedLeaveElements.length;k++){var b=this.collectedLeaveElements[k],_=b.__ng_removed;_&&_.setForRemoval&&(g.push(b),m.add(b),_.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach((function(e){return m.add(e)})):y.add(b))}var C=new Map,w=Ad(f,Array.from(m));w.forEach((function(e,t){var n="ng-leave"+v++;C.set(t,n),e.forEach((function(e){return Rd(e,n)}))})),e.push((function(){d.forEach((function(e,t){var n=p.get(t);e.forEach((function(e){return Pd(e,n)}))})),w.forEach((function(e,t){var n=C.get(t);e.forEach((function(e){return Pd(e,n)}))})),g.forEach((function(e){n.processLeaveNode(e)}))}));for(var x=[],S=[],T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(t).forEach((function(e){var t=e.player,o=e.element;if(x.push(t),n.collectedEnterElements.length){var c=o.__ng_removed;if(c&&c.setForMove)return void t.destroy()}var f=!h||!n.driver.containsElement(h,o),d=C.get(o),v=p.get(o),g=n._buildInstruction(e,i,v,d,f);if(!g.errors||!g.errors.length)return f?(t.onStart((function(){return Tf(o,g.fromStyles)})),t.onDestroy((function(){return Sf(o,g.toStyles)})),void r.push(t)):e.isFallbackTransition?(t.onStart((function(){return Tf(o,g.fromStyles)})),t.onDestroy((function(){return Sf(o,g.toStyles)})),void r.push(t)):(g.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),i.append(o,g.timelines),s.push({instruction:g,player:t,element:o}),g.queriedElements.forEach((function(e){return tf(a,e,[]).push(t)})),g.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var i=l.get(t);i||l.set(t,i=new Set),n.forEach((function(e){return i.add(e)}))}})),void g.postStyleProps.forEach((function(e,t){var n=Object.keys(e),i=u.get(t);i||u.set(t,i=new Set),n.forEach((function(e){return i.add(e)}))})));S.push(g)}));if(S.length){var O=[];S.forEach((function(e){O.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return O.push("- ".concat(e,"\n"))}))})),x.forEach((function(e){return e.destroy()})),this.reportError(O)}var I=new Map,E=new Map;s.forEach((function(e){var t=e.element;i.has(t)&&(E.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,I))})),r.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){tf(I,t,[]).push(e),e.destroy()}))}));var A=g.filter((function(e){return Fd(e,l,u)})),R=new Map;Ed(R,this.driver,y,u,"*").forEach((function(e){Fd(e,l,u)&&A.push(e)}));var P=new Map;d.forEach((function(e,t){Ed(P,n.driver,new Set(e),l,"!")})),A.forEach((function(e){var t=R.get(e),n=P.get(e);R.set(e,Object.assign(Object.assign({},t),n))}));var D=[],F=[],M={};s.forEach((function(e){var t=e.element,s=e.player,a=e.instruction;if(i.has(t)){if(c.has(t))return s.onDestroy((function(){return Sf(t,a.toStyles)})),s.disabled=!0,s.overrideTotalTime(a.totalTime),void r.push(s);var l=M;if(E.size>1){for(var u=t,h=[];u=u.parentNode;){var f=E.get(u);if(f){l=f;break}h.push(u)}h.forEach((function(e){return E.set(e,l)}))}var d=n._buildAnimation(s.namespaceId,a,I,o,P,R);if(s.setRealPlayer(d),l===M)D.push(s);else{var p=n.playersByElement.get(l);p&&p.length&&(s.parentPlayer=Yh(p)),r.push(s)}}else Tf(t,a.fromStyles),s.onDestroy((function(){return Sf(t,a.toStyles)})),F.push(s),c.has(t)&&r.push(s)})),F.forEach((function(e){var t=o.get(e.element);if(t&&t.length){var n=Yh(t);e.setRealPlayer(n)}})),r.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var z=0;z<g.length;z++){var L=g[z],V=L.__ng_removed;if(Pd(L,"ng-leave"),!V||!V.hasAnimation){var N=[];if(a.size){var B=a.get(L);B&&B.length&&N.push.apply(N,_toConsumableArray(B));for(var j=this.driver.query(L,".ng-animating",!0),H=0;H<j.length;H++){var G=a.get(j[H]);G&&G.length&&N.push.apply(N,_toConsumableArray(G))}}var U=N.filter((function(e){return!e.destroyed}));U.length?Dd(this,L,U):this.processLeaveNode(L)}}return g.length=0,D.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),D}},{key:"elementContainsData",value:function(e,t){var n=!1,i=t.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,i,r){var o=[];if(t){var s=this.playersByQueriedElement.get(e);s&&(o=s)}else{var a=this.playersByElement.get(e);if(a){var l=!r||"void"==r;a.forEach((function(e){e.queued||(l||e.triggerName==i)&&o.push(e)}))}}return(n||i)&&(o=o.filter((function(e){return!(n&&n!=e.namespaceId||i&&i!=e.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var i=this,r=t.element,o=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,a=!0,l=!1,u=void 0;try{for(var c,h=function(){var e=c.value.element,a=e!==r,l=tf(n,e,[]);i._getPreviousPlayers(e,a,o,s,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)}))},f=t.timelines[Symbol.iterator]();!(a=(c=f.next()).done);a=!0)h()}catch(d){l=!0,u=d}finally{try{a||null==f.return||f.return()}finally{if(l)throw u}}Tf(r,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,i,r,o){var s=this,a=t.triggerName,l=t.element,u=[],c=new Set,h=new Set,f=t.timelines.map((function(t){var f=t.element;c.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new Zh(t.duration,t.delay);var p,v,g=f!==l,m=(p=(n.get(f)||kd).map((function(e){return e.getRealPlayer()})),v=[],function e(t,n){for(var i=0;i<t.length;i++){var r=t[i];r instanceof $h?e(r.players,n):n.push(r)}}(p,v),v).filter((function(e){return!!e.element&&e.element===f})),y=r.get(f),k=o.get(f),b=Xh(0,s._normalizer,0,t.keyframes,y,k),_=s._buildPlayer(t,b,m);if(t.subTimeline&&i&&h.add(f),g){var C=new Td(e,a,f);C.setRealPlayer(_),u.push(C)}return _}));u.forEach((function(e){tf(s.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var i;if(e instanceof Map){if(i=e.get(t)){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&e.delete(t)}}else if(i=e[t]){if(i.length){var o=i.indexOf(n);i.splice(o,1)}0==i.length&&delete e[t]}return i}(s.playersByQueriedElement,e.element,e)}))})),c.forEach((function(e){return Rd(e,"ng-animating")}));var d=Yh(f);return d.onDestroy((function(){c.forEach((function(e){return Pd(e,"ng-animating")})),Sf(l,t.toStyles)})),h.forEach((function(e){tf(i,e,[]).push(d)})),d}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Zh(e.duration,e.delay)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}}]),e}(),Td=function(){function e(t,n,i){_classCallCheck(this,e),this.namespaceId=t,this.triggerName=n,this.element=i,this._player=new Zh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return Qh(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){tf(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function Od(e){return e&&1===e.nodeType}function Id(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function Ed(e,t,n,i,r){var o=[];n.forEach((function(e){return o.push(Id(e))}));var s=[];i.forEach((function(n,i){var o={};n.forEach((function(e){var n=o[e]=t.computeStyle(i,e,r);n&&0!=n.length||(i.__ng_removed=_d,s.push(i))})),e.set(i,o)}));var a=0;return n.forEach((function(e){return Id(e,o[a++])})),s}function Ad(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var i=new Set(t),r=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var o=r.get(t);if(o)return o;var s=t.parentNode;return o=n.has(s)?s:i.has(s)?1:e(s),r.set(t,o),o}(e);1!==t&&n.get(t).push(e)})),n}function Rd(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function Pd(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function Dd(e,t,n){Yh(n).onDone((function(){return e.processLeaveNode(t)}))}function Fd(e,t,n){var i=n.get(e);if(!i)return!1;var r=t.get(e);return r?i.forEach((function(e){return r.add(e)})):t.set(e,i),n.delete(e),!0}var Md=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new Sd(t,n,i),this._timelineEngine=new yd(t,n,i),this._transitionEngine.onRemovalComplete=function(e,t){return r.onRemovalComplete(e,t)}}return _createClass(e,[{key:"registerTrigger",value:function(e,t,n,i,r){var o=e+"-"+i,s=this._triggerCache[o];if(!s){var a=[],l=Gf(this._driver,r,a);if(a.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(a.join("\n - ")));s=function(e,t){return new vd(e,t)}(i,l),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(t,i,s)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}},{key:"onRemove",value:function(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,i){if("@"==n.charAt(0)){var r=_slicedToArray(nf(n),2),o=r[0],s=r[1];this._timelineEngine.command(o,t,s,i)}else this._transitionEngine.trigger(e,t,n,i)}},{key:"listen",value:function(e,t,n,i,r){if("@"==n.charAt(0)){var o=_slicedToArray(nf(n),2),s=o[0],a=o[1];return this._timelineEngine.listen(s,t,a,r)}return this._transitionEngine.listen(e,t,n,i,r)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),e}();function zd(e,t){var n=null,i=null;return Array.isArray(t)&&t.length?(n=Vd(t[0]),t.length>1&&(i=Vd(t[t.length-1]))):t&&(n=Vd(t)),n||i?new Ld(e,n,i):null}var Ld=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;var r=e.initialStylesByElement.get(t);r||e.initialStylesByElement.set(t,r={}),this._initialStyles=r}return _createClass(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&Sf(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(Sf(this._element,this._initialStyles),this._endStyles&&(Sf(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Tf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Tf(this._element,this._endStyles),this._endStyles=null),Sf(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function Vd(e){for(var t=null,n=Object.keys(e),i=0;i<n.length;i++){var r=n[i];Nd(r)&&((t=t||{})[r]=e[r])}return t}function Nd(e){return"display"===e||"position"===e}var Bd=function(){function e(t,n,i,r,o,s,a){var l=this;_classCallCheck(this,e),this._element=t,this._name=n,this._duration=i,this._delay=r,this._easing=o,this._fillMode=s,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return l._handleCallback(e)}}return _createClass(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=qd(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),Wd(e,"",t),Ud(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){jd(this._element,this._name,"paused")}},{key:"resume",value:function(){jd(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=Hd(this._element,this._name);this._position=e*this._duration,Wd(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Ud(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){var n=qd(e,"").split(","),i=Gd(n,t);i>=0&&(n.splice(i,1),Wd(e,"",n.join(",")))}(this._element,this._name))}}]),e}();function jd(e,t,n){Wd(e,"PlayState",n,Hd(e,t))}function Hd(e,t){var n=qd(e,"");return n.indexOf(",")>0?Gd(n.split(","),t):Gd([n],t)}function Gd(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Ud(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function Wd(e,t,n,i){var r="animation"+t;if(null!=i){var o=e.style[r];if(o.length){var s=o.split(",");s[i]=n,n=s.join(",")}}e.style[r]=n}function qd(e,t){return e.style["animation"+t]}var Zd=function(){function e(t,n,i,r,o,s,a,l){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.animationName=i,this._duration=r,this._delay=o,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+o,this._buildStyler()}return _createClass(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new Bd(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(i){"offset"!=i&&(t[i]=n?e._finalStyles[i]:Lf(e.element,i))}))}this.currentSnapshot=t}}]),e}(),$d=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).element=e,i._startingStyles={},i.__initialized=!1,i._styles=pf(n),i}return _inherits(t,e),_createClass(t,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),_get(_getPrototypeOf(t.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),_get(_getPrototypeOf(t.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,_get(_getPrototypeOf(t.prototype),"destroy",this).call(this))}}]),t}(Zh),Kd=function(){function e(){_classCallCheck(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return cf(e)}},{key:"matchesElement",value:function(e,t){return hf(e,t)}},{key:"containsElement",value:function(e,t){return ff(e,t)}},{key:"query",value:function(e,t,n){return df(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return pf(e)}));var i="@keyframes ".concat(t," {\n"),r="";n.forEach((function(e){r=" ";var t=parseFloat(e.offset);i+="".concat(r).concat(100*t,"% {\n"),r+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+="".concat(r,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(r).concat(t,": ").concat(n,";\n"))}})),i+="".concat(r,"}\n")})),i+="}\n";var o=document.createElement("style");return o.innerHTML=i,o}},{key:"animate",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;s&&this._notifyFaultyScrubber();var a=o.filter((function(e){return e instanceof Zd})),l={};Ff(n,i)&&a.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return l[e]=t[e]}))}));var u=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}(t=Mf(e,t,l));if(0==n)return new $d(e,u);var c="gen_css_kf_".concat(this._count++),h=this.buildKeyframeElement(e,c,t);document.querySelector("head").appendChild(h);var f=zd(e,t),d=new Zd(e,t,c,n,i,r,u,f);return d.onDestroy((function(){var e;(e=h).parentNode.removeChild(e)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}(),Yd=function(){function e(t,n,i,r){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:Lf(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),e}(),Xd=function(){function e(){_classCallCheck(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Qd().toString()),this._cssKeyframesDriver=new Kd}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return cf(e)}},{key:"matchesElement",value:function(e,t){return hf(e,t)}},{key:"containsElement",value:function(e,t){return ff(e,t)}},{key:"query",value:function(e,t,n){return df(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,r,o);var a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);var l={},u=o.filter((function(e){return e instanceof Yd}));Ff(n,i)&&u.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return l[e]=t[e]}))}));var c=zd(e,t=Mf(e,t=t.map((function(e){return Cf(e,!1)})),l));return new Yd(e,t,a,c)}}]),e}();function Qd(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var Jd,ep=((Jd=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._nextAnimationId=0,i._renderer=e.createRenderer(n.body,{id:"0",encapsulation:xt.None,styles:[],data:{animation:[]}}),i}return _inherits(t,e),_createClass(t,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?Hh(e):e;return ip(this._renderer,null,t,"register",[n]),new tp(t,this._renderer)}}]),t}(Nh)).\u0275fac=function(e){return new(e||Jd)(ut($a),ut(yc))},Jd.\u0275prov=xe({token:Jd,factory:Jd.\u0275fac}),Jd),tp=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._id=e,i._renderer=n,i}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e,t){return new np(this._id,e,t||{},this._renderer)}}]),t}(function(){return function e(){_classCallCheck(this,e)}}()),np=function(){function e(t,n,i,r){_classCallCheck(this,e),this.id=t,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return _createClass(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return ip(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function ip(e,t,n,i,r){return e.setProperty(t,"@@".concat(n,":").concat(i),r)}var rp,op,sp,ap=((rp=function(){function e(t,n,i){_classCallCheck(this,e),this.delegate=t,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass(e,[{key:"createRenderer",value:function(e,t){var n=this,i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var r=this._rendererCache.get(i);return r||(r=new lp("",i,this.engine),this._rendererCache.set(i,r)),r}var o=t.id,s=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(s,e),t.data.animation.forEach((function t(i){Array.isArray(i)?i.forEach(t):n.engine.registerTrigger(o,s,e,i.name,i)})),new up(this,s,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var i=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){i._zone.run((function(){i._animationCallbacksBuffer.forEach((function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])})),i._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}()).\u0275fac=function(e){return new(e||rp)(ut($a),ut(Md),ut(qu))},rp.\u0275prov=xe({token:rp,factory:rp.\u0275fac}),rp),lp=function(){function e(t,n,i){_classCallCheck(this,e),this.namespaceId=t,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass(e,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,i){this.delegate.setStyle(e,t,n,i)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}},{key:"data",get:function(){return this.delegate.data}}]),e}(),up=function(e){function t(e,n,i,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n,i,r))).factory=e,o.namespaceId=n,o}return _inherits(t,e),_createClass(t,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var i,r,o=this;if("@"==t.charAt(0)){var s,a=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),l=t.substr(1),u="";return"@"!=l.charAt(0)&&(r=(i=l).indexOf("."),l=(s=_slicedToArray([i.substring(0,r),i.substr(r+1)],2))[0],u=s[1]),this.engine.listen(this.namespaceId,a,l,u,(function(e){o.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),t}(lp),cp=((op=function(e){function t(e,n,i){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e.body,n,i))}return _inherits(t,e),t}(Md)).\u0275fac=function(e){return new(e||op)(ut(yc),ut(mf),ut(ld))},op.\u0275prov=xe({token:op,factory:op.\u0275fac}),op),hp=[{provide:mf,useFactory:function(){return"function"==typeof Qd()?new Xd:new Kd}},{provide:new et("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Nh,useClass:ep},{provide:ld,useFactory:function(){return new ud}},{provide:Md,useClass:cp},{provide:$a,useFactory:function(e,t,n){return new ap(e,t,n)},deps:[xh,Md,qu]}],fp=((sp=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:sp}),sp.\u0275inj=Te({factory:function(e){return new(e||sp)},providers:hp,imports:[Vh]}),sp);function dp(e,t){return new M((function(n){var i=e.length;if(0!==i)for(var r=new Array(i),o=0,s=0,a=function(a){var l=ne(e[a]),u=!1;n.add(l.subscribe({next:function(e){u||(u=!0,s++),r[a]=e},error:function(e){return n.error(e)},complete:function(){++o!==i&&u||(s===i&&n.next(t?t.reduce((function(e,t,n){return e[t]=r[n],e}),{}):r),n.complete())}}))},l=0;l<i;l++)a(l);else n.complete()}))}var pp,vp,gp,mp,yp=new et("NgValueAccessor"),kp={provide:yp,useExisting:Ve((function(){return bp})),multi:!0},bp=((pp=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||pp)(Ds(Ya),Ds(qa))},pp.\u0275dir=Mt({type:pp,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&Ws("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[Ha([kp])]}),pp),_p={provide:yp,useExisting:Ve((function(){return wp})),multi:!0},Cp=new et("CompositionEventMode"),wp=((mp=function(){function e(t,n,i){var r;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=i,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=mc()?mc().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}()).\u0275fac=function(e){return new(e||mp)(Ds(Ya),Ds(qa),Ds(Cp,8))},mp.\u0275dir=Mt({type:mp,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Ws("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[Ha([_p])]}),mp),xp=((gp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}()).\u0275fac=function(e){return new(e||gp)},gp.\u0275dir=Mt({type:gp}),gp),Sp=((vp=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),t}(xp)).\u0275fac=function(e){return Tp(e||vp)},vp.\u0275dir=Mt({type:vp,features:[Sa]}),vp),Tp=si(Sp);function Op(){throw new Error("unimplemented")}var Ip,Ep,Ap=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments)))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _inherits(t,e),_createClass(t,[{key:"validator",get:function(){return Op()}},{key:"asyncValidator",get:function(){return Op()}}]),t}(xp),Rp=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),Pp=((Ep=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),t}(Rp)).\u0275fac=function(e){return new(e||Ep)(Ds(Ap,2))},Ep.\u0275dir=Mt({type:Ep,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&sa("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Sa]}),Ep),Dp=((Ip=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),t}(Rp)).\u0275fac=function(e){return new(e||Ip)(Ds(Sp,2))},Ip.\u0275dir=Mt({type:Ip,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&sa("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Sa]}),Ip);function Fp(e){return null==e||0===e.length}var Mp=new et("NgValidators"),zp=new et("NgAsyncValidators"),Lp=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Vp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(Fp(t.value)||Fp(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(Fp(t.value)||Fp(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return Fp(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return Fp(e.value)?null:Lp.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(Fp(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(i="","^"!==t.charAt(0)&&(i+="^"),i+=t,"$"!==t.charAt(t.length-1)&&(i+="$"),n=new RegExp(i)):(i=t.toString(),n=t),function(e){if(Fp(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:i,actualValue:t}}}):e.nullValidator;var n,i}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(Np);return 0==t.length?null:function(e){return jp(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(Np);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var i=t[0];if(w(i))return dp(i,null);if(x(i)&&Object.getPrototypeOf(i)===Object.prototype){var r=Object.keys(i);return dp(r.map((function(e){return i[e]})),r)}}if("function"==typeof t[t.length-1]){var o=t.pop();return dp(t=1===t.length&&w(t[0])?t[0]:t,null).pipe(Q((function(e){return o.apply(void 0,_toConsumableArray(e))})))}return dp(t,null)}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(Bp)).pipe(Q(jp))}}}]),e}();function Np(e){return null!=e}function Bp(e){var t,n=Us(e)?ne(e):e;if(!(t=n)||"function"!=typeof t.subscribe)throw new Error("Expected validator to return Promise or Observable.");return n}function jp(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function Hp(e){return e.validate?function(t){return e.validate(t)}:e}function Gp(e){return e.validate?function(t){return e.validate(t)}:e}var Up,Wp,qp,Zp,$p,Kp,Yp={provide:yp,useExisting:Ve((function(){return Xp})),multi:!0},Xp=((Up=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||Up)(Ds(Ya),Ds(qa))},Up.\u0275dir=Mt({type:Up,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&Ws("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[Ha([Yp])]}),Up),Qp={provide:yp,useExisting:Ve((function(){return ev})),multi:!0},Jp=((qp=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}()).\u0275fac=function(e){return new(e||qp)},qp.\u0275prov=xe({token:qp,factory:qp.\u0275fac}),qp),ev=((Wp=function(){function e(t,n,i,r){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=i,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Ap),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()).\u0275fac=function(e){return new(e||Wp)(Ds(Ya),Ds(qa),Ds(Jp),Ds(ds))},Wp.\u0275dir=Mt({type:Wp,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&Ws("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ha([Qp])]}),Wp),tv={provide:yp,useExisting:Ve((function(){return nv})),multi:!0},nv=((Zp=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||Zp)(Ds(Ya),Ds(qa))},Zp.\u0275dir=Mt({type:Zp,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&Ws("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[Ha([tv])]}),Zp),iv='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',rv='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',ov='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',sv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(iv))}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(rv,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(ov))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ".concat(iv))}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(rv))}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}(),av={provide:yp,useExisting:Ve((function(){return lv})),multi:!0},lv=(($p=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=bs}return _createClass(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i),e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||$p)(Ds(Ya),Ds(qa))},$p.\u0275dir=Mt({type:$p,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&Ws("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ha([av])]}),$p),uv={provide:yp,useExisting:Ve((function(){return cv})),multi:!0},cv=((Kp=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=bs}return _createClass(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var i=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(i.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var i=[];if(n.hasOwnProperty("selectedOptions"))for(var r=n.selectedOptions,o=0;o<r.length;o++){var s=r.item(o),a=t._getOptionValue(s.value);i.push(a)}else for(var l=n.options,u=0;u<l.length;u++){var c=l.item(u);if(c.selected){var h=t._getOptionValue(c.value);i.push(h)}}t.value=i,e(i)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i)._value,e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||Kp)(Ds(Ya),Ds(qa))},Kp.\u0275dir=Mt({type:Kp,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&Ws("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ha([uv])]}),Kp);function hv(e,t){return[].concat(_toConsumableArray(t.path),[e])}function fv(e,t){e||pv(t,"Cannot find control with"),t.valueAccessor||pv(t,"No value accessor for form control with"),e.validator=Vp.compose([e.validator,t.validator]),e.asyncValidator=Vp.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&dv(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&dv(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function dv(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function pv(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function vv(e){return null!=e?Vp.compose(e.map(Hp)):null}function gv(e){return null!=e?Vp.composeAsync(e.map(Gp)):null}function mv(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!bs(t,n.currentValue)}var yv=[bp,nv,Xp,lv,cv,ev];function kv(e,t){if(!t)return null;Array.isArray(t)||pv(e,"Value accessor was not provided as an array for form control with");var n=void 0,i=void 0,r=void 0;return t.forEach((function(t){var o;t.constructor===wp?n=t:(o=t,yv.some((function(e){return o.constructor===e}))?(i&&pv(e,"More than one built-in value accessor matches form control with"),i=t):(r&&pv(e,"More than one custom value accessor matches form control with"),r=t))})),r||i||n||(pv(e,"No valid value accessor for form control with"),null)}function bv(e){var t=Cv(e)?e.validators:e;return Array.isArray(t)?vv(t):t||null}function _v(e,t){var n=Cv(t)?t.asyncValidators:e;return Array.isArray(n)?gv(n):n||null}function Cv(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var wv,xv,Sv,Tv,Ov,Iv,Ev,Av,Rv,Pv,Dv=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"setValidators",value:function(e){this.validator=bv(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=_v(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=Bp(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var i=e;return t.forEach((function(e){i=i instanceof Mv?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof zv&&i.at(e)||null})),i}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new tu,this.statusChanges=new tu}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){Cv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),Fv=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,bv(i),_v(r,i))))._onChange=[],e._applyFormState(n),e._setUpdateStrategy(i),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _inherits(t,e),_createClass(t,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),t}(Dv),Mv=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,bv(n),_v(i,n)))).controls=e,r._initObservables(),r._setUpdateStrategy(n),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return _inherits(t,e),_createClass(t,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(i){t._throwIfControlMissing(i),t.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(i){t.controls[i]&&t.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof Fv?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(i,r){n=n||t.contains(r)&&e(i)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,i){return(n.enabled||e.disabled)&&(t[i]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,i){n=t(n,e,i)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),t}(Dv),zv=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,bv(n),_v(i,n)))).controls=e,r._initObservables(),r._setUpdateStrategy(n),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return _inherits(t,e),_createClass(t,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,i){t._throwIfControlMissing(i),t.at(i).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,i){t.at(i)&&t.at(i).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof Fv?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.controls[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){if(i.value.enabled)return!1}}catch(o){t=!0,n=o}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),t}(Dv),Lv={provide:Sp,useExisting:Ve((function(){return Nv}))},Vv=Promise.resolve(null),Nv=((xv=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).submitted=!1,i._directives=[],i.ngSubmit=new tu,i.form=new Mv({},vv(e),gv(n)),i}return _inherits(t,e),_createClass(t,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(e){var t=this;Vv.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),fv(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;Vv.then((function(){var n,i,r,o=t._findContainer(e.path);o&&o.removeControl(e.name),n=t._directives,i=e,(r=n.indexOf(i))>-1&&n.splice(r,1)}))}},{key:"addFormGroup",value:function(e){var t=this;Vv.then((function(){var n=t._findContainer(e.path),i=new Mv({});(function(e,t){null==e&&pv(t,"Cannot find control with"),e.validator=Vp.compose([e.validator,t.validator]),e.asyncValidator=Vp.composeAsync([e.asyncValidator,t.asyncValidator])})(i,e),n.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;Vv.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;Vv.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})),this.ngSubmit.emit(e),!1;var t}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),t}(Sp)).\u0275fac=function(e){return new(e||xv)(Ds(Mp,10),Ds(zp,10))},xv.\u0275dir=Mt({type:xv,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&Ws("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ha([Lv]),Sa]}),xv),Bv=((wv=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return hv(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return vv(this._validators)}},{key:"asyncValidator",get:function(){return gv(this._asyncValidators)}}]),t}(Sp)).\u0275fac=function(e){return jv(e||wv)},wv.\u0275dir=Mt({type:wv,features:[Sa]}),wv),jv=si(Bv),Hv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(iv,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(rv,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(ov))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(rv,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(ov))}}]),e}(),Gv={provide:Sp,useExisting:Ve((function(){return Uv}))},Uv=((Sv=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._parent=e,r._validators=n,r._asyncValidators=i,r}return _inherits(t,e),_createClass(t,[{key:"_checkParentType",value:function(){this._parent instanceof t||this._parent instanceof Nv||Hv.modelGroupParentException()}}]),t}(Bv)).\u0275fac=function(e){return new(e||Sv)(Ds(Sp,5),Ds(Mp,10),Ds(zp,10))},Sv.\u0275dir=Mt({type:Sv,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[Ha([Gv]),Sa]}),Sv),Wv={provide:Ap,useExisting:Ve((function(){return Zv}))},qv=Promise.resolve(null),Zv=((Ov=function(e){function t(e,n,i,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).control=new Fv,o._registered=!1,o.update=new tu,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=i||[],o.valueAccessor=kv(_assertThisInitialized(o),r),o}return _inherits(t,e),_createClass(t,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),mv(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){fv(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof Uv)&&this._parent instanceof Bv?Hv.formGroupNameException():this._parent instanceof Uv||this._parent instanceof Nv||Hv.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Hv.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;qv.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,i=""===n||n&&"false"!==n;qv.then((function(){i&&!t.control.disabled?t.control.disable():!i&&t.control.disabled&&t.control.enable()}))}},{key:"path",get:function(){return this._parent?hv(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return vv(this._rawValidators)}},{key:"asyncValidator",get:function(){return gv(this._rawAsyncValidators)}}]),t}(Ap)).\u0275fac=function(e){return new(e||Ov)(Ds(Sp,9),Ds(Mp,10),Ds(zp,10),Ds(yp,10))},Ov.\u0275dir=Mt({type:Ov,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ha([Wv]),Sa,Ra()]}),Ov),$v=((Tv=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Tv)},Tv.\u0275dir=Mt({type:Tv,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Tv),Kv=new et("NgModelWithFormControlWarning"),Yv={provide:Ap,useExisting:Ve((function(){return Xv}))},Xv=((Pv=function(e){function t(e,n,i,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._ngModelWarningConfig=r,o.update=new tu,o._ngModelWarningSent=!1,o._rawValidators=e||[],o._rawAsyncValidators=n||[],o.valueAccessor=kv(_assertThisInitialized(o),i),o}return _inherits(t,e),_createClass(t,[{key:"ngOnChanges",value:function(e){var n,i;this._isControlChanged(e)&&(fv(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),mv(e,this.viewModel)&&(n=t,i=this._ngModelWarningConfig,Ci()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(sv.ngModelWarning("formControl"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.form.setValue(this.model),this.viewModel=this.model)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_isControlChanged",value:function(e){return e.hasOwnProperty("form")}},{key:"isDisabled",set:function(e){sv.disabledAttrWarning()}},{key:"path",get:function(){return[]}},{key:"validator",get:function(){return vv(this._rawValidators)}},{key:"asyncValidator",get:function(){return gv(this._rawAsyncValidators)}},{key:"control",get:function(){return this.form}}]),t}(Ap)).\u0275fac=function(e){return new(e||Pv)(Ds(Mp,10),Ds(zp,10),Ds(yp,10),Ds(Kv,8))},Pv.\u0275dir=Mt({type:Pv,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ha([Yv]),Sa,Ra()]}),Pv._ngModelWarningSentOnce=!1,Pv),Qv=((Rv=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:Rv}),Rv.\u0275inj=Te({factory:function(e){return new(e||Rv)}}),Rv),Jv=((Av=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),i=null,r=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,r=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,r=null!=t.asyncValidator?t.asyncValidator:null)),new Mv(n,{asyncValidators:r,updateOn:o,validators:i})}},{key:"control",value:function(e,t,n){return new Fv(e,t,n)}},{key:"array",value:function(e,t,n){var i=this,r=e.map((function(e){return i._createControl(e)}));return new zv(r,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(i){n[i]=t._createControl(e[i])})),n}},{key:"_createControl",value:function(e){return e instanceof Fv||e instanceof Mv||e instanceof zv?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}()).\u0275fac=function(e){return new(e||Av)},Av.\u0275prov=xe({token:Av,factory:Av.\u0275fac}),Av),eg=((Ev=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:Ev}),Ev.\u0275inj=Te({factory:function(e){return new(e||Ev)},providers:[Jp],imports:[Qv]}),Ev),tg=((Iv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:Kv,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}()).\u0275mod=Dt({type:Iv}),Iv.\u0275inj=Te({factory:function(e){return new(e||Iv)},providers:[Jv,Jp],imports:[Qv]}),Iv);function ng(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];return G(i)?(t.pop(),te(t,i)):ae(t)}function ig(e,t,n,i){return y(n)&&(i=n,n=void 0),i?ig(e,t,n).pipe(Q((function(e){return w(e)?i.apply(void 0,_toConsumableArray(e)):i(e)}))):new M((function(i){!function e(t,n,i,r,o){var s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var a=t;t.addEventListener(n,i,o),s=function(){return a.removeEventListener(n,i,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var l=t;t.on(n,i),s=function(){return l.off(n,i)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var u=t;t.addListener(n,i),s=function(){return u.removeListener(n,i)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,h=t.length;c<h;c++)e(t[c],n,i,r,o)}r.add(s)}(e,t,(function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),i,n)}))}var rg=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new og(e,this.resultSelector))}}]),e}(),og=function(e){function t(e,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.create(null);return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:null,i.values=r,i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t=this.iterators;w(e)?t.push(new ag(e)):t.push("function"==typeof e[q]?new sg(e[q]()):new lg(this.destination,this,e))}},{key:"_complete",value:function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var i=e[n];i.stillUnsubscribed?this.destination.add(i.subscribe(i,n)):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var e=this.iterators,t=e.length,n=this.destination,i=0;i<t;i++){var r=e[i];if("function"==typeof r.hasValue&&!r.hasValue())return}for(var o=!1,s=[],a=0;a<t;a++){var l=e[a],u=l.next();if(l.hasCompleted()&&(o=!0),u.done)return void n.complete();s.push(u.value)}this.resultSelector?this._tryresultSelector(s):n.next(s),o&&n.complete()}},{key:"_tryresultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),t}(A),sg=function(){function e(t){_classCallCheck(this,e),this.iterator=t,this.nextResult=t.next()}return _createClass(e,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e}},{key:"hasCompleted",value:function(){var e=this.nextResult;return e&&e.done}}]),e}(),ag=function(){function e(t){_classCallCheck(this,e),this.array=t,this.index=0,this.length=0,this.length=t.length}return _createClass(e,[{key:q,value:function(){return this}},{key:"next",value:function(e){var t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),e}(),lg=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).parent=n,r.observable=i,r.stillUnsubscribed=!0,r.buffer=[],r.isComplete=!1,r}return _inherits(t,e),_createClass(t,[{key:q,value:function(){return this}},{key:"next",value:function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,i,r){this.buffer.push(t),this.parent.checkIterators()}},{key:"subscribe",value:function(e,t){return Y(this,this.observable,this,t)}}]),t}(X),ug=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).scheduler=e,i.work=n,i.pending=!1,i}return _inherits(t,e),_createClass(t,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),t}(function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))}return _inherits(t,e),_createClass(t,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),t}(O)),cg=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),hg=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cg.now;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,(function(){return t.delegate&&t.delegate!==_assertThisInitialized(n)?t.delegate.now():i()})))).actions=[],n.active=!1,n.scheduled=void 0,n}return _inherits(t,e),_createClass(t,[{key:"schedule",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return t.delegate&&t.delegate!==this?t.delegate.schedule(e,n,i):_get(_getPrototypeOf(t.prototype),"schedule",this).call(this,e,n,i)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),t}(cg),fg=new hg(ug);function dg(e){return!w(e)&&e-parseFloat(e)+1>=0}function pg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fg;return(!dg(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=fg),new M((function(n){return n.add(t.schedule(vg,e,{subscriber:n,counter:0,period:e})),n}))}function vg(e){var t=e.subscriber,n=e.counter,i=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}var gg=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._value=e,n}return _inherits(t,e),_createClass(t,[{key:"_subscribe",value:function(e){var n=_get(_getPrototypeOf(t.prototype),"_subscribe",this).call(this,e);return n&&!n.closed&&e.next(this._value),n}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new V;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(t.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),t}(j),mg=function(){function e(t){_classCallCheck(this,e),this.durationSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new yg(e,this.durationSelector))}}]),e}(),yg=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).durationSelector=n,i.hasValue=!1,i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t;try{t=(0,this.durationSelector)(e)}catch(i){return this.destination.error(i)}var n=Y(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}},{key:"notifyNext",value:function(e,t,n,i){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),t}(X);function kg(e){var t=e.index,n=e.period,i=e.subscriber;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}function bg(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fg;return t=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=-1;return dg(t)?i=Number(t)<1?1:Number(t):G(t)&&(n=t),G(n)||(n=fg),new M((function(t){var r=dg(e)?e:+e-n.now();return n.schedule(kg,r,{index:0,period:i,subscriber:t})}))}(e,n)},function(e){return e.lift(new mg(t))}}function _g(e,t){return"function"==typeof t?function(n){return n.pipe(_g((function(n,i){return ne(e(n,i)).pipe(Q((function(e,r){return t(n,e,i,r)})))})))}:function(t){return t.lift(new Cg(e))}}var Cg=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new wg(e,this.project))}}]),e}(),wg=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).project=n,i.index=0,i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=this.innerSubscription;i&&i.unsubscribe();var r=new U(this,t,n),o=this.destination;o.add(r),this.innerSubscription=Y(this,e,void 0,void 0,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(t.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(t.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,i,r){this.destination.next(t)}}]),t}(X),xg=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),Sg=new M((function(e){return e.complete()}));function Tg(e){return e?function(e){return new M((function(t){return e.schedule((function(){return t.complete()}))}))}(e):Sg}function Og(e){return function(t){return 0===e?Tg():t.lift(new Ig(e))}}var Ig=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new xg}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Eg(e,this.total))}}]),e}(),Eg=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).total=n,i.count=0,i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),t}(A),Ag=function(){function e(t,n){_classCallCheck(this,e),this.compare=t,this.keySelector=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Rg(e,this.compare,this.keySelector))}}]),e}(),Rg=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).keySelector=i,r.hasKey=!1,"function"==typeof n&&(r.compare=n),r}return _inherits(t,e),_createClass(t,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(r){return this.destination.error(r)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}]),t}(A);function Pg(e,t){return function(n){return n.lift(new Dg(e,t))}}var Dg=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Fg(e,this.predicate,this.thisArg))}}]),e}(),Fg=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).predicate=n,r.thisArg=i,r.count=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),t}(A);function Mg(e,t,n){return function(i){return i.lift(new zg(e,t,n))}}var zg=function(){function e(t,n,i){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Lg(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),Lg=function(e){function t(e,n,i,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e)))._tapNext=D,o._tapError=D,o._tapComplete=D,o._tapError=i||D,o._tapComplete=r||D,y(n)?(o._context=_assertThisInitialized(o),o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||D,o._tapError=n.error||D,o._tapComplete=n.complete||D),o}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),t}(A),Vg={leading:!0,trailing:!1},Ng=function(){function e(t,n,i,r){_classCallCheck(this,e),this.duration=t,this.scheduler=n,this.leading=i,this.trailing=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Bg(e,this.duration,this.scheduler,this.leading,this.trailing))}}]),e}(),Bg=function(e){function t(e,n,i,r,o){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).duration=n,s.scheduler=i,s.leading=r,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(jg,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}},{key:"_complete",value:function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}},{key:"clearThrottle",value:function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}]),t}(A);function jg(e){e.subscriber.clearThrottle()}function Hg(e){return function(t){return t.lift(new Gg(e))}}var Gg=function(){function e(t){_classCallCheck(this,e),this.notifier=t}return _createClass(e,[{key:"call",value:function(e,t){var n=new Ug(e),i=Y(n,this.notifier);return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}]),e}(),Ug=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).seenValue=!1,n}return _inherits(t,e),_createClass(t,[{key:"notifyNext",value:function(e,t,n,i,r){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),t}(X);function Wg(e,t){return t?_g((function(){return e}),t):_g((function(){return e}))}var qg,Zg=((qg=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=i,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return ng(this.value);case"E":return e=this.error,new M((function(t){return t.error(e)}));case"C":return Tg()}var e;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new qg("C"),qg.undefinedValueNotification=new qg("N",void 0),qg);function $g(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fg,i=(t=e)instanceof Date&&!isNaN(+t)?+e-n.now():Math.abs(e);return function(e){return e.lift(new Kg(i,n))}}var Kg=function(){function e(t,n){_classCallCheck(this,e),this.delay=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Yg(e,this.delay,this.scheduler))}}]),e}(),Yg=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).delay=n,r.scheduler=i,r.queue=[],r.active=!1,r.errored=!1,r}return _inherits(t,e),_createClass(t,[{key:"_schedule",value:function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}},{key:"scheduleNotification",value:function(e){if(!0!==this.errored){var t=this.scheduler,n=new Xg(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}}},{key:"_next",value:function(e){this.scheduleNotification(Zg.createNext(e))}},{key:"_error",value:function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(Zg.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){for(var t=e.source,n=t.queue,i=e.scheduler,r=e.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var o=Math.max(0,n[0].time-i.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1}}]),t}(A),Xg=function e(t,n){_classCallCheck(this,e),this.time=t,this.notification=n};function Qg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fg;return function(n){return n.lift(new Jg(e,t))}}var Jg=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new em(e,this.dueTime,this.scheduler))}}]),e}(),em=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).dueTime=n,r.scheduler=i,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(tm,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),t}(A);function tm(e){e.debouncedNext()}var nm=function(){function e(t,n){_classCallCheck(this,e),this.bufferSize=t,this.startBufferEvery=n,this.subscriberClass=n&&t!==n?rm:im}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))}}]),e}(),im=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).bufferSize=n,i.buffer=[],i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])}},{key:"_complete",value:function(){var e=this.buffer;e.length>0&&this.destination.next(e),_get(_getPrototypeOf(t.prototype),"_complete",this).call(this)}}]),t}(A),rm=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).bufferSize=n,r.startBufferEvery=i,r.buffers=[],r.count=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t=this.bufferSize,n=this.startBufferEvery,i=this.buffers,r=this.count;this.count++,r%n==0&&i.push([]);for(var o=i.length;o--;){var s=i[o];s.push(e),s.length===t&&(i.splice(o,1),this.destination.next(s))}}},{key:"_complete",value:function(){for(var e=this.buffers,n=this.destination;e.length>0;){var i=e.shift();i.length>0&&n.next(i)}_get(_getPrototypeOf(t.prototype),"_complete",this).call(this)}}]),t}(A),om=function(e,t){return function(n){return t(e(n))}},sm=function(e,t,n){return e.addEventListener&&e.addEventListener(t,n)},am=function(e,t,n){return e&&e.removeEventListener&&e.removeEventListener(t,n)},lm=function(){},um=function(e){return e.preventDefault()},cm=/touch/;function hm(e){return e.type.match(cm)?{pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,type:e.type,originalEvent:e,isTouch:!0}:{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,type:e.type,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,originalEvent:e}}var fm,dm,pm,vm,gm,mm,ym,km,bm=((fm=function(){function e(t){var n=this,i=t.press,r=void 0===i?lm:i,o=t.drag,s=void 0===o?lm:o,a=t.release,l=void 0===a?lm:a,u=t.mouseOnly,c=void 0!==u&&u;_classCallCheck(this,e),this._pressHandler=om(hm,r),this._dragHandler=om(hm,s),this._releaseHandler=om(hm,l),this._ignoreMouse=!1,this._mouseOnly=c,this._touchstart=function(e){1===e.touches.length&&n._pressHandler(e)},this._touchmove=function(e){1===e.touches.length&&n._dragHandler(e)},this._touchend=function(e){0===e.touches.length&&1===e.changedTouches.length&&(n._releaseHandler(e),n._ignoreMouse=!0,setTimeout(n._restoreMouse,2e3))},this._restoreMouse=function(){n._ignoreMouse=!1},this._mousedown=function(e){var t=e.which;t&&t>1||n._ignoreMouse||(sm(document,"mousemove",n._mousemove),sm(document,"mouseup",n._mouseup),n._pressHandler(e))},this._mousemove=function(e){n._dragHandler(e)},this._mouseup=function(e){am(document,"mousemove",n._mousemove),am(document,"mouseup",n._mouseup),n._releaseHandler(e)},this._pointerdown=function(e){e.isPrimary&&0===e.button&&(sm(document,"pointermove",n._pointermove),sm(document,"pointerup",n._pointerup),sm(document,"pointercancel",n._pointerup),sm(document,"contextmenu",um),n._pressHandler(e))},this._pointermove=function(e){e.isPrimary&&n._dragHandler(e)},this._pointerup=function(e){e.isPrimary&&(am(document,"pointermove",n._pointermove),am(document,"pointerup",n._pointerup),am(document,"pointercancel",n._pointerup),am(document,"contextmenu",um),n._releaseHandler(e))}}return _createClass(e,null,[{key:"supportPointerEvent",value:function(){return"undefined"!=typeof window&&window.PointerEvent}}]),_createClass(e,[{key:"bindTo",value:function(e){e!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=e,this._bindToCurrent())}},{key:"_bindToCurrent",value:function(){var e=this._element;this._usePointers()?sm(e,"pointerdown",this._pointerdown):(sm(e,"mousedown",this._mousedown),this._mouseOnly||(sm(e,"touchstart",this._touchstart),sm(e,"touchmove",this._touchmove),sm(e,"touchend",this._touchend)))}},{key:"_unbindFromCurrent",value:function(){var e=this._element;if(this._usePointers())return am(e,"pointerdown",this._pointerdown),am(document,"pointermove",this._pointermove),am(document,"pointerup",this._pointerup),am(document,"contextmenu",um),void am(document,"pointercancel",this._pointerup);am(e,"mousedown",this._mousedown),this._mouseOnly||(am(e,"touchstart",this._touchstart),am(e,"touchmove",this._touchmove),am(e,"touchend",this._touchend))}},{key:"_usePointers",value:function(){return!this._mouseOnly&&e.supportPointerEvent()}},{key:"update",value:function(e){var t=e.press,n=void 0===t?lm:t,i=e.drag,r=void 0===i?lm:i,o=e.release,s=void 0===o?lm:o,a=e.mouseOnly,l=void 0!==a&&a;this._pressHandler=om(hm,n),this._dragHandler=om(hm,r),this._releaseHandler=om(hm,s),this._mouseOnly=l}},{key:"destroy",value:function(){this._unbindFromCurrent(),this._element=null}}]),e}()).default=fm,fm),_m=function(){return"undefined"!=typeof document},Cm=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return!(void 0===t[e]||t[e].isFirstChange()&&n||t[e].previousValue===t[e].currentValue)},wm=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.some((function(e){return Cm(e,t,n)}))},xm=function(e){return e&&e.observers.length>0},Sm=function(){for(var e="",t=0;t<32;t++){var n=16*Math.random()|0;8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),e+=(12===t?4:16===t?3&n|8:n).toString(16)}return e},Tm=((gm=function(){function e(t,n){_classCallCheck(this,e),this.element=t,this.ngZone=n,this.enableDrag=!0,this.kendoPress=new tu,this.kendoDrag=new tu,this.kendoRelease=new tu}return _createClass(e,[{key:"ngOnInit",value:function(){this.toggleDraggable()}},{key:"ngOnChanges",value:function(e){Cm("enableDrag",e)&&this.toggleDraggable()}},{key:"ngOnDestroy",value:function(){this.destroyDraggable()}},{key:"toggleDraggable",value:function(){var e=this;_m()&&(this.destroyDraggable(),this.enableDrag&&(this.draggable=new bm({drag:function(t){return e.kendoDrag.next(t)},press:function(t){return e.kendoPress.next(t)},release:function(t){return e.kendoRelease.next(t)}}),this.ngZone.runOutsideAngular((function(){return e.draggable.bindTo(e.element.nativeElement)}))))}},{key:"destroyDraggable",value:function(){this.draggable&&(this.draggable.destroy(),this.draggable=null)}}]),e}()).\u0275fac=function(e){return new(e||gm)(Ds(qa),Ds(qu))},gm.\u0275dir=Mt({type:gm,selectors:[["","kendoDraggable",""]],inputs:{enableDrag:"enableDrag"},outputs:{kendoPress:"kendoPress",kendoDrag:"kendoDrag",kendoRelease:"kendoRelease"},features:[Ra()]}),gm),Om=((vm=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:vm}),vm.\u0275inj=Te({factory:function(e){return new(e||vm)},imports:[[ih]]}),vm),Im=((pm=function(){function e(t,n,i){_classCallCheck(this,e),this.element=t,this.ngZone=n,this.renderer=i,this.events={}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;if(this.element&&this.element.nativeElement){var t=this.events;this.subscriptions=[],this.ngZone.runOutsideAngular((function(){for(var n in t)t.hasOwnProperty(n)&&e.subscriptions.push(e.renderer.listen(e.element.nativeElement,n,e.scope?t[n].bind(e.scope):t[n]))}))}}},{key:"ngOnDestroy",value:function(){if(this.subscriptions){for(var e=0;e<this.subscriptions.length;e++)this.subscriptions[e]();this.subscriptions=null}}}]),e}()).\u0275fac=function(e){return new(e||pm)(Ds(qa),Ds(qu),Ds(Ya))},pm.\u0275dir=Mt({type:pm,selectors:[["","kendoEventsOutsideAngular",""]],inputs:{events:["kendoEventsOutsideAngular","events"],scope:"scope"}}),pm),Em=((dm=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:dm}),dm.\u0275inj=Te({factory:function(e){return new(e||dm)}}),dm),Am=function(){function e(t){_classCallCheck(this,e),this.resizeBatchService=t,this.resize=new tu,this.acceptedSize=!1,this.state=0}return _createClass(e,[{key:"acceptSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.measure();this.lastWidth=e.width,this.lastHeight=e.height,this.acceptedSize=!0}},{key:"checkChanges",value:function(){_m()&&0===this.state&&(this.state=1,this.resizeBatchService.schedule(this,this.init))}},{key:"destroy",value:function(){this.resizeBatchService.cancel(this)}},{key:"checkSize",value:function(){if(this.parentElement){var e=this.measure(),t=e.width,n=e.height;return t===this.lastWidth&&n===this.lastHeight?void 0:(this.lastWidth=t,this.lastHeight=n,this.acceptedSize=!1,this.resize.emit(),!0)}}},{key:"initSize",value:function(){var e=this.measure();this.lastWidth=e.width,this.lastHeight=e.height}},{key:"measure",value:function(){var e=0,t=0;return this.parentElement&&(t=this.parentElement.offsetHeight,e=this.parentElement.offsetWidth),{height:t,width:e}}}]),e}(),Rm=function(e){var t=document.createElement("div");return t.style.cssText=e,t},Pm="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;",Dm=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).element=n,r.ngZone=i,r}return _inherits(t,e),_createClass(t,[{key:"checkChanges",value:function(){2!==this.state?_get(_getPrototypeOf(t.prototype),"checkChanges",this).call(this):this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize)}},{key:"destroy",value:function(){if(_get(_getPrototypeOf(t.prototype),"destroy",this).call(this),this.subscription&&this.subscription.unsubscribe(),this.expand){var e=this.element.nativeElement;e.removeChild(this.expand),e.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null}}},{key:"checkSize",value:function(){if(_get(_getPrototypeOf(t.prototype),"checkSize",this).call(this))return this.reset(),!0}},{key:"init",value:function(){var e=this.parentElement=this.element.nativeElement.parentElement;"static"===getComputedStyle(e,null).getPropertyValue("position")&&(e.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()}},{key:"render",value:function(){var e=this.element.nativeElement;e.style.cssText=Pm,e.setAttribute("dir","ltr"),this.expand=Rm(Pm),this.expandChild=Rm("position: absolute; left: 0; top: 0; transition: 0s;"),this.expand.appendChild(this.expandChild),e.appendChild(this.expand),this.shrink=Rm(Pm);var t=Rm("position: absolute; left: 0; top: 0; transition: 0s;width: 200%; height: 200%;");this.shrink.appendChild(t),e.appendChild(this.shrink)}},{key:"reset",value:function(){var e=this.expandChild;e.style.width=1e5+"px",e.style.height=1e5+"px";var t=this.expand;t.scrollLeft=1e5,t.scrollTop=1e5;var n=this.shrink;n.scrollLeft=1e5,n.scrollTop=1e5}},{key:"subscribe",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.subscription=le(ig(e.shrink,"scroll"),ig(e.expand,"scroll")).subscribe((function(){e.checkSize()}))}))}}]),t}(Am),Fm="undefined"!=typeof ResizeObserver,Mm=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).element=n,r.ngZone=i,r}return _inherits(t,e),_createClass(t,[{key:"destroy",value:function(){_get(_getPrototypeOf(t.prototype),"destroy",this).call(this),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null}},{key:"init",value:function(){var e=this;this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular((function(){e.resizeObserver=new ResizeObserver((function(){e.checkSize()})),e.resizeObserver.observe(e.parentElement)}))}}],[{key:"supported",value:function(){return Fm}}]),t}(Am),zm=((km=function(){function e(t){_classCallCheck(this,e),this.ngZone=t,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}return _createClass(e,[{key:"schedule",value:function(e,t){var n=this;this.scheduled.push({instance:e,method:t}),this.subscription||this.ngZone.runOutsideAngular((function(){n.subscription=ne(n.resolvedPromise).subscribe(n.flush)}))}},{key:"isScheduled",value:function(e){return Boolean(this.scheduled.find((function(t){return t.instance===e})))}},{key:"cancel",value:function(e){for(var t=this.scheduled,n=t.length,i=0;i<n;i++)if(t[i].instance===e)return t.splice(i,1),void(t.length||this.unsubscribe())}},{key:"ngOnDestroy",value:function(){this.unsubscribe()}},{key:"unsubscribe",value:function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}},{key:"flush",value:function(){this.scheduled.forEach((function(e){e.method.call(e.instance)})),this.scheduled=[],this.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||km)(ut(qu))},km.\u0275prov=xe({token:km,factory:km.\u0275fac}),km),Lm=((ym=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.rateLimit=10,this.resize=new tu;var o=Mm.supported()?Mm:Dm;this.resizeService=new o(t,n,i),this.subscription=this.resizeService.resize.pipe(bg(1e3/(this.rateLimit||10))).subscribe((function(){r.resizeService.acceptedSize||r.resize.emit()}))}return _createClass(e,[{key:"ngAfterViewChecked",value:function(){this.resizeService.checkChanges()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe(),this.resizeService.destroy()}},{key:"acceptSize",value:function(e){this.resizeService.acceptSize(e)}}]),e}()).\u0275fac=function(e){return new(e||ym)(Ds(zm),Ds(qa),Ds(qu))},ym.\u0275cmp=Et({type:ym,selectors:[["kendo-resize-sensor"]],inputs:{rateLimit:"rateLimit"},outputs:{resize:"resize"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),ym),Vm=((mm=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:mm}),mm.\u0275inj=Te({factory:function(e){return new(e||mm)},providers:[zm]}),mm),Nm=function e(){_classCallCheck(this,e)},Bm=function(e){return e[e.Alt=18]="Alt",e[e.ArrowDown=40]="ArrowDown",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowUp=38]="ArrowUp",e[e.Backspace=8]="Backspace",e[e.Control=17]="Control",e[e.Delete=46]="Delete",e[e.Digit0=48]="Digit0",e[e.Digit1=49]="Digit1",e[e.Digit2=50]="Digit2",e[e.Digit3=51]="Digit3",e[e.Digit4=52]="Digit4",e[e.Digit5=53]="Digit5",e[e.Digit6=54]="Digit6",e[e.Digit7=55]="Digit7",e[e.Digit8=56]="Digit8",e[e.Digit9=57]="Digit9",e[e.End=35]="End",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F10=121]="F10",e[e.Home=36]="Home",e[e.Insert=45]="Insert",e[e.KeyA=65]="KeyA",e[e.KeyB=66]="KeyB",e[e.KeyC=67]="KeyC",e[e.KeyD=68]="KeyD",e[e.KeyE=69]="KeyE",e[e.KeyF=70]="KeyF",e[e.KeyG=71]="KeyG",e[e.KeyH=72]="KeyH",e[e.KeyI=73]="KeyI",e[e.KeyJ=74]="KeyJ",e[e.KeyK=75]="KeyK",e[e.KeyL=76]="KeyL",e[e.KeyM=77]="KeyM",e[e.KeyN=78]="KeyN",e[e.KeyO=79]="KeyO",e[e.KeyP=80]="KeyP",e[e.KeyQ=81]="KeyQ",e[e.KeyR=82]="KeyR",e[e.KeyS=83]="KeyS",e[e.KeyT=84]="KeyT",e[e.KeyU=85]="KeyU",e[e.KeyV=86]="KeyV",e[e.KeyW=87]="KeyW",e[e.KeyX=88]="KeyX",e[e.KeyY=89]="KeyY",e[e.KeyZ=90]="KeyZ",e[e.NumpadDecimal=110]="NumpadDecimal",e[e.PageDown=34]="PageDown",e[e.PageUp=33]="PageUp",e[e.Shift=16]="Shift",e[e.Space=32]="Space",e[e.Tab=9]="Tab",e}({}),jm=function(e){return null!=e},Hm=function(e){return null==e},Gm=function(e){return jm(e.filters)},Um=function(e,t,n){return function(i){return e(i)?t(i):n(i)}},Wm=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},qm={},Zm=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;qm[void 0]=function(e){return e};var $m,Km,Ym,Xm=function(e,t){var n=e+t;if(qm[n])return qm[n];var i=[];return e.replace(Zm,(function(e,t,n,r){i.push(jm(t)?t:n||r)})),qm[n]=function(e){for(var n=e,r=0;r<i.length;r++)if(n=n[i[r]],!jm(n)&&t)return n;return n},qm[n]},Qm=function(e){return function(t){return[e,t]}},Jm=function(){return null},ey=function(e){return function(t){return jm(e(t))}},ty=function(e){return function(t){return function(e){return jm(e)&&function(e){return Array.isArray(e)}(e)&&e.length>0}(e(t))}},ny=function(e,t){return Um(e,t,Jm)},iy=function(e,t){return function(n){return e(n).map(t).join("~")}},ry=Wm.apply(void 0,_toConsumableArray([['"',""],[":","-"]].map((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return function(e){return e.replace(new RegExp(n,"g"),i)}})))),oy=function(e){var t=e.field,n=e.dir,i=void 0===n?"asc":n;return"".concat(t,"-").concat(i)},sy=Xm("take"),ay=Xm("aggregates"),ly=Xm("skip"),uy=Xm("group"),cy=Xm("sort",!0),hy=iy(cy,oy),fy=iy(uy,oy),dy=iy(ay,(function(e){var t=e.field,n=e.aggregate;return"".concat(t,"-").concat(n)})),py=Wm((function(e){return"datetime'".concat(e,"'")}),(function(e){return e.slice(0,e.indexOf("."))}),ry,JSON.stringify,(function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))})),vy=Wm(Qm("page"),(function(e){var t=e.skip,n=e.take;return Math.floor((t||0)/n)+1})),gy=Wm(Qm("pageSize"),sy),my=Wm(Qm("group"),fy),yy=Wm(Qm("sort"),hy),ky=Wm(Qm("aggregate"),dy),by=(ny(ey(ly),vy),ny(ey(sy),gy),ny(ty(uy),my),ny(ey(ay),ky),Wm(ny(ty(cy),yy),(function(e){return Object.assign({},e,{sort:(cy(e)||[]).filter((function(e){var t,n=e.dir;return!(Hm(t=n)||0===t.trim().length)}))})})),function(e){var t=e.field,n=e.operator,i=e.value;return"".concat(t,"~").concat(n,"~").concat(i)}),_y=(Um((function(e){return(t=e.value)&&t.getTime;var t}),Wm(by,(function(e){var t=e.field,n=e.value,i=e.ignoreCase,r=e.operator;return{value:py(n),field:t,ignoreCase:i,operator:r}})),by),function(e,t,n){return t[e]=n,t}),Cy=function(e){return function(t){var n,i=t[e];return jm(i)?i:t[(n=e,n.replace(/(^[A-Z])/g,(function(e,t){return t.toLowerCase()})))]}},wy=(Cy("Member"),Cy("AggregateMethodName"),Cy("Value"),function(e){return function(t){return Object.keys(t).reduce(e.bind(null,t),{})}}),xy=wy((function(e,t,n){return _y(n.toLowerCase(),t,e[n])})),Sy=wy((function(e,t,n){return _y(n,t,xy(e[n]))})),Ty=function(e,t){return jm(e)?e:t},Oy=Wm((function(e){var t=e.field,n=e.hasSubgroups,i=e.value,r=e.aggregates,o=e.items;return{aggregates:Sy(r),field:t,items:n?o.map(Oy):o,value:i}}),(function(e){return{aggregates:e.Aggregates||e.aggregates,field:e.Member||e.member||e.field,hasSubgroups:e.HasSubgroups||e.hasSubgroups||!1,items:e.Items||e.items,value:Ty(e.Key,Ty(e.key,e.value))}})),Iy=function(e,t){return Hm(e)?e===t?0:-1:Hm(t)?1:e.localeCompare?e.localeCompare(t):e>t?1:e<t?-1:0},Ey=function(e,t){return Iy(t,e)},Ay=function(e){var t=Xm(e.field,!0);return function(n,i){return("asc"===e.dir?Iy:Ey)(t(n),t(i))}},Ry=function(e,t){return 0},Py=function(e){return function(t){return function(n,i,r){return t(n,e(i,r))}}},Dy=(Py((function(e){return e})),Py((function(e){return e})),function(e,t,n,i){if(!(n-t<2)){var r=t+n>>>1;Dy(e,t,r,i),Dy(e,r,n,i),function(e,t,n,i,r){for(var o=n-t,s=i-n,a=[],l=0;l<o;l++)a.push(e[t+l]);var u=0,c=n,h=t;do{r(e[c],a[u])<0?(e[h++]=e[c++],s--):(e[h++]=a[u++],o--)}while(s>0&&o>0);for(;o;)e[h++]=a[u++],o--;for(;s;)e[h++]=e[c++],s--}(e,t,r,n,i)}}),Fy=function(e,t){if(t.some((function(e){return jm(e.dir)}))){e=e.slice(0);var n=function(e){return e.filter((function(e){return jm(e.dir)})).map((function(e){return Ay(e)})).reduce((function(e,t){return function(n,i){return e(n,i)||t(n,i)}}),Ry)}(t);Dy(e,0,e.length,n)}return e},My=function(){function e(t){_classCallCheck(this,e),this.total=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new zy(e,this.total))}}]),e}(),zy=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).total=n,i.count=0,i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){++this.count>this.total&&this.destination.next(e)}}]),t}(A),Ly=((Km=function(){function e(){_classCallCheck(this,e),this.changes=new j}return _createClass(e,[{key:"notify",value:function(e){this.changes.next({rtl:e})}},{key:"get",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||Km)},Km.\u0275prov=xe({token:Km,factory:Km.\u0275fac}),Km),Vy=(($m=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.register(e),Object.keys(e).some((function(t){return!e[t].isFirstChange()}))&&this.service.notifyChanges()}},{key:"ngOnInit",value:function(){var e=this;this.subscription=this.service.changes.pipe((function(e){return e.lift(new My(1))})).subscribe((function(){return e.register(e)}))}},{key:"register",value:function(e){var t=this;Object.keys(e).forEach((function(e){return t.service.register(e,t[e],t.override)}))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"override",get:function(){return!1}}]),e}()).\u0275fac=function(e){return new(e||$m)},$m.\u0275dir=Mt({type:$m,features:[Ra()]}),$m),Ny=new et("Kendo UI Right-to-Left token"),By=new et("Localization key prefix"),jy=((Ym=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.prefix=t,this.messageService=n,this._rtl=i,this.changes=new gg({rtl:this._rtl}),this.dictionary={},n&&(this.subscription=n.changes.pipe(Q((function(e){var t=e.rtl;return void 0!==t?t:r._rtl})),Mg((function(e){return r._rtl=e}))).subscribe((function(e){r.dictionary={},r.changes.next({rtl:e})})))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"get",value:function(e){var t=this.key(e);return this.dictionary[t]}},{key:"register",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.key(e),r=t;if(!n){if(this.dictionary.hasOwnProperty(i))return;r=this.defaultValue(i,t)}this.dictionary[i]=r}},{key:"notifyChanges",value:function(){this.changes.next({rtl:this.rtl})}},{key:"key",value:function(e){return this.prefix+"."+e}},{key:"defaultValue",value:function(e,t){if(!this.messageService)return t;var n=this.messageService.get(e);return void 0===n?t:n}},{key:"rtl",get:function(){return this._rtl}}]),e}()).\u0275fac=function(e){return new(e||Ym)(ut(By),ut(Ly,8),ut(Ny,8))},Ym.\u0275prov=xe({token:Ym,factory:Ym.\u0275fac}),Ym);function Hy(e){return e.ownerDocument||e.document||e}var Gy=function(e){return Hy(e).defaultView},Uy=function(e){return Hy(e).documentElement},Wy=0;function qy(){if(!Wy&&"undefined"!=typeof document){var e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),Wy=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return Wy}function Zy(e){var t=Gy(e),n=Uy(e),i={height:t.innerHeight,width:t.innerWidth};return n.scrollHeight-n.clientHeight>0&&(i.width-=qy()),i}var $y=function(e){for(var t=e.offsetParent;t&&"static"===t.style.position;)t=t.offsetParent;return t||Uy(e)},Ky=function(e){var t=e.getBoundingClientRect(),n=t,i=n.left,r=n.top;return t.height||t.width||(t=function(e){var t=e.style,n=t.display,i=t.left,r=t.position;e.style.display="",e.style.left="-10000px",e.style.position="absolute";var o=e.getBoundingClientRect();return e.style.display=n,e.style.left=i,e.style.position=r,o}(e)),{top:r,left:i,height:t.height,width:t.width}},Yy=function(e,t){for(var n=[],i=e.parentNode;i&&(n.push(i),i!==t);)i=i.parentNode;return n};function Xy(e){var t=Uy(e),n=Gy(e);return{x:n.pageXOffset||t.scrollLeft||0,y:n.pageYOffset||t.scrollTop||0}}var Qy=function(e){return e===(e.ownerDocument||{}).body?Xy(e):{x:e.scrollLeft,y:e.scrollTop}},Jy=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=t?$y(t):null,r=function(e,t){var n=Gy(e),i=n.getComputedStyle(e),r=Ky(e),o=t||$y(e),s=e.ownerDocument,a={top:0,left:0};if("fixed"!==i.position&&o!==s.body&&o!==s.documentElement){var l=n.getComputedStyle(o);(a=Ky(o)).top+=parseInt(l.borderTopWidth,10),a.left+=parseInt(l.borderLeftWidth,10)}return{top:r.top-a.top,left:r.left-a.left,height:r.height,width:r.width}}(e,i),o=r.top,s=r.left,a=r.height,l=r.width,u=function(e,t){return e?Qy(e):function(e){var t=$y(e);return t?Qy(t):{x:0,y:0}}(t)}(i,e),c=u.x,h=u.y,f=e.ownerDocument,d=i===f.body||i===f.documentElement?1:n;return{top:o+h*d,left:s+c*d,height:a,width:l}},ek=function(e,t,n){var i=0;return e+t>n&&(i=n-(e+t)),e<0&&(i=-e),i},tk=function(e){var t=e.offset,n=e.size,i=e.anchorSize,r=e.viewPortSize,o=e.anchorAlignPoint,s=e.elementAlignPoint,a=0,l=2*e.margin;if(s!==o&&"center"!==s&&"middle"!==s&&"center"!==o&&"middle"!==o){var u="top"===o||"left"===o;t<0&&u?t+(a=n+i+l)+n>r&&(a=0):t>=0&&!u&&(t+n>r&&(a+=-(i+n+l)),t+a<0&&(a=0))}return a},nk=function(e){for(var t=[],n=e.parentNode.firstElementChild;n;)n!==e&&t.push(n),n=n.nextElementSibling;return t},ik=["container"];function rk(e,t){}var ok=["*"],sk=function(e,t){return e||{height:0,left:t.left,top:t.top,width:0}},ak=function(){return"undefined"!=typeof window},lk=/auto|scroll/,uk=function(e){return function(e){return"".concat(e.style.overflow).concat(e.style.overflowX).concat(e.style.overflowY)}(e)||function(e){var t=window.getComputedStyle(e);return"".concat(t.overflow).concat(t.overflowX).concat(t.overflowY)}(e)};var ck,hk,fk,dk,pk,vk,gk,mk,yk,kk,bk,_k,Ck=(ck=function(){if(!_m()&&null!==document.body)return!1;var e=document.createElement("div");e.style.transform="matrix(10, 0, 0, 10, 0, 0)",e.innerHTML='<div style="position: fixed; top: 10px;">child</div>',document.body.appendChild(e);var t=10!==e.children[0].getBoundingClientRect().top;return document.body.removeChild(e),t},fk=!1,function(){return fk?hk:(hk=ck.apply(void 0,arguments),fk=!0,hk)}),wk=function(e,t){return e&&1!==t?{height:e.height/t,left:e.left/t,top:e.top/t,width:e.width/t}:e},xk=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],Sk=((dk=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addOffset",value:function(e,t){return{left:e.left+t.left,top:e.top+t.top}}},{key:"addScroll",value:function(e,t){return function(e,t){return{top:e.top+t.y,left:e.left+t.x,height:e.height,width:e.width}}(e,t)}},{key:"align",value:function(e){return n=(t=e).anchorRect,i=t.anchorAlign,r=t.elementRect,o=t.elementAlign,s=t.margin,a=void 0===s?{}:s,l=i.horizontal,u=i.vertical,c=o.horizontal,h=o.vertical,f=a.horizontal||0,d=a.vertical||0,p=n.top,v=n.left,"bottom"===u&&(p+=n.height),"center"!==u&&"middle"!==u||(p+=Math.round(n.height/2)),"bottom"===h&&(p-=r.height,d*=-1),"center"!==h&&"middle"!==h||(p-=Math.round(r.height/2),d*=-1),"right"===l&&(v+=n.width),"center"!==l&&"middle"!==l||(v+=Math.round(n.width/2)),"right"===c&&(v-=r.width,f*=-1),"center"!==c&&"middle"!==c||(v-=Math.round(r.width/2),f*=-1),{top:p+d,left:v+f};var t,n,i,r,o,s,a,l,u,c,h,f,d,p,v}},{key:"boundingOffset",value:function(e){return function(e){if(!e.getBoundingClientRect){var t=Zy(e);return{bottom:t.height,left:0,right:t.width,top:0}}var n=e.getBoundingClientRect();return{bottom:n.bottom,left:n.left,right:n.right,top:n.top}}(this.nativeElement(e))}},{key:"getFontStyles",value:function(e){var t=this.getWindow();if(!t||!e)return[];var n=t.getComputedStyle(this.nativeElement(e));return xk.map((function(e){return{key:e,value:n[e]}}))}},{key:"getWindow",value:function(){return ak()?window:null}},{key:"hasOffsetParent",value:function(e){return!!e&&!!this.nativeElement(e).offsetParent}},{key:"offset",value:function(e){return e?Ky(this.nativeElement(e)):null}},{key:"offsetAtPoint",value:function(e,t){if(!e)return null;var n=this.nativeElement(e),i=n.style,r=i.left,o=i.top,s=i.transition;n.style.transition="none",n.style.left="".concat(t.left,"px"),n.style.top="".concat(t.top,"px");var a=Ky(n);return n.style.left=r,n.style.top=o,n.style.transition=s,a}},{key:"nativeElement",value:function(e){return e?e.nativeElement||e:null}},{key:"position",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e&&t?Jy(this.nativeElement(e),this.nativeElement(t),n):null}},{key:"removeScroll",value:function(e,t){return function(e,t){return{top:e.top-t.y,left:e.left-t.x,height:e.height,width:e.width}}(e,t)}},{key:"restrictToView",value:function(e){return function(e){var t=e.anchorRect,n=e.anchorAlign,i=e.elementRect,r=e.elementAlign,o=e.collisions,s=e.viewPort,a=e.margin,l=void 0===a?{}:a,u=i.top,c=i.left,h=i.height,f=i.width,d=s.height,p=s.width,v=l.horizontal||0,g=l.vertical||0,m=0,y=0,k="flip"===o.horizontal,b="flip"===o.vertical;"fit"===o.vertical&&(y+=ek(u,h,d)),"fit"===o.horizontal&&(m+=ek(c,f,p)),b&&(y+=tk({margin:g,offset:u,size:h,anchorSize:t.height,viewPortSize:d,anchorAlignPoint:n.vertical,elementAlignPoint:r.vertical})),k&&(m+=tk({margin:v,offset:c,size:f,anchorSize:t.width,viewPortSize:p,anchorAlignPoint:n.horizontal,elementAlignPoint:r.horizontal}));var _=k&&0!==m,C=b&&0!==y;return{flipped:_||C,flip:{horizontal:_,vertical:C},offset:{left:m,top:y}}}(e)}},{key:"scrollPosition",value:function(e){return Xy(this.nativeElement(e))}},{key:"scrollableParents",value:function(e){return function(e){var t=[];if(!_m()||!ak())return t;for(var n=e.parentElement;n;)(lk.test(uk(n))||n.hasAttribute("data-scrollable"))&&t.push(n),n=n.parentElement;return t.push(window),t}(this.nativeElement(e))}},{key:"stackingElementOffset",value:function(e){var t=this.getRelativeContextElement(e);return t?Ky(t):null}},{key:"stackingElementScroll",value:function(e){var t=this.getRelativeContextElement(e);return t?{x:t.scrollLeft,y:t.scrollTop}:{x:0,y:0}}},{key:"getRelativeContextElement",value:function(e){if(!e||!Ck())return null;for(var t=this.nativeElement(e).parentElement;t;){if("none"!==window.getComputedStyle(t).transform)return t;t=t.parentElement}return null}},{key:"useRelativePosition",value:function(e){return!!this.getRelativeContextElement(e)}},{key:"windowViewPort",value:function(e){return Zy(this.nativeElement(e))}},{key:"zIndex",value:function(e,t){return function(e,t){if(!e||!_m()||!ak())return null;var n=function(e,t){for(var n,i,r=Yy(e),o=t;o&&(n=nk(o),!(i=r.reduce((function(e,t){return e.concat(n.filter((function(e){return e===t})))}),[])[0]));)o=o.parentElement;return i}(e,t);if(!n)return null;var i=[e].concat(Yy(e,n)).reduce((function(e,t){var n=t.style.zIndex||window.getComputedStyle(t).zIndex,i=parseInt(n,10);return i>e?i:e}),0);return i?i+1:null}(this.nativeElement(e),this.nativeElement(t))}},{key:"zoomLevel",value:function(){return _m()&&ak()&&parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1}},{key:"isZoomed",value:function(){return this.zoomLevel()>1}}]),e}()).\u0275fac=function(e){return new(e||dk)},dk.\u0275prov=xe({token:dk,factory:dk.\u0275fac}),dk),Tk=new et("Popup Document Scale"),Ok=((mk=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_classCallCheck(this,e),this._dom=t,this.scale=n}return _createClass(e,[{key:"alignElement",value:function(e){var t=e.anchor,n=e.element,i=e.anchorAlign,r=e.elementAlign,o=e.margin,s=e.offset,a=e.positionMode,l=this.scale||1,u="fixed"!==a&&this._dom.hasOffsetParent(n)?this.relativeRect(t,n,s,l):this.absoluteRect(t,n,s,l),c=wk(this._dom.offset(n),l);return this._dom.align({anchorAlign:i,anchorRect:u,elementAlign:r,elementRect:c,margin:o})}},{key:"absoluteRect",value:function(e,t,n,i){var r=this.elementScrollPosition(e,t),o=sk(this._dom.offset(e),n),s=2*i,a=this._dom.stackingElementScroll(t);1!==i&&a&&(a.x/=s,a.y/=s);var l=this._dom.stackingElementOffset(t);return 1!==i&&l&&(l.left/=s,l.top/=s),this._dom.removeScroll(this._dom.addScroll(function(e,t){return t?{height:e.height,left:e.left-t.left,top:e.top-t.top,width:e.width}:e}(wk(o,i),l),a),r)}},{key:"elementScrollPosition",value:function(e,t){return e?{x:0,y:0}:this._dom.scrollPosition(t)}},{key:"relativeRect",value:function(e,t,n,i){var r=sk(this._dom.position(e,t,i),n);return wk(r,i)}}]),e}()).\u0275fac=function(e){return new(e||mk)(ut(Sk),ut(Tk,8))},mk.\u0275prov=xe({token:mk,factory:mk.\u0275fac}),mk),Ik=((gk=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_classCallCheck(this,e),this._dom=t,this.scale=n}return _createClass(e,[{key:"positionElement",value:function(e){var t=e.anchor,n=e.currentLocation,i=e.element,r=e.anchorAlign,o=e.elementAlign,s=e.collisions,a=e.margin,l=this._dom,u=this.scale||1,c=l.offsetAtPoint(i,n),h=wk(c,u),f=wk(l.offset(t),u),d=sk(f,n),p=e.viewPort||l.windowViewPort(i);p.width=p.width/u,p.height=p.height/u;var v=l.restrictToView({anchorAlign:r,anchorRect:d,collisions:s,elementAlign:o,elementRect:h,margin:a,viewPort:p}),g=l.addOffset(n,v.offset);return{flip:v.flip,flipped:v.flipped,offset:g}}}]),e}()).\u0275fac=function(e){return new(e||gk)(ut(Sk),ut(Tk,8))},gk.\u0275prov=xe({token:gk,factory:gk.\u0275fac}),gk),Ek=((vk=function(){function e(t,n){_classCallCheck(this,e),this._dom=t,this._zone=n}return _createClass(e,[{key:"subscribe",value:function(e){var t=this;_m()&&this._zone.runOutsideAngular((function(){t.subscription=ig(t._dom.getWindow(),"resize").pipe(bg(1e3/60)).subscribe((function(){return e()}))}))}},{key:"unsubscribe",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"isUnsubscribed",value:function(){return this.subscription&&this.subscription.closed}}]),e}()).\u0275fac=function(e){return new(e||vk)(ut(Sk),ut(qu))},vk.\u0275prov=xe({token:vk,factory:vk.\u0275fac}),vk),Ak=((pk=function(){function e(t,n){_classCallCheck(this,e),this._dom=t,this._zone=n}return _createClass(e,[{key:"forElement",value:function(e){return this.unsubscribe(),this.element=e,this}},{key:"subscribe",value:function(e){var t=this;if(e&&_m()&&this.element){var n=this._dom.nativeElement(this.element),i=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular((function(){var r=i.map((function(e){return ig(e,"scroll").pipe(bg(1e3/60))}));t.subscription=le.apply(void 0,_toConsumableArray(r)).subscribe((function(r){var o=r.target,s=i.filter((function(e){return e===o})).length>0,a=o===document,l=o===window;(s||a||l)&&e(t.isVisible(n,o))}))}))}}},{key:"unsubscribe",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"isVisible",value:function(e,t){var n=this._dom.boundingOffset(e),i=this._dom.boundingOffset(t);return!(1<i.top-n.bottom||1<n.top-i.bottom||1<n.left-i.right||1<i.left-n.right)}}]),e}()).\u0275fac=function(e){return new(e||pk)(ut(Sk),ut(qu))},pk.\u0275prov=xe({token:pk,factory:pk.\u0275fac}),pk),Rk={expand:function(e){var t,n="up"===e||"down"===e?"scaleY":"scaleX";return t="down"===e?"top":"left"===e?"right":"right"===e?"left":"bottom",{start:{transform:"".concat(n,"(0)"),transformOrigin:t},end:{transform:"".concat(n,"(1)")}}},slide:function(e){var t="left"===e||"right"===e?"translateX":"translateY";return{start:{transform:"".concat(t,"(").concat("right"===e||"down"===e?-100:100,"%)")},end:{transform:"".concat(t,"(0%)")}}},fade:function(){return{start:{opacity:0},end:{opacity:1}}},zoom:function(){return{start:{transform:"scale(0)"},end:{transform:"scale(1)"}}}},Pk=((yk=function(){function e(t){_classCallCheck(this,e),this.animationBuilder=t,this.start=new tu,this.end=new tu}return _createClass(e,[{key:"play",value:function(e,t,n){if(!this.flip||this.flip.horizontal!==n.horizontal||this.flip.vertical!==n.vertical){this.flip=n;var i=t.type||"slide",r=Rk[i];if(r){var o=r(this.getDirection(n,t));this.playStates(e,o,t)}else if(Ci())throw new Error('Unsupported animation type: "'.concat(i,'". The supported types are slide, expand, fade and zoom.'))}}},{key:"ngOnDestroy",value:function(){this.stopPlayer()}},{key:"playStates",value:function(e,t,n){var i=this;this.stopPlayer();var r=n.duration||100,o=this.animationBuilder.build([Gh(t.start),jh("".concat(r,"ms ease-in"),Gh(t.end))]),s=this.player=o.create(e);s.onDone((function(){i.end.emit(),i.stopPlayer()})),this.start.emit(),s.play()}},{key:"getDirection",value:function(e,t){var n=t.direction||"down";return e.horizontal&&("left"===n?n="right":"right"===n&&(n="left")),e.vertical&&("down"===n?n="up":"up"===n&&(n="down")),n}},{key:"stopPlayer",value:function(){this.player&&(this.player.destroy(),this.player=null)}}]),e}()).\u0275fac=function(e){return new(e||yk)(ut(Nh))},yk.\u0275prov=xe({token:yk,factory:yk.\u0275fac}),yk),Dk={left:-1e4,top:0},Fk=((kk=function(){function e(t,n,i,r,o,s,a,l,u){_classCallCheck(this,e),this.container=t,this._alignService=n,this.domService=i,this._positionService=r,this._resizeService=o,this._scrollableService=s,this.animationService=a,this._renderer=l,this._zone=u,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.copyAnchorStyles=!1,this.positionMode="fixed",this.offset=Dk,this.anchorViewportLeave=new tu,this.close=new tu,this.open=new tu,this.positionChange=new tu,this.resolvedPromise=Promise.resolve(null),this.initialCheck=!0,this._renderer.addClass(t.nativeElement,"k-animation-container"),this.updateFixedClass()}return _createClass(e,[{key:"ngOnInit",value:function(){this.reposition=this.reposition.bind(this),this._resizeService.subscribe(this.reposition),this.animationSubscriptions=this.animationService.start.subscribe(this.onAnimationStart.bind(this)),this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this))),this._scrollableService.forElement(this.anchor||this.container).subscribe(this.onScroll.bind(this)),this.currentOffset=Dk,this.setZIndex(),this.copyFontStyles(),this.updateFixedClass()}},{key:"ngOnChanges",value:function(e){e.copyAnchorStyles&&this.copyFontStyles(),e.positionMode&&this.updateFixedClass()}},{key:"ngAfterViewInit",value:function(){var e=this;this.reposition(),this.animate||this.resolvedPromise.then((function(){e.onAnimationEnd()}))}},{key:"ngAfterViewChecked",value:function(){var e=this;this.initialCheck?this.initialCheck=!1:this._zone.runOutsideAngular((function(){e.unsubscribeReposition(),e.repositionSubscription=ne(e.resolvedPromise).subscribe(e.reposition)}))}},{key:"ngOnDestroy",value:function(){this.anchorViewportLeave.complete(),this.positionChange.complete(),this.close.emit(),this.close.complete(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe(),this.animationSubscriptions.unsubscribe(),this.unsubscribeReposition()}},{key:"onResize",value:function(){this.reposition()}},{key:"onAnimationStart",value:function(){this._renderer.removeClass(this.container.nativeElement,"k-animation-container-shown")}},{key:"onAnimationEnd",value:function(){this._renderer.addClass(this.container.nativeElement,"k-animation-container-shown"),this.open.emit(),this.open.complete()}},{key:"setZIndex",value:function(){this.anchor&&this.setContainerStyle("z-index",String(this.domService.zIndex(this.anchor,this.container)))}},{key:"reposition",value:function(){var e=this;if(_m()){var t,n,i,r,o,s,a=this.position(),l=a.flip,u=a.offset;this.currentOffset&&(t=this.currentOffset,n=u,i=t.left,r=t.top,o=n.left,s=n.top,!(Math.abs(i-o)>=1||Math.abs(r-s)>=1))||(this.currentOffset=u,xm(this.positionChange)&&this._zone.run((function(){return e.positionChange.emit({offset:u,flip:l})}))),this.animate&&this.animationService.play(this.contentContainer.nativeElement,this.animate,l),this.resizeSensor.acceptSize()}}},{key:"position",value:function(){var e=this._alignService.alignElement({anchor:this.anchor,anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,margin:this.margin,offset:this.offset,positionMode:this.positionMode});return this._positionService.positionElement({anchor:this.anchor,anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:e,element:this.container,elementAlign:this.popupAlign,margin:this.margin})}},{key:"onScroll",value:function(e){var t=this,n=xm(this.anchorViewportLeave);e||!n?this.reposition():n&&this._zone.run((function(){t.anchorViewportLeave.emit()}))}},{key:"copyFontStyles",value:function(){var e=this;this.anchor&&this.copyAnchorStyles&&this.domService.getFontStyles(this.anchor).forEach((function(t){return e.setContainerStyle(t.key,t.value)}))}},{key:"updateFixedClass",value:function(){this._renderer["fixed"===this.positionMode?"addClass":"removeClass"](this.container.nativeElement,"k-animation-container-fixed")}},{key:"setContainerStyle",value:function(e,t){this._renderer.setStyle(this.container.nativeElement,e,t)}},{key:"unsubscribeReposition",value:function(){this.repositionSubscription&&this.repositionSubscription.unsubscribe()}},{key:"currentOffset",get:function(){return this._currentOffset},set:function(e){this.setContainerStyle("left","".concat(e.left,"px")),this.setContainerStyle("top","".concat(e.top,"px")),this._currentOffset=e}}]),e}()).\u0275fac=function(e){return new(e||kk)(Ds(qa),Ds(Ok),Ds(Sk),Ds(Ik),Ds(Ek),Ds(Ak),Ds(Pk),Ds(Ya),Ds(qu))},kk.\u0275cmp=Et({type:kk,selectors:[["kendo-popup"]],viewQuery:function(e,t){var n;1&e&&(pu(ik,!0),pu(Lm,!0)),2&e&&(fu(n=ku())&&(t.contentContainer=n.first),fu(n=ku())&&(t.resizeSensor=n.first))},inputs:{animate:"animate",anchorAlign:"anchorAlign",collision:"collision",popupAlign:"popupAlign",copyAnchorStyles:"copyAnchorStyles",positionMode:"positionMode",offset:"offset",anchor:"anchor",popupClass:"popupClass",margin:"margin"},outputs:{anchorViewportLeave:"anchorViewportLeave",close:"close",open:"open",positionChange:"positionChange"},exportAs:["kendo-popup"],features:[Ha([Ok,Pk,Sk,Ik,Ek,Ak]),Ra()],ngContentSelectors:ok,decls:5,vars:4,consts:[[1,"k-popup",3,"ngClass"],["container",""],[3,"ngTemplateOutlet","ngIf"],[3,"rateLimit","resize"]],template:function(e,t){1&e&&(Ys(),Ls(0,"div",0,1),Xs(2),Rs(3,rk,0,0,"ng-template",2),Ls(4,"kendo-resize-sensor",3),Ws("resize",(function(){return t.onResize()})),Vs(),Vs()),2&e&&(Ms("ngClass",t.popupClass),wr(3),Ms("ngTemplateOutlet",t.content)("ngIf",t.content),wr(1),Ms("rateLimit",100))},directives:[Pc,th,zc,Lm],encapsulation:2}),kk),Mk=new et("Popup Container"),zk=((_k=function(){function e(t,n,i,r){_classCallCheck(this,e),this.applicationRef=t,this.componentFactoryResolver=n,this.injector=i,this.container=r}return _createClass(e,[{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.contentFrom(e.content),n=t.component,i=t.nodes,r=this.appendPopup(i,e.appendTo),o=r.instance;this.projectComponentInputs(r,e),r.changeDetectorRef.detectChanges(),n&&n.changeDetectorRef.detectChanges();var s=this.getComponentRootNode(r);return{close:function(){var e;n&&n.destroy(),r.destroy(),(e=s)&&e.parentNode&&e.parentNode.removeChild(e)},content:n,popup:r,popupAnchorViewportLeave:o.anchorViewportLeave,popupClose:o.close,popupElement:s,popupOpen:o.open,popupPositionChange:o.positionChange}}},{key:"appendPopup",value:function(e,t){var n=this.createComponent(Fk,e,t);return t||this.rootViewContainerNode.appendChild(this.getComponentRootNode(n)),n}},{key:"getComponentRootNode",value:function(e){return e.location.nativeElement}},{key:"getComponentFactory",value:function(e){return this.componentFactoryResolver.resolveComponentFactory(e)}},{key:"createComponent",value:function(e,t,n){var i=this.getComponentFactory(e);if(n)return n.createComponent(i,void 0,this.injector,t);var r=i.create(this.injector,t);return this.applicationRef.attachView(r.hostView),r}},{key:"projectComponentInputs",value:function(e,t){return Object.getOwnPropertyNames(t).filter((function(e){return"content"!==e||t.content instanceof vl})).map((function(n){e.instance[n]=t[n]})),e}},{key:"contentFrom",value:function(e){if(!e||e instanceof vl)return{component:null,nodes:[[]]};var t=this.createComponent(e);return{component:t,nodes:[t?[t.location.nativeElement]:[]]}}},{key:"rootViewContainer",get:function(){var e=this.applicationRef.components||[];if(e[0])return e[0];throw new Error("\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        ")}},{key:"rootViewContainerNode",get:function(){return this.container?this.container.nativeElement:this.getComponentRootNode(this.rootViewContainer)}}]),e}()).\u0275fac=function(e){return new(e||_k)(ut(hc),ut(Wa),ut(ds),ut(Mk,8))},_k.\u0275prov=xe({token:_k,factory:_k.\u0275fac}),_k),Lk=((bk=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:bk}),bk.\u0275inj=Te({factory:function(e){return new(e||bk)},providers:[zk],imports:[[ih,Vm]]}),bk),Vk=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Nk(e,this.selector,this.caught))}}]),e}(),Nk=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).selector=n,r.caught=i,r}return _inherits(t,e),_createClass(t,[{key:"error",value:function(e){if(!this.isStopped){var n;try{n=this.selector(e,this.caught)}catch(o){return void _get(_getPrototypeOf(t.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var i=new U(this,void 0,void 0);this.add(i);var r=Y(this,n,void 0,void 0,i);r!==i&&this.add(r)}}}]),t}(X);function Bk(e){return function(t){return t.lift(new jk(e))}}var jk=function(){function e(t){_classCallCheck(this,e),this.predicate=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Hk(e,this.predicate))}}]),e}(),Hk=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).predicate=n,i.skipping=!0,i.index=0,i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}},{key:"tryCallPredicate",value:function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(n){this.destination.error(n)}}}]),t}(A);function Gk(e,t){return ie(e,t,1)}var Uk=["input"],Wk=["content"],qk=["list"];function Zk(e,t){}var $k=function(e,t){return{templateRef:e,$implicit:t}};function Kk(e,t){if(1&e&&Rs(0,Zk,0,0,"ng-template",9),2&e){var n=$s(2);Ms("templateContext",Hl(1,$k,n.fixedGroupTemplate.templateRef,n.currentGroup))}}function Yk(e,t){if(1&e&&(Ls(0,"strong"),ya(1),Vs()),2&e){var n=$s(2);wr(1),ka(n.currentGroup)}}var Xk=function(e){return{"k-virtual-item":e}},Qk=function(e,t,n){return{"height.px":e,"minHeight.px":t,boxSizing:n}};function Jk(e,t){if(1&e&&(Ls(0,"div",7),Rs(1,Kk,1,4,void 0,5),Rs(2,Yk,2,1,"ng-template",8),Vs()),2&e){var n=$s();Ms("ngClass",jl(4,Xk,n.virtual))("ngStyle",Gl(6,Qk,null==n.virtual?null:n.virtual.itemHeight,null==n.virtual?null:n.virtual.itemHeight,n.virtual?"border-box":"inherit")),wr(1),Ms("ngIf",n.fixedGroupTemplate),wr(1),Ms("ngIf",!n.fixedGroupTemplate)}}function eb(e,t){}function tb(e,t){if(1&e&&Rs(0,eb,0,0,"ng-template",9),2&e){var n=$s().$implicit,i=$s(2);Ms("templateContext",Hl(1,$k,i.template.templateRef,n))}}function nb(e,t){if(1&e&&ya(0),2&e){var n=$s().$implicit;ka($s(2).getText(n))}}var ib=function(e,t){return{"k-virtual-item":e,"k-state-disabled":t}};function rb(e,t){if(1&e&&(Ls(0,"li",11),Rs(1,tb,1,4,void 0,5),Rs(2,nb,1,1,"ng-template",8),Vs()),2&e){var n=t.$implicit,i=t.index,r=$s(2);Ms("height",null==r.virtual?null:r.virtual.itemHeight)("index",i+r.startFrom)("multipleSelection",r.multipleSelection)("ngClass",Hl(8,ib,r.virtual,r.isDisabled(i))),As("id",r.optionPrefix+"-"+r.getValue(n))("tabIndex",-1),wr(1),Ms("ngIf",r.template),wr(1),Ms("ngIf",!r.template)}}function ob(e,t){1&e&&Rs(0,rb,3,11,"ng-template",10),2&e&&Ms("ngForOf",$s().data)}function sb(e,t){}function ab(e,t){if(1&e&&Rs(0,sb,0,0,"ng-template",9),2&e){var n=$s(2).$implicit,i=$s(2);Ms("templateContext",Hl(1,$k,i.groupTemplate.templateRef,n.value))}}function lb(e,t){if(1&e&&(Ls(0,"strong"),ya(1),Vs()),2&e){var n=$s(2).$implicit;wr(1),ba(" ",n.value,"")}}function ub(e,t){if(1&e&&(Ls(0,"li",14),Rs(1,ab,1,4,void 0,5),Rs(2,lb,2,1,"ng-template",8),Vs()),2&e){var n=$s().$implicit,i=$s(2);Ms("ngClass",jl(7,Xk,i.virtual))("ngStyle",Gl(9,Qk,null==i.virtual?null:i.virtual.itemHeight,null==i.virtual?null:i.virtual.itemHeight,i.virtual?"border-box":"inherit")),As("group-index",n.index)("id",i.optionPrefix+"-"+i.getValue(n.value))("tabIndex",-1),wr(1),Ms("ngIf",i.groupTemplate),wr(1),Ms("ngIf",!i.groupTemplate)}}function cb(e,t){}function hb(e,t){if(1&e&&Rs(0,cb,0,0,"ng-template",9),2&e){var n=$s(2).$implicit,i=$s(2);Ms("templateContext",Hl(1,$k,i.template.templateRef,n.value))}}function fb(e,t){if(1&e&&ya(0),2&e){var n=$s(2).$implicit;ka($s(2).getText(n.value))}}function db(e,t){if(1&e&&(Ls(0,"li",11),Rs(1,hb,1,4,void 0,5),Rs(2,fb,1,1,"ng-template",8),Vs()),2&e){var n=$s().$implicit,i=$s(2);Ms("height",null==i.virtual?null:i.virtual.itemHeight)("index",n.offsetIndex)("multipleSelection",i.multipleSelection)("ngClass",Hl(9,ib,i.virtual,i.isDisabled(n.offsetIndex))),As("absolute-index",n.index)("id",i.optionPrefix+"-"+i.getValue(n.value))("tabIndex",-1),wr(1),Ms("ngIf",i.template),wr(1),Ms("ngIf",!i.template)}}function pb(e,t){if(1&e&&(Rs(0,ub,3,13,"li",12),Rs(1,db,3,12,"li",13)),2&e){var n=t.$implicit;Ms("ngIf",n.header&&n.index>0),wr(1),Ms("ngIf",!n.header)}}function vb(e,t){1&e&&Rs(0,pb,2,2,"ng-template",10),2&e&&Ms("ngForOf",$s().data)}function gb(e,t){if(1&e&&(Ls(0,"div",15),Ns(1,"div"),Vs()),2&e){var n=$s();wr(1),oa("height",n.scrollHeight,"px")}}var mb=function(e,t){return{"k-virtual-content":e,"k-list-scroller":t}},yb=function(e){return{"k-virtual-list":e}},kb=["container"],bb=["popupTemplate"],_b=["optionsList"],Cb=["noDataText",$localize(_templateObject()),"clearTitle",$localize(_templateObject2())];function wb(e,t){if(1&e){var n=Gs();Ls(0,"span",8),Ws("click",(function(e){return Xt(n),$s().clearValue(e)}))("mousedown",(function(e){return Xt(n),e.preventDefault()})),Vs()}2&e&&As("title",$s().clearTitle)}function xb(e,t){1&e&&Ns(0,"span",9)}function Sb(e,t){}var Tb=function(e){return{templateRef:e}};function Ob(e,t){if(1&e&&Rs(0,Sb,0,0,"ng-template",14),2&e){var n=$s(2);Ms("templateContext",jl(1,Tb,n.headerTemplate.templateRef))}}function Ib(e,t){}function Eb(e,t){if(1&e&&(Ls(0,"div"),ya(1),Vs()),2&e){var n=$s(3);wr(1),ka(n.noDataText)}}function Ab(e,t){if(1&e&&(Ls(0,"div",15),Rs(1,Ib,0,0,"ng-template",16),Rs(2,Eb,2,1,"ng-template",6),Vs()),2&e){var n=$s(2);wr(1),Ms("ngIf",n.noDataTemplate)("templateContext",jl(3,Tb,null==n.noDataTemplate?null:n.noDataTemplate.templateRef)),wr(1),Ms("ngIf",!n.noDataTemplate)}}function Rb(e,t){}function Pb(e,t){if(1&e&&Rs(0,Rb,0,0,"ng-template",14),2&e){var n=$s(2);Ms("templateContext",jl(1,Tb,n.footerTemplate.templateRef))}}function Db(e,t){if(1&e){var n=Gs();Rs(0,Ob,1,3,void 0,10),Ls(1,"kendo-list",11,12),Ws("pageChange",(function(e){return Xt(n),$s().pageChange(e)})),Vs(),Rs(3,Ab,3,5,"div",13),Rs(4,Pb,1,3,void 0,10)}if(2&e){var i=$s();Ms("ngIf",i.headerTemplate),wr(1),Ms("id",i.listBoxId)("optionPrefix",i.optionPrefix)("data",i.data)("textField",i.valueField)("valueField",i.valueField)("template",i.template)("groupTemplate",i.groupTemplate)("fixedGroupTemplate",i.fixedGroupTemplate)("height",i.listHeight)("show",i.isOpen)("virtual",i.virtual),wr(2),Ms("ngIf",0===i.data.length),wr(1),Ms("ngIf",i.footerTemplate)}}function Fb(e,t){if(1&e){var n=Gs();Ls(0,"kendo-resize-sensor",17),Ws("resize",(function(){return Xt(n),$s().onResize()})),Vs()}}$localize(_templateObject3()),$localize(_templateObject4());var Mb=["wrapper"],zb=["noDataText",$localize(_templateObject5())];function Lb(e,t){}function Vb(e,t){if(1&e&&Rs(0,Lb,0,0,"ng-template",10),2&e){var n=$s();Ms("templateContext",Hl(1,$k,n.valueTemplate.templateRef,n.dataItem))}}function Nb(e,t){1&e&&ya(0),2&e&&ka($s().getText())}function Bb(e,t){if(1&e){var n=Gs();Ls(0,"span",14),Ws("click",(function(e){return Xt(n),e.stopImmediatePropagation()})),Ls(1,"input",15),Ws("ngModelChange",(function(e){return Xt(n),$s(2).filterText=e}))("keydown",(function(e){return Xt(n),$s(2).keydown(e)}))("input",(function(e){return Xt(n),$s(2).handleFilter(e)}))("focus",(function(){return Xt(n),$s(2).onFilterFocus()}))("blur",(function(){return Xt(n),$s(2).blurFilterInput()})),Vs(),Ns(2,"span",16),Vs()}if(2&e){var i=$s(2);wr(1),Ms("filterInput",i.isFocused&&!i.touchEnabled)("dir",i.direction)("ngModel",i.filterText),As("aria-owns",i.ariaOwns)("aria-activedescendant",i.ariaActivedescendant)("aria-label",i.noDataLabel)}}var jb=function(e){return{"k-state-disabled":e}};function Hb(e,t){if(1&e&&(Ls(0,"div",17),ya(1),Vs()),2&e){var n=$s(2);Ms("ngClass",jl(3,jb,n.isDisabledDefaultItem))("index",-1),wr(1),ba(" ",n.getDefaultItemText()," ")}}function Gb(e,t){}function Ub(e,t){if(1&e&&(Ls(0,"div",17),Rs(1,Gb,0,0,"ng-template",10),Vs()),2&e){var n=$s(2);Ms("ngClass",jl(3,jb,n.isDisabledDefaultItem))("index",-1),wr(1),Ms("templateContext",Hl(5,$k,n.itemTemplate.templateRef,n.defaultItem))}}function Wb(e,t){}function qb(e,t){if(1&e&&Rs(0,Wb,0,0,"ng-template",10),2&e){var n=$s(2);Ms("templateContext",jl(1,Tb,n.headerTemplate.templateRef))}}function Zb(e,t){}function $b(e,t){if(1&e&&(Ls(0,"div"),ya(1),Vs()),2&e){var n=$s(3);wr(1),ka(n.noDataText)}}function Kb(e,t){if(1&e&&(Ls(0,"div",18),Rs(1,Zb,0,0,"ng-template",19),Rs(2,$b,2,1,"ng-template",5),Vs()),2&e){var n=$s(2);wr(1),Ms("ngIf",n.noDataTemplate)("templateContext",jl(3,Tb,n.noDataTemplate?n.noDataTemplate.templateRef:void 0)),wr(1),Ms("ngIf",!n.noDataTemplate)}}function Yb(e,t){}function Xb(e,t){if(1&e&&Rs(0,Yb,0,0,"ng-template",10),2&e){var n=$s(2);Ms("templateContext",jl(1,Tb,n.footerTemplate.templateRef))}}function Qb(e,t){if(1&e){var n=Gs();Rs(0,Bb,3,6,"ng-template",5),Rs(1,Hb,2,5,"ng-template",5),Rs(2,Ub,2,8,"ng-template",5),Rs(3,qb,1,3,void 0,4),Ls(4,"kendo-list",11,12),Ws("pageChange",(function(e){return Xt(n),$s().pageChange(e)})),Vs(),Rs(6,Kb,3,5,"div",13),Rs(7,Xb,1,3,void 0,4)}if(2&e){var i=$s();Ms("ngIf",i.filterable),wr(1),Ms("ngIf",i.defaultItem&&!i.itemTemplate),wr(1),Ms("ngIf",i.defaultItem&&i.itemTemplate),wr(1),Ms("ngIf",i.headerTemplate),wr(1),Ms("id",i.listBoxId)("optionPrefix",i.optionPrefix)("data",i.data)("textField",i.textField)("valueField",i.valueField)("template",i.itemTemplate)("groupTemplate",i.groupTemplate)("fixedGroupTemplate",i.fixedGroupTemplate)("height",i.listHeight)("show",i.isOpen)("virtual",i.virtual),wr(2),Ms("ngIf",0===i.data.length),wr(1),Ms("ngIf",i.footerTemplate)}}function Jb(e,t){if(1&e){var n=Gs();Ls(0,"kendo-resize-sensor",20),Ws("resize",(function(){return Xt(n),$s().onResize()})),Vs()}}var e_=function(e,t,n){return{"k-dropdown-wrap":!0,"k-state-default":e,"k-state-disabled":t,"k-state-focused":n}},t_=["noDataText",$localize(_templateObject6()),"clearTitle",$localize(_templateObject7())];function n_(e,t){if(1&e){var n=Gs();Ls(0,"span",11),Ws("mousedown",(function(e){return Xt(n),$s().clearAll(e)})),Vs()}2&e&&As("title",$s().clearTitle)}function i_(e,t){1&e&&Ns(0,"span",12)}function r_(e,t){}function o_(e,t){if(1&e&&Rs(0,r_,0,0,"ng-template",18),2&e){var n=$s(2);Ms("templateContext",jl(1,Tb,n.headerTemplate.templateRef))}}function s_(e,t){}function a_(e,t){if(1&e&&Rs(0,s_,0,0,"ng-template",18),2&e){var n=$s(3);Ms("templateContext",Hl(1,$k,n.customItemTemplate.templateRef,n.text))}}function l_(e,t){1&e&&ya(0),2&e&&ka($s(3).text)}function u_(e,t){if(1&e&&(Ls(0,"div",19),Ls(1,"div",20),Rs(2,a_,1,4,void 0,21),Rs(3,l_,1,1,"ng-template",null,22,wu),Ns(5,"span",23),Vs(),Vs()),2&e){var n=Ps(4),i=$s(2);wr(1),Ms("multipleSelection",!0)("index",-1),wr(1),Ms("ngIf",i.customItemTemplate)("ngIfElse",n)}}function c_(e,t){}function h_(e,t){if(1&e&&(Ls(0,"div"),ya(1),Vs()),2&e){var n=$s(3);wr(1),ka(n.noDataText)}}function f_(e,t){if(1&e&&(Ls(0,"div",24),Rs(1,c_,0,0,"ng-template",25),Rs(2,h_,2,1,"ng-template",9),Vs()),2&e){var n=$s(2);wr(1),Ms("ngIf",n.noDataTemplate)("templateContext",jl(3,Tb,n.noDataTemplate?n.noDataTemplate.templateRef:void 0)),wr(1),Ms("ngIf",!n.noDataTemplate)}}function d_(e,t){}function p_(e,t){if(1&e&&Rs(0,d_,0,0,"ng-template",18),2&e){var n=$s(2);Ms("templateContext",jl(1,Tb,n.footerTemplate.templateRef))}}function v_(e,t){if(1&e){var n=Gs();Rs(0,o_,1,3,void 0,13),Rs(1,u_,6,4,"div",14),Ls(2,"kendo-list",15,16),Ws("pageChange",(function(e){return Xt(n),$s().pageChange(e)})),Vs(),Rs(4,f_,3,5,"div",17),Rs(5,p_,1,3,void 0,13)}if(2&e){var i=$s();Ms("ngIf",i.headerTemplate),wr(1),Ms("ngIf",i.allowCustom&&i.text),wr(1),Ms("id",i.listBoxId)("optionPrefix",i.optionPrefix)("data",i.data)("textField",i.textField)("valueField",i.valueField)("height",i.listHeight)("template",i.template)("groupTemplate",i.groupTemplate)("fixedGroupTemplate",i.fixedGroupTemplate)("show",i.isOpen)("multipleSelection",!0)("virtual",i.virtual),wr(2),Ms("ngIf",0===i.data.length),wr(1),Ms("ngIf",i.footerTemplate)}}function g_(e,t){if(1&e){var n=Gs();Ls(0,"kendo-resize-sensor",26),Ws("resize",(function(){return Xt(n),$s().onResize()})),Vs()}}function m_(e,t){}function y_(e,t){1&e&&Rs(0,m_,0,0,"ng-template")}function k_(e,t){}function b_(e,t){if(1&e&&Rs(0,k_,0,0,"ng-template",10),2&e){var n=$s(2).$implicit,i=$s();Ms("templateContext",Hl(1,$k,i.groupTemplate.templateRef,n))}}function __(e,t){if(1&e&&ya(0),2&e){var n=$s(2).$implicit;_a("",n.length," ",1===n.length?"item":"items"," selected")}}function C_(e,t){if(1&e&&(Ls(0,"span"),Rs(1,b_,1,4,void 0,8),Rs(2,__,1,2,"ng-template",9),Vs()),2&e){var n=$s(2);wr(1),Ms("ngIf",n.groupTemplate),wr(1),Ms("ngIf",!n.groupTemplate)}}function w_(e,t){}function x_(e,t){if(1&e&&Rs(0,w_,0,0,"ng-template",10),2&e){var n=$s(2).$implicit,i=$s();Ms("templateContext",Hl(1,$k,i.template.templateRef,n))}}function S_(e,t){if(1&e&&ya(0),2&e){var n=$s(2).$implicit,i=$s();ka(i.tagProp(n,i.textField))}}function T_(e,t){if(1&e&&(Ls(0,"span"),Rs(1,x_,1,4,void 0,8),Rs(2,S_,1,1,"ng-template",9),Vs()),2&e){var n=$s(2);wr(1),Ms("ngIf",n.template),wr(1),Ms("ngIf",!n.template)}}var O_=function(e){return{"k-state-focused":e}};function I_(e,t){if(1&e){var n=Gs();Ls(0,"li",2),Rs(1,y_,1,0,void 0,3),Rs(2,C_,3,2,"ng-template",null,4,wu),Rs(4,T_,3,2,"ng-template",null,5,wu),Ls(6,"span",6),Ls(7,"span",7),Ws("mousedown",(function(e){Xt(n);var i=t.$implicit;return $s().deleteTag(e,i)})),Vs(),Vs(),Vs()}if(2&e){var i=t.$implicit,r=t.index,o=Ps(3),s=Ps(5),a=$s();Ms("ngClass",jl(7,O_,r===a.focused)),As("aria-setsize",null==a.tags?null:a.tags.length)("id",a.itemId(i)),wr(1),Ms("ngIf",a.isGroupTag(i))("ngIfThen",o)("ngIfElse",s),wr(5),As("aria-hidden",r!==a.focused)}}var E_,A_,R_,P_,D_,F_,M_,z_,L_,V_,N_,B_,j_,H_,G_,U_,W_,q_,Z_,$_,K_,Y_,X_,Q_,J_,eC,tC,nC,iC,rC,oC,sC,aC,lC,uC=function(e){return e[e.backspace=8]="backspace",e[e.tab=9]="tab",e[e.enter=13]="enter",e[e.shift=16]="shift",e[e.ctrl=17]="ctrl",e[e.alt=18]="alt",e[e["pause/break"]=19]="pause/break",e[e["caps lock"]=20]="caps lock",e[e.esc=27]="esc",e[e.space=32]="space",e[e["page up"]=33]="page up",e[e["page down"]=34]="page down",e[e.end=35]="end",e[e.home=36]="home",e[e.left=37]="left",e[e.up=38]="up",e[e.right=39]="right",e[e.down=40]="down",e[e.insert=45]="insert",e[e.delete=46]="delete",e[e.command=91]="command",e[e["left command"]=91]="left command",e[e["right command"]=93]="right command",e[e["numpad *"]=106]="numpad *",e[e["numpad +"]=107]="numpad +",e[e["numpad -"]=109]="numpad -",e[e["numpad ."]=110]="numpad .",e[e["numpad /"]=111]="numpad /",e[e["num lock"]=144]="num lock",e[e["scroll lock"]=145]="scroll lock",e[e["my computer"]=182]="my computer",e[e["my calculator"]=183]="my calculator",e[e[";"]=186]=";",e[e["="]=187]="=",e[e[","]=188]=",",e[e["-"]=189]="-",e[e["."]=190]=".",e[e["/"]=191]="/",e[e["`"]=192]="`",e[e["["]=219]="[",e[e["\\"]=220]="\\",e[e["]"]=221]="]",e[e["'"]=222]="'",e}({}),cC=function(e){return null!=e},hC=function(){var e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(n+="-"),n+=(12===e?4:16===e?3&t|8:t).toString(16);return n},fC=function(){return"undefined"!=typeof window},dC=function(e){return Array.isArray(e)},pC=function(e){return cC(e)&&"object"==typeof e},vC=function(e){return dC(e)&&e.every((function(e){return pC(e)}))},gC=function(e,t,n){var i=t.map((function(e){return cC(e)&&cC(e[n])?e[n]:e}));return e.reduce((function(e,t){var r=cC(t)&&cC(t[n])?t[n]:t,o=i.indexOf(r);return-1!==o&&e.push(o),e}),[])},mC=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(cC(e))return n?t&&cC(e[t])?e[t]:e:t?e[t]:e},yC=function(e,t,n){if(!cC(e))return!1;var i=String(e);return n&&(i=i.toLowerCase()),0===i.indexOf(t)},kC=((M_=function(){function e(t,n){_classCallCheck(this,e),this.localization=t,this.valueChange=new tu,this.onBlur=new tu,this.onFocus=new tu,this.onClick=new tu,this.onNavigate=new tu,this.searchBarClass=!0,this._userInput="",this._previousValue="",this._placeholder="",this.direction=t.rtl?"rtl":"ltr",this.renderer=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.localizationChangeSubscription=this.localization.changes.subscribe((function(t){var n=t.rtl;return e.direction=n?"rtl":"ltr"}))}},{key:"ngOnChanges",value:function(e){var t,n,i;if(this.input&&(e.userInput||e.suggestedText)){t=e.userInput&&e.userInput.previousValue?this._previousValue===e.userInput.previousValue?this._previousValue:e.userInput.currentValue||"":this._previousValue;var r=this.input.nativeElement.selectionStart,o=t.length===r;this.writeInputValue(this.suggestedText?(n=this.userInput).concat((i=this.suggestedText).substr(i.toLowerCase().indexOf(n.toLowerCase())+n.length)):this.userInput),this.suggestedText?this.setInputSelection(this.userInput.length,this.suggestedText.length):o?this.setInputSelection(this.userInput.length,this.userInput.length):this.setInputSelection(r,r),this._previousValue=this.userInput}}},{key:"ngOnDestroy",value:function(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}},{key:"writeInputValue",value:function(e){_m()&&this.renderer.setProperty(this.input.nativeElement,"value",e)}},{key:"setInputSelection",value:function(e,t){if(_m()&&this.input.nativeElement===document.activeElement)try{this.input.nativeElement.setSelectionRange(e,t)}catch(n){}}},{key:"handleInput",value:function(e){var t=e.target.value;t!==this.userInput&&(this._previousValue=t,this.valueChange.emit(t))}},{key:"handleFocus",value:function(e){this.onFocus.emit(e)}},{key:"handleBlur",value:function(e){this.onBlur.emit(e)}},{key:"handleKeydown",value:function(e){[uC.up,uC.down,uC.left,uC.right,uC.enter,uC.esc,uC.delete,uC.backspace,uC.home,uC.end].indexOf(e.keyCode)>-1&&this.onNavigate.emit(e)}},{key:"focus",value:function(){_m()&&this.input.nativeElement.focus()}},{key:"blur",value:function(){_m()&&this.input.nativeElement.blur()}},{key:"setInputSize",value:function(){var e=function(e){return e?e.length:0},t=this.input.nativeElement,n=e(this.placeholder),i=e(this.value),r=Math.max(n,i,1);this.renderer.setAttribute(t,"size",r.toString())}},{key:"userInput",get:function(){return this._userInput},set:function(e){this._userInput=e||""}},{key:"value",get:function(){return this.input.nativeElement.value}},{key:"placeholder",set:function(e){this._placeholder=e||"",this.setInputSize()},get:function(){return this._placeholder}}]),e}()).\u0275fac=function(e){return new(e||M_)(Ds(jy),Ds(Ya))},M_.\u0275cmp=Et({type:M_,selectors:[["kendo-searchbar"]],viewQuery:function(e,t){var n;1&e&&du(Uk,!0),2&e&&fu(n=ku())&&(t.input=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&sa("k-searchbar",t.searchBarClass)},inputs:{userInput:"userInput",placeholder:"placeholder",id:"id",listId:"listId",tagListId:"tagListId",activeDescendant:"activeDescendant",noDataLabel:"noDataLabel",disabled:"disabled",readonly:"readonly",tabIndex:"tabIndex",popupOpen:"popupOpen",role:"role",suggestedText:"suggestedText"},outputs:{valueChange:"valueChange",onBlur:"onBlur",onFocus:"onFocus",onClick:"onClick",onNavigate:"onNavigate"},features:[Ra()],decls:2,vars:16,consts:[["autocomplete","off","aria-haspopup","listbox",3,"id","disabled","readonly","placeholder","input","focus","blur","keydown"],["input",""]],template:function(e,t){1&e&&(Ls(0,"input",0,1),Ws("input",(function(e){return t.handleInput(e)}))("focus",(function(e){return t.handleFocus(e)}))("blur",(function(e){return t.handleBlur(e)}))("keydown",(function(e){return t.handleKeydown(e)})),Vs()),2&e&&(aa("k-input"),Ms("id",t.id)("disabled",t.disabled)("readonly",t.readonly)("placeholder",t.placeholder),As("tabIndex",t.tabIndex)("dir",t.direction)("role",t.role)("aria-disabled",t.disabled)("aria-readonly",t.readonly)("aria-expanded",t.popupOpen)("aria-owns",t.listId)("aria-describedby",t.tagListId)("aria-activedescendant",t.activeDescendant)("aria-label",t.noDataLabel))},encapsulation:2}),M_),bC=((F_=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||F_)(Ds(vl))},F_.\u0275dir=Mt({type:F_,selectors:[["","kendoDropDownListItemTemplate",""],["","kendoComboBoxItemTemplate",""],["","kendoAutoCompleteItemTemplate",""],["","kendoMultiSelectItemTemplate",""]]}),F_),_C=((D_=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||D_)(Ds(vl))},D_.\u0275dir=Mt({type:D_,selectors:[["","kendoDropDownListHeaderTemplate",""],["","kendoComboBoxHeaderTemplate",""],["","kendoAutoCompleteHeaderTemplate",""],["","kendoMultiSelectHeaderTemplate",""]]}),D_),CC=((P_=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||P_)(Ds(vl))},P_.\u0275dir=Mt({type:P_,selectors:[["","kendoDropDownListFooterTemplate",""],["","kendoComboBoxFooterTemplate",""],["","kendoAutoCompleteFooterTemplate",""],["","kendoMultiSelectFooterTemplate",""]]}),P_),wC=((R_=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||R_)(Ds(vl))},R_.\u0275dir=Mt({type:R_,selectors:[["","kendoDropDownListGroupTemplate",""],["","kendoComboBoxGroupTemplate",""],["","kendoAutoCompleteGroupTemplate",""],["","kendoMultiSelectGroupTemplate",""]]}),R_),xC=((A_=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||A_)(Ds(vl))},A_.\u0275dir=Mt({type:A_,selectors:[["","kendoDropDownListFixedGroupTemplate",""],["","kendoComboBoxFixedGroupTemplate",""],["","kendoAutoCompleteFixedGroupTemplate",""],["","kendoMultiSelectFixedGroupTemplate",""]]}),A_),SC=((E_=function(){function e(){_classCallCheck(this,e),this.onSelect=new tu,this.onChange=new tu,this.onFocus=new tu,this.total=0,this.selectedIndices=[]}return _createClass(e,[{key:"getTotal",value:function(){return this.total}},{key:"isSelected",value:function(e){return cC(this.selectedIndices.find((function(t){return t===e})))}},{key:"isFocused",value:function(e){return e===this.focused}},{key:"focus",value:function(e){this.isFocused(e)||(this.focused=e,this.onFocus.emit(e))}},{key:"select",value:function(e){this.isSelected(e)||(this.selectedIndices=[e],this.focused=e,this.onSelect.emit({indices:[e],newSelection:cC(e)}))}},{key:"add",value:function(e){this.isSelected(e)||(this.selectedIndices.push(e),this.focused=e,this.onChange.emit({added:e,indices:this.selectedIndices.slice()}))}},{key:"unselect",value:function(e){if(this.isSelected(e)){var t=this.selectedIndices.indexOf(e);this.selectedIndices.splice(t,1),this.focused=e,this.onChange.emit({indices:this.selectedIndices.slice(),removed:e})}}},{key:"change",value:function(e){var t=cC(e)&&!this.isSelected(e);this.selectedIndices=[e],this.focused=e,this.onChange.emit({indices:[e],newSelection:t})}},{key:"resetSelection",value:function(e){this.selectedIndices=e instanceof Array?e:[e],this.focused=this.selectedIndices[this.selectedIndices.length-1]}},{key:"selected",get:function(){return this.selectedIndices.slice()}},{key:"focused",get:function(){return this.focusedIndex},set:function(e){this.focusedIndex!==e&&(this.focusedIndex=e,this.onFocus.emit(e))}}]),e}()).\u0275fac=function(e){return new(e||E_)},E_.\u0275prov=xe({token:E_,factory:E_.\u0275fac}),E_),TC=function(e){return e[e.Undefined=0]="Undefined",e[e.Open=1]="Open",e[e.Close=2]="Close",e[e.Enter=3]="Enter",e[e.Tab=4]="Tab",e[e.Esc=5]="Esc",e[e.Delete=6]="Delete",e[e.Backspace=7]="Backspace",e[e.Home=8]="Home",e[e.End=9]="End",e[e.Up=10]="Up",e[e.Down=11]="Down",e[e.Left=12]="Left",e[e.Right=13]="Right",e}({}),OC=((L_=function(){function e(){_classCallCheck(this,e),this.grouped=!1,this.groupIndices=[]}return _createClass(e,[{key:"isGrouped",value:function(e){return cC(e)&&0!==e.length&&cC(e[0])&&void 0!==e[0].items}},{key:"getGroupIndices",value:function(e){for(var t=[],n=0;n<=e.length-1;n++)t[n]=(t[n-1]||0)+e[n].items.length;return t}},{key:"filter",value:function(e){var t=[];if(this.isGrouped(this.data))for(var n=0;n<=this.groupIndices.length-1;n++){var i=this.data[n].items.filter(e);i&&(t=t.concat(i))}else t=this.data.filter(e);return t}},{key:"indexOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=function(t){return t===e};return this.grouped&&(n=function(t){return t.value===e}),this.findIndex(n,t)}},{key:"findIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;if(this.grouped){var i=this._flatData.filter((function(e){return!e.header&&e.offsetIndex>=t}));n=i.findIndex(e),n=i[n]?i[n].offsetIndex:-1}else{var r=this.data.slice(t).findIndex(e);n=-1!==r?r+t:-1}return n}},{key:"closestGroup",value:function(e){for(var t=e;t>=0;t--)if(this._flatData[t].header)return this._flatData[t]}},{key:"find",value:function(e){var t=this.findIndex(e);return this.itemAt(t)}},{key:"flatIndex",value:function(e){if(0===this.itemsCount)return-1;if(!this.grouped)return e;var t=this._flatData.find((function(t){return!t.header&&t.offsetIndex===e}));return t?t.index:-1}},{key:"itemAt",value:function(e){var t;if(0===this.itemsCount)return t;if(this.grouped){var n=this._flatData.find((function(t){return!t.header&&t.offsetIndex===e}));n&&(t=n.value)}else t=this.data[e];return t}},{key:"groupAt",value:function(e){if(0!==this.itemsCount&&this.isGrouped)return this._flatData.find((function(t){return t.header&&t.index===e}))}},{key:"groupField",value:function(){if(0!==this.itemsCount&&this.isGrouped)return this._data[0].field}},{key:"itemGroup",value:function(e){if(e&&0!==this.itemsCount&&this.isGrouped){var t=this.groupField();return t?e[t]:void 0}}},{key:"flatten",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=[];cC(t)&&r.push({header:!0,index:i+n,offsetIndex:i,value:t});for(var o=0;o<e.length;o++){var s=[];e[o].items?(s=this.flatten(e[o].items,e[o].value,n,o),n+=e[o].items.length):s.push({header:!1,index:i+n+o+1,offsetIndex:n+o,value:e[o]}),r=r.concat(s)}return r}},{key:"data",set:function(e){this._data=e,this.grouped=this.isGrouped(e),this.grouped&&(this.groupIndices=this.getGroupIndices(e),this._flatData=this.flatten(e))},get:function(){return this.grouped?this._flatData:this._data}},{key:"itemsCount",get:function(){return cC(this.data)&&0!==this.data.length?(this.grouped?this._flatData.filter((function(e){return!e.header})):this.data).length:0}}]),e}()).\u0275fac=function(e){return new(e||L_)},L_.\u0275prov=xe({token:L_,factory:L_.\u0275fac}),L_),IC=((z_=function(){function e(t){_classCallCheck(this,e),this.dataService=t,this.itemDisabled=null}return _createClass(e,[{key:"isIndexDisabled",value:function(e){if(this.itemDisabled){var t=this.dataService.itemAt(e);if(cC(t))return this.itemDisabled({dataItem:t,index:e});if(cC(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}},{key:"isItemDisabled",value:function(e){if(this.itemDisabled){var t=this.dataService.indexOf(e);if(-1!==t)return this.itemDisabled({dataItem:e,index:t});if(cC(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}}]),e}()).\u0275fac=function(e){return new(e||z_)(ut(OC))},z_.\u0275prov=xe({token:z_,factory:z_.\u0275fac}),z_),EC=function e(t,n){_classCallCheck(this,e),this.index=t,this.originalEvent=n},AC=((N_=function(){function e(t,n){_classCallCheck(this,e),this.disabledItemsService=t,this.selectionService=n,this.open=new tu,this.close=new tu,this.enter=new tu,this.tab=new tu,this.esc=new tu,this.up=new tu,this.right=new tu,this.down=new tu,this.left=new tu,this.delete=new tu,this.backspace=new tu,this.home=new tu,this.end=new tu}return _createClass(e,[{key:"process",value:function(e){var t,n=e.originalEvent.keyCode,i=e.originalEvent.altKey,r=TC.Undefined;i&&n===uC.down?r=TC.Open:i&&n===uC.up?r=TC.Close:n===uC.enter?r=TC.Enter:n===uC.esc?r=TC.Esc:n===uC.tab?r=TC.Tab:n===uC.up?(t=this.next({current:e.current,start:e.min,end:e.max,step:-1}),r=TC.Up):n===uC.left?(t=this.next({current:e.current,start:e.min,end:e.max,step:-1}),r=TC.Left):n===uC.down?(t=this.next({current:e.current,start:e.min,end:e.max,step:1}),r=TC.Down):n===uC.right?(t=this.next({current:e.current,start:e.min,end:e.max,step:1}),r=TC.Right):n===uC.home?(t=this.isDisabled(0)?e.current:0,r=TC.Home):n===uC.end?(t=this.isDisabled(e.max)?e.current:e.max,r=TC.End):n===uC.delete?r=TC.Delete:n===uC.backspace&&(r=TC.Backspace);var o=new EC(t,e.originalEvent);return r!==TC.Undefined&&this[TC[r].toLowerCase()].emit(o),r}},{key:"next",value:function(e){var t=e.current,n=e.start,i=e.end,r=e.step,o=cC(t)?this.clampIndex(t+r,n,i):n,s=this.firstFocusableIndex(o,n,i,r);return cC(s)?s:this.selectionService.isSelected(t)&&t>=n?t:this.firstFocusableIndex(o,n,i,-1*r)}},{key:"clampIndex",value:function(e,t,n){return!cC(e)||e<t?t:e>n?n:e}},{key:"firstFocusableIndex",value:function(e,t,n,i){for(;t<=e&&e<=n;){if(!this.isDisabled(e))return e;e+=i}}},{key:"isDisabled",value:function(e){if(this.disabledItemsService)return this.disabledItemsService.isIndexDisabled(e)}}]),e}()).\u0275fac=function(e){return new(e||N_)(ut(IC),ut(SC))},N_.\u0275prov=xe({token:N_,factory:N_.\u0275fac}),N_),RC=((V_=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||V_)(Ds(vl))},V_.\u0275dir=Mt({type:V_,selectors:[["","kendoDropDownListNoDataTemplate",""],["","kendoComboBoxNoDataTemplate",""],["","kendoAutoCompleteNoDataTemplate",""],["","kendoMultiSelectNoDataTemplate",""]]}),V_),PC=function(){function e(){_classCallCheck(this,e),this.prevented=!1}return _createClass(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),DC=function e(){_classCallCheck(this,e)},FC=((j_=function e(t){_classCallCheck(this,e),this.element=t}).\u0275fac=function(e){return new(e||j_)(Ds(qa))},j_.\u0275dir=Mt({type:j_,selectors:[["li","role","option"],["li","role","group"]]}),j_),MC=((B_=function(){function e(t,n,i,r,o,s,a){_classCallCheck(this,e),this.dataService=t,this.wrapper=n,this.selectionService=i,this.disabledItemsService=r,this.cdr=o,this.zone=s,this.renderer=a,this.selected=[],this.focused=-1,this.show=!0,this.multipleSelection=!1,this.onClick=new tu,this.pageChange=new tu,this.startFrom=0,this.lastLoaded=0,this.lastScrollTop=0,this.scrollToFocused=!1,this.selectSubscription=le(this.selectionService.onSelect.pipe(Q((function(e){return e.indices[0]}))),this.selectionService.onFocus).subscribe(this.scrollToItem.bind(this))}return _createClass(e,[{key:"ngOnChanges",value:function(e){Cm("data",e,!1)&&this.lastLoaded<=0&&(this.lastLoaded=this.data.length-1,this.scrollToFocused=!e.data.isFirstChange())}},{key:"ngAfterViewInit",value:function(){var e=this;this.zone.runOutsideAngular((function(){e.scrollSubscription=ig(e.content.nativeElement,"scroll").pipe(bg(100),Mg(e.prefetchData.bind(e)),Mg(e.findCurrentGroup.bind(e))).subscribe((function(){e.lastScrollTop=e.content.nativeElement.scrollTop}))}))}},{key:"ngAfterViewChecked",value:function(){this.virtual&&this.positionItems(),this.items&&this.scrollToFocused&&(this.scrollToFocused=!1,this.scrollToItem(this.items.length&&-1===this.selectionService.focused?0:this.selectionService.focused)),this.dataService.grouped&&this.findCurrentGroup()}},{key:"ngOnDestroy",value:function(){this.selectSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()}},{key:"firstVisibleItem",value:function(){var e=this.content.nativeElement,t=e.offsetParent;return document.elementFromPoint((t?t.offsetLeft:0)+e.offsetLeft+1,(t?t.offsetTop:0)+e.offsetTop+1)}},{key:"findCurrentGroup",value:function(){if(this.dataService.grouped){var e,t=this.firstVisibleItem();t?"group"===t.getAttribute("role")?(e=parseInt(t.getAttribute("group-index"),10),this.currentGroup=this.dataService.groupAt(e).value):(e=parseInt(t.getAttribute("index"),10),this.currentGroup=this.dataService.itemGroup(this.dataService.itemAt(e))):this.currentGroup=void 0,this.cdr.detectChanges()}else this.currentGroup=void 0}},{key:"prefetchData",value:function(){if(this.virtual){var e=Math.trunc(this.content.nativeElement.clientHeight/this.virtual.itemHeight),t=this.content.nativeElement.scrollTop,n=Math.trunc(t/this.virtual.itemHeight),i=t>this.lastScrollTop,r=this.lastLoaded-this.pageSize+e>=n-(this.pageSize-(this.lastLoaded-this.startFrom));i&&n+e>=this.lastLoaded&&this.lastLoaded<this.virtual.total-1&&this.changePage(n),!i&&r&&this.changePage(n-this.pageSize+e+1)}}},{key:"changePage",value:function(e){var t=this;this.zone.run((function(){var n=t.pageSize+e;n>t.virtual.total&&(e--,n=t.virtual.total),e<0&&(e=0),t.startFrom=e,t.lastLoaded=n,t.pageChange.emit({skip:e,take:t.pageSize})}))}},{key:"index",value:function(e,t){return e>0?this.dataService.groupIndices[e-1]+t:t}},{key:"getText",value:function(e){return mC(e,this.textField)}},{key:"getValue",value:function(e){return mC(e,this.valueField)}},{key:"isDisabled",value:function(e){return this.disabledItemsService.isIndexDisabled(e)}},{key:"scrollToItem",value:function(e){if(this.virtual&&e>-1){var t=e;return this.dataService.grouped&&(t=this.dataService.flatIndex(e)),void this.scrollToIndex(t)}var n=this.items.toArray();cC(n[e])&&-1!==e&&this.scroll(n[e].element)}},{key:"scrollToIndex",value:function(e){var t=this.content.nativeElement,n=t.scrollTop,i=e*this.virtual.itemHeight,r=t.clientHeight,o=i+this.virtual.itemHeight;n>i?n=i:o>n+r&&(n=o-r),t.scrollTop=n}},{key:"scroll",value:function(e){if(e){var t=e.nativeElement,n=this.content.nativeElement,i=t.offsetTop,r=n.scrollTop,o=n.clientHeight,s=i+t.offsetHeight;r>i?r=i:s>r+o&&(r=s-o),n.scrollTop=r}}},{key:"positionItems",value:function(){var e=this;this.items.forEach((function(t,n){e.renderer.setStyle(t.element.nativeElement,"transform","translateY(".concat((n+e.startFrom)*e.virtual.itemHeight,"px"))}))}},{key:"data",set:function(e){this._data=e[0]&&e[0].header?e.slice(0):e},get:function(){return this._data}},{key:"items",set:function(e){this._items=e},get:function(){return this._items}},{key:"pageSize",get:function(){return this.virtual.pageSize?this.virtual.pageSize:Math.round(this.height/this.virtual.itemHeight)}},{key:"scrollHeight",get:function(){return(this.dataService.grouped?this.virtual.total-1:this.virtual.total)*this.virtual.itemHeight}}]),e}()).\u0275fac=function(e){return new(e||B_)(Ds(OC),Ds(qa),Ds(SC),Ds(IC),Ds(Xo),Ds(qu),Ds(Ya))},B_.\u0275cmp=Et({type:B_,selectors:[["kendo-list"]],viewQuery:function(e,t){var n;1&e&&(pu(Wk,!0),pu(qk,!0),pu(FC,!0)),2&e&&(fu(n=ku())&&(t.content=n.first),fu(n=ku())&&(t.list=n.first),fu(n=ku())&&(t.items=n))},inputs:{selected:"selected",focused:"focused",show:"show",multipleSelection:"multipleSelection",data:"data",textField:"textField",valueField:"valueField",height:"height",template:"template",groupTemplate:"groupTemplate",fixedGroupTemplate:"fixedGroupTemplate",id:"id",optionPrefix:"optionPrefix",virtual:"virtual"},outputs:{onClick:"onClick",pageChange:"pageChange"},features:[Ra()],decls:8,vars:15,consts:[["class","k-outer-group-header k-first",3,"ngClass","ngStyle",4,"ngIf"],["unselectable","on",3,"ngClass"],["content",""],["role","listbox",1,"k-list","k-reset",3,"ngClass"],["list",""],[4,"ngIf"],["class","k-height-container","role","presentation",4,"ngIf"],[1,"k-outer-group-header","k-first",3,"ngClass","ngStyle"],[3,"ngIf"],[3,"templateContext"],["ngFor","",3,"ngForOf"],["role","option","kendoDropDownsSelectable","",1,"k-item",3,"height","index","multipleSelection","ngClass"],["role","group","class","k-outer-group-header",3,"ngClass","ngStyle",4,"ngIf"],["role","option","kendoDropDownsSelectable","","class","k-item",3,"height","index","multipleSelection","ngClass",4,"ngIf"],["role","group",1,"k-outer-group-header",3,"ngClass","ngStyle"],["role","presentation",1,"k-height-container"]],template:function(e,t){1&e&&(Rs(0,Jk,3,10,"div",0),Ls(1,"div",1,2),Ls(3,"ul",3,4),Rs(5,ob,1,1,void 0,5),Rs(6,vb,1,1,void 0,5),Vs(),Rs(7,gb,2,2,"div",6),Vs()),2&e&&(Ms("ngIf",t.dataService.grouped),wr(1),oa("max-height",t.height,"px"),Ms("ngClass",Hl(10,mb,t.virtual,!t.virtual)),wr(2),Ms("ngClass",jl(13,yb,t.virtual)),As("id",t.id)("aria-hidden",!t.show),wr(2),Ms("ngIf",!t.dataService.grouped&&t.show),wr(1),Ms("ngIf",t.dataService.grouped),wr(1),Ms("ngIf",t.virtual))},directives:function(){return[zc,Pc,eh,XC,Fc,FC,QC]},encapsulation:2}),B_),zC={pageSize:50,itemHeight:28},LC=function(e){return!0===e?zC:e?Object.assign({pageSize:zC.pageSize},e):null},VC={multi:!0,provide:yp,useExisting:Ve((function(){return NC}))},NC=((H_=function(){function e(t,n,i,r,o,s,a,l,u,c){_classCallCheck(this,e),this.localization=t,this.dataService=n,this.popupService=i,this.selectionService=r,this.navigationService=o,this.disabledItemsService=s,this._zone=a,this.cdr=l,this.renderer=u,this.highlightFirst=!0,this.focusableId="k-".concat(hC()),this.placeholder="",this.listHeight=200,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new tu,this.filterChange=new tu,this.open=new tu,this.close=new tu,this.onFocus=new tu,this.onBlur=new tu,this.widgetClasses=!0,this.listBoxId=hC(),this.optionPrefix=hC(),this.onChangeCallback=function(e){},this.onTouchedCallback=function(e){},this.popupMouseDownHandler=function(e){return e.preventDefault()},this._popupSettings={animate:!0},this._open=!1,this._value="",this._previousValue="",this._filtering=!1,this.valueChangeSubject=new j,this._isFocused=!1,this.direction=t.rtl?"rtl":"ltr",this.wrapper=c.nativeElement,this.data=[],this.subscribeEvents(),this.selectionService.resetSelection([-1])}return _createClass(e,[{key:"toggle",value:function(e){var t=this;Promise.resolve(null).then((function(){t._toggle(e)}))}},{key:"togglePopup",value:function(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||this._toggle(e)}},{key:"ngOnInit",value:function(){var e=this;this.renderer.removeAttribute(this.wrapper,"tabindex"),this.localizationChangeSubscription=this.localization.changes.subscribe((function(t){var n=t.rtl;e.direction=n?"rtl":"ltr",e.setMessages()})),this.setMessages()}},{key:"ngOnDestroy",value:function(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}},{key:"ngOnChanges",value:function(e){var t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),/(value|valueField)/g.test(Object.keys(e).join())&&this.setState(this.value)}},{key:"reset",value:function(){this.setState("")}},{key:"clearValue",value:function(e){e.stopImmediatePropagation(),this.focus(),this.change(""),this.filterable&&this.filterChange.emit(""),this.selectionService.resetSelection([])}},{key:"writeValue",value:function(e){this.setState(e)}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"focus",value:function(){this.disabled||this.searchbar.focus()}},{key:"blur",value:function(){this.disabled||this.searchbar.blur()}},{key:"onResize",value:function(){if(this._open){var e=this.popupRef.popupElement,t=this.width,n=t.min,i=t.max;e.style.minWidth=n,e.style.width=i}}},{key:"emitChange",value:function(){this.value!==this._previousValue&&(this._previousValue=this.value,this.onChangeCallback(this.value),this.valueChange.emit(this.value))}},{key:"verifySettings",value:function(e){if(Ci()&&cC(e)&&"string"!=typeof e)throw new Error("Expected value of type string. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/autocomplete/#toc-value")}},{key:"search",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=e.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(e),n):-1,this.disabledItemsService.isIndexDisabled(t)?t+1<this.dataService.itemsCount?this.search(e,t+1):this.selectionService.focus(-1):(this.selectionService.focus(t),this.suggest&&(this.suggestedText=mC(this.dataService.itemAt(t),this.valueField)))}},{key:"navigate",value:function(e){this.isOpen&&this.selectionService.focus(e)}},{key:"handleNavigate",value:function(e){var t=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;if(!(this.disabled||this.readonly||isNaN(t))){var n=this.navigationService.process({current:t,max:this.dataService.itemsCount-1,min:0,originalEvent:e});n!==TC.Undefined&&n!==TC.Backspace&&n!==TC.Delete&&n!==TC.Home&&n!==TC.End&&n!==TC.Left&&n!==TC.Right&&(n===TC.Enter&&this.isOpen||n!==TC.Enter)&&e.preventDefault()}}},{key:"handleEnter",value:function(e){var t,n=this.selectionService.focused;if(this._filtering=!1,this.isOpen&&e.originalEvent.preventDefault(),n>=0)t=mC(this.dataService.itemAt(n),this.valueField);else{var i=this.suggest&&this.suggestedText&&this.data.length&&mC(this.dataService.itemAt(0),this.valueField,!0).toLowerCase()===this.searchbar.value.toLowerCase();t=this.isOpen&&i?this.suggestedText:this.searchbar.value}this.change(t)}},{key:"handleEscape",value:function(){this.togglePopup(!1),this.selectionService.focused=-1,this.suggestedText=null}},{key:"searchBarChange",value:function(e){var t=cC(this.text)?this.text.length:0;this.backspacePressed=e.length<t,this.text=e,this.togglePopup(e.length>0),this._filtering=!0,this.highlightFirst||(this.selectionService.focused=-1),this.filterable?this.filterChange.emit(e):this.highlightFirst&&this.search(e)}},{key:"handleFocus",value:function(){this.isFocused=!0,this.onFocus.emit()}},{key:"handleBlur",value:function(){this._filtering=!1;var e,t,n=this.filterable?this.selectionService.focused:-1;-1!==n?(e=this.dataService.itemAt(n),t=mC(e,this.valueField,!0)||""):t=this.searchbar.value;var i=t===this.searchbar.value,r=t.toLowerCase()===this.searchbar.value.toLowerCase();!i&&r&&this.selectionService.resetSelection([]),this.change(this.searchbar.value),this.togglePopup(!1),this.isFocused=!1,this.onBlur.emit(),this.onTouchedCallback()}},{key:"pageChange",value:function(e){this.virtual.skip=e.skip}},{key:"setState",value:function(e){this._filtering||(this.value=e,this._previousValue=this.value,this.text=this.value)}},{key:"change",value:function(e){this.togglePopup(!1),this.valueChangeSubject.next(e)}},{key:"subscribeEvents",value:function(){var e=this;_m()&&(this.valueChangeSubscription=this.valueChangeSubject.pipe(Pg((function(t){return!(e.value===t&&e.text===t)}))).subscribe((function(t){e.value=t,e.text=t,e.emitChange()})),this.changeSubscription=this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.focusSubscription=this.selectionService.onFocus.subscribe(this.handleItemFocus.bind(this)),this.navigationSubscription=le(this.navigationService.up,this.navigationService.down).subscribe((function(t){return e.navigate(t.index)})),this.closeSubscription=this.navigationService.close.subscribe((function(){return e.togglePopup(!1)})),this.enterSubscription=this.navigationService.enter.subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)))}},{key:"unsubscribeEvents",value:function(){_m()&&(this.changeSubscription.unsubscribe(),this.navigationSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.valueChangeSubscription.unsubscribe(),this.focusSubscription.unsubscribe())}},{key:"handleItemChange",value:function(e){var t=e.indices.length?e.indices[0]:void 0;if(this._filtering=!1,this.selectionService.resetSelection([-1]),cC(t)){var n=mC(this.dataService.itemAt(t),this.valueField);this.change(n)}}},{key:"handleItemFocus",value:function(e){var t=this.selectionService.focused;Boolean(this.suggest&&this.data&&this.data.length&&t>=0)&&(this.suggestedText=mC(this.dataService.itemAt(t),this.valueField))}},{key:"createPopup",value:function(){var e=this;this.virtual&&(this.virtual.skip=0);var t="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",popupAlign:{horizontal:t,vertical:"top"},anchorAlign:{horizontal:t,vertical:"bottom"}});var n=this.popupRef.popupElement,i=this.width,r=i.min,o=i.max;n.addEventListener("mousedown",this.popupMouseDownHandler),n.style.minWidth=r,n.style.width=o,n.style.height=this.height,n.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){e.cdr.detectChanges(),e.optionsList.scrollToItem(e.selectionService.focused)})),this.popupRef.popupAnchorViewportLeave.subscribe((function(){return e.togglePopup(!1)}))}},{key:"destroyPopup",value:function(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}},{key:"_toggle",value:function(e){this._open=void 0===e?!this._open:e,this.destroyPopup(),this._open&&this.createPopup()}},{key:"triggerPopupEvents",value:function(e){var t=new PC;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}},{key:"firstFocusableIndex",value:function(e){var t=this.data.length-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}},{key:"findIndexPredicate",value:function(e){var t=this;return this.dataService.grouped?function(n){var i=mC(n.value,t.valueField);return(i=cC(i)?i.toString().toLowerCase():"").startsWith(e.toLowerCase())}:function(n){var i=mC(n,t.valueField);return(i=cC(i)?i.toString().toLowerCase():"").startsWith(e.toLowerCase())}}},{key:"setMessages",value:function(){var e=this;this._zone.runOutsideAngular((function(){clearTimeout(e.messagesTimeout),e.messagesTimeout=setTimeout((function(){e.noDataText=e.localization.get("noDataText"),e.cdr.detectChanges()}))}))}},{key:"width",get:function(){var e=0;_m()&&(e=this.wrapper.offsetWidth);var t=this.popupSettings.width||e;return{min:isNaN(e)?e:"".concat(e,"px"),max:isNaN(t)?t:"".concat(t,"px")}}},{key:"height",get:function(){var e=this.popupSettings.height;return cC(e)?"".concat(e,"px"):"auto"}},{key:"listContainerClasses",get:function(){var e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}},{key:"suggestion",get:function(){if(this.text&&this.suggestedText){var e=this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase());return this.suggest&&!this.backspacePressed&&e?this.suggestedText:void 0}this.suggestedText=void 0}},{key:"appendTo",get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e}},{key:"isOpen",get:function(){return this._open}},{key:"activeDescendant",get:function(){if(!this.isOpen||!cC(this.selectionService.focused)||-1===this.selectionService.focused)return null;var e=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+mC(e,this.valueField)}},{key:"noDataLabel",get:function(){if(0===this.data.length)return this.noDataText}},{key:"clearTitle",get:function(){return this.localization.get("clearTitle")}},{key:"data",set:function(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState(this.value),this.filterable&&(this.selectionService.focused=this.isOpen&&this.data.length&&this.highlightFirst?this.firstFocusableIndex(0):-1),this.suggest&&this.dataService.itemsCount>0&&(this.suggestedText=mC(this.dataService.itemAt(0),this.valueField))},get:function(){var e=this.virtual;if(e){var t=e.skip||0,n=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,n)}return this.dataService.data}},{key:"value",set:function(e){this.verifySettings(e),this._value=e||"",this.cdr.markForCheck()},get:function(){return this._value||""}},{key:"popupSettings",set:function(e){this._popupSettings=Object.assign({animate:!0},e)},get:function(){return this._popupSettings}},{key:"itemDisabled",set:function(e){if("function"!=typeof e)throw new Error("itemDisabled must be a function, but received ".concat(JSON.stringify(e),"."));this.disabledItemsService.itemDisabled=e}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"virtual",set:function(e){this._virtualSettings=LC(e)},get:function(){return this._virtualSettings}},{key:"isFocused",get:function(){return this._isFocused},set:function(e){this._isFocused=e}},{key:"isDisabled",get:function(){return this.disabled}},{key:"dir",get:function(){return this.direction}}]),e}()).\u0275fac=function(e){return new(e||H_)(Ds(jy),Ds(OC),Ds(zk),Ds(SC),Ds(AC),Ds(IC),Ds(qu),Ds(Xo),Ds(Ya),Ds(qa))},H_.\u0275cmp=Et({type:H_,selectors:[["kendo-autocomplete"]],contentQueries:function(e,t,n){var i;1&e&&(gu(n,bC,!0),gu(n,_C,!0),gu(n,CC,!0),gu(n,RC,!0),gu(n,wC,!0),gu(n,xC,!0)),2&e&&(fu(i=ku())&&(t.template=i.first),fu(i=ku())&&(t.headerTemplate=i.first),fu(i=ku())&&(t.footerTemplate=i.first),fu(i=ku())&&(t.noDataTemplate=i.first),fu(i=ku())&&(t.groupTemplate=i.first),fu(i=ku())&&(t.fixedGroupTemplate=i.first))},viewQuery:function(e,t){var n;1&e&&(pu(kb,!0,ml),pu(bb,!0),pu(kC,!0),pu(_b,!0)),2&e&&(fu(n=ku())&&(t.container=n.first),fu(n=ku())&&(t.popupTemplate=n.first),fu(n=ku())&&(t.searchbar=n.first),fu(n=ku())&&(t.optionsList=n.first))},hostVars:11,hostBindings:function(e,t){2&e&&(As("dir",t.dir),sa("k-widget",t.widgetClasses)("k-autocomplete",t.widgetClasses)("k-header",t.widgetClasses)("k-state-focused",t.isFocused)("k-state-disabled",t.isDisabled))},inputs:{highlightFirst:"highlightFirst",focusableId:"focusableId",placeholder:"placeholder",listHeight:"listHeight",clearButton:"clearButton",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",filterable:"filterable",data:"data",value:"value",popupSettings:"popupSettings",itemDisabled:"itemDisabled",tabIndex:"tabIndex",virtual:"virtual",valueField:"valueField",loading:"loading",suggest:"suggest"},outputs:{valueChange:"valueChange",filterChange:"filterChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendoAutoComplete"],features:[Ha([VC,OC,SC,AC,IC,jy,{provide:By,useValue:"kendo.autocomplete"},{provide:DC,useExisting:Ve((function(){return H_}))},{provide:Nm,useExisting:Ve((function(){return H_}))}]),Ra()],decls:11,vars:15,consts:[["kendoAutoCompleteLocalizedMessages","",6,"noDataText","clearTitle"],[3,"role","id","listId","activeDescendant","noDataLabel","userInput","suggestedText","disabled","readonly","tabIndex","popupOpen","placeholder","onNavigate","valueChange","onBlur","onFocus"],["searchbar",""],["class","k-icon k-clear-value k-i-close","role","button","tabindex","-1",3,"click","mousedown",4,"ngIf"],["class","k-icon k-i-loading",4,"ngIf"],["popupTemplate",""],[3,"ngIf"],["container",""],["role","button","tabindex","-1",1,"k-icon","k-clear-value","k-i-close",3,"click","mousedown"],[1,"k-icon","k-i-loading"],[4,"ngIf"],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[3,"templateContext"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]],template:function(e,t){1&e&&(Bs(0,0),Ml(1,Cb),js(),Ls(2,"kendo-searchbar",1,2),Ws("onNavigate",(function(e){return t.handleNavigate(e)}))("valueChange",(function(e){return t.searchBarChange(e)}))("onBlur",(function(){return t.handleBlur()}))("onFocus",(function(){return t.handleFocus()})),Vs(),Rs(4,wb,1,1,"span",3),Rs(5,xb,1,0,"span",4),Rs(6,Db,5,14,"ng-template",null,5,wu),Rs(8,Fb,1,0,"ng-template",6),Hs(9,null,7)),2&e&&(wr(2),Ms("role","combobox")("id",t.focusableId)("listId",t.listBoxId)("activeDescendant",t.activeDescendant)("noDataLabel",t.noDataLabel)("userInput",t.text)("suggestedText",t.suggestion)("disabled",t.disabled)("readonly",t.readonly)("tabIndex",t.tabIndex)("popupOpen",t.isOpen)("placeholder",t.placeholder),wr(2),Ms("ngIf",!t.loading&&!t.readonly&&t.clearButton&&(null==t.text?null:t.text.length)),wr(1),Ms("ngIf",t.loading),wr(3),Ms("ngIf",t.isOpen))},directives:function(){return[nw,kC,zc,MC,XC,Lm]},encapsulation:2}),H_),BC=new et("dropdowns-touch-enabled"),jC=((G_=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||G_)(Ds(vl))},G_.\u0275dir=Mt({type:G_,selectors:[["","kendoDropDownListValueTemplate",""]]}),G_),HC={multi:!0,provide:yp,useExisting:Ve((function(){return GC}))},GC=((Z_=function(){function e(t,n,i,r,o,s,a,l,u,c,h){_classCallCheck(this,e),this.localization=t,this.popupService=n,this.selectionService=i,this.navigationService=r,this.disabledItemsService=o,this.dataService=s,this._zone=a,this.renderer=l,this.hostElement=u,this.cdr=c,this.touchEnabled=h,this.focusableId="k-".concat(hC()),this.listHeight=200,this.disabled=!1,this.readonly=!1,this.filterable=!1,this.ignoreCase=!0,this.delay=500,this.tabindex=0,this.valueChange=new tu,this.filterChange=new tu,this.selectionChange=new tu,this.open=new tu,this.close=new tu,this.onFocus=new tu,this.onBlur=new tu,this.widgetClasses=!0,this.groupIndices=[],this.listBoxId=hC(),this.optionPrefix=hC(),this.valueLabelId=hC(),this.filterText="",this.isFocused=!1,this.onTouchedCallback=function(e){},this.onChangeCallback=function(e){},this.word="",this.last="",this.filterFocused=new tu,this.filterBlurred=new tu,this.wrapperFocused=new tu,this.wrapperBlurred=new tu,this.selectionSubscription=new O,this._open=!1,this._popupSettings={animate:!0},this.direction=t.rtl?"rtl":"ltr",this.data=[],this.subscribeEvents(),this.hostElement=u.nativeElement,this.popupMouseDownHandler=this.onMouseDown.bind(this)}return _createClass(e,[{key:"blurComponent",value:function(){this.wrapperBlurred.emit()}},{key:"blurFilterInput",value:function(){this.filterBlurred.emit()}},{key:"focusComponent",value:function(){this.wrapperFocused.emit(),this.isFocused||(this.isFocused=!0,this.onFocus.emit())}},{key:"keydown",value:function(e){var t=cC(this.defaultItem)?-1:0,n=isNaN(this.selectionService.focused)?this.firstFocusableIndex(t):this.selectionService.focused,i=0;if(!(this.disabled||this.readonly||this.filterable&&this.isFocused&&this.isOpen&&(e.keyCode===uC.home||e.keyCode===uC.end))){var r=cC(this.selectionService.selected[0]),o=cC(this.selectionService.focused)&&!this.selectionService.isSelected(this.selectionService.focused);r&&!o||(e.keyCode===uC.down||e.keyCode===uC.right?i=-1:e.keyCode!==uC.up&&e.keyCode!==uC.left||(i=1));var s=e,a=this.navigationService.process({current:n+i,max:this.dataService.itemsCount-1,min:this.defaultItem?-1:0,originalEvent:s});a===TC.Undefined||a===TC.Tab||a===TC.Backspace||a===TC.Delete||(a===TC.Left||a===TC.Right)&&this.filterable||a===TC.Enter||s.preventDefault()}}},{key:"keypress",value:function(e){this.disabled||this.readonly||this.filterable||this.onKeyPress(e)}},{key:"click",value:function(){this.focus(),this.togglePopup(!this.isOpen)}},{key:"onResize",value:function(){if(this._open){var e=this.popupRef.popupElement,t=this.width,n=t.min,i=t.max;e.style.minWidth=n,e.style.width=i}}},{key:"ngOnInit",value:function(){var e=this;this.renderer.removeAttribute(this.hostElement,"tabindex"),this.localizationChangesSubscription=this.localization.changes.subscribe((function(t){var n=t.rtl;e.direction=n?"rtl":"ltr",e.setMessages()})),this.setMessages()}},{key:"isEmpty",value:function(){var e=this.value;return!(0===e||!1===e||e||this.defaultItem)}},{key:"onFilterFocus",value:function(){this.filterFocused.emit()}},{key:"ngOnDestroy",value:function(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangesSubscription&&this.localizationChangesSubscription.unsubscribe()}},{key:"ngOnChanges",value:function(e){var t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),void 0===this.valuePrimitive&&(this.valuePrimitive=!this.valueField),e.hasOwnProperty("value")&&(this.verifySettings(e.value.currentValue),cC(this.value)||(this._previousDataItem=void 0)),e.hasOwnProperty("defaultItem")&&(this.disabledItemsService.defaultItem=this.defaultItem),/(value|textField|valueField|valuePrimitive|defaultItem|itemDisabled)/g.test(Object.keys(e).join())&&this.setState()}},{key:"focus",value:function(){this.disabled||this.wrapper.nativeElement.focus()}},{key:"blur",value:function(){this.disabled||this.wrapper.nativeElement.blur()}},{key:"toggle",value:function(e){var t=this;Promise.resolve(null).then((function(){t._toggle(e)}))}},{key:"_toggle",value:function(e){this._open=void 0===e?!this._open:e,this.destroyPopup(),this._open&&this.createPopup()}},{key:"triggerPopupEvents",value:function(e){var t=new PC;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}},{key:"togglePopup",value:function(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||(!e&&this.filterable&&this.isFocused&&this.focus(),this._toggle(e))}},{key:"reset",value:function(){this._previousDataItem=void 0,this.value=void 0,this.setState()}},{key:"writeValue",value:function(e){this.verifySettings(e),this.value=null===e?void 0:e,cC(e)||(this._previousDataItem=void 0),this.setState()}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"getText",value:function(){return this.text}},{key:"getDefaultItemText",value:function(){return mC(this.defaultItem,this.textField)}},{key:"createPopup",value:function(){var e=this;this.virtual&&(this.virtual.skip=0);var t="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:t,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:t,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"absolute"});var n=this.popupRef.popupElement,i=this.width,r=i.min,o=i.max;n.addEventListener("mousedown",this.popupMouseDownHandler),n.style.minWidth=r,n.style.width=o,n.style.height=this.height,n.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){e.cdr.detectChanges(),e.optionsList.scrollToItem(e.selectionService.focused)})),this.filterable||this.popupRef.popupAnchorViewportLeave.subscribe((function(){return e.togglePopup(!1)}))}},{key:"destroyPopup",value:function(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}},{key:"updateState",value:function(e){var t=e.dataItem,n=e.confirm,i=void 0!==n&&n;this.dataItem=t,this.text=this.prop(this.textField,this.valuePrimitive)(t),i&&(this._previousDataItem=t)}},{key:"clearState",value:function(){this.text=void 0,this.dataItem=void 0}},{key:"resetSelection",value:function(e){var t=!cC(e);this.selectionService.resetSelection(t?[]:[e]),this.selectionService.focused=t?this.firstFocusableIndex(0):e}},{key:"onSelectionChange",value:function(e){var t=e.dataItem;this.updateState({dataItem:t}),this.selectionChange.emit(t),this.valueLabelId=hC()}},{key:"subscribeEvents",value:function(){var e=this;_m()&&(this.selectionSubscription.add(this.selectionService.onSelect.pipe(Pg((function(t){return e.isOpen})),Q(this.itemFromEvent.bind(this))).subscribe(this.onSelectionChange.bind(this))),this.selectionSubscription.add(le(this.selectionService.onSelect.pipe(Pg((function(t){return!e.isOpen}))),this.selectionService.onChange).pipe(Q(this.itemFromEvent.bind(this)),Mg((function(t){return e.togglePopup(!1)}))).subscribe((function(t){var n=t.dataItem,i=t.value;t.newSelection&&e.onSelectionChange({dataItem:n});var r=!cC(n)&&e._previousDataItem,o=i!==e.prop(e.valueField,e.valuePrimitive)(e.value);r?(e.updateState({dataItem:e._previousDataItem}),e.resetSelection()):o&&(e.value=e.valuePrimitive?i:n,e._previousDataItem=n,e.emitChange(e.value)),e.clearFilter()}))),this.navigationSubscription=le(this.navigationService.up,this.navigationService.down,this.navigationService.left.pipe(Bk((function(){return e.filterable}))),this.navigationService.right.pipe(Bk((function(){return e.filterable}))),this.navigationService.home,this.navigationService.end).pipe(Pg((function(e){return!isNaN(e.index)}))).subscribe((function(t){return e.selectionService.select(t.index)})),this.openSubscription=this.navigationService.open.subscribe((function(){return e.togglePopup(!0)})),this.closeSubscription=this.navigationService.close.subscribe((function(){e.togglePopup(!1),e.focus()})),this.enterSubscription=this.navigationService.enter.pipe(Mg((function(e){return e.originalEvent.preventDefault()}))).subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)),this.filterBlurredSubscription=this.filterBlurred.pipe(Gk((function(){return pg(10).pipe(Og(1),Hg(e.wrapperFocused))}))).subscribe((function(){e.wrapperBlurred.emit()})),this._zone.runOutsideAngular((function(){e.componentBlurredSubscription=le(e.wrapperBlurred.pipe(Gk((function(){return pg(10).pipe(Og(1),Hg(e.filterFocused))}))),e.navigationService.tab).pipe(Mg((function(t){return t instanceof EC&&e.focus()})),Pg((function(){return e.isFocused}))).subscribe((function(){return e._zone.run((function(){e.componentBlur()}))}))})))}},{key:"unsubscribeEvents",value:function(){_m()&&(this.navigationSubscription.unsubscribe(),this.openSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.componentBlurredSubscription.unsubscribe(),this.filterBlurredSubscription.unsubscribe(),this.selectionSubscription&&this.selectionSubscription.unsubscribe())}},{key:"itemFromEvent",value:function(e){var t=e.indices[0],n=this.dataService.itemAt(t);n=cC(n)?n:this.currentOrDefault(t);var i=this.prop(this.valueField,this.valuePrimitive)(n);return{dataItem:n,index:t,newSelection:e.newSelection,value:i}}},{key:"currentOrDefault",value:function(e){return cC(this.dataItem)&&-1!==e?this.dataItem:this.defaultItem}},{key:"firstFocusableIndex",value:function(e){var t=this.dataService.itemsCount-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}},{key:"handleEnter",value:function(){this.isOpen?(this.selectionService.change(this.selectionService.focused),this.focus()):this.togglePopup(!0)}},{key:"handleEscape",value:function(){this.selectionService.change(this.selectionService.selected[0]),this.focus()}},{key:"clearFilter",value:function(){this.filterable&&this.filterText&&(this.filterText="",this.cdr.markForCheck(),this.filterChange.emit(this.filterText))}},{key:"verifySettings",value:function(e){var t=!cC(this.valueField)!=!cC(this.textField);if(Ci()){if(this.defaultItem&&this.valueField&&"object"!=typeof this.defaultItem)throw new Error("defaultItem and data items must be of same type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownListComponent/#toc-defaultitem");if(!0===this.valuePrimitive&&cC(e)&&"object"==typeof e)throw new Error("Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection");if(!1===this.valuePrimitive&&cC(e)&&"object"!=typeof e)throw new Error("Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection");if(t)throw new Error("Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-bind-to-arrays-of-complex-data")}}},{key:"componentBlur",value:function(){this.isFocused=!1,this.selectionService.change(this.selectionService.selected[0]),this.onBlur.emit(),this.onTouchedCallback()}},{key:"onMouseDown",value:function(e){"input"!==e.target.tagName.toLowerCase()&&e.preventDefault()}},{key:"onKeyPress",value:function(e){if(0!==e.which&&e.keyCode!==uC.enter){var t=String.fromCharCode(e.charCode||e.keyCode);this.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),this.word+=t,this.last=t,this.search()}}},{key:"search",value:function(){var e=this;clearTimeout(this.typingTimeout),this.filterable||(this.typingTimeout=setTimeout((function(){e.word=""}),this.delay),this.selectNext())}},{key:"selectNext",value:function(){var e,t,n,i=this,r=this.dataService.filter((function(e){return cC(e)&&!e.header&&!i.disabledItemsService.isItemDisabled(e)})).map((function(e){return i.dataService.grouped?{item:e.value,itemIndex:e.offsetIndex}:{item:e,itemIndex:i.dataService.indexOf(e)}})),o=function(e,t){for(var n=0;n<e.length;n++)if(e.charAt(n)!==t)return!1;return!0}(this.word,this.last),s=r.length,a=!isNaN(this.selectionService.selected[0]),l=a?this.selectionService.selected[0]:0;for(this.defaultItem&&!this.disabledItemsService.isItemDisabled(this.defaultItem)&&(n={item:this.defaultItem,itemIndex:-1},s+=1,l+=1),r=function(e,t,n){var i=e;return n&&(i=[n].concat(i)),i.slice(t).concat(i.slice(0,t))}(r,l+=o&&a?1:0,n),t=0;t<s;t++){e=mC(r[t].item,this.textField);var u=Boolean(o&&yC(e,this.last,this.ignoreCase)),c=Boolean(yC(e,this.word,this.ignoreCase));if(u||c){t=r[t].itemIndex;break}}t!==s&&this.navigate(t)}},{key:"emitChange",value:function(e){this.onChangeCallback(e),this.valueChange.emit(e)}},{key:"navigate",value:function(e){this.selectionService.select(e)}},{key:"prop",value:function(e,t){return function(n){return cC(n)?t?e&&pC(n)?n[e]:n:n[e]:null}}},{key:"findDataItem",value:function(e){var t,n=e.primitive,i=e.valueField,r=e.value,o={dataItem:null,index:-1},s=this.prop(i,n);t=this.dataService.grouped?function(e){return s(e.value)===s(r)}:function(e){return s(e)===s(r)};var a=this.dataService.findIndex(t);return o.dataItem=this.dataService.itemAt(a),o.index=a,o}},{key:"setState",value:function(){var e=this.value,t=this.valueField,n=this.textField,i=this.valuePrimitive;if(this.defaultItem){var r=this.prop(t,i)(this.defaultItem),o=this.prop(t,i)(e);if(!cC(e)||o===r)return this.updateState({dataItem:this.defaultItem,confirm:!0}),this.resetSelection(-1),void(this.filterable&&this.filterText&&this.dataService.itemsCount&&(this.selectionService.focused=this.firstFocusableIndex(0)))}var s=this.findDataItem({primitive:i,valueField:t,value:e}),a=!(i&&n);s.dataItem?(this.updateState({dataItem:s.dataItem,confirm:!0}),this.resetSelection(s.index)):cC(e)&&a?(this.updateState({dataItem:e}),this.resetSelection()):this._previousDataItem?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection())}},{key:"handleFilter",value:function(e){this.filterChange.emit(e.target.value)}},{key:"pageChange",value:function(e){this.virtual.skip=e.skip}},{key:"setMessages",value:function(){var e=this;this._zone.runOutsideAngular((function(){clearTimeout(e.messagesTimeout),e.messagesTimeout=setTimeout((function(){e.noDataText=e.localization.get("noDataText"),e.cdr.detectChanges()}))}))}},{key:"width",get:function(){var e=_m()?this.wrapper.nativeElement.offsetWidth:0,t=this.popupSettings.width||e;return{min:isNaN(e)?e:"".concat(e,"px"),max:isNaN(t)?t:"".concat(t,"px")}}},{key:"height",get:function(){var e=this.popupSettings.height;return cC(e)?"".concat(e,"px"):"auto"}},{key:"widgetTabIndex",get:function(){if(!this.disabled){var e=Number(this.tabIndex);return isNaN(e)?0:e}}},{key:"ariaExpanded",get:function(){return this.isOpen}},{key:"ariaOwns",get:function(){if(this.isOpen)return this.listBoxId}},{key:"ariaActivedescendant",get:function(){if(cC(this.dataItem))return this.optionPrefix+"-"+mC(this.dataItem,this.valueField)}},{key:"noDataLabel",get:function(){if(0===this.dataService.itemsCount)return this.noDataText}},{key:"appendTo",get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e}},{key:"data",set:function(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState()},get:function(){var e=this.virtual;if(e){var t=e.skip||0,n=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,n)}return this.dataService.data}},{key:"value",set:function(e){this._value=e,this.cdr.markForCheck()},get:function(){return this._value}},{key:"popupSettings",set:function(e){this._popupSettings=Object.assign({animate:!0},e)},get:function(){return this._popupSettings}},{key:"itemDisabled",set:function(e){if("function"!=typeof e)throw new Error("itemDisabled must be a function, but received ".concat(JSON.stringify(e),"."));this.disabledItemsService.itemDisabled=e}},{key:"virtual",set:function(e){this._virtualSettings=LC(e)},get:function(){return this._virtualSettings}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"dir",get:function(){return this.direction}},{key:"isOpen",get:function(){return this._open}},{key:"buttonClasses",get:function(){return this.loading?"k-i-loading":this.iconClass||"k-i-arrow-s"}},{key:"listContainerClasses",get:function(){var e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}},{key:"isDisabledDefaultItem",get:function(){return this.disabledItemsService.isItemDisabled(this.defaultItem)}}]),e}()).\u0275fac=function(e){return new(e||Z_)(Ds(jy),Ds(zk),Ds(SC),Ds(AC),Ds(IC),Ds(OC),Ds(qu),Ds(Ya),Ds(qa),Ds(Xo),Ds(BC,8))},Z_.\u0275cmp=Et({type:Z_,selectors:[["kendo-dropdownlist"]],contentQueries:function(e,t,n){var i;1&e&&(gu(n,bC,!0),gu(n,wC,!0),gu(n,xC,!0),gu(n,jC,!0),gu(n,_C,!0),gu(n,CC,!0),gu(n,RC,!0)),2&e&&(fu(i=ku())&&(t.itemTemplate=i.first),fu(i=ku())&&(t.groupTemplate=i.first),fu(i=ku())&&(t.fixedGroupTemplate=i.first),fu(i=ku())&&(t.valueTemplate=i.first),fu(i=ku())&&(t.headerTemplate=i.first),fu(i=ku())&&(t.footerTemplate=i.first),fu(i=ku())&&(t.noDataTemplate=i.first))},viewQuery:function(e,t){var n;1&e&&(pu(kb,!0,ml),pu(bb,!0),pu(Mb,!0),pu(_b,!0)),2&e&&(fu(n=ku())&&(t.container=n.first),fu(n=ku())&&(t.popupTemplate=n.first),fu(n=ku())&&(t.wrapper=n.first),fu(n=ku())&&(t.optionsList=n.first))},hostVars:7,hostBindings:function(e,t){2&e&&(As("dir",t.dir),sa("k-widget",t.widgetClasses)("k-dropdown",t.widgetClasses)("k-header",t.widgetClasses))},inputs:{focusableId:"focusableId",listHeight:"listHeight",disabled:"disabled",readonly:"readonly",filterable:"filterable",ignoreCase:"ignoreCase",delay:"delay",tabindex:"tabindex",data:"data",value:"value",popupSettings:"popupSettings",itemDisabled:"itemDisabled",virtual:"virtual",tabIndex:"tabIndex",valuePrimitive:"valuePrimitive",iconClass:"iconClass",loading:"loading",textField:"textField",valueField:"valueField",defaultItem:"defaultItem"},outputs:{valueChange:"valueChange",filterChange:"filterChange",selectionChange:"selectionChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendoDropDownList"],features:[Ha([HC,OC,SC,AC,IC,jy,{provide:By,useValue:"kendo.dropdownlist"},{provide:DC,useExisting:Ve((function(){return Z_}))},{provide:Nm,useExisting:Ve((function(){return Z_}))}]),Ra()],decls:14,vars:21,consts:[["kendoDropDownListLocalizedMessages","",6,"noDataText"],["unselectable","on","role","listbox","aria-haspopup","listbox",3,"id","ngClass","focus","blur","keydown","keypress","click"],["wrapper",""],["unselectable","on",1,"k-input",3,"id"],[4,"ngIf"],[3,"ngIf"],["unselectable","on",1,"k-select"],[1,"k-icon",3,"ngClass"],["popupTemplate",""],["container",""],[3,"templateContext"],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[1,"k-list-filter",3,"click"],["tabindex","-1",1,"k-textbox",3,"filterInput","dir","ngModel","ngModelChange","keydown","input","focus","blur"],["unselectable","on",1,"k-icon","k-i-search"],["kendoDropDownsSelectable","",1,"k-list-optionlabel",3,"ngClass","index"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]],template:function(e,t){1&e&&(Bs(0,0),Ml(1,zb),js(),Ls(2,"span",1,2),Ws("focus",(function(){return t.focusComponent()}))("blur",(function(){return t.blurComponent()}))("keydown",(function(e){return t.keydown(e)}))("keypress",(function(e){return t.keypress(e)}))("click",(function(){return t.click()})),Ls(4,"span",3),Rs(5,Vb,1,4,void 0,4),Rs(6,Nb,1,1,"ng-template",5),Vs(),Ls(7,"span",6),Ns(8,"span",7),Vs(),Rs(9,Qb,8,17,"ng-template",null,8,wu),Vs(),Rs(11,Jb,1,0,"ng-template",5),Hs(12,null,9)),2&e&&(wr(2),Ms("id",t.focusableId)("ngClass",Gl(17,e_,!t.disabled,t.disabled,t.isFocused)),As("dir",t.direction)("readonly",t.readonly)("tabindex",t.widgetTabIndex)("aria-disabled",t.disabled)("aria-readonly",t.readonly)("aria-expanded",t.ariaExpanded)("aria-owns",t.ariaOwns)("aria-activedescendant",t.ariaActivedescendant)("aria-describedby",t.valueLabelId)("aria-label",t.noDataLabel),wr(2),Ms("id",t.valueLabelId),wr(1),Ms("ngIf",t.valueTemplate),wr(1),Ms("ngIf",!t.valueTemplate),wr(2),Ms("ngClass",t.buttonClasses),wr(3),Ms("ngIf",t.isOpen))},directives:function(){return[nw,Pc,zc,XC,MC,wp,bw,Pp,Zv,QC,Lm]},encapsulation:2}),Z_),UC=((q_=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||q_)(Ds(vl))},q_.\u0275dir=Mt({type:q_,selectors:[["","kendoMultiSelectCustomItemTemplate",""]]}),q_),WC=((W_=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||W_)(Ds(vl))},W_.\u0275dir=Mt({type:W_,selectors:[["","kendoMultiSelectTagTemplate",""]]}),W_),qC=((U_=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||U_)(Ds(vl))},U_.\u0275dir=Mt({type:U_,selectors:[["","kendoMultiSelectGroupTagTemplate",""]]}),U_),ZC=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).dataItem=e,n}return _inherits(t,e),t}(PC),$C={multi:!0,provide:yp,useExisting:Ve((function(){return KC}))},KC=((J_=function(){function e(t,n,i,r,o,s,a,l,u,c,h,f){var d=this;_classCallCheck(this,e),this.localization=t,this.popupService=n,this.dataService=i,this.selectionService=r,this.navigationService=o,this.disabledItemsService=s,this.cdr=a,this.differs=l,this.renderer=u,this.hostElement=c,this._zone=h,this.touchEnabled=f,this.listBoxId=hC(),this.tagListId=hC(),this.tagPrefix="tag-"+hC(),this.optionPrefix="option-"+hC(),this.focusedTagIndex=void 0,this.focusableId="k-".concat(hC()),this.autoClose=!0,this.tabindex=0,this.disabled=!1,this.readonly=!1,this.filterable=!1,this.listHeight=200,this.clearButton=!0,this.tagMapper=function(e){return e||[]},this.allowCustom=!1,this.valueNormalizer=function(e){return e.pipe(Q((function(e){var t=function(t){return"string"==typeof t&&e.toLowerCase()===t.toLowerCase()};return d.value.find(t)||d.dataService.find(t)||e})))},this.filterChange=new tu,this.valueChange=new tu,this.open=new tu,this.close=new tu,this.onFocus=new tu,this.onBlur=new tu,this.removeTag=new tu,this.widgetClasses=!0,this.onChangeCallback=function(e){},this.onTouchedCallback=function(e){},this._placeholder="",this._open=!1,this._value=[],this._popupSettings={animate:!0},this.isFocused=!1,this.selectedDataItems=[],this.customValueSubject=new j,this.observableSubscriptions=new O,this.hostElement=c.nativeElement,this.popupMouseDownHandler=this.onMouseDown.bind(this),this.data=[],this.direction=this.localization.rtl?"rtl":"ltr",this.subscribeEvents()}return _createClass(e,[{key:"focus",value:function(){this.disabled||this.searchbar.focus()}},{key:"onSearchBarFocus",value:function(){this.isFocused||(this.isFocused=!0,this.onFocus.emit())}},{key:"blur",value:function(){this.disabled||this.searchbar.blur()}},{key:"onSearchBarBlur",value:function(){this.isFocused&&(this.closePopup(),this.isFocused=!1,this.allowCustom||this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback())}},{key:"wrapperMousedown",value:function(e){if(0===e.button){if(this.isFocused&&this.isOpen&&e.target===this.searchbar.input.nativeElement)return;(!this.touchEnabled||this.touchEnabled&&"SPAN"!==e.target.tagName)&&this.searchbar.focus(),this.togglePopup(!this.isOpen),e.preventDefault()}}},{key:"onMouseDown",value:function(e){e.preventDefault()}},{key:"onResize",value:function(){if(this._open){var e=this.popupRef.popupElement,t=this.width,n=t.min,i=t.max;e.style.minWidth=n,e.style.width=i}}},{key:"verifySettings",value:function(){var e=!cC(this.valueField)!=!cC(this.textField);if(Ci()&&0!==this.value.length){if(!dC(this.value))throw new Error("Expected values of array type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection");if(!0===this.valuePrimitive&&vC(this.value))throw new Error("Expected values of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection");if(!1===this.valuePrimitive&&!vC(this.value))throw new Error("Expected values of Object type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection");if(e)throw new Error("Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#toc-bind-to-arrays-of-complex-data")}}},{key:"change",value:function(e){if(!cC(e.added)&&!cC(e.removed)||-1!==e.added&&-1!==e.removed){if(cC(e.added)){var t=this.dataService.itemAt(e.added),n=this.valuePrimitive&&cC(t)&&cC(t[this.valueField])?t[this.valueField]:t;this.value=[].concat(_toConsumableArray(this.value),[n]),this.cdr.markForCheck()}if(cC(e.removed)){var i=this.dataService.itemAt(e.removed),r=this.prop(this.valueField,this.valuePrimitive),o=function(e){return r(e)!==r(i)};this.value=this.value.filter(o),this.selectedDataItems=this.selectedDataItems.filter(o),this.tags=this.tagMapper(this.selectedDataItems.slice()),this.cdr.detectChanges()}this.emitValueChange()}else this.addCustomValue(this.text)}},{key:"setState",value:function(e){var t=this,n=vC(e),i=this.dataService.data;this.dataService.grouped&&(i=i.filter((function(e){return!e.header})).map((function(e){return e.value})));var r=gC(this.value,i,this.valueField);if(this.selectionService.resetSelection(r),this.isOpen&&void 0===this.selectionService.focused&&(this.selectionService.focused=this.dataService.itemsCount?this.firstFocusableIndex(0):this.allowCustom?-1:void 0),!this.text&&(cC(e)&&e.length||(this.selectedDataItems=[]),this.valuePrimitive&&!this.valueField&&(this.selectedDataItems=e.slice()),(n||this.valuePrimitive&&this.valueField)&&(this.selectedDataItems=function(e,t,n){var i=function(e,t){return dC(e)&&e.filter((function(e){return pC(e)&&e[t]}))}(e,n)||[];return(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return e.map((function(e){return t.find((function(t){return t[n]===e}))})).filter((function(e){return void 0!==e}))}(e,t,n)||[]).concat(i)}(e,i,this.valueField)),this.selectedDataItems.length<e.length)){var o=this.prop(this.valueField,this.valuePrimitive),s=e.map((function(e){var n=t.selectedDataItems.find((function(t){return o(t)===o(e)}));return cC(n)?n:t.resolveDataItemFromTags(e)})).filter((function(e){return cC(e)}));this.selectedDataItems=s}this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck()}},{key:"handleFilter",value:function(e){this.text=e,e&&!this.isOpen&&this.openPopup(),this.filterable?this.filterChange.emit(e):this.searchTextAndFocus(e),this.searchbar.setInputSize()}},{key:"pageChange",value:function(e){this.virtual.skip=e.skip}},{key:"clearFilter",value:function(){this.filterable&&this.text&&this.filterChange.emit(""),this.text="",this.searchbar.input.nativeElement.value="",this.searchbar.setInputSize()}},{key:"handleNavigate",value:function(e){var t=this.text&&e.keyCode!==uC.down&&e.keyCode!==uC.up,n=this.text&&e.keyCode===uC.enter||e.keyCode===uC.esc;if(!this.text&&e.keyCode===uC.backspace&&this.tags.length>0)this.handleBackspace();else if(!(this.disabled||t&&!n)){var i=e,r=isNaN(this.selectionService.focused)?-1:this.selectionService.focused,o=this.navigationService.process({current:r,max:this.dataService.itemsCount-1,min:this.allowCustom&&this.text?-1:0,open:this.isOpen,originalEvent:i});o!==TC.Undefined&&(o===TC.Enter&&this.isOpen||o!==TC.Enter)&&e.preventDefault()}}},{key:"handleRemoveTag",value:function(e){var t=new ZC(e);this.disabled||this.readonly||(this.focus(),this.removeTag.emit(t),t.isDefaultPrevented()||(e instanceof Array?this.removeGroupTag(e):this.removeSingleTag(e),this.cdr.detectChanges()))}},{key:"clearAll",value:function(e){e.stopImmediatePropagation(),this.clearFilter(),this.reset(),this.emitValueChange()}},{key:"addCustomValue",value:function(e){this.customValueSubject.next(e)}},{key:"ngAfterContentChecked",value:function(){this.verifySettings()}},{key:"ngDoCheck",value:function(){var e=this;if(this.differ){var t=this.differ.diff(this.value);if(t&&!this.valueChangeDetected){if(this.selectedDataItems=this.getSelectedDataItems(t),this.tags=this.tagMapper(this.selectedDataItems.slice(0)),!this.tags||!this.dataService.data)return;this.selectedDataItems.some((function(t){return!(function(t){return-1===e.dataService.indexOf(t)}(t)||function(t){return e.selectionService.isSelected(e.dataService.indexOf(t))}(t))}))&&this.setState(this.value)}}this.valueChangeDetected=!1}},{key:"ngOnInit",value:function(){var e=this;this.renderer.removeAttribute(this.hostElement,"tabindex"),this.createCustomValueStream(),this.localizationChangeSubscription=this.localization.changes.subscribe((function(t){var n=t.rtl;e.direction=n?"rtl":"ltr",e.setMessages()})),this.setMessages()}},{key:"ngOnChanges",value:function(e){var t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),void 0===this.valuePrimitive&&(this.valuePrimitive=!this.valueField),Cm("valueNormalizer",e)&&this.createCustomValueStream(),e.hasOwnProperty("value")&&(this.valueChangeDetected=!0),/(data|textField|valueField|valuePrimitive|value)/g.test(Object.keys(e).join())&&this.setState(this.value)}},{key:"ngAfterViewInit",value:function(){this.searchbar.setInputSize()}},{key:"ngOnDestroy",value:function(){this._toggle(!1),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}},{key:"toggle",value:function(e){var t=this;Promise.resolve(null).then((function(){t._toggle(void 0===e?!t._open:e),t.cdr.markForCheck()}))}},{key:"reset",value:function(){this.text="",this.value=[],this.selectedDataItems=[],this.setState([]),this.cdr.markForCheck()}},{key:"writeValue",value:function(e){this.value=e||[],this.setState(this.value),this.verifySettings()}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"onTagMapperChange",value:function(){this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck()}},{key:"prop",value:function(e,t){return function(n){return cC(n)?t?e&&pC(n)?n[e]:n:n[e]:null}}},{key:"subscribeEvents",value:function(){var e=this;if(_m()){var t=function(){return e.isOpen},n=function(){return!e.isOpen},i=function(){return!e.isOpen&&void 0!==e.focusedTagIndex};[this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.navigationService.esc.subscribe(this.closePopup.bind(this)),this.navigationService.enter.pipe(Pg(t)).subscribe(this.handleEnter.bind(this)),this.navigationService.open.subscribe(this.openPopup.bind(this)),this.navigationService.close.subscribe(this.handleClose.bind(this)),this.navigationService.up.pipe(Pg(t)).subscribe((function(t){return e.handleUp(t.index)})),this.navigationService.home.pipe(Pg((function(){return n}))).subscribe(this.handleHome.bind(this)),this.navigationService.end.pipe(Pg((function(){return n}))).subscribe(this.handleEnd.bind(this)),this.navigationService.backspace.pipe(Pg(i)).subscribe(this.handleBackspace.bind(this)),this.navigationService.delete.pipe(Pg(i)).subscribe(this.handleDelete.bind(this)),this.navigationService.left.subscribe(this.handleLeftKey.bind(this)),this.navigationService.right.subscribe(this.handleRightKey.bind(this)),this.navigationService.down.subscribe((function(t){return e.handleDownKey(t.index)}))].forEach((function(t){return e.observableSubscriptions.add(t)}))}}},{key:"unsubscribeEvents",value:function(){_m()&&(this.observableSubscriptions.unsubscribe(),this.customValueSubscription&&this.customValueSubscription.unsubscribe())}},{key:"removeGroupTag",value:function(e){var t=this.prop(this.valueField,this.valuePrimitive),n=this.dataService.data;this.dataService.grouped&&(n=n.filter((function(e){return!e.header})).map((function(e){return e.value})));var i=new Set(e.map((function(e){return t(e)})));this.value=this.value.filter((function(e){return!i.has(t(e))})),this.selectedDataItems=this.selectedDataItems.filter((function(e){return!i.has(t(e))}));var r=gC(this.value,n,this.valueField);this.selectionService.resetSelection(r),this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck(),this.emitValueChange()}},{key:"removeSingleTag",value:function(e){var t=this.prop(this.valueField,this.valuePrimitive),n=this.dataService.data;this.dataService.grouped&&(n=n.filter((function(e){return!e.header})).map((function(e){return e.value})));var i=gC([e],n,this.valueField)[0];if(isNaN(i)){var r=function(n){return t(n)!==t(e)};this.value=this.value.filter(r),this.selectedDataItems=this.selectedDataItems.filter(r),this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck(),this.emitValueChange()}else this.selectionService.unselect(i),this.togglePopup(!1)}},{key:"createCustomValueStream",value:function(){var e,t=this;this.customValueSubscription&&this.customValueSubscription.unsubscribe(),this.customValueSubscription=this.customValueSubject.pipe(Mg((function(){t.loading=!0,t.disabled=!0,t.cdr.detectChanges()})),this.valueNormalizer,(e=function(){return t.loading=!1,t.disabled=!1,t.clearFilter(),t.autoClose&&(t.togglePopup(!1),t.nextTick((function(){t.searchbar.focus()}))),t.createCustomValueStream(),ng(null)},function(t){var n=new Vk(e),i=t.lift(n);return n.caught=i})).subscribe((function(e){if(t.loading=!1,t.disabled=!1,t.clearFilter(),cC(e)){var n=t.valuePrimitive?mC(e,t.valueField):e,i=t.dataService.indexOf(n),r=-1===i;-1===t.value.indexOf(n)?(r?t.value=[].concat(_toConsumableArray(t.value),[n]):t.selectionService.add(i),t.selectedDataItems=[].concat(_toConsumableArray(t.selectedDataItems),[e])):!r&&t.selectionService.isSelected(i)?t.selectionService.unselect(i):(t.value.splice(t.value.indexOf(n),1),t.selectedDataItems=t.selectedDataItems.filter((function(e){return mC(e,t.valueField)!==n}))),t.tags=t.tagMapper(t.selectedDataItems.slice(0)),t.emitValueChange()}t.autoClose&&(t.togglePopup(!1),t.nextTick((function(){t.searchbar.focus()})))}))}},{key:"handleItemChange",value:function(e){this.change(e),this.autoClose&&this.togglePopup(!1),cC(e.added)&&-1!==e.added&&this.clearFilter()}},{key:"handleEnter",value:function(e){var t=this.selectionService,n=this.selectionService.focused;this.isOpen&&e.originalEvent.preventDefault(),-1!==n?(t.isSelected(n)?t.unselect(n):t.add(n),this.clearFilter(),this.autoClose&&this.togglePopup(!1)):this.allowCustom&&this.text&&this.addCustomValue(this.text)}},{key:"handleClose",value:function(){this.closePopup(),this.searchbar.focus()}},{key:"handleEnd",value:function(){this.focusedTagIndex=this.tags.length-1}},{key:"handleHome",value:function(){this.focusedTagIndex=0}},{key:"handleUp",value:function(e){this.selectionService.focused=e}},{key:"handleBackspace",value:function(){void 0!==this.focusedTagIndex?this.handleDelete():(this.handleRemoveTag(this.tags[this.tags.length-1]),this.searchbar.focus())}},{key:"handleDelete",value:function(){this.handleRemoveTag(this.tags[this.focusedTagIndex]),this.focusedTagIndex===this.tags.length&&(this.focusedTagIndex=void 0)}},{key:"handleLeftKey",value:function(){"rtl"===this.direction&&(0===this.focusedTagIndex&&(this.focusedTagIndex=void 0),void 0===this.focusedTagIndex)||(void 0===this.focusedTagIndex||this.focusedTagIndex<0?this.focusedTagIndex=this.tags.length-1:0!==this.focusedTagIndex&&this.focusedTagIndex--)}},{key:"handleDownKey",value:function(e){this.isOpen?this.selectionService.focused=e||this.firstFocusableIndex(0):this.openPopup()}},{key:"handleRightKey",value:function(){var e=this.tags.length-1;if("rtl"===this.direction){if(void 0===this.focusedTagIndex)return void(this.focusedTagIndex=0);if(this.focusedTagIndex===e)return}this.focusedTagIndex===e?this.focusedTagIndex=void 0:this.focusedTagIndex<e&&this.focusedTagIndex++}},{key:"findIndex",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e=e.toLowerCase();var r=this.dataService.findIndex((function(i){return t=n.dataService.grouped?n.prop(n.textField,n.valuePrimitive)(i.value):n.prop(n.textField,n.valuePrimitive)(i),t=cC(t)?t.toString().toLowerCase():"",e&&t.startsWith(e)}),i);return this.disabledItemsService.isIndexDisabled(r)?r+1>this.dataService.itemsCount?-1:this.findIndex(e,r+1):r}},{key:"searchTextAndFocus",value:function(e){var t=this.findIndex(e);this.selectionService.focused=t}},{key:"closePopup",value:function(){this.togglePopup(!1),this.focusedTagIndex=void 0}},{key:"openPopup",value:function(){this.togglePopup(!0),this.focusedTagIndex=void 0}},{key:"togglePopup",value:function(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||this._toggle(e)}},{key:"triggerPopupEvents",value:function(e){var t=new PC;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}},{key:"_toggle",value:function(e){this._open=void 0===e?!this._open:e,this.destroyPopup(),this._open&&this.createPopup()}},{key:"destroyPopup",value:function(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}},{key:"createPopup",value:function(){var e=this;this.virtual&&(this.virtual.skip=0);var t="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:t,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:t,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"absolute"});var n=this.popupRef.popupElement,i=this.width,r=i.min,o=i.max;n.addEventListener("mousedown",this.popupMouseDownHandler),n.style.minWidth=r,n.style.width=o,n.style.height=this.height,n.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){e.cdr.detectChanges(),e.optionsList.scrollToItem(e.selectionService.focused)})),this.popupRef.popupAnchorViewportLeave.subscribe((function(){e.togglePopup(!1)}))}},{key:"emitValueChange",value:function(){this.onChangeCallback(this.value),this.valueChange.emit(this.value)}},{key:"getSelectedDataItems",value:function(e){var t=this;if(!this.dataService.itemsCount&&this.valuePrimitive&&this.valueField)return[];var n,i,r=vC(this.data),o=this.prop(this.valueField,this.valuePrimitive),s=[];return e.forEachItem((function(e){if(n=e.currentValue,-1!==(i=t.dataService.findIndex(t.dataService.grouped?function(e){return o(e.value)===o(n)}:function(e){return o(e)===o(n)})))s.push(t.dataService.itemAt(i));else if(!cC(e)||r&&t.valuePrimitive){var a=t.resolveDataItemFromTags(n);cC(a)&&s.push(a)}else s.push(n)})),s}},{key:"resolveDataItemFromTags",value:function(e){if(this.tags&&this.tags.length&&cC(e)){var t=this.tags.reduce((function(e,t){var n=dC(t)?t:[t];return e.push.apply(e,_toConsumableArray(n)),e}),[]),n=this.prop(this.valueField,this.valuePrimitive);return t.find((function(t){return n(t)===n(e)}))}}},{key:"firstFocusableIndex",value:function(e){var t=this.dataService.itemsCount;if(this.disabledItemsService.isIndexDisabled(e)){var n=e+1;return n<t?this.firstFocusableIndex(n):void 0}return e}},{key:"nextTick",value:function(e){var t=this;this._zone.runOutsideAngular((function(){setTimeout((function(){return t._zone.run(e)}))}))}},{key:"setMessages",value:function(){var e=this;this._zone.runOutsideAngular((function(){clearTimeout(e.messagesTimeout),e.messagesTimeout=setTimeout((function(){e.noDataText=e.localization.get("noDataText"),e.cdr.detectChanges()}))}))}},{key:"appendTo",get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e}},{key:"data",set:function(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState(this.value)},get:function(){var e=this.virtual;if(e){var t=e.skip||0,n=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,n)}return this.dataService.data}},{key:"value",set:function(e){this._value=e||[],!this.differ&&this.value&&(this.differ=this.differs.find(this.value).create())},get:function(){return this._value}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"placeholder",set:function(e){this._placeholder=e||""},get:function(){return this.selectedDataItems.length?"":this._placeholder}},{key:"itemDisabled",set:function(e){if("function"!=typeof e)throw new Error("itemDisabled must be a function, but received ".concat(JSON.stringify(e),"."));this.disabledItemsService.itemDisabled=e}},{key:"virtual",set:function(e){this._virtualSettings=LC(e)},get:function(){return this._virtualSettings}},{key:"popupSettings",set:function(e){this._popupSettings=Object.assign({animate:!0},e)},get:function(){return this._popupSettings}},{key:"dir",get:function(){return this.direction}},{key:"focusedClass",get:function(){return this.isFocused}},{key:"disabledClass",get:function(){return this.disabled}},{key:"listContainerClasses",get:function(){var e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}},{key:"width",get:function(){var e=0;_m()&&(e=this.wrapper.nativeElement.offsetWidth);var t=this.popupSettings.width||e;return{min:isNaN(e)?e:"".concat(e,"px"),max:isNaN(t)?t:"".concat(t,"px")}}},{key:"height",get:function(){var e=this.popupSettings.height;return cC(e)?"".concat(e,"px"):"auto"}},{key:"activeDescendant",get:function(){var e,t,n=this.focusedTagIndex,i=this.selectionService.focused;if(cC(n)&&!this.isOpen)t=this.tags[n],e=this.tagPrefix;else{if(!cC(i)||-1===i||!this.isOpen)return null;t=this.dataService.itemAt(i),e=this.optionPrefix}return e+"-"+this.prop(this.valueField,this.valuePrimitive)(t)}},{key:"noDataLabel",get:function(){if(0===this.dataService.itemsCount)return this.noDataText}},{key:"clearTitle",get:function(){return this.localization.get("clearTitle")}},{key:"isOpen",get:function(){return this._open}}]),e}()).\u0275fac=function(e){return new(e||J_)(Ds(jy),Ds(zk),Ds(OC),Ds(SC),Ds(AC),Ds(IC),Ds(Xo),Ds(hl),Ds(Ya),Ds(qa),Ds(qu),Ds(BC,8))},J_.\u0275cmp=Et({type:J_,selectors:[["kendo-multiselect"]],contentQueries:function(e,t,n){var i;1&e&&(gu(n,bC,!0),gu(n,UC,!0),gu(n,wC,!0),gu(n,xC,!0),gu(n,_C,!0),gu(n,CC,!0),gu(n,WC,!0),gu(n,qC,!0),gu(n,RC,!0)),2&e&&(fu(i=ku())&&(t.template=i.first),fu(i=ku())&&(t.customItemTemplate=i.first),fu(i=ku())&&(t.groupTemplate=i.first),fu(i=ku())&&(t.fixedGroupTemplate=i.first),fu(i=ku())&&(t.headerTemplate=i.first),fu(i=ku())&&(t.footerTemplate=i.first),fu(i=ku())&&(t.tagTemplate=i.first),fu(i=ku())&&(t.groupTagTemplate=i.first),fu(i=ku())&&(t.noDataTemplate=i.first))},viewQuery:function(e,t){var n;1&e&&(pu(kb,!0,ml),pu(kC,!0),pu(bb,!0),pu(Mb,!0),pu(_b,!0)),2&e&&(fu(n=ku())&&(t.container=n.first),fu(n=ku())&&(t.searchbar=n.first),fu(n=ku())&&(t.popupTemplate=n.first),fu(n=ku())&&(t.wrapper=n.first),fu(n=ku())&&(t.optionsList=n.first))},hostVars:11,hostBindings:function(e,t){2&e&&(As("dir",t.dir),sa("k-widget",t.widgetClasses)("k-multiselect",t.widgetClasses)("k-header",t.widgetClasses)("k-state-focused",t.focusedClass)("k-state-disabled",t.disabledClass))},inputs:{focusableId:"focusableId",autoClose:"autoClose",tabindex:"tabindex",disabled:"disabled",readonly:"readonly",filterable:"filterable",listHeight:"listHeight",clearButton:"clearButton",tagMapper:"tagMapper",allowCustom:"allowCustom",valueNormalizer:"valueNormalizer",data:"data",value:"value",tabIndex:"tabIndex",placeholder:"placeholder",itemDisabled:"itemDisabled",virtual:"virtual",popupSettings:"popupSettings",valuePrimitive:"valuePrimitive",loading:"loading",valueField:"valueField",textField:"textField"},outputs:{filterChange:"filterChange",valueChange:"valueChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur",removeTag:"removeTag"},exportAs:["kendoMultiSelect"],features:[Ha([$C,OC,SC,AC,IC,jy,{provide:By,useValue:"kendo.multiselect"},{provide:DC,useExisting:Ve((function(){return J_}))},{provide:Nm,useExisting:Ve((function(){return J_}))}]),Ra()],decls:14,vars:23,consts:[["kendoMultiSelectLocalizedMessages","",6,"noDataText","clearTitle"],[1,"k-multiselect-wrap","k-floatwrap",3,"mousedown"],["wrapper",""],[3,"id","tags","textField","valueField","focused","disabled","template","groupTemplate","tagPrefix","removeTag"],[3,"id","role","tagListId","activeDescendant","noDataLabel","userInput","disabled","readonly","tabIndex","popupOpen","placeholder","onNavigate","valueChange","onBlur","onFocus"],["searchbar",""],["class","k-icon k-clear-value k-i-close","role","button","tabindex","-1",3,"mousedown",4,"ngIf"],["class","k-icon k-i-loading",4,"ngIf"],["popupTemplate",""],[3,"ngIf"],["container",""],["role","button","tabindex","-1",1,"k-icon","k-clear-value","k-i-close",3,"mousedown"],[1,"k-icon","k-i-loading"],[4,"ngIf"],["class","k-list",4,"ngIf"],[3,"id","optionPrefix","data","textField","valueField","height","template","groupTemplate","fixedGroupTemplate","show","multipleSelection","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[3,"templateContext"],[1,"k-list"],["kendoDropDownsSelectable","",1,"k-item","k-custom-item",3,"multipleSelection","index"],[4,"ngIf","ngIfElse"],["default_custom_item_template",""],[1,"k-icon","k-i-plus",2,"float","right"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]],template:function(e,t){1&e&&(Bs(0,0),Ml(1,t_),js(),Ls(2,"div",1,2),Ws("mousedown",(function(e){return t.wrapperMousedown(e)})),Ls(4,"kendo-taglist",3),Ws("removeTag",(function(e){return t.handleRemoveTag(e)})),Vs(),Ls(5,"kendo-searchbar",4,5),Ws("onNavigate",(function(e){return t.handleNavigate(e)}))("valueChange",(function(e){return t.handleFilter(e)}))("onBlur",(function(){return t.onSearchBarBlur()}))("onFocus",(function(){return t.onSearchBarFocus()})),Vs(),Rs(7,n_,1,1,"span",6),Rs(8,i_,1,0,"span",7),Vs(),Rs(9,v_,6,16,"ng-template",null,8,wu),Rs(11,g_,1,0,"ng-template",9),Hs(12,null,10)),2&e&&(wr(4),Ms("id",t.tagListId)("tags",t.tags)("textField",t.textField)("valueField",t.valueField)("focused",t.focusedTagIndex)("disabled",t.disabled)("template",t.tagTemplate)("groupTemplate",t.groupTagTemplate)("tagPrefix",t.tagPrefix),wr(1),Ms("id",t.focusableId)("role","listbox")("tagListId",t.tagListId)("activeDescendant",t.activeDescendant)("noDataLabel",t.noDataLabel)("userInput",t.text)("disabled",t.disabled)("readonly",t.readonly)("tabIndex",t.tabIndex)("popupOpen",t.isOpen)("placeholder",t.placeholder),wr(2),Ms("ngIf",!t.loading&&!t.readonly&&t.clearButton&&((null==t.tags?null:t.tags.length)||(null==t.text?null:t.text.length))),wr(1),Ms("ngIf",t.loading),wr(3),Ms("ngIf",t.isOpen))},directives:function(){return[nw,YC,kC,zc,MC,XC,QC,Lm]},encapsulation:2}),J_),YC=((Q_=function(){function e(){_classCallCheck(this,e),this.removeTag=new tu}return _createClass(e,[{key:"tagProp",value:function(e,t){return t&&pC(e)?e[t]:e}},{key:"deleteTag",value:function(e,t){e.preventDefault(),e.stopImmediatePropagation(),this.disabled||1!==e.which||this.removeTag.emit(t)}},{key:"itemId",value:function(e){if(e)return this.tagPrefix+"-"+this.tagProp(e,this.valueField)}},{key:"isGroupTag",value:function(e){return e instanceof Array}}]),e}()).\u0275fac=function(e){return new(e||Q_)},Q_.\u0275cmp=Et({type:Q_,selectors:[["kendo-taglist"]],inputs:{tags:"tags",textField:"textField",valueField:"valueField",focused:"focused",template:"template",groupTemplate:"groupTemplate",disabled:"disabled",tagPrefix:"tagPrefix",id:"id"},outputs:{removeTag:"removeTag"},decls:2,vars:2,consts:[[1,"k-reset"],["role","option","aria-selected","true","class","k-button",3,"ngClass",4,"ngFor","ngForOf"],["role","option","aria-selected","true",1,"k-button",3,"ngClass"],[4,"ngIf","ngIfThen","ngIfElse"],["groupTag",""],["singleTag",""],["aria-label","delete",1,"k-select"],[1,"k-icon","k-i-close",3,"mousedown"],[4,"ngIf"],[3,"ngIf"],[3,"templateContext"]],template:function(e,t){1&e&&(Ls(0,"ul",0),Rs(1,I_,8,9,"li",1),Vs()),2&e&&(As("id",t.id),wr(1),Ms("ngForOf",t.tags))},directives:function(){return[Fc,FC,Pc,zc,XC]},encapsulation:2}),Q_),XC=((X_=function(){function e(t){_classCallCheck(this,e),this.viewContainerRef=t}return _createClass(e,[{key:"templateContext",set:function(e){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}}]),e}()).\u0275fac=function(e){return new(e||X_)(Ds(ml))},X_.\u0275dir=Mt({type:X_,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),X_),QC=((Y_=function(){function e(t){_classCallCheck(this,e),this.multipleSelection=!1,this.selectionService=t}return _createClass(e,[{key:"onClick",value:function(e){e.stopPropagation(),this.multipleSelection?this.selectionService.isSelected(this.index)?this.selectionService.unselect(this.index):this.selectionService.add(this.index):this.selectionService.change(this.index)}},{key:"focusedClassName",get:function(){return this.selectionService.isFocused(this.index)}},{key:"selectedClassName",get:function(){return this.selectionService.isSelected(this.index)}}]),e}()).\u0275fac=function(e){return new(e||Y_)(Ds(SC))},Y_.\u0275dir=Mt({type:Y_,selectors:[["","kendoDropDownsSelectable",""]],hostVars:9,hostBindings:function(e,t){1&e&&Ws("click",(function(e){return t.onClick(e)})),2&e&&(As("index",t.index),oa("height",t.height,"px")("min-height",t.height,"px"),sa("k-state-focused",t.focusedClassName)("k-state-selected",t.selectedClassName))},inputs:{multipleSelection:"multipleSelection",index:"index",height:"height"}}),Y_),JC=((K_=function(){function e(t){_classCallCheck(this,e),this.multiSelectComponent=t,this.showAfter=0,this.createTagMapper()}return _createClass(e,[{key:"ngOnChanges",value:function(e){cC(e.showAfter)&&(this.createTagMapper(),this.multiSelectComponent.onTagMapperChange())}},{key:"createTagMapper",value:function(){var e=this;this.multiSelectComponent.tagMapper=function(t){var n;return t.length>e.showAfter?((n=t.slice(0,e.showAfter)).push(t.slice(e.showAfter,t.length)),n):t}}}]),e}()).\u0275fac=function(e){return new(e||K_)(Ds(KC))},K_.\u0275dir=Mt({type:K_,selectors:[["","kendoMultiSelectSummaryTag",""]],inputs:{showAfter:["kendoMultiSelectSummaryTag","showAfter"]},features:[Ra()]}),K_),ew=(($_=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(Vy)).\u0275fac=function(e){return tw(e||$_)},$_.\u0275dir=Mt({type:$_,inputs:{noDataText:"noDataText",clearTitle:"clearTitle"},features:[Sa]}),$_),tw=si(ew),nw=((iC=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).service=e,n}return _inherits(t,e),t}(ew)).\u0275fac=function(e){return new(e||iC)(Ds(jy))},iC.\u0275dir=Mt({type:iC,selectors:[["","kendoDropDownListLocalizedMessages",""],["","kendoComboBoxLocalizedMessages",""],["","kendoAutoCompleteLocalizedMessages",""],["","kendoMultiSelectLocalizedMessages",""]],features:[Ha([{provide:ew,useExisting:Ve((function(){return iC}))}]),Sa]}),iC),iw=((nC=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:nC}),nC.\u0275inj=Te({factory:function(e){return new(e||nC)}}),nC),rw=((tC=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:tC}),tC.\u0275inj=Te({factory:function(e){return new(e||tC)},imports:[[ih,eg,Lk,Vm,iw],ih,eg,Lk,Vm,iw]}),tC),ow=((eC=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:eC}),eC.\u0275inj=Te({factory:function(e){return new(e||eC)},imports:[[rw],iw]}),eC),sw={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},aw={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},lw={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},uw={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},cw=function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return i;return void 0!==n?n:e},hw=fC()&&window.navigator?window.navigator.userAgent:null,fw=hw?function(e){var t=null,n=[];for(var i in lw)if(lw.hasOwnProperty(i)&&(n=e.match(lw[i]))){(t={})[i]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||n[2],10);break}return t}(hw):null,dw=hw?function(e){var t,n=[];for(var i in sw)if(sw.hasOwnProperty(i)){if(!(n=e.match(sw[i])))continue;if("windows"===i&&"plugins"in window.navigator)return null;var r={};return r.device=i,r.browser=cw(e,uw,"default"),r.name=cw(i,aw),r[r.name]=!0,r.majorVersion=n[2],r.minorVersion=n[3].replace("_","."),t=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),r.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,r.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||r.cordova,r}return null}(hw):null,pw=fC()&&"ontouchstart"in window,vw=fw&&!fw.chrome&&window.MSPointerEvent,gw=fw&&!fw.chrome&&window.PointerEvent,mw=dw&&(pw||vw||gw),yw=mw,kw=((sC=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:sC}),sC.\u0275inj=Te({factory:function(e){return new(e||sC)},providers:[{provide:BC,useValue:yw}],imports:[[rw],iw]}),sC),bw=((oC=function(){function e(t,n){_classCallCheck(this,e),this.element=t,this.zone=n}return _createClass(e,[{key:"ngOnChanges",value:function(){var e=this;this.focused&&this.nextTick((function(){return e.element.nativeElement.focus()}))}},{key:"nextTick",value:function(e){this.zone.runOutsideAngular((function(){return setTimeout(e)}))}}]),e}()).\u0275fac=function(e){return new(e||oC)(Ds(qa),Ds(qu))},oC.\u0275dir=Mt({type:oC,selectors:[["","filterInput",""]],inputs:{focused:["filterInput","focused"]},features:[Ra()]}),oC),_w=((rC=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:rC}),rC.\u0275inj=Te({factory:function(e){return new(e||rC)},imports:[[rw],iw]}),rC),Cw=mw,ww=((lC=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:lC}),lC.\u0275inj=Te({factory:function(e){return new(e||lC)},providers:[{provide:BC,useValue:Cw}],imports:[[rw],iw]}),lC),xw=((aC=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:aC}),aC.\u0275inj=Te({factory:function(e){return new(e||aC)},imports:[ow,kw,_w,ww]}),aC),Sw=function(){return"undefined"!=typeof window},Tw={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},Ow={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},Iw={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},Ew={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},Aw=function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return i;return void 0!==n?n:e},Rw=Sw()&&window.navigator?window.navigator.userAgent:null,Pw=Rw?function(e){var t=null,n=[];for(var i in Iw)if(Iw.hasOwnProperty(i)&&(n=e.match(Iw[i]))){(t={})[i]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||n[2],10);break}return t}(Rw):null,Dw=Rw?function(e){var t,n=[];for(var i in Tw)if(Tw.hasOwnProperty(i)){if(!(n=e.match(Tw[i])))continue;if("windows"===i&&"plugins"in window.navigator)return null;var r={};return r.device=i,r.browser=Aw(e,Ew,"default"),r.name=Aw(i,Ow),r[r.name]=!0,r.majorVersion=n[2],r.minorVersion=n[3].replace("_","."),t=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),r.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,r.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||r.cordova,r}return null}(Rw):null;Sw()&&window,Pw&&!Pw.chrome&&window,Pw&&!Pw.chrome&&window;var Fw={extend:function(e){for(var t in this)"extend"!==t&&(e[t]=this[t])},observers:function(){return this._observers=this._observers||[],this._observers},addObserver:function(e){return this._observers?this._observers.push(e):this._observers=[e],this},removeObserver:function(e){var t=this.observers(),n=t.indexOf(e);return-1!==n&&t.splice(n,1),this},trigger:function(e,t){var n=this._observers;if(n&&!this._suspended)for(var i=0;i<n.length;i++){var r=n[i];r[e]&&r[e](t)}return this},optionsChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.element=this,this.trigger("optionsChange",e)},geometryChange:function(){this.trigger("geometryChange",{element:this})},suspend:function(){return this._suspended=(this._suspended||0)+1,this},resume:function(){return this._suspended=Math.max((this._suspended||0)-1,0),this},_observerField:function(e,t){this[e]&&this[e].removeObserver(this),this[e]=t,t.addObserver(this)}},Mw="undefined"!=typeof window?window:{},zw=Mw.requestAnimationFrame||Mw.webkitRequestAnimationFrame||Mw.mozRequestAnimationFrame||Mw.oRequestAnimationFrame||Mw.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};function Lw(e){zw.call(Mw,e)}var Vw=function e(){_classCallCheck(this,e)},Nw=/&/g,Bw=/</g,jw=/"/g,Hw=/'/g,Gw=/>/g;function Uw(e){return String(e).replace(Nw,"&amp;").replace(Bw,"&lt;").replace(Gw,"&gt;").replace(jw,"&quot;").replace(Hw,"&#39;")}function Ww(e){var t=window.console;void 0!==t&&t.log&&t.log(e)}function qw(e){return"function"==typeof e}function Zw(e){return"string"==typeof e?[e]:e}function $w(){this._defaultPrevented=!0}function Kw(){return!0===this._defaultPrevented}var Yw=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._events={},e}return _inherits(t,e),_createClass(t,[{key:"bind",value:function(e,t,n){var i=arguments,r=this,o=Zw(e),s=qw(t),a=o.length;if(void 0===t){for(var l in e)this.bind(l,e[l]);return this}for(var u=function(e){var a=o[e],l=s?t:t[a];if(l){if(n){var u=l;(l=function(){r.unbind(a,l),u.apply(r,i)}).original=u}(r._events[a]=r._events[a]||[]).push(l)}},c=0;c<a;c++)u(c);return this}},{key:"one",value:function(e,t){return this.bind(e,t,!0)}},{key:"first",value:function(e,t){for(var n=Zw(e),i=qw(t),r=0,o=n.length;r<o;r++){var s=n[r],a=i?t:t[s];a&&(this._events[s]=this._events[s]||[]).unshift(a)}return this}},{key:"trigger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._events[e];if(n){var i=n.length;t.sender=this,t._defaultPrevented=!1,t.preventDefault=$w,t.isDefaultPrevented=Kw,n=n.slice();for(var r=0;r<i;r++)n[r].call(this,t);return!0===t._defaultPrevented}return!1}},{key:"unbind",value:function(e,t){var n=this._events[e];if(void 0===e)this._events={};else if(n)if(t)for(var i=n.length-1;i>=0;i--)n[i]!==t&&n[i].original!==t||n.splice(i,1);else this._events[e]=[];return this}}]),t}(Vw),Xw={};"undefined"!=typeof window&&(Xw.browser=function(e){var t,n={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var i in n)if(n.hasOwnProperty(i)){var r=e.match(n[i]);if(r){(t={})[i]=!0,t[r[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||r[2],10);break}}return t}(window.navigator.userAgent));var Qw=Xw;function Jw(){return(new Date).getTime()}function ex(e,t){var n,i=0;if(!t||t<=0)return e;var r=function(){var r=Jw()-i,o=arguments,s=function(){e.apply(null,o),i=Jw()};if(!i)return s();n&&clearTimeout(n),r>t?s():n=setTimeout(s,t-r)};return r.cancel=function(){clearTimeout(n)},r}var tx={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},nx=Qw.browser,ix=function(e){var t=Object.keys(tx);t.push("transparent");var n=new RegExp("^("+t.join("|")+")(\\W|$)","i");return ix=function(e){return n.exec(e)},n.exec(e)},rx=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))}return _inherits(t,e),_createClass(t,[{key:"toHSV",value:function(){return this}},{key:"toRGB",value:function(){return this}},{key:"toHex",value:function(){return this.toBytes().toHex()}},{key:"toBytes",value:function(){return this}},{key:"toCss",value:function(){return"#"+this.toHex()}},{key:"toCssRgba",value:function(){var e=this.toBytes();return"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(parseFloat(Number(this.a).toFixed(3)),")")}},{key:"toDisplay",value:function(){return nx.msie&&nx.version<9?this.toCss():this.toCssRgba()}},{key:"equals",value:function(e){return e===this||null!==e&&this.toCssRgba()===hx(e).toCssRgba()}},{key:"diff",value:function(e){if(null===e)return NaN;var t=this.toBytes(),n=e.toBytes();return Math.sqrt(Math.pow(.3*(t.r-n.r),2)+Math.pow(.59*(t.g-n.g),2)+Math.pow(.11*(t.b-n.b),2))}},{key:"clone",value:function(){var e=this.toBytes();return e===this&&(e=new sx(e.r,e.g,e.b,e.a)),e}}]),t}(Vw),ox=function(e){function t(e,n,i,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).r=e,o.g=n,o.b=i,o.a=r,o}return _inherits(t,e),_createClass(t,[{key:"toHSV",value:function(){var e,t,n=this.r,i=this.g,r=this.b,o=Math.min(n,i,r),s=Math.max(n,i,r),a=s-o,l=s;return 0===a?new lx(0,0,l,this.a):(0!==s?(t=a/s,e=n===s?(i-r)/a:i===s?2+(r-n)/a:4+(n-i)/a,(e*=60)<0&&(e+=360)):(t=0,e=-1),new lx(e,t,l,this.a))}},{key:"toHSL",value:function(){var e,t,n=this.r,i=this.g,r=this.b,o=Math.max(n,i,r),s=Math.min(n,i,r),a=(o+s)/2;if(o===s)e=t=0;else{var l=o-s;switch(t=a>.5?l/(2-o-s):l/(o+s),o){case n:e=(i-r)/l+(i<r?6:0);break;case i:e=(r-n)/l+2;break;case r:e=(n-i)/l+4}}return new ux(60*e,100*t,100*a,this.a)}},{key:"toBytes",value:function(){return new sx(255*this.r,255*this.g,255*this.b,this.a)}}]),t}(rx),sx=function(e){function t(e,n,i,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,Math.round(e),Math.round(n),Math.round(i),r))}return _inherits(t,e),_createClass(t,[{key:"toRGB",value:function(){return new ox(this.r/255,this.g/255,this.b/255,this.a)}},{key:"toHSV",value:function(){return this.toRGB().toHSV()}},{key:"toHSL",value:function(){return this.toRGB().toHSL()}},{key:"toHex",value:function(){return ax(this.r,2)+ax(this.g,2)+ax(this.b,2)}},{key:"toBytes",value:function(){return this}}]),t}(ox);function ax(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",i=e.toString(16);t>i.length;)i=n+i;return i}var lx=function(e){function t(e,n,i,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).h=e,o.s=n,o.v=i,o.a=r,o}return _inherits(t,e),_createClass(t,[{key:"toRGB",value:function(){var e,t,n,i=this.h,r=this.s,o=this.v;if(0===r)e=t=n=o;else{i/=60;var s=Math.floor(i),a=i-s,l=o*(1-r),u=o*(1-r*a),c=o*(1-r*(1-a));switch(s){case 0:e=o,t=c,n=l;break;case 1:e=u,t=o,n=l;break;case 2:e=l,t=o,n=c;break;case 3:e=l,t=u,n=o;break;case 4:e=c,t=l,n=o;break;default:e=o,t=l,n=u}}return new ox(e,t,n,this.a)}},{key:"toHSL",value:function(){return this.toRGB().toHSL()}},{key:"toBytes",value:function(){return this.toRGB().toBytes()}}]),t}(rx),ux=function(e){function t(e,n,i,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).h=e,o.s=n,o.l=i,o.a=r,o}return _inherits(t,e),_createClass(t,[{key:"toRGB",value:function(){var e,t,n,i=this.h/360,r=this.s/100,o=this.l/100;if(0===r)e=t=n=o;else{var s=o<.5?o*(1+r):o+r-o*r,a=2*o-s;e=cx(a,s,i+1/3),t=cx(a,s,i),n=cx(a,s,i-1/3)}return new ox(e,t,n,this.a)}},{key:"toHSV",value:function(){return this.toRGB().toHSV()}},{key:"toBytes",value:function(){return this.toRGB().toBytes()}}]),t}(rx);function cx(e,t,n){var i=n;return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function hx(e,t){var n,i;if(null==e||"none"===e)return null;if(e instanceof rx)return e;var r=e.toLowerCase();if(n=ix(r))return(r="transparent"===n[1]?new ox(1,1,1,0):hx(tx[n[1]],t)).match=[n[1]],r;if((n=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(r))?i=new sx(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),1):(n=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(r))?i=new sx(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16),1):(n=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(r))?i=new sx(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),1):(n=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(r))?i=new sx(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4])):(n=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(r))?i=new ox(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100,1):(n=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(r))&&(i=new ox(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100,parseFloat(n[4]))),i)i.match=n;else if(!t)throw new Error("Cannot parse color: "+r);return i}var fx,dx=((fx=function(e){function t(e){var n;if(_classCallCheck(this,t),n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)),1===arguments.length)for(var i=t.formats,r=n.resolveColor(e),o=0;o<i.length;o++){var s=i[o].process,a=i[o].re.exec(r);if(a){var l=s(a);n.r=l[0],n.g=l[1],n.b=l[2]}}else n.r=arguments[0],n.g=arguments[1],n.b=arguments[2];return n.r=n.normalizeByte(n.r),n.g=n.normalizeByte(n.g),n.b=n.normalizeByte(n.b),_possibleConstructorReturn(n)}return _inherits(t,e),_createClass(t,[{key:"toHex",value:function(){var e=this.padDigit,t=this.r.toString(16),n=this.g.toString(16),i=this.b.toString(16);return"#"+e(t)+e(n)+e(i)}},{key:"resolveColor",value:function(e){var n=e||"black";return"#"===n.charAt(0)&&(n=n.substr(1,6)),n=(n=n.replace(/ /g,"")).toLowerCase(),n=t.namedColors[n]||n}},{key:"normalizeByte",value:function(e){return e<0||isNaN(e)?0:e>255?255:e}},{key:"padDigit",value:function(e){return 1===e.length?"0"+e:e}},{key:"brightness",value:function(e){var t=Math.round;return this.r=t(this.normalizeByte(this.r*e)),this.g=t(this.normalizeByte(this.g*e)),this.b=t(this.normalizeByte(this.b*e)),this}},{key:"percBrightness",value:function(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)}},{key:"isDark",value:function(){return this.percBrightness()<180}}],[{key:"fromBytes",value:function(e,t,n,i){return new sx(e,t,n,null!=i?i:1)}},{key:"fromRGB",value:function(e,t,n,i){return new ox(e,t,n,null!=i?i:1)}},{key:"fromHSV",value:function(e,t,n,i){return new lx(e,t,n,null!=i?i:1)}},{key:"fromHSL",value:function(e,t,n,i){return new ux(e,t,n,null!=i?i:1)}}]),t}(Vw)).formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],fx.namedColors=tx,fx);function px(e,t){return e.push.apply(e,t),e}var vx={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};function gx(e){for(var t=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],n="";e>0;)e<t[0]?t.shift():(n+=vx[t[0]],e-=t[0]);return n}function mx(){var e,t,n=new Promise((function(i,r){e=function(e){return n._state="resolved",i(e),n},t=function(e){return n._state="rejected",r(e),n}}));return n._state="pending",n.resolve=e,n.reject=t,n.state=function(){return n._state},n}function yx(e){return void 0!==e}var kx=1;function bx(){return"kdef"+kx++}var _x=Math.PI/180,Cx=Number.MAX_VALUE,wx=-Number.MAX_VALUE;function xx(e){return e/_x}var Sx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Tx=String.fromCharCode;function Ox(e){for(var t="",n=0,i=function(e){for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=Tx(i):i<2048?(t+=Tx(192|i>>>6),t+=Tx(128|63&i)):i<65536&&(t+=Tx(224|i>>>12),t+=Tx(128|i>>>6&63),t+=Tx(128|63&i))}return t}(e);n<i.length;){var r=i.charCodeAt(n++),o=i.charCodeAt(n++),s=i.charCodeAt(n++),a=r>>2,l=(3&r)<<4|o>>4,u=(15&o)<<2|s>>6,c=63&s;isNaN(o)?u=c=64:isNaN(s)&&(c=64),t=t+Sx.charAt(a)+Sx.charAt(l)+Sx.charAt(u)+Sx.charAt(c)}return t}function Ix(e){return yx((e.x||{}).location)?{x:e.x.location,y:e.y.location}:{x:e.pageX||e.clientX||0,y:e.pageY||e.clientY||0}}function Ex(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.touch?e.touch.initialTouch:e.target}function Ax(e){return""===e||null===e||"none"===e||"transparent"===e||!yx(e)}function Rx(e){if(e)return e[e.length-1]}function Px(e,t,n){return Math.max(Math.min(e,n),t)}function Dx(e,t){return e.length<2?e.slice():function e(n){if(n.length<=1)return n;var i=Math.floor(n.length/2),r=n.slice(0,i),o=n.slice(i);return function(e,n){for(var i=[],r=0,o=0,s=0;r<e.length&&o<n.length;)t(e[r],n[o])<=0?i[s++]=e[r++]:i[s++]=n[o++];return r<e.length&&i.push.apply(i,e.slice(r)),o<n.length&&i.push.apply(i,n.slice(o)),i}(r=e(r),o=e(o))}(e)}function Fx(e){return Promise.all(e)}function Mx(e){return e*_x}function zx(e,t){var n,i=(n=t)?Math.pow(10,n):1;return Math.round(e*i)/i}function Lx(e,t){return yx(e)?e:t}function Vx(e,t){for(var n in t)for(var i=n.trim().split(" "),r=0;r<i.length;r++)e.addEventListener(i[r],t[n],!1)}function Nx(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||0),left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}}function Bx(e,t){for(var n={},i=window.getComputedStyle(e)||{},r=Array.isArray(t)?t:[t],o=0;o<r.length;o++){var s=r[o];n[s]=i[s]}return n}function jx(e){return isNaN(e)?e:e+"px"}function Hx(e,t){if(!t){var n=Bx(e,["width","height"]);return{width:parseInt(n.width,10),height:parseInt(n.height,10)}}var i=t.width,r=t.height;yx(i)&&(e.style.width=jx(i)),yx(r)&&(e.style.height=jx(r))}function Gx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in t)for(var i=n.trim().split(" "),r=0;r<i.length;r++)e.removeEventListener(i[r],t[n],!1)}var Ux=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._size=e,n._length=0,n._map={},n}return _inherits(t,e),_createClass(t,[{key:"put",value:function(e,t){var n=this._map,i={key:e,value:t};n[e]=i,this._head?(this._tail.newer=i,i.older=this._tail,this._tail=i):this._head=this._tail=i,this._length>=this._size?(n[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++}},{key:"get",value:function(e){var t=this._map[e];if(t)return t===this._head&&t!==this._tail&&(this._head=t.newer,this._head.older=null),t!==this._tail&&(t.older&&(t.older.newer=t.newer,t.newer.older=t.older),t.older=this._tail,t.newer=null,this._tail.newer=t,this._tail=t),t.value}}]),t}(Vw),Wx=/\r?\n|\r|\t/g;function qx(e){return String(e).replace(Wx," ")}function Zx(e){var t=[];for(var n in e)t.push(n+e[n]);return t.sort().join("")}function $x(e){for(var t=2166136261,n=0;n<e.length;++n)t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t^=e.charCodeAt(n);return t>>>0}var Kx,Yx={baselineMarkerSize:1};"undefined"!=typeof document&&((Kx=document.createElement("div")).style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");var Xx,Qx=((Xx=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._cache=new Ux(1e3),n.options=Object.assign({},Yx,e),n}return _inherits(t,e),_createClass(t,[{key:"measure",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return{width:0,height:0,baseline:0};var i=$x(e+Zx(t)),r=this._cache.get(i);if(r)return r;var o={width:0,height:0,baseline:0},s=n.box||Kx,a=this._baselineMarker().cloneNode(!1);for(var l in t){var u=t[l];void 0!==u&&(s.style[l]=u)}var c=!1!==n.normalizeText?qx(e):String(e);return s.textContent=c,s.appendChild(a),document.body.appendChild(s),c.length&&(o.width=s.offsetWidth-this.options.baselineMarkerSize,o.height=s.offsetHeight,o.baseline=a.offsetTop+this.options.baselineMarkerSize),o.width>0&&o.height>0&&this._cache.put(i,o),s.parentNode.removeChild(s),o}},{key:"_baselineMarker",value:function(){var e=document.createElement("div");return e.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",e}}]),t}(Vw)).current=new Xx,Xx);function Jx(e,t,n){return Qx.current.measure(e,t,n)}var eS={}.toString,tS=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";for(var r in _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).prefix=i,e){var o=e[r];o=n._wrap(o,r),n[r]=o}return n}return _inherits(t,e),_createClass(t,[{key:"get",value:function(e){for(var t=e.split("."),n=this;t.length&&n;)n=n[t.shift()];return n}},{key:"set",value:function(e,t){this.get(e)!==t&&(this._set(e,this._wrap(t,e)),this.optionsChange({field:this.prefix+e,value:t}))}},{key:"_set",value:function(e,n){var i=e.indexOf(".")>=0,r=this,o=e;if(i){for(var s=o.split("."),a=this.prefix;s.length>1;){a+=(o=s.shift())+".";var l=r[o];l||((l=new t({},a)).addObserver(this),r[o]=l),r=l}o=s[0]}r._clear(o),r[o]=n}},{key:"_clear",value:function(e){var t=this[e];t&&t.removeObserver&&t.removeObserver(this)}},{key:"_wrap",value:function(e,n){var i=eS.call(e),r=e;return null!==r&&yx(r)&&"[object Object]"===i&&(e instanceof t||e instanceof Vw||(r=new t(r,this.prefix+n+".")),r.addObserver(this)),r}}]),t}(Vw);Fw.extend(tS.prototype);var nS=tS;function iS(e){return function(t){return this[e]!==t&&(this[e]=t,this.geometryChange()),this}}function rS(e){return function(){return this[e]}}function oS(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.charAt(0).toUpperCase()+i.substring(1,i.length);e["set"+r]=iS(i),e["get"+r]=rS(i)}}var sS,aS=((sS=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).a=n,e.b=i,e.c=r,e.d=o,e.e=s,e.f=a,e}return _inherits(t,e),_createClass(t,[{key:"multiplyCopy",value:function(e){return new t(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.e+this.c*e.f+this.e,this.b*e.e+this.d*e.f+this.f)}},{key:"invert",value:function(){var e=this.a,n=this.b,i=this.c,r=this.d,o=this.e,s=this.f,a=e*r-n*i;return 0===a?null:new t(r/a,-n/a,-i/a,e/a,(i*s-r*o)/a,(n*o-e*s)/a)}},{key:"clone",value:function(){return new t(this.a,this.b,this.c,this.d,this.e,this.f)}},{key:"equals",value:function(e){return!!e&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f}},{key:"round",value:function(e){return this.a=zx(this.a,e),this.b=zx(this.b,e),this.c=zx(this.c,e),this.d=zx(this.d,e),this.e=zx(this.e,e),this.f=zx(this.f,e),this}},{key:"toArray",value:function(e){var t=[this.a,this.b,this.c,this.d,this.e,this.f];if(yx(e))for(var n=0;n<t.length;n++)t[n]=zx(t[n],e);return t}},{key:"toString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return this.toArray(e).join(t)}}],[{key:"translate",value:function(e,n){return new t(1,0,0,1,e,n)}},{key:"unit",value:function(){return new t(1,0,0,1,0,0)}},{key:"rotate",value:function(e,n,i){var r=new t;return r.a=Math.cos(Mx(e)),r.b=Math.sin(Mx(e)),r.c=-r.b,r.d=r.a,r.e=n-n*r.a+i*r.b||0,r.f=i-i*r.a-n*r.b||0,r}},{key:"scale",value:function(e,n){return new t(e,0,0,n,0,0)}}]),t}(Vw)).IDENTITY=sS.unit(),sS);function lS(e){return e&&"function"==typeof e.matrix?e.matrix():e}var uS=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).x=e||0,i.y=n||0,i}return _inherits(t,e),_createClass(t,[{key:"equals",value:function(e){return e&&e.x===this.x&&e.y===this.y}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"rotate",value:function(e,n){var i=t.create(n)||t.ZERO;return this.transform(aS.rotate(e,i.x,i.y))}},{key:"translate",value:function(e,t){return this.x+=e,this.y+=t,this.geometryChange(),this}},{key:"translateWith",value:function(e){return this.translate(e.x,e.y)}},{key:"move",value:function(e,t){return this.x=this.y=0,this.translate(e,t)}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x*=e,this.y*=t,this.geometryChange(),this}},{key:"scaleCopy",value:function(e,t){return this.clone().scale(e,t)}},{key:"transform",value:function(e){var t=lS(e),n=this.x,i=this.y;return this.x=t.a*n+t.c*i+t.e,this.y=t.b*n+t.d*i+t.f,this.geometryChange(),this}},{key:"transformCopy",value:function(e){var t=this.clone();return e&&t.transform(e),t}},{key:"distanceTo",value:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}},{key:"round",value:function(e){return this.x=zx(this.x,e),this.y=zx(this.y,e),this.geometryChange(),this}},{key:"toArray",value:function(e){var t=yx(e);return[t?zx(this.x,e):this.x,t?zx(this.y,e):this.y]}},{key:"toString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=this.x,i=this.y;return yx(e)&&(n=zx(n,e),i=zx(i,e)),n+t+i}}],[{key:"create",value:function(e,n){if(yx(e))return e instanceof t?e:1===arguments.length&&2===e.length?new t(e[0],e[1]):new t(e,n)}},{key:"min",value:function(){for(var e=Cx,n=Cx,i=0;i<arguments.length;i++){var r=arguments[i];e=Math.min(r.x,e),n=Math.min(r.y,n)}return new t(e,n)}},{key:"max",value:function(){for(var e=wx,n=wx,i=0;i<arguments.length;i++){var r=arguments[i];e=Math.max(r.x,e),n=Math.max(r.y,n)}return new t(e,n)}},{key:"minPoint",value:function(){return new t(wx,wx)}},{key:"maxPoint",value:function(){return new t(Cx,Cx)}},{key:"ZERO",get:function(){return new t(0,0)}}]),t}(Vw);oS(uS.prototype,["x","y"]),Fw.extend(uS.prototype);var cS=uS,hS=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).width=e||0,i.height=n||0,i}return _inherits(t,e),_createClass(t,[{key:"equals",value:function(e){return e&&e.width===this.width&&e.height===this.height}},{key:"clone",value:function(){return new t(this.width,this.height)}},{key:"toArray",value:function(e){var t=yx(e);return[t?zx(this.width,e):this.width,t?zx(this.height,e):this.height]}}],[{key:"create",value:function(e,n){if(yx(e))return e instanceof t?e:1===arguments.length&&2===e.length?new t(e[0],e[1]):new t(e,n)}},{key:"ZERO",get:function(){return new t(0,0)}}]),t}(Vw);oS(hS.prototype,["width","height"]),Fw.extend(hS.prototype);var fS=hS,dS=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new cS,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fS;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).setOrigin(n),e.setSize(i),e}return _inherits(t,e),_createClass(t,[{key:"clone",value:function(){return new t(this.origin.clone(),this.size.clone())}},{key:"equals",value:function(e){return e&&e.origin.equals(this.origin)&&e.size.equals(this.size)}},{key:"setOrigin",value:function(e){return this._observerField("origin",cS.create(e)),this.geometryChange(),this}},{key:"getOrigin",value:function(){return this.origin}},{key:"setSize",value:function(e){return this._observerField("size",fS.create(e)),this.geometryChange(),this}},{key:"getSize",value:function(){return this.size}},{key:"width",value:function(){return this.size.width}},{key:"height",value:function(){return this.size.height}},{key:"topLeft",value:function(){return this.origin.clone()}},{key:"bottomRight",value:function(){return this.origin.clone().translate(this.width(),this.height())}},{key:"topRight",value:function(){return this.origin.clone().translate(this.width(),0)}},{key:"bottomLeft",value:function(){return this.origin.clone().translate(0,this.height())}},{key:"center",value:function(){return this.origin.clone().translate(this.width()/2,this.height()/2)}},{key:"bbox",value:function(e){var n=this.topLeft().transformCopy(e),i=this.topRight().transformCopy(e),r=this.bottomRight().transformCopy(e),o=this.bottomLeft().transformCopy(e);return t.fromPoints(n,i,r,o)}},{key:"transformCopy",value:function(e){return t.fromPoints(this.topLeft().transform(e),this.bottomRight().transform(e))}},{key:"expand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.size.width+=2*e,this.size.height+=2*t,this.origin.translate(-e,-t),this}},{key:"expandCopy",value:function(e,t){return this.clone().expand(e,t)}},{key:"containsPoint",value:function(e){var t=this.origin,n=this.bottomRight();return!(e.x<t.x||e.y<t.y||n.x<e.x||n.y<e.y)}},{key:"_isOnPath",value:function(e,t){var n=this.expandCopy(t,t),i=this.expandCopy(-t,-t);return n.containsPoint(e)&&!i.containsPoint(e)}}],[{key:"fromPoints",value:function(){var e=cS.min.apply(null,arguments),n=cS.max.apply(null,arguments),i=new fS(n.x-e.x,n.y-e.y);return new t(e,i)}},{key:"union",value:function(e,n){return t.fromPoints(cS.min(e.topLeft(),n.topLeft()),cS.max(e.bottomRight(),n.bottomRight()))}},{key:"intersect",value:function(e,n){var i={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y},r={left:n.topLeft().x,top:n.topLeft().y,right:n.bottomRight().x,bottom:n.bottomRight().y};if(i.left<=r.right&&r.left<=i.right&&i.top<=r.bottom&&r.top<=i.bottom)return t.fromPoints(new cS(Math.max(i.left,r.left),Math.max(i.top,r.top)),new cS(Math.min(i.right,r.right),Math.min(i.bottom,r.bottom)))}}]),t}(Vw);Fw.extend(dS.prototype);var pS=dS,vS=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aS.unit();return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._matrix=n,e}return _inherits(t,e),_createClass(t,[{key:"clone",value:function(){return new t(this._matrix.clone())}},{key:"equals",value:function(e){return e&&e._matrix.equals(this._matrix)}},{key:"translate",value:function(e,t){return this._matrix=this._matrix.multiplyCopy(aS.translate(e,t)),this._optionsChange(),this}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=n;return i&&(i=cS.create(i),this._matrix=this._matrix.multiplyCopy(aS.translate(i.x,i.y))),this._matrix=this._matrix.multiplyCopy(aS.scale(e,t)),i&&(this._matrix=this._matrix.multiplyCopy(aS.translate(-i.x,-i.y))),this._optionsChange(),this}},{key:"rotate",value:function(e,t){var n=cS.create(t)||cS.ZERO;return this._matrix=this._matrix.multiplyCopy(aS.rotate(e,n.x,n.y)),this._optionsChange(),this}},{key:"multiply",value:function(e){var t=lS(e);return this._matrix=this._matrix.multiplyCopy(t),this._optionsChange(),this}},{key:"matrix",value:function(e){return e?(this._matrix=e,this._optionsChange(),this):this._matrix}},{key:"_optionsChange",value:function(){this.optionsChange({field:"transform",value:this})}}]),t}(Vw);Fw.extend(vS.prototype);var gS=vS;function mS(e){return null===e?null:e instanceof gS?e:new gS(e)}var yS=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._initOptions(e),n}return _inherits(t,e),_createClass(t,[{key:"_initOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clip,n=e.transform;n&&(e.transform=mS(n)),t&&!t.id&&(t.id=bx()),this.options=new nS(e),this.options.addObserver(this)}},{key:"transform",value:function(e){if(!yx(e))return this.options.get("transform");this.options.set("transform",mS(e))}},{key:"parentTransform",value:function(){for(var e,t=this;t.parent;){var n=(t=t.parent).transform();n&&(e=n.matrix().multiplyCopy(e||aS.unit()))}if(e)return mS(e)}},{key:"currentTransform",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parentTransform(),n=lS(this.transform()),i=lS(t);if(e=n&&i?i.multiplyCopy(n):n||i)return mS(e)}},{key:"visible",value:function(e){return yx(e)?(this.options.set("visible",e),this):!1!==this.options.get("visible")}},{key:"clip",value:function(e){var t=this.options;return yx(e)?(e&&!e.id&&(e.id=bx()),t.set("clip",e),this):t.get("clip")}},{key:"opacity",value:function(e){return yx(e)?(this.options.set("opacity",e),this):Lx(this.options.get("opacity"),1)}},{key:"clippedBBox",value:function(e){var t=this._clippedBBox(e);if(t){var n=this.clip();return n?pS.intersect(t,n.bbox(e)):t}}},{key:"containsPoint",value:function(e,t){if(this.visible()){var n=this.currentTransform(t),i=e;return n&&(i=e.transformCopy(n.matrix().invert())),this._hasFill()&&this._containsPoint(i)||this._isOnPath&&this._hasStroke()&&this._isOnPath(i)}return!1}},{key:"_hasFill",value:function(){var e=this.options.fill;return e&&!Ax(e.color)}},{key:"_hasStroke",value:function(){var e=this.options.stroke;return e&&e.width>0&&!Ax(e.color)}},{key:"_clippedBBox",value:function(e){return this.bbox(e)}}]),t}(Vw);yS.prototype.nodeType="Element",Fw.extend(yS.prototype);var kS=yS;function bS(e,t,n,i){var r=0,o=0;return i&&(r=Math.atan2(i.c*n,i.a*t),0!==i.b&&(o=Math.atan2(i.d*n,i.b*t))),{x:r,y:o}}var _S=Math.PI/2,CS=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new cS,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).setCenter(n),e.setRadius(i),e}return _inherits(t,e),_createClass(t,[{key:"setCenter",value:function(e){return this._observerField("center",cS.create(e)),this.geometryChange(),this}},{key:"getCenter",value:function(){return this.center}},{key:"equals",value:function(e){return e&&e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return new t(this.center.clone(),this.radius)}},{key:"pointAt",value:function(e){return this._pointAt(Mx(e))}},{key:"bbox",value:function(e){for(var t=bS(0,this.radius,this.radius,e),n=cS.maxPoint(),i=cS.minPoint(),r=0;r<4;r++){var o=this._pointAt(t.x+r*_S).transformCopy(e),s=this._pointAt(t.y+r*_S).transformCopy(e),a=new cS(o.x,s.y);n=cS.min(n,a),i=cS.max(i,a)}return pS.fromPoints(n,i)}},{key:"_pointAt",value:function(e){var t=this.center,n=this.radius;return new cS(t.x+n*Math.cos(e),t.y+n*Math.sin(e))}},{key:"containsPoint",value:function(e){var t=this.center,n=this.radius;return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<=Math.pow(n,2)}},{key:"_isOnPath",value:function(e,t){var n=this.center,i=this.radius,r=n.distanceTo(e);return i-t<=r&&r<=i+t}}]),t}(Vw);oS(CS.prototype,["radius"]),Fw.extend(CS.prototype);var wS=CS,xS={extend:function(e){e.fill=this.fill,e.stroke=this.stroke},fill:function(e,t){var n=this.options;if(yx(e)){if(e&&"Gradient"!==e.nodeType){var i={color:e};yx(t)&&(i.opacity=t),n.set("fill",i)}else n.set("fill",e);return this}return n.get("fill")},stroke:function(e,t,n){return yx(e)?(this.options.set("stroke.color",e),yx(t)&&this.options.set("stroke.width",t),yx(n)&&this.options.set("stroke.opacity",n),this):this.options.get("stroke")}},SS=aS.IDENTITY.toString(),TS={extend:function(e){e.bbox=this.bbox,e.geometryChange=this.geometryChange},bbox:function(e){var t,n=lS(this.currentTransform(e)),i=n?n.toString():SS;this._bboxCache&&this._matrixHash===i?t=this._bboxCache.clone():(t=this._bbox(n),this._bboxCache=t?t.clone():null,this._matrixHash=i);var r=this.options.get("stroke.width");return r&&t&&t.expand(r/2),t},geometryChange:function(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}};function OS(e){var t="_"+e;return function(e){return yx(e)?(this._observerField(t,e),this.geometryChange(),this):this[t]}}function IS(e,t){for(var n=0;n<t.length;n++)e[t[n]]=OS(t[n])}var ES=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wS,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,i))).geometry(n),yx(e.options.stroke)||e.stroke("#000"),e}return _inherits(t,e),_createClass(t,[{key:"rawBBox",value:function(){return this._geometry.bbox()}},{key:"_bbox",value:function(e){return this._geometry.bbox(e)}},{key:"_containsPoint",value:function(e){return this.geometry().containsPoint(e)}},{key:"_isOnPath",value:function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}]),t}(kS);ES.prototype.nodeType="Circle",xS.extend(ES.prototype),TS.extend(ES.prototype),IS(ES.prototype,["geometry"]);var AS=ES;function RS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return 0===zx(Math.abs(e-t),n)}function PS(e,t,n){return e<t||RS(e,t,n)}var DS=Math.pow,FS=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new cS,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).setCenter(n),e.radiusX=i.radiusX,e.radiusY=i.radiusY||i.radiusX,e.startAngle=i.startAngle,e.endAngle=i.endAngle,e.anticlockwise=i.anticlockwise||!1,e.xRotation=i.xRotation,e}return _inherits(t,e),_createClass(t,[{key:"clone",value:function(){return new t(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})}},{key:"setCenter",value:function(e){return this._observerField("center",cS.create(e)),this.geometryChange(),this}},{key:"getCenter",value:function(){return this.center}},{key:"pointAt",value:function(e){var t=this.center,n=Mx(e);return new cS(t.x+this.radiusX*Math.cos(n),t.y+this.radiusY*Math.sin(n))}},{key:"curvePoints",value:function(){var e,t=this.startAngle,n=this.anticlockwise?-1:1,i=[this.pointAt(t)],r=this._arcInterval(),o=r.endAngle-r.startAngle,s=Math.ceil(o/45),a=o/s,l=t;this.xRotation&&(e=mS().rotate(this.xRotation,this.center));for(var u=1;u<=s;u++){var c=l+n*a,h=this._intervalCurvePoints(l,c,e);i.push(h.cp1,h.cp2,h.p2),l=c}return i}},{key:"bbox",value:function(e){for(var t=this._arcInterval(),n=t.startAngle,i=t.endAngle,r=bS(0,this.radiusX,this.radiusY,e),o=xx(r.x),s=xx(r.y),a=this.pointAt(i).transformCopy(e),l=zS(o,n),u=zS(s,n),c=this.pointAt(n).transformCopy(e),h=cS.min(c,a),f=cS.max(c,a);l<i||u<i;){var d=void 0,p=void 0;l<i&&(d=this.pointAt(l).transformCopy(e),l+=90),u<i&&(p=this.pointAt(u).transformCopy(e),u+=90),c=new cS(d.x,p.y),h=cS.min(h,c),f=cS.max(f,c)}return pS.fromPoints(h,f)}},{key:"_arcInterval",value:function(){var e=this.startAngle,t=this.endAngle,n=this.anticlockwise;if(n){var i=e;e=t,t=i}return(e>t||n&&e===t)&&(t+=360),{startAngle:e,endAngle:t}}},{key:"_intervalCurvePoints",value:function(e,t,n){var i=this.pointAt(e),r=this.pointAt(t),o=this._derivativeAt(e),s=this._derivativeAt(t),a=(Mx(t)-Mx(e))/3,l=new cS(i.x+a*o.x,i.y+a*o.y),u=new cS(r.x-a*s.x,r.y-a*s.y);return n&&(i.transform(n),r.transform(n),l.transform(n),u.transform(n)),{p1:i,cp1:l,cp2:u,p2:r}}},{key:"_derivativeAt",value:function(e){var t=Mx(e);return new cS(-this.radiusX*Math.sin(t),this.radiusY*Math.cos(t))}},{key:"containsPoint",value:function(e){var t,n=this._arcInterval(),i=n.endAngle-n.startAngle,r=this.center,o=this.radiusX,s=this.radiusY,a=r.distanceTo(e),l=Math.atan2(e.y-r.y,e.x-r.x),u=o*s/Math.sqrt(DS(o,2)*DS(Math.sin(l),2)+DS(s,2)*DS(Math.cos(l),2)),c=this.pointAt(this.startAngle).round(10),h=this.pointAt(this.endAngle).round(10),f=function(e,t,n,i){var r=t.x-e.x,o=i.x-n.x,s=t.y-e.y,a=i.y-n.y,l=e.x-n.x,u=e.y-n.y,c=r*a-o*s,h=(r*u-s*l)/c,f=(o*u-a*l)/c;if(h>=0&&h<=1&&f>=0&&f<=1)return new cS(e.x+f*r,e.y+f*s)}(r,e.round(10),c,h);if(i<180)t=f&&PS(r.distanceTo(f),a)&&PS(a,u);else{var d=MS(r.x,r.y,o,s,e.x,e.y);360!==d&&(d=(360+d)%360);var p=n.startAngle<=d&&d<=n.endAngle;t=p&&PS(a,u)||!p&&(!f||f.equals(e))}return t}},{key:"_isOnPath",value:function(e,t){var n=this._arcInterval(),i=this.center,r=MS(i.x,i.y,this.radiusX,this.radiusY,e.x,e.y);return 360!==r&&(r=(360+r)%360),n.startAngle<=r&&r<=n.endAngle&&this.pointAt(r).distanceTo(e)<=t}}],[{key:"fromPoints",value:function(e,n,i,r,o,s,a){var l=function(e){var t=e.x1,n=e.y1,i=e.x2,r=e.y2,o=e.rx,s=e.ry,a=e.largeArc,l=e.swipe,u=e.rotation,c=void 0===u?0:u,h=Mx(c),f=Math.cos(h),d=Math.sin(h),p=f*(t-i)/2+d*(n-r)/2,v=-d*(t-i)/2+f*(n-r)/2,g=a!==l?1:-1,m=Math.pow(p,2),y=Math.pow(v,2),k=Math.pow(o,2),b=Math.pow(s,2),_=m/k+y/b;_>1&&(o*=_=Math.sqrt(m/k+y/b),k=Math.pow(o,2),s*=_,b=Math.pow(s,2));var C=g*Math.sqrt((k*b-k*y-b*m)/(k*y+b*m));isNaN(C)&&(C=0);var w=C*(o*v)/s,x=s*p*-C/o,S=f*w-d*x+(t+i)/2,T=d*w+f*x+(n+r)/2,O=(p-w)/o,I=(v-x)/s,E=-(p+w)/o,A=-(v+x)/s,R=(I>=0?1:-1)*xx(Math.acos(O/Math.sqrt(O*O+I*I))),P=zx((O*E+I*A)/(Math.sqrt(O*O+I*I)*Math.sqrt(E*E+A*A)),10),D=(O*A-I*E>=0?1:-1)*xx(Math.acos(P));!l&&D>0&&(D-=360),l&&D<0&&(D+=360);var F=R+D,M=F>=0?1:-1;return F=Math.abs(F)%360*M,{center:new cS(S,T),startAngle:R,endAngle:F,radiusX:o,radiusY:s,xRotation:c}}({x1:e.x,y1:e.y,x2:n.x,y2:n.y,rx:i,ry:r,largeArc:o,swipe:s,rotation:a});return new t(l.center,{startAngle:l.startAngle,endAngle:l.endAngle,radiusX:l.radiusX,radiusY:l.radiusY,xRotation:l.xRotation,anticlockwise:0===s})}}]),t}(Vw);function MS(e,t,n,i,r,o){var s=zx((r-e)/n,3),a=zx((o-t)/i,3);return zx(xx(Math.atan2(a,s)))}function zS(e,t){for(var n=e;n<t;)n+=90;return n}oS(FS.prototype,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]),Fw.extend(FS.prototype);var LS=FS,VS=[].push,NS=[].pop,BS=[].splice,jS=[].shift,HS=[].slice,GS=[].unshift,US=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).length=0,e._splice(0,n.length,n),e}return _inherits(t,e),_createClass(t,[{key:"elements",value:function(e){return e?(this._splice(0,this.length,e),this._change(),this):this.slice(0)}},{key:"push",value:function(){var e=arguments,t=VS.apply(this,e);return this._add(e),t}},{key:"slice",value:function(){return HS.call(this)}},{key:"pop",value:function(){var e=this.length,t=NS.apply(this);return e&&this._remove([t]),t}},{key:"splice",value:function(e,t){var n=HS.call(arguments,2),i=this._splice(e,t,n);return this._change(),i}},{key:"shift",value:function(){var e=this.length,t=jS.apply(this);return e&&this._remove([t]),t}},{key:"unshift",value:function(){var e=arguments,t=GS.apply(this,e);return this._add(e),t}},{key:"indexOf",value:function(e){for(var t=this.length,n=0;n<t;n++)if(this[n]===e)return n;return-1}},{key:"_splice",value:function(e,t,n){var i=BS.apply(this,[e,t].concat(n));return this._clearObserver(i),this._setObserver(n),i}},{key:"_add",value:function(e){this._setObserver(e),this._change()}},{key:"_remove",value:function(e){this._clearObserver(e),this._change()}},{key:"_setObserver",value:function(e){for(var t=0;t<e.length;t++)e[t].addObserver(this)}},{key:"_clearObserver",value:function(e){for(var t=0;t<e.length;t++)e[t].removeObserver(this)}},{key:"_change",value:function(){}}]),t}(Vw);Fw.extend(US.prototype);var WS=US,qS=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"_change",value:function(){this.geometryChange()}}]),t}(WS);function ZS(e){var t="_"+e;return function(e){return yx(e)?(this._observerField(t,cS.create(e)),this.geometryChange(),this):this[t]}}function $S(e,t){for(var n=0;n<t.length;n++)e[t[n]]=ZS(t[n])}function KS(e,t,n){var i=xx(Math.atan2(t.y-e.y,t.x-e.x));return n.transformCopy(mS().rotate(-i,e)).x<e.x}function YS(e,t,n){var i=1-e;return Math.pow(i,3)*n[0][t]+3*Math.pow(i,2)*e*n[1][t]+3*Math.pow(e,2)*i*n[2][t]+Math.pow(e,3)*n[3][t]}function XS(e,t){return[3*e[1][t]-e[0][t]-3*e[2][t]+e[3][t],3*(e[0][t]-2*e[1][t]+e[2][t]),3*(-e[0][t]+e[1][t]),e[0][t]]}var QS=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).real=n,e.img=i,e}return _inherits(t,e),_createClass(t,[{key:"add",value:function(e){return new t(zx(this.real+e.real,10),zx(this.img+e.img,10))}},{key:"addConstant",value:function(e){return new t(this.real+e,this.img)}},{key:"negate",value:function(){return new t(-this.real,-this.img)}},{key:"multiply",value:function(e){return new t(this.real*e.real-this.img*e.img,this.real*e.img+this.img*e.real)}},{key:"multiplyConstant",value:function(e){return new t(this.real*e,this.img*e)}},{key:"nthRoot",value:function(e){var n=Math.atan2(this.img,this.real),i=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),r=Math.pow(i,1/e);return new t(r*Math.cos(n/e),r*Math.sin(n/e))}},{key:"equals",value:function(e){return this.real===e.real&&this.img===e.img}},{key:"isReal",value:function(){return 0===this.img}}]),t}(Vw);function JS(e){return e<0?-1:1}function eT(e,t,n,i){if(0===e)return function(e,t,n){var i=Math.sqrt(Math.pow(t,2)-4*e*n);return[(-t+i)/(2*e),(-t-i)/(2*e)]}(t,n,i);var r,o,s,a,l,u,c,h=(3*e*n-Math.pow(t,2))/(3*Math.pow(e,2)),f=(2*Math.pow(t,3)-9*e*t*n+27*Math.pow(e,2)*i)/(27*Math.pow(e,3)),d=Math.pow(h/3,3)+Math.pow(f/2,2),p=new QS(0,1),v=-t/(3*e);d<0?(r=new QS(-f/2,Math.sqrt(-d)).nthRoot(3),o=new QS(-f/2,-Math.sqrt(-d)).nthRoot(3)):(r=-f/2+Math.sqrt(d),r=new QS(JS(r)*Math.pow(Math.abs(r),1/3)),o=-f/2-Math.sqrt(d),o=new QS(JS(o)*Math.pow(Math.abs(o),1/3))),s=r.add(o),u=r.add(o).multiplyConstant(-.5),c=r.add(o.negate()).multiplyConstant(Math.sqrt(3)/2),a=u.add(p.multiply(c)),l=u.add(p.negate().multiply(c));var g=[];return s.isReal()&&g.push(zx(s.real+v,10)),a.isReal()&&g.push(zx(a.real+v,10)),l.isReal()&&g.push(zx(l.real+v,10)),g}function tT(e,t,n,i,r){for(var o,s=XS(e,i),a=eT(s[0],s[1],s[2],s[3]-t[i]),l=0;l<a.length;l++)if(0<=a[l]&&a[l]<=1&&(o=YS(a[l],n,e),Math.abs(o-t[n])<=r))return!0}function nT(e,t,n){var i;if(e.x!==t.x){var r=Math.min(e.x,t.x),o=Math.max(e.x,t.x),s=Math.min(e.y,t.y),a=Math.max(e.y,t.y),l=r<=n.x&&n.x<o;i=s===a?n.y<=s&&l:l&&(a-s)*((e.x-t.x)*(e.y-t.y)>0?n.x-r:o-n.x)/(o-r)+s-n.y>=0}return i?1:0}var iT=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).anchor(e||new cS),r.controlIn(n),r.controlOut(i),r}return _inherits(t,e),_createClass(t,[{key:"bboxTo",value:function(e,t){var n=this.anchor().transformCopy(t),i=e.anchor().transformCopy(t);return this.controlOut()&&e.controlIn()?this._curveBoundingBox(n,this.controlOut().transformCopy(t),e.controlIn().transformCopy(t),i):this._lineBoundingBox(n,i)}},{key:"_lineBoundingBox",value:function(e,t){return pS.fromPoints(e,t)}},{key:"_curveBoundingBox",value:function(e,t,n,i){var r=[e,t,n,i],o=this._curveExtremesFor(r,"x"),s=this._curveExtremesFor(r,"y"),a=rT([o.min,o.max,e.x,i.x]),l=rT([s.min,s.max,e.y,i.y]);return pS.fromPoints(new cS(a.min,l.min),new cS(a.max,l.max))}},{key:"_curveExtremesFor",value:function(e,t){var n=this._curveExtremes(e[0][t],e[1][t],e[2][t],e[3][t]);return{min:YS(n.min,t,e),max:YS(n.max,t,e)}}},{key:"_curveExtremes",value:function(e,t,n,i){var r=e-3*t+3*n-i,o=-2*(e-2*t+n),s=e-t,a=Math.sqrt(o*o-4*r*s),l=0,u=1;0===r?0!==o&&(l=u=-s/o):isNaN(a)||(l=(-o+a)/(2*r),u=(-o-a)/(2*r));var c=Math.max(Math.min(l,u),0);(c<0||c>1)&&(c=0);var h=Math.min(Math.max(l,u),1);return(h>1||h<0)&&(h=1),{min:c,max:h}}},{key:"_intersectionsTo",value:function(e,t){return this.controlOut()&&e.controlIn()?function(e,t,n){for(var i,r=XS(e,"x"),o=eT(r[0],r[1],r[2],r[3]-t.x),s=0,a=0;a<o.length;a++)(RS(i=YS(o[a],"y",e),t.y)||i>t.y)&&((0===o[a]||1===o[a])&&n.bottomRight().x>t.x||0<o[a]&&o[a]<1)&&s++;return s}([this.anchor(),this.controlOut(),e.controlIn(),e.anchor()],t,this.bboxTo(e)):nT(this.anchor(),e.anchor(),t)}},{key:"_isOnCurveTo",value:function(e,t,n,i){if(this.bboxTo(e).expand(n,n).containsPoint(t)){var r=this.anchor(),o=this.controlOut(),s=e.controlIn(),a=e.anchor();if("start"===i&&r.distanceTo(t)<=n)return!KS(r,o,t);if("end"===i&&a.distanceTo(t)<=n)return!KS(a,s,t);var l=[r,o,s,a];if(tT(l,t,"x","y",n)||tT(l,t,"y","x",n))return!0;var u=mS().rotate(45,t),c=[r.transformCopy(u),o.transformCopy(u),s.transformCopy(u),a.transformCopy(u)];return tT(c,t,"x","y",n)||tT(c,t,"y","x",n)}}},{key:"_isOnLineTo",value:function(e,t,n){var i=this.anchor(),r=e.anchor(),o=xx(Math.atan2(r.y-i.y,r.x-i.x));return new pS([i.x,i.y-n/2],[i.distanceTo(r),n]).containsPoint(t.transformCopy(mS().rotate(-o,i)))}},{key:"_isOnPathTo",value:function(e,t,n,i){return this.controlOut()&&e.controlIn()?this._isOnCurveTo(e,t,n/2,i):this._isOnLineTo(e,t,n)}}]),t}(Vw);function rT(e){for(var t=e.length,n=Cx,i=wx,r=0;r<t;r++)i=Math.max(i,e[r]),n=Math.min(n,e[r]);return{min:n,max:i}}$S(iT.prototype,["anchor","controlIn","controlOut"]),Fw.extend(iT.prototype);var oT=iT;function sT(e,t,n){for(var i,r=0;r<e.length;r++){var o=e[r];if(o.visible()){var s=t?o.bbox(n):o.rawBBox();s&&(i=i?pS.union(i,s):s)}}return i}function aT(e,t){for(var n,i=0;i<e.length;i++){var r=e[i];if(r.visible()){var o=r.clippedBBox(t);o&&(n=n?pS.union(n,o):o)}}return n}var lT=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).paths=new qS,n.paths.addObserver(_assertThisInitialized(n)),yx(n.options.stroke)||n.stroke("#000"),n}return _inherits(t,e),_createClass(t,[{key:"moveTo",value:function(e,t){var n=new kT;return n.moveTo(e,t),this.paths.push(n),this}},{key:"lineTo",value:function(e,t){return this.paths.length>0&&Rx(this.paths).lineTo(e,t),this}},{key:"curveTo",value:function(e,t,n){return this.paths.length>0&&Rx(this.paths).curveTo(e,t,n),this}},{key:"arc",value:function(e,t,n,i,r){return this.paths.length>0&&Rx(this.paths).arc(e,t,n,i,r),this}},{key:"arcTo",value:function(e,t,n,i,r,o){return this.paths.length>0&&Rx(this.paths).arcTo(e,t,n,i,r,o),this}},{key:"close",value:function(){return this.paths.length>0&&Rx(this.paths).close(),this}},{key:"_bbox",value:function(e){return sT(this.paths,!0,e)}},{key:"rawBBox",value:function(){return sT(this.paths,!1)}},{key:"_containsPoint",value:function(e){for(var t=this.paths,n=0;n<t.length;n++)if(t[n]._containsPoint(e))return!0;return!1}},{key:"_isOnPath",value:function(e){for(var t=this.paths,n=this.options.stroke.width,i=0;i<t.length;i++)if(t[i]._isOnPath(e,n))return!0;return!1}},{key:"_clippedBBox",value:function(e){return aT(this.paths,this.currentTransform(e))}}]),t}(kS);lT.prototype.nodeType="MultiPath",xS.extend(lT.prototype),TS.extend(lT.prototype);var uT=lT;function cT(e,t,n){for(var i=t?0:1,r=0;r<e.length;r+=2)e.splice(r+i,0,n)}function hT(e,t){if(e&&t)return t.scaleCopy(2).translate(-e.x,-e.y)}function fT(e,t,n){var i=t.clone().scale(2/3);return{controlOut:i.clone().translateWith(e.scaleCopy(1/3)),controlIn:i.translateWith(n.scaleCopy(1/3))}}var dT,pT={l:function(e,t){for(var n=t.parameters,i=t.position,r=0;r<n.length;r+=2){var o=new cS(n[r],n[r+1]);t.isRelative&&o.translateWith(i),e.lineTo(o.x,o.y),i.x=o.x,i.y=o.y}},c:function(e,t){for(var n=t.parameters,i=t.position,r=0;r<n.length;r+=6){var o=new cS(n[r],n[r+1]),s=new cS(n[r+2],n[r+3]),a=new cS(n[r+4],n[r+5]);t.isRelative&&(s.translateWith(i),o.translateWith(i),a.translateWith(i)),e.curveTo(o,s,a),i.x=a.x,i.y=a.y}},v:function(e,t){cT(t.parameters,!0,t.isRelative?0:t.position.x),this.l(e,t)},h:function(e,t){cT(t.parameters,!1,t.isRelative?0:t.position.y),this.l(e,t)},a:function(e,t){for(var n=t.parameters,i=t.position,r=0;r<n.length;r+=7){var o=n[r],s=n[r+1],a=n[r+2],l=n[r+3],u=n[r+4],c=new cS(n[r+5],n[r+6]);t.isRelative&&c.translateWith(i),i.x===c.x&&i.y===c.y||(e.arcTo(c,o,s,l,u,a),i.x=c.x,i.y=c.y)}},s:function(e,t){var n,i=t.parameters,r=t.position,o=t.previousCommand;"s"!==o&&"c"!==o||(n=Rx(Rx(e.paths).segments).controlIn());for(var s=0;s<i.length;s+=4){var a,l=new cS(i[s],i[s+1]),u=new cS(i[s+2],i[s+3]);t.isRelative&&(l.translateWith(r),u.translateWith(r)),a=n?hT(n,r):r.clone(),n=l,e.curveTo(a,l,u),r.x=u.x,r.y=u.y}},q:function(e,t){for(var n=t.parameters,i=t.position,r=0;r<n.length;r+=4){var o=new cS(n[r],n[r+1]),s=new cS(n[r+2],n[r+3]);t.isRelative&&(o.translateWith(i),s.translateWith(i));var a=fT(i,o,s);e.curveTo(a.controlOut,a.controlIn,s),i.x=s.x,i.y=s.y}},t:function(e,t){var n,i=t.parameters,r=t.position,o=t.previousCommand;"q"!==o&&"t"!==o||(n=Rx(Rx(e.paths).segments).controlIn().clone().translateWith(r.scaleCopy(-1/3)).scale(1.5));for(var s=0;s<i.length;s+=2){var a=new cS(i[s],i[s+1]);t.isRelative&&a.translateWith(r),n=n?hT(n,r):r.clone();var l=fT(r,n,a);e.curveTo(l.controlOut,l.controlIn,a),r.x=a.x,r.y=a.y}}},vT=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,gT=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,mT=((dT=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"parse",value:function(e,t){var n,i=new uT(t),r=new cS;return e.replace(vT,(function(e,t,o,s){var a=t.toLowerCase(),l=a===t,u=function(e){var t=[];return e.replace(gT,(function(e,n){t.push(parseFloat(n))})),t}(o.trim());if("m"===a&&(l?(r.x+=u[0],r.y+=u[1]):(r.x=u[0],r.y=u[1]),i.moveTo(r.x,r.y),u.length>2&&(a="l",u.splice(0,2))),pT[a])pT[a](i,{parameters:u,position:r,isRelative:l,previousCommand:n}),s&&"z"===s.toLowerCase()&&i.close();else if("m"!==a)throw new Error("Error while parsing SVG path. Unsupported command: "+a);n=a})),i}}]),t}(Vw)).current=new dT,dT),yT=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).segments=new qS,n.segments.addObserver(_assertThisInitialized(n)),yx(n.options.stroke)||(n.stroke("#000"),yx(n.options.stroke.lineJoin)||n.options.set("stroke.lineJoin","miter")),n}return _inherits(t,e),_createClass(t,[{key:"moveTo",value:function(e,t){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(e,t),this}},{key:"lineTo",value:function(e,t){var n=yx(t)?new cS(e,t):e,i=new oT(n);return this.segments.push(i),this}},{key:"curveTo",value:function(e,t,n){if(this.segments.length>0){var i=Rx(this.segments),r=new oT(n,t);this.suspend(),i.controlOut(e),this.resume(),this.segments.push(r)}return this}},{key:"arc",value:function(e,t,n,i,r){if(this.segments.length>0){var o=Rx(this.segments).anchor(),s=Mx(e),a=new cS(o.x-n*Math.cos(s),o.y-i*Math.sin(s)),l=new LS(a,{startAngle:e,endAngle:t,radiusX:n,radiusY:i,anticlockwise:r});this._addArcSegments(l)}return this}},{key:"arcTo",value:function(e,t,n,i,r,o){if(this.segments.length>0){var s=Rx(this.segments).anchor(),a=LS.fromPoints(s,e,t,n,i,r,o);this._addArcSegments(a)}return this}},{key:"_addArcSegments",value:function(e){this.suspend();for(var t=e.curvePoints(),n=1;n<t.length;n+=3)this.curveTo(t[n],t[n+1],t[n+2]);this.resume(),this.geometryChange()}},{key:"close",value:function(){return this.options.closed=!0,this.geometryChange(),this}},{key:"rawBBox",value:function(){return this._bbox()}},{key:"_containsPoint",value:function(e){for(var t,n,i=this.segments,r=i.length,o=0,s=1;s<r;s++)t=i[s-1],n=i[s],o+=t._intersectionsTo(n,e);return!this.options.closed&&i[0].anchor().equals(i[r-1].anchor())||(o+=nT(i[0].anchor(),i[r-1].anchor(),e)),o%2!=0}},{key:"_isOnPath",value:function(e,t){var n=this.segments,i=n.length,r=t||this.options.stroke.width;if(i>1){if(n[0]._isOnPathTo(n[1],e,r,"start"))return!0;for(var o=2;o<=i-2;o++)if(n[o-1]._isOnPathTo(n[o],e,r))return!0;if(n[i-2]._isOnPathTo(n[i-1],e,r,"end"))return!0}return!1}},{key:"_bbox",value:function(e){var t,n=this.segments,i=n.length;if(1===i){var r=n[0].anchor().transformCopy(e);t=new pS(r,fS.ZERO)}else if(i>0)for(var o=1;o<i;o++){var s=n[o-1].bboxTo(n[o],e);t=t?pS.union(t,s):s}return t}}],[{key:"fromRect",value:function(e,n){return new t(n).moveTo(e.topLeft()).lineTo(e.topRight()).lineTo(e.bottomRight()).lineTo(e.bottomLeft()).close()}},{key:"fromPoints",value:function(e,n){if(e){for(var i=new t(n),r=0;r<e.length;r++){var o=cS.create(e[r]);o&&(0===r?i.moveTo(o):i.lineTo(o))}return i}}},{key:"fromArc",value:function(e,n){var i=new t(n),r=e.startAngle,o=e.pointAt(r);return i.moveTo(o.x,o.y),i.arc(r,e.endAngle,e.radiusX,e.radiusY,e.anticlockwise),i}}]),t}(kS);yT.prototype.nodeType="Path",xS.extend(yT.prototype),TS.extend(yT.prototype),yT.parse=function(e,t){return mT.current.parse(e,t)};var kT=yT,bT=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new LS,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,i))).geometry(n),yx(e.options.stroke)||e.stroke("#000"),e}return _inherits(t,e),_createClass(t,[{key:"_bbox",value:function(e){return this._geometry.bbox(e)}},{key:"rawBBox",value:function(){return this.geometry().bbox()}},{key:"toPath",value:function(){var e=new kT,t=this.geometry().curvePoints();if(t.length>0){e.moveTo(t[0].x,t[0].y);for(var n=1;n<t.length;n+=3)e.curveTo(t[n],t[n+1],t[n+2])}return e}},{key:"_containsPoint",value:function(e){return this.geometry().containsPoint(e)}},{key:"_isOnPath",value:function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}]),t}(kS);bT.prototype.nodeType="Arc",xS.extend(bT.prototype),TS.extend(bT.prototype),IS(bT.prototype,["geometry"]);var _T=bT,CT=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new cS,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,r))).content(e),n.position(i),n.options.font||(n.options.font="12px sans-serif"),yx(n.options.fill)||n.fill("#000"),n}return _inherits(t,e),_createClass(t,[{key:"content",value:function(e){return yx(e)?(this.options.set("content",e),this):this.options.get("content")}},{key:"measure",value:function(){return Jx(this.content(),{font:this.options.get("font")})}},{key:"rect",value:function(){var e=this.measure(),t=this.position().clone();return new pS(t,[e.width,e.height])}},{key:"bbox",value:function(e){var t=lS(this.currentTransform(e));return this.rect().bbox(t)}},{key:"rawBBox",value:function(){return this.rect().bbox()}},{key:"_containsPoint",value:function(e){return this.rect().containsPoint(e)}}]),t}(kS);CT.prototype.nodeType="Text",xS.extend(CT.prototype),$S(CT.prototype,["position"]);var wT=CT,xT=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new pS,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,r))).src(e),n.rect(i),n}return _inherits(t,e),_createClass(t,[{key:"src",value:function(e){return yx(e)?(this.options.set("src",e),this):this.options.get("src")}},{key:"bbox",value:function(e){var t=lS(this.currentTransform(e));return this._rect.bbox(t)}},{key:"rawBBox",value:function(){return this._rect.bbox()}},{key:"_containsPoint",value:function(e){return this._rect.containsPoint(e)}},{key:"_hasFill",value:function(){return this.src()}}]),t}(kS);xT.prototype.nodeType="Image",IS(xT.prototype,["rect"]);var ST=xT,TT=function(e,t){e.traverse=function(e){for(var n=this[t],i=0;i<n.length;i++){var r=n[i];r.traverse?r.traverse(e):e(r)}return this}},OT=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).children=[],n}return _inherits(t,e),_createClass(t,[{key:"childrenChange",value:function(e,t,n){this.trigger("childrenChange",{action:e,items:t,index:n})}},{key:"append",value:function(){return px(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this}},{key:"insert",value:function(e,t){return this.children.splice(e,0,t),t.parent=this,this.childrenChange("add",[t],e),this}},{key:"insertAt",value:function(e,t){return this.insert(t,e)}},{key:"remove",value:function(e){var t=this.children.indexOf(e);return t>=0&&(this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)),this}},{key:"removeAt",value:function(e){if(0<=e&&e<this.children.length){var t=this.children[e];this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e)}return this}},{key:"clear",value:function(){var e=this.children;return this.children=[],this._reparent(e,null),this.childrenChange("remove",e,0),this}},{key:"bbox",value:function(e){return sT(this.children,!0,this.currentTransform(e))}},{key:"rawBBox",value:function(){return sT(this.children,!1)}},{key:"_clippedBBox",value:function(e){return aT(this.children,this.currentTransform(e))}},{key:"currentTransform",value:function(e){return kS.prototype.currentTransform.call(this,e)||null}},{key:"containsPoint",value:function(e,t){if(this.visible())for(var n=this.children,i=this.currentTransform(t),r=0;r<n.length;r++)if(n[r].containsPoint(e,i))return!0;return!1}},{key:"_reparent",value:function(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=i.parent;r&&r!==this&&r.remove&&r.remove(i),i.parent=t}}}]),t}(kS);OT.prototype.nodeType="Group",TT(OT.prototype,"children");var IT=OT;function ET(e,t,n){var i=n.transform()||mS(),r=i.matrix();r.e+=e.x-t.origin.x,r.f+=e.y-t.origin.y,i.matrix(r),n.transform(i)}function AT(e,t,n,i,r){return"start"===n?t.origin[i]:"end"===n?t.origin[i]+t.size[r]-e:t.origin[i]+(t.size[r]-e)/2}function RT(e,t,n,i,r){return"start"===n?t.origin[i]+t.size[r]-e:"end"===n?t.origin[i]:t.origin[i]+(t.size[r]-e)/2}var PT={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:!0,revers:!1},DT=function(e,t){e.forEach(t)},FT=function(e,t){for(var n=e.length-1;n>=0;n--)t(e[n],n)},MT=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,Object.assign({},PT,n))))._rect=e,i._fieldMap={},i}return _inherits(t,e),_createClass(t,[{key:"rect",value:function(e){return e?(this._rect=e,this):this._rect}},{key:"_initMap",value:function(){var e=this.options,t=this._fieldMap;"horizontal"===e.orientation?(t.sizeField="width",t.groupsSizeField="height",t.groupAxis="x",t.groupsAxis="y"):(t.sizeField="height",t.groupsSizeField="width",t.groupAxis="y",t.groupsAxis="x"),e.reverse?(this.forEach=FT,this.justifyAlign=RT):(this.forEach=DT,this.justifyAlign=AT)}},{key:"reflow",value:function(){if(this._rect&&0!==this.children.length){this._initMap(),this.options.transform&&this.transform(null);for(var e,t,n,i=this.options,r=this._rect,o=this._initGroups(),s=o.groups,a=o.groupsSize,l=this._fieldMap,u=l.sizeField,c=l.groupsSizeField,h=l.groupAxis,f=l.groupsAxis,d=new cS,p=new cS,v=new fS,g=AT(a,r,i.alignContent,f,c),m=function(r,o){var s=t.elements[o];p[h]=e,p[f]=AT(r.size[c],n,i.alignItems,f,c),ET(p,r,s),e+=r.size[u]+i.spacing},y=0;y<s.length;y++)t=s[y],d[h]=e=this.justifyAlign(t.size,r,i.justifyContent,h,u),d[f]=g,v[u]=t.size,v[c]=t.lineSize,n=new pS(d,v),this.forEach(t.bboxes,m),g+=t.lineSize+i.lineSpacing;if(!i.wrap&&t.size>r.size[u]){var k=r.size[u]/n.size[u],b=n.topLeft().scale(k,k),_=AT(n.size[c]*k,r,i.alignContent,f,c),C=mS();"x"===h?C.translate(r.origin.x-b.x,_-b.y):C.translate(_-b.x,r.origin.y-b.y),C.scale(k,k),this.transform(C)}}}},{key:"_initGroups",value:function(){for(var e=this.options,t=this.children,n=e.lineSpacing,i=e.wrap,r=e.spacing,o=this._fieldMap.sizeField,s=this._newGroup(),a=[],l=function(){a.push(s),u+=s.lineSize+n},u=-n,c=0;c<t.length;c++){var h=t[c],f=t[c].clippedBBox();h.visible()&&f&&(i&&s.size+f.size[o]+r>this._rect.size[o]?0===s.bboxes.length?(this._addToGroup(s,f,h),l(),s=this._newGroup()):(l(),s=this._newGroup(),this._addToGroup(s,f,h)):this._addToGroup(s,f,h))}return s.bboxes.length&&l(),{groups:a,groupsSize:u}}},{key:"_addToGroup",value:function(e,t,n){e.size+=t.size[this._fieldMap.sizeField]+this.options.spacing,e.lineSize=Math.max(t.size[this._fieldMap.groupsSizeField],e.lineSize),e.bboxes.push(t),e.elements.push(n)}},{key:"_newGroup",value:function(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}}}]),t}(IT),zT=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new pS,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,i))).geometry(n),yx(e.options.stroke)||e.stroke("#000"),e}return _inherits(t,e),_createClass(t,[{key:"_bbox",value:function(e){return this._geometry.bbox(e)}},{key:"rawBBox",value:function(){return this._geometry.bbox()}},{key:"_containsPoint",value:function(e){return this._geometry.containsPoint(e)}},{key:"_isOnPath",value:function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}]),t}(kS);zT.prototype.nodeType="Rect",xS.extend(zT.prototype),TS.extend(zT.prototype),IS(zT.prototype,["geometry"]);var LT=zT;function VT(e,t,n,i,r){for(var o=0;o<e.length;o++){var s=e[o].clippedBBox();if(s){var a=s.origin.clone();a[i]=AT(s.size[r],t,n||"start",i,r),ET(a,s,e[o])}}}function NT(e,t,n){VT(e,t,n,"x","width")}function BT(e,t,n){VT(e,t,n,"y","height")}function jT(e,t,n,i){if(e.length>1)for(var r=new cS,o=e[0].bbox,s=1;s<e.length;s++){var a=e[s].element,l=e[s].bbox;r[t]=o.origin[t]+o.size[i],r[n]=l.origin[n],ET(r,l,a),l.origin[t]=r[t],o=l}}function HT(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=i.clippedBBox();r&&t.push({element:i,bbox:r})}return t}function GT(e){jT(HT(e),"x","y","width")}function UT(e){jT(HT(e),"y","x","height")}function WT(e,t,n,i,r){for(var o=function(e,t,n){for(var i,r,o=t.size[n],s=[],a=[],l=0,u=function(){a.push({element:i,bbox:r})},c=0;c<e.length;c++)if(i=e[c],r=i.clippedBBox()){var h=r.size[n];l+h>o?a.length?(s.push(a),a=[],u(),l=h):(u(),s.push(a),a=[],l=0):(u(),l+=h)}return a.length&&s.push(a),s}(e,t,r),s=t.origin.clone(),a=[],l=0;l<o.length;l++){var u=o[l],c=u[0];s[i]=c.bbox.origin[i],ET(s,c.bbox,c.element),c.bbox.origin[n]=s[n],jT(u,n,i,r),a.push([]);for(var h=0;h<u.length;h++)a[l].push(u[h].element)}return a}function qT(e,t){return WT(e,t,"x","y","width")}function ZT(e,t){return WT(e,t,"y","x","height")}function $T(e,t){var n=e.clippedBBox();if(n){var i=n.size,r=t.size;if(r.width<i.width||r.height<i.height){var o=Math.min(r.width/i.width,r.height/i.height),s=e.transform()||mS();s.scale(o,o),e.transform(s)}}}var KT=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"_change",value:function(){this.optionsChange({field:"stops"})}}]),t}(WS);function YT(e){return function(t){return yx(t)?(this.options.set(e,t),this):this.options.get(e)}}var XT=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).options=new nS({offset:e,color:n,opacity:yx(i)?i:1}),r.options.addObserver(_assertThisInitialized(r)),r}return _inherits(t,e),_createClass(t,null,[{key:"create",value:function(e){if(yx(e))return e instanceof t?e:e.length>1?new t(e[0],e[1],e[2]):new t(e.offset,e.color,e.opacity)}}]),t}(Vw);!function(e,t){for(var n=0;n<t.length;n++)e[t[n]]=YT(t[n])}(XT.prototype,["offset","color","opacity"]),Fw.extend(XT.prototype);var QT=XT,JT=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).stops=new KT(e._createStops(n.stops)),e.stops.addObserver(_assertThisInitialized(e)),e._userSpace=n.userSpace,e.id=bx(),e}return _inherits(t,e),_createClass(t,[{key:"userSpace",value:function(e){return yx(e)?(this._userSpace=e,this.optionsChange(),this):this._userSpace}},{key:"_createStops",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],n=0;n<e.length;n++)t.push(QT.create(e[n]));return t}},{key:"addStop",value:function(e,t,n){this.stops.push(new QT(e,t,n))}},{key:"removeStop",value:function(e){var t=this.stops.indexOf(e);t>=0&&this.stops.splice(t,1)}}]),t}(Vw);JT.prototype.nodeType="Gradient",Fw.extend(JT.prototype),Object.assign(JT.prototype,{optionsChange:function(e){this.trigger("optionsChange",{field:"gradient"+(e?"."+e.field:""),value:this})},geometryChange:function(){this.optionsChange()}});var eO=JT,tO=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).start(n.start||new cS),e.end(n.end||new cS(1,0)),e}return _inherits(t,e),t}(eO);$S(tO.prototype,["start","end"]);var nO=tO,iO=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).center(n.center||new cS),e._radius=yx(n.radius)?n.radius:1,e._fallbackFill=n.fallbackFill,e}return _inherits(t,e),_createClass(t,[{key:"radius",value:function(e){return yx(e)?(this._radius=e,this.geometryChange(),this):this._radius}},{key:"fallbackFill",value:function(e){return yx(e)?(this._fallbackFill=e,this.optionsChange(),this):this._fallbackFill}}]),t}(eO);$S(iO.prototype,["center"]);var rO=iO;function oO(e){return.5-Math.cos(e*Math.PI)/2}function sO(e){return e}function aO(e,t,n,i){var r=1.70158,o=0,s=i;return 0===e?n:1===e?n+i:(o||(o=.5),s<Math.abs(i)?(s=i,r=o/4):r=o/(2*Math.PI)*Math.asin(i/s),s*Math.pow(2,-10*e)*Math.sin((Number(e)-r)*(1.1*Math.PI)/o)+i+n)}var lO,uO=((lO=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._items=[],e}return _inherits(t,e),_createClass(t,[{key:"register",value:function(e,t){this._items.push({name:e,type:t})}},{key:"create",value:function(e,t){var n,i=this._items;if(t&&t.type)for(var r=t.type.toLowerCase(),o=0;o<i.length;o++)if(i[o].name.toLowerCase()===r){n=i[o];break}if(n)return new n.type(e,t)}}]),t}(Vw)).current=new lO,lO),cO=Date.now||function(){return(new Date).getTime()},hO=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).options=Object.assign({},i.options,n),i.element=e,i}return _inherits(t,e),_createClass(t,[{key:"setup",value:function(){}},{key:"step",value:function(){}},{key:"play",value:function(){var e=this,t=this.options,n=t.duration,i=t.delay,r=void 0===i?0:i,o=d[t.easing],s=cO()+r,a=s+n;0===n?(this.step(1),this.abort()):setTimeout((function(){!function t(){if(!e._stopped){var i=cO(),r=Px(i-s,0,n),l=o(r/n,r,0,1,n);e.step(l),i<a?Lw(t):e.abort()}}()}),r)}},{key:"abort",value:function(){this._stopped=!0}},{key:"destroy",value:function(){this.abort()}}]),t}(Vw);hO.prototype.options={duration:500,easing:"swing"},hO.create=function(e,t,n){return uO.current.create(e,t,n)};var fO,dO,pO=hO,vO=((fO=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._items=[],e}return _inherits(t,e),_createClass(t,[{key:"register",value:function(e,t,n){var i=this._items,r=i[0],o={name:e,type:t,order:n};!r||n<r.order?i.unshift(o):i.push(o)}},{key:"create",value:function(e,t){var n=this._items,i=n[0];if(t&&t.type)for(var r=t.type.toLowerCase(),o=0;o<n.length;o++)if(n[o].name===r){i=n[o];break}if(i)return new i.type(e,t);Ww("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n"+"- The browser does not support SVG and Canvas. User agent: ".concat(navigator.userAgent))}}]),t}(Vw)).current=new fO,fO),gO=["click","mouseenter","mouseleave","mousemove","resize"],mO=((dO=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).options=Object.assign({},n),i.element=e,i.element._kendoExportVisual=i.exportVisual.bind(_assertThisInitialized(i)),i._click=i._handler("click"),i._mouseenter=i._handler("mouseenter"),i._mouseleave=i._handler("mouseleave"),i._mousemove=i._handler("mousemove"),i._visual=new IT,Hx(e,i.options),i.bind(gO,i.options),i._enableTracking(),i}return _inherits(t,e),_createClass(t,[{key:"draw",value:function(e){this._visual.children.push(e)}},{key:"clear",value:function(){this._visual.children=[]}},{key:"destroy",value:function(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()}},{key:"eventTarget",value:function(e){for(var t,n=Ex(e);!t&&n&&(t=n._kendoNode,n!==this.element);)n=n.parentElement;if(t)return t.srcElement}},{key:"exportVisual",value:function(){return this._visual}},{key:"getSize",value:function(){return Hx(this.element)}},{key:"currentSize",value:function(e){if(!e)return this._size;this._size=e}},{key:"setSize",value:function(e){Hx(this.element,e),this.currentSize(e),this._resize()}},{key:"resize",value:function(e){var t=this.getSize(),n=this.currentSize();(e||(t.width>0||t.height>0)&&(!n||t.width!==n.width||t.height!==n.height))&&(this.currentSize(t),this._resize(t,e),this.trigger("resize",t))}},{key:"size",value:function(e){if(!e)return this.getSize();this.setSize(e)}},{key:"suspendTracking",value:function(){this._suspendedTracking=!0}},{key:"resumeTracking",value:function(){this._suspendedTracking=!1}},{key:"_enableTracking",value:function(){}},{key:"_resize",value:function(){}},{key:"_handler",value:function(e){var t=this;return function(n){var i=t.eventTarget(n);i&&!t._suspendedTracking&&t.trigger(e,{element:i,originalEvent:n,type:e})}}},{key:"_elementOffset",value:function(){var e=this.element,t=Bx(e,["paddingLeft","paddingTop"]),n=t.paddingLeft,i=t.paddingTop,r=Nx(e),o=r.left,s=r.top;return{left:o+parseInt(n,10),top:s+parseInt(i,10)}}},{key:"_surfacePoint",value:function(e){var t=this._elementOffset(),n=Ix(e);return new cS(n.x-t.left,n.y-t.top)}}]),t}(Yw)).create=function(e,t){return vO.current.create(e,t)},dO.support={},dO),yO=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).childNodes=[],n.parent=null,e&&(n.srcElement=e,n.observe()),n}return _inherits(t,e),_createClass(t,[{key:"destroy",value:function(){this.srcElement&&this.srcElement.removeObserver(this);for(var e=this.childNodes,t=0;t<e.length;t++)this.childNodes[t].destroy();this.parent=null}},{key:"load",value:function(){}},{key:"observe",value:function(){this.srcElement&&this.srcElement.addObserver(this)}},{key:"append",value:function(e){this.childNodes.push(e),e.parent=this}},{key:"insertAt",value:function(e,t){this.childNodes.splice(t,0,e),e.parent=this}},{key:"remove",value:function(e,t){for(var n=e+t,i=e;i<n;i++)this.childNodes[i].removeSelf();this.childNodes.splice(e,t)}},{key:"removeSelf",value:function(){this.clear(),this.destroy()}},{key:"clear",value:function(){this.remove(0,this.childNodes.length)}},{key:"invalidate",value:function(){this.parent&&this.parent.invalidate()}},{key:"geometryChange",value:function(){this.invalidate()}},{key:"optionsChange",value:function(){this.invalidate()}},{key:"childrenChange",value:function(e){"add"===e.action?this.load(e.items,e.index):"remove"===e.action&&this.remove(e.index,e.items.length),this.invalidate()}}]),t}(Vw);function kO(e,t){return yx(t)&&null!==t?" ".concat(e,'="').concat(t,'" '):""}function bO(e){for(var t="",n=0;n<e.length;n++)t+=kO(e[n][0],e[n][1]);return t}function _O(e){for(var t="",n=0;n<e.length;n++){var i=e[n][1];yx(i)&&(t+=e[n][0]+":"+i+";")}if(""!==t)return t}var CO={},wO="http://www.w3.org/2000/svg",xO=function(e,t){e.innerHTML=t};if("undefined"!=typeof document){var SO=document.createElement("div"),TO="undefined"!=typeof DOMParser;SO.innerHTML="<svg xmlns='http://www.w3.org/2000/svg'></svg>",TO&&SO.firstChild.namespaceURI!==wO&&(xO=function(e,t){var n=(new DOMParser).parseFromString(t,"text/xml"),i=document.adoptNode(n.documentElement);e.innerHTML="",e.appendChild(i)})}var OO=xO,IO={clip:"clip-path",fill:"fill"};function EO(e,t){return"clip"===e||"fill"===e&&(!t||"Gradient"===t.nodeType)}var AO=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).definitions={},i.options=n,i}return _inherits(t,e),_createClass(t,[{key:"destroy",value:function(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),_get(_getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"load",value:function(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=i.children,o=new CO[i.nodeType](i,this.options);yx(t)?this.insertAt(o,t):this.append(o),o.createDefinitions(),r&&r.length>0&&o.load(r);var s=this.element;s&&o.attachTo(s,t)}}},{key:"root",value:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"attachTo",value:function(e,t){var n=document.createElement("div");OO(n,"<svg xmlns='"+wO+"' version='1.1'>"+this.render()+"</svg>");var i=n.firstChild.firstChild;i&&(yx(t)?e.insertBefore(i,e.childNodes[t]||null):e.appendChild(i),this.setElement(i))}},{key:"setElement",value:function(e){this.element&&(this.element._kendoNode=null),this.element=e,this.element._kendoNode=this;for(var t=this.childNodes,n=0;n<t.length;n++)t[n].setElement(e.childNodes[n])}},{key:"clear",value:function(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");for(var e=this.childNodes,t=0;t<e.length;t++)e[t].destroy();this.childNodes=[]}},{key:"removeSelf",value:function(){if(this.element){var e=this.element.parentNode;e&&e.removeChild(this.element),this.element=null}_get(_getPrototypeOf(t.prototype),"removeSelf",this).call(this)}},{key:"template",value:function(){return this.renderChildren()}},{key:"render",value:function(){return this.template()}},{key:"renderChildren",value:function(){for(var e=this.childNodes,t="",n=0;n<e.length;n++)t+=e[n].render();return t}},{key:"optionsChange",value:function(e){var n=e.field,i=e.value;"visible"===n?this.css("display",i?"":"none"):IO[n]&&EO(n,i)?this.updateDefinition(n,i):"opacity"===n?this.attr("opacity",i):"cursor"===n?this.css("cursor",i):"id"===n&&(i?this.attr("id",i):this.removeAttr("id")),_get(_getPrototypeOf(t.prototype),"optionsChange",this).call(this,e)}},{key:"attr",value:function(e,t){this.element&&this.element.setAttribute(e,t)}},{key:"allAttr",value:function(e){for(var t=0;t<e.length;t++)this.attr(e[t][0],e[t][1])}},{key:"css",value:function(e,t){this.element&&(this.element.style[e]=t)}},{key:"allCss",value:function(e){for(var t=0;t<e.length;t++)this.css(e[t][0],e[t][1])}},{key:"removeAttr",value:function(e){this.element&&this.element.removeAttribute(e)}},{key:"mapTransform",value:function(e){var t=[];return e&&t.push(["transform","matrix("+e.matrix().toString(6)+")"]),t}},{key:"renderTransform",value:function(){return bO(this.mapTransform(this.srcElement.transform()))}},{key:"transformChange",value:function(e){e?this.allAttr(this.mapTransform(e)):this.removeAttr("transform")}},{key:"mapStyle",value:function(){var e=this.srcElement.options,t=[["cursor",e.cursor]];return!1===e.visible&&t.push(["display","none"]),t}},{key:"renderStyle",value:function(){return kO("style",_O(this.mapStyle(!0)))}},{key:"renderOpacity",value:function(){return kO("opacity",this.srcElement.options.opacity)}},{key:"renderId",value:function(){return kO("id",this.srcElement.options.id)}},{key:"createDefinitions",value:function(){var e=this.srcElement,t=this.definitions;if(e){var n,i=e.options;for(var r in IO){var o=i.get(r);o&&EO(r,o)&&(t[r]=o,n=!0)}n&&this.definitionChange({action:"add",definitions:t})}}},{key:"definitionChange",value:function(e){this.parent&&this.parent.definitionChange(e)}},{key:"updateDefinition",value:function(e,t){var n=this.definitions,i=n[e],r=IO[e],o={};i&&(o[e]=i,this.definitionChange({action:"remove",definitions:o}),delete n[e]),t?(o[e]=t,this.definitionChange({action:"add",definitions:o}),n[e]=t,this.attr(r,this.refUrl(t.id))):i&&this.removeAttr(r)}},{key:"clearDefinitions",value:function(){this.definitionChange({action:"remove",definitions:this.definitions}),this.definitions={}}},{key:"renderDefinitions",value:function(){return bO(this.mapDefinitions())}},{key:"mapDefinitions",value:function(){var e=this.definitions,t=[];for(var n in e)t.push([IO[n],this.refUrl(e[n].id)]);return t}},{key:"refUrl",value:function(e){var t=(this.options||{}).skipBaseHref,n=this.baseUrl().replace(/'/g,"\\'");return"url(".concat(t?"":n,"#").concat(e,")")}},{key:"baseUrl",value:function(){return function(){var e=document.getElementsByTagName("base")[0],t=document.location.href,n="";if(e&&!(Qw.browser||{}).msie){var i=t.indexOf("#");-1!==i&&(t=t.substring(0,i)),n=t}return n}()}}]),t}(yO),RO=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"template",value:function(){return"<stop ".concat(this.renderOffset()," ").concat(this.renderStyle()," />")}},{key:"renderOffset",value:function(){return kO("offset",this.srcElement.offset())}},{key:"mapStyle",value:function(){var e=this.srcElement;return[["stop-color",e.color()],["stop-opacity",e.opacity()]]}},{key:"optionsChange",value:function(e){"offset"===e.field?this.attr(e.field,e.value):"color"!==e.field&&"opacity"!==e.field||this.css("stop-"+e.field,e.value)}}]),t}(AO),PO=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).id=e.id,n.loadStops(),n}return _inherits(t,e),_createClass(t,[{key:"loadStops",value:function(){for(var e=this.srcElement.stops,t=this.element,n=0;n<e.length;n++){var i=new RO(e[n]);this.append(i),t&&i.attachTo(t)}}},{key:"optionsChange",value:function(e){"gradient.stops"===e.field?(yO.prototype.clear.call(this),this.loadStops()):"gradient"===e.field&&this.allAttr(this.mapCoordinates())}},{key:"renderCoordinates",value:function(){return bO(this.mapCoordinates())}},{key:"mapSpace",value:function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}}]),t}(AO),DO=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"template",value:function(){return"<linearGradient id='".concat(this.id,"' ").concat(this.renderCoordinates(),">").concat(this.renderChildren(),"</linearGradient>")}},{key:"mapCoordinates",value:function(){var e=this.srcElement,t=e.start(),n=e.end();return[["x1",t.x],["y1",t.y],["x2",n.x],["y2",n.y],this.mapSpace()]}}]),t}(PO),FO=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"template",value:function(){return"<radialGradient id='".concat(this.id,"' ").concat(this.renderCoordinates(),">").concat(this.renderChildren(),"</radialGradient>")}},{key:"mapCoordinates",value:function(){var e=this.srcElement,t=e.center(),n=e.radius();return[["cx",t.x],["cy",t.y],["r",n],this.mapSpace()]}}]),t}(PO),MO=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).srcElement=e,n.id=e.id,n.load([e]),n}return _inherits(t,e),_createClass(t,[{key:"template",value:function(){return"<clipPath id='".concat(this.id,"'>").concat(this.renderChildren(),"</clipPath>")}}]),t}(AO),zO=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).definitionMap={},e}return _inherits(t,e),_createClass(t,[{key:"attachTo",value:function(e){this.element=e}},{key:"template",value:function(){return"<defs>".concat(this.renderChildren(),"</defs>")}},{key:"definitionChange",value:function(e){var t=e.definitions,n=e.action;"add"===n?this.addDefinitions(t):"remove"===n&&this.removeDefinitions(t)}},{key:"createDefinition",value:function(e,t){var n;return"clip"===e?n=MO:"fill"===e&&(t instanceof nO?n=DO:t instanceof rO&&(n=FO)),new n(t)}},{key:"addDefinitions",value:function(e){for(var t in e)this.addDefinition(t,e[t])}},{key:"addDefinition",value:function(e,t){var n=this.element,i=this.definitionMap,r=t.id,o=i[r];if(o)o.count++;else{var s=this.createDefinition(e,t);i[r]={element:s,count:1},this.append(s),n&&s.attachTo(this.element)}}},{key:"removeDefinitions",value:function(e){for(var t in e)this.removeDefinition(e[t])}},{key:"removeDefinition",value:function(e){var t=this.definitionMap,n=e.id,i=t[n];i&&(i.count--,0===i.count&&(this.remove(this.childNodes.indexOf(i.element),1),delete t[n]))}}]),t}(AO),LO=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).options=e,n.defs=new zO,n}return _inherits(t,e),_createClass(t,[{key:"attachTo",value:function(e){this.element=e,this.defs.attachTo(e.firstElementChild)}},{key:"clear",value:function(){yO.prototype.clear.call(this)}},{key:"template",value:function(){return this.defs.render()+this.renderChildren()}},{key:"definitionChange",value:function(e){this.defs.definitionChange(e)}}]),t}(AO),VO=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n)))._root=new LO(Object.assign({rtl:"rtl"===Bx(e,"direction").direction},i.options)),OO(i.element,i._template()),i._rootElement=i.element.firstElementChild,function(e){var t;try{t=e.getScreenCTM?e.getScreenCTM():null}catch(o){}if(t){var n=-t.e%1,i=-t.f%1,r=e.style;0===n&&0===i||(r.left=n+"px",r.top=i+"px")}}(i._rootElement),i._root.attachTo(i._rootElement),Vx(i.element,{click:i._click,mouseover:i._mouseenter,mouseout:i._mouseleave,mousemove:i._mousemove}),i.resize(),i}return _inherits(t,e),_createClass(t,[{key:"destroy",value:function(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,Gx(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),_get(_getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"translate",value:function(e){var t="".concat(Math.round(e.x)," ").concat(Math.round(e.y)," ").concat(this._size.width," ").concat(this._size.height);this._offset=e,this._rootElement.setAttribute("viewBox",t)}},{key:"draw",value:function(e){_get(_getPrototypeOf(t.prototype),"draw",this).call(this,e),this._root.load([e])}},{key:"clear",value:function(){_get(_getPrototypeOf(t.prototype),"clear",this).call(this),this._root.clear()}},{key:"svg",value:function(){return"<?xml version='1.0' ?>"+this._template()}},{key:"exportVisual",value:function(){var e=this._visual,t=this._offset;if(t){var n=new IT;n.children.push(e),n.transform(mS().translate(-t.x,-t.y)),e=n}return e}},{key:"_resize",value:function(){this._offset&&this.translate(this._offset)}},{key:"_template",value:function(){return"<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='".concat(wO,"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>").concat(this._root.render(),"</svg>")}}]),t}(mO);VO.prototype.type="svg","undefined"!=typeof document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(mO.support.svg=!0,vO.current.register("svg",VO,10));var NO=VO,BO=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"template",value:function(){return"<g".concat(this.renderId()+this.renderTransform()+this.renderStyle()+this.renderOpacity()+this.renderDefinitions(),">").concat(this.renderChildren(),"</g>")}},{key:"optionsChange",value:function(e){"transform"===e.field&&this.transformChange(e.value),_get(_getPrototypeOf(t.prototype),"optionsChange",this).call(this,e)}}]),t}(AO);CO.Group=BO;var jO=BO,HO={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},GO={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},UO=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"geometryChange",value:function(){this.attr("d",this.renderData()),this.invalidate()}},{key:"optionsChange",value:function(e){switch(e.field){case"fill":e.value?this.allAttr(this.mapFill(e.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:e.value}));break;case"stroke":e.value?this.allAttr(this.mapStroke(e.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(e.value);break;default:var n=GO[e.field];n&&this.attr(n,e.value)}_get(_getPrototypeOf(t.prototype),"optionsChange",this).call(this,e)}},{key:"content",value:function(){this.element&&(this.element.textContent=this.srcElement.content())}},{key:"renderData",value:function(){return this.printPath(this.srcElement)}},{key:"printPath",value:function(e){var t=e.segments,n=t.length;if(n>0){for(var i,r,o=[],s=1;s<n;s++){var a=this.segmentType(t[s-1],t[s]);a!==r&&(r=a,o.push(a)),o.push("L"===a?this.printPoints(t[s].anchor()):this.printPoints(t[s-1].controlOut(),t[s].controlIn(),t[s].anchor()))}return i="M"+this.printPoints(t[0].anchor())+" "+o.join(" "),e.options.closed&&(i+="Z"),i}}},{key:"printPoints",value:function(){for(var e=arguments,t=e.length,n=[],i=0;i<t;i++)n.push(e[i].toString(3));return n.join(" ")}},{key:"segmentType",value:function(e,t){return e.controlOut()&&t.controlIn()?"C":"L"}},{key:"mapStroke",value:function(e){var t=[];return e&&!Ax(e.color)?(t.push(["stroke",e.color]),t.push(["stroke-width",e.width]),t.push(["stroke-linecap",this.renderLinecap(e)]),t.push(["stroke-linejoin",e.lineJoin]),yx(e.opacity)&&t.push(["stroke-opacity",e.opacity]),yx(e.dashType)&&t.push(["stroke-dasharray",this.renderDashType(e)])):t.push(["stroke","none"]),t}},{key:"renderStroke",value:function(){return bO(this.mapStroke(this.srcElement.options.stroke))}},{key:"renderDashType",value:function(e){var t=e.dashType,n=e.width,i=void 0===n?1:n;if(t&&"solid"!==t){for(var r=HO[t.toLowerCase()],o=[],s=0;s<r.length;s++)o.push(r[s]*i);return o.join(" ")}}},{key:"renderLinecap",value:function(e){var t=e.dashType,n=e.lineCap;return t&&"solid"!==t?"butt":n}},{key:"mapFill",value:function(e){var t=[];return e&&"Gradient"===e.nodeType||(e&&!Ax(e.color)?(t.push(["fill",e.color]),yx(e.opacity)&&t.push(["fill-opacity",e.opacity])):t.push(["fill","none"])),t}},{key:"renderFill",value:function(){return bO(this.mapFill(this.srcElement.options.fill))}},{key:"template",value:function(){return"<path ".concat(this.renderId()," ").concat(this.renderStyle()," ").concat(this.renderOpacity()," ").concat(kO("d",this.renderData()))+"".concat(this.renderStroke()).concat(this.renderFill()).concat(this.renderDefinitions()).concat(this.renderTransform(),"></path>")}}]),t}(AO);CO.Path=UO;var WO=UO,qO=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"renderData",value:function(){return this.printPath(this.srcElement.toPath())}}]),t}(WO);CO.Arc=qO;var ZO=qO,$O=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"geometryChange",value:function(){var e=this.center();this.attr("cx",e.x),this.attr("cy",e.y),this.attr("r",this.radius()),this.invalidate()}},{key:"center",value:function(){return this.srcElement.geometry().center}},{key:"radius",value:function(){return this.srcElement.geometry().radius}},{key:"template",value:function(){return"<circle ".concat(this.renderId()," ").concat(this.renderStyle()," ").concat(this.renderOpacity())+"cx='".concat(this.center().x,"' cy='").concat(this.center().y,"' r='").concat(this.radius(),"'")+"".concat(this.renderStroke()," ").concat(this.renderFill()," ").concat(this.renderDefinitions())+"".concat(this.renderTransform()," ></circle>")}}]),t}(WO);CO.Circle=$O;var KO=$O,YO=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"geometryChange",value:function(){var e=this.srcElement.geometry();this.attr("x",e.origin.x),this.attr("y",e.origin.y),this.attr("width",e.size.width),this.attr("height",e.size.height),this.invalidate()}},{key:"size",value:function(){return this.srcElement.geometry().size}},{key:"origin",value:function(){return this.srcElement.geometry().origin}},{key:"template",value:function(){return"<rect ".concat(this.renderId()," ").concat(this.renderStyle()," ").concat(this.renderOpacity()," x='").concat(this.origin().x,"' y='").concat(this.origin().y,"' ")+"width='".concat(this.size().width,"' height='").concat(this.size().height,"' ").concat(this.renderStroke()," ")+"".concat(this.renderFill()," ").concat(this.renderDefinitions()," ").concat(this.renderTransform()," />")}}]),t}(WO);CO.Rect=YO;var XO=YO,QO=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"geometryChange",value:function(){this.allAttr(this.mapPosition()),this.invalidate()}},{key:"optionsChange",value:function(e){"src"===e.field&&this.allAttr(this.mapSource()),_get(_getPrototypeOf(t.prototype),"optionsChange",this).call(this,e)}},{key:"mapPosition",value:function(){var e=this.srcElement.rect(),t=e.topLeft();return[["x",t.x],["y",t.y],["width",e.width()+"px"],["height",e.height()+"px"]]}},{key:"renderPosition",value:function(){return bO(this.mapPosition())}},{key:"mapSource",value:function(e){var t=this.srcElement.src();return e&&(t=Uw(t)),[["xlink:href",t]]}},{key:"renderSource",value:function(){return bO(this.mapSource(!0))}},{key:"template",value:function(){return"<image preserveAspectRatio='none' ".concat(this.renderId()," ").concat(this.renderStyle()," ").concat(this.renderTransform()," ").concat(this.renderOpacity())+"".concat(this.renderPosition()," ").concat(this.renderSource()," ").concat(this.renderDefinitions(),">")+"</image>"}}]),t}(WO);CO.Image=QO;var JO=QO,eI=/&(?:[a-zA-Z]+|#\d+);/g;function tI(e){if(!e||"string"!=typeof e||!eI.test(e))return e;var t=tI._element;return eI.lastIndex=0,e.replace(eI,(function(e){return t.innerHTML=e,t.textContent||t.innerText}))}"undefined"!=typeof document&&(tI._element=document.createElement("span"));var nI=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"geometryChange",value:function(){var e=this.pos();this.attr("x",e.x),this.attr("y",e.y),this.invalidate()}},{key:"optionsChange",value:function(e){"font"===e.field?(this.attr("style",_O(this.mapStyle())),this.geometryChange()):"content"===e.field&&_get(_getPrototypeOf(t.prototype),"content",this).call(this,this.srcElement.content()),_get(_getPrototypeOf(t.prototype),"optionsChange",this).call(this,e)}},{key:"mapStyle",value:function(e){var n=_get(_getPrototypeOf(t.prototype),"mapStyle",this).call(this,e),i=this.srcElement.options.font;return e&&(i=Uw(i)),n.push(["font",i],["white-space","pre"]),n}},{key:"pos",value:function(){var e=this.srcElement.position(),t=this.srcElement.measure();return e.clone().setY(e.y+t.baseline)}},{key:"renderContent",value:function(){var e=this.srcElement.content();return qx(e=Uw(e=tI(e)))}},{key:"renderTextAnchor",value:function(){var e;return!(this.options||{}).rtl||Qw.browser.msie||Qw.browser.edge||(e="end"),kO("text-anchor",e)}},{key:"template",value:function(){return"<text ".concat(this.renderId()," ").concat(this.renderTextAnchor()," ").concat(this.renderStyle()," ").concat(this.renderOpacity())+"x='".concat(this.pos().x,"' y='").concat(this.pos().y,"' ").concat(this.renderStroke()," ").concat(this.renderTransform()," ").concat(this.renderDefinitions())+"".concat(this.renderFill(),">").concat(this.renderContent(),"</text>")}}]),t}(WO);CO.Text=nI;var iI=nI,rI=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"renderData",value:function(){var e=this.srcElement.paths;if(e.length>0){for(var t=[],n=0;n<e.length;n++)t.push(this.printPath(e[n]));return t.join(" ")}}}]),t}(WO);CO.MultiPath=rI;var oI=rI;function sI(e){var t=new LO({skipBaseHref:!0}),n=e.clippedBBox(),i=e;if(n){var r=n.getOrigin(),o=new IT;o.transform(mS().translate(-r.x,-r.y)),o.children.push(e),i=o}t.load([i]);var s="<?xml version='1.0' ?><svg xmlns='".concat(wO,"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>").concat(t.render(),"</svg>");return t.destroy(),s}var aI={};function lI(e,t){var n=t.segments;if(0!==n.length){var i=n[0],r=i.anchor();e.moveTo(r.x,r.y);for(var o=1;o<n.length;o++){r=(i=n[o]).anchor();var s=n[o-1].controlOut(),a=i.controlIn();s&&a?e.bezierCurveTo(s.x,s.y,a.x,a.y,r.x,r.y):e.lineTo(r.x,r.y)}t.options.closed&&e.closePath()}}var uI=function(e){function t(e){var n;return _classCallCheck(this,t),n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e)),e&&n.initClip(),n}return _inherits(t,e),_createClass(t,[{key:"initClip",value:function(){var e=this.srcElement.clip();e&&(this.clip=e,e.addObserver(this))}},{key:"clear",value:function(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),_get(_getPrototypeOf(t.prototype),"clear",this).call(this)}},{key:"clearClip",value:function(){this.clip&&(this.clip.removeObserver(this),delete this.clip)}},{key:"setClip",value:function(e){this.clip&&(e.beginPath(),lI(e,this.clip),e.clip())}},{key:"optionsChange",value:function(e){"clip"===e.field&&(this.clearClip(),this.initClip()),_get(_getPrototypeOf(t.prototype),"optionsChange",this).call(this,e)}},{key:"setTransform",value:function(e){if(this.srcElement){var t=this.srcElement.transform();t&&e.transform.apply(e,t.matrix().toArray(6))}}},{key:"loadElements",value:function(e,t,n){for(var i=0;i<e.length;i++){var r=e[i],o=r.children,s=new aI[r.nodeType](r,n);o&&o.length>0&&s.load(o,t,n),yx(t)?this.insertAt(s,t):this.append(s)}}},{key:"load",value:function(e,t,n){this.loadElements(e,t,n),this.invalidate()}},{key:"setOpacity",value:function(e){if(this.srcElement){var t=this.srcElement.opacity();yx(t)&&this.globalAlpha(e,t)}}},{key:"globalAlpha",value:function(e,t){var n=t;n&&e.globalAlpha&&(n*=e.globalAlpha),e.globalAlpha=n}},{key:"visible",value:function(){var e=this.srcElement;return!e||e&&!1!==e.options.visible}}]),t}(yO),cI=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"renderTo",value:function(e){if(this.visible()){e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e);for(var t=this.childNodes,n=0;n<t.length;n++){var i=t[n];i.visible()&&i.renderTo(e)}e.restore()}}}]),t}(uI);TT(cI.prototype,"childNodes"),aI.Group=cI;var hI=cI,fI=function(e){function t(e,n){var i;_classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).canvas=e,i.size=n,i.ctx=e.getContext("2d");var r=i._invalidate.bind(_assertThisInitialized(i));return i.invalidate=ex((function(){Lw(r)}),1e3/60),i}return _inherits(t,e),_createClass(t,[{key:"destroy",value:function(){_get(_getPrototypeOf(t.prototype),"destroy",this).call(this),this.canvas=null,this.ctx=null}},{key:"load",value:function(e,t,n){this.loadElements(e,t,n),this._invalidate()}},{key:"_rescale",value:function(){var e=this.canvas,t=this.size,n=1;"number"==typeof window.devicePixelRatio&&(n=window.devicePixelRatio),e.width=t.width*n,e.height=t.height*n,this.ctx.scale(n,n)}},{key:"_invalidate",value:function(){this.ctx&&(this._rescale(),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx))}}]),t}(hI);TT(fI.prototype,"childNodes");var dI=fI,pI=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).shapes=[],e}return _inherits(t,e),_createClass(t,[{key:"_add",value:function(e,t){this.shapes.push({bbox:t,shape:e}),e._quadNode=this}},{key:"pointShapes",value:function(e){for(var t=this.shapes,n=t.length,i=[],r=0;r<n;r++)t[r].bbox.containsPoint(e)&&i.push(t[r].shape);return i}},{key:"insert",value:function(e,t){this._add(e,t)}},{key:"remove",value:function(e){for(var t=this.shapes,n=t.length,i=0;i<n;i++)if(t[i].shape===e){t.splice(i,1);break}}}]),t}(Vw),vI=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).children=[],n.rect=e,n}return _inherits(t,e),_createClass(t,[{key:"inBounds",value:function(e){var t=this.rect,n=t.bottomRight(),i=e.bottomRight();return t.origin.x<=e.origin.x&&t.origin.y<=e.origin.y&&i.x<=n.x&&i.y<=n.y}},{key:"pointShapes",value:function(e){for(var n=this.children,i=n.length,r=_get(_getPrototypeOf(t.prototype),"pointShapes",this).call(this,e),o=0;o<i;o++)px(r,n[o].pointShapes(e));return r}},{key:"insert",value:function(e,t){var n=this.children,i=!1;if(this.inBounds(t)){if(this.shapes.length<4)this._add(e,t);else{n.length||this._initChildren();for(var r=0;r<n.length;r++)if(n[r].insert(e,t)){i=!0;break}i||this._add(e,t)}i=!0}return i}},{key:"_initChildren",value:function(){var e=this.rect,n=this.children,i=e.center(),r=e.width()/2,o=e.height()/2;n.push(new t(new pS([e.origin.x,e.origin.y],[r,o])),new t(new pS([i.x,e.origin.y],[r,o])),new t(new pS([e.origin.x,i.y],[r,o])),new t(new pS([i.x,i.y],[r,o])))}}]),t}(pI);function gI(e,t){return e._zIndex<t._zIndex?1:e._zIndex>t._zIndex?-1:0}var mI=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).initRoots(),e}return _inherits(t,e),_createClass(t,[{key:"initRoots",value:function(){this.rootMap={},this.root=new pI,this.rootElements=[]}},{key:"clear",value:function(){for(var e=this.rootElements,t=0;t<e.length;t++)this.remove(e[t]);this.initRoots()}},{key:"pointShape",value:function(e){var t=(this.rootMap[Math.floor(e.x/3e3)]||{})[Math.floor(e.y/3e3)],n=this.root.pointShapes(e);t&&(n=n.concat(t.pointShapes(e))),this.assignZindex(n),n.sort(gI);for(var i=0;i<n.length;i++)if(n[i].containsPoint(e))return n[i]}},{key:"assignZindex",value:function(e){for(var t=0;t<e.length;t++){for(var n=e[t],i=0,r=Math.pow(1e4,75),o=[];n;)o.push(n),n=n.parent;for(;o.length;)i+=(((n=o.pop()).parent?n.parent.children:this.rootElements).indexOf(n)+1)*r,r/=1e4;e[t]._zIndex=i}}},{key:"optionsChange",value:function(e){"transform"!==e.field&&"stroke.width"!==e.field||this.bboxChange(e.element)}},{key:"geometryChange",value:function(e){this.bboxChange(e.element)}},{key:"bboxChange",value:function(e){if("Group"===e.nodeType)for(var t=0;t<e.children.length;t++)this.bboxChange(e.children[t]);else e._quadNode&&e._quadNode.remove(e),this._insertShape(e)}},{key:"add",value:function(e){var t=Array.isArray(e)?e.slice(0):[e];px(this.rootElements,t),this._insert(t)}},{key:"childrenChange",value:function(e){if("remove"===e.action)for(var t=0;t<e.items.length;t++)this.remove(e.items[t]);else this._insert(Array.prototype.slice.call(e.items,0))}},{key:"_insert",value:function(e){for(var t;e.length>0;)(t=e.pop()).addObserver(this),"Group"===t.nodeType?px(e,t.children):this._insertShape(t)}},{key:"_insertShape",value:function(e){var t=e.bbox();if(t){var n=this.getSectors(t),i=n[0][0],r=n[1][0];if(this.inRoot(n))this.root.insert(e,t);else{var o=this.rootMap;o[i]||(o[i]={}),o[i][r]||(o[i][r]=new vI(new pS([3e3*i,3e3*r],[3e3,3e3]))),o[i][r].insert(e,t)}}}},{key:"remove",value:function(e){if(e.removeObserver(this),"Group"===e.nodeType)for(var t=e.children,n=0;n<t.length;n++)this.remove(t[n]);else e._quadNode&&(e._quadNode.remove(e),delete e._quadNode)}},{key:"inRoot",value:function(e){return e[0].length>1||e[1].length>1}},{key:"getSectors",value:function(e){for(var t=e.bottomRight(),n=Math.floor(t.x/3e3),i=Math.floor(t.y/3e3),r=[[],[]],o=Math.floor(e.origin.x/3e3);o<=n;o++)r[0].push(o);for(var s=Math.floor(e.origin.y/3e3);s<=i;s++)r[1].push(s);return r}}]),t}(Vw),yI=function(e){function t(e,n){var i;_classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).element.innerHTML=i._template(_assertThisInitialized(i));var r=i.element.firstElementChild,o=Hx(e);return r.width=o.width,r.height=o.height,i._rootElement=r,i._root=new dI(r,o),i._mouseTrackHandler=i._trackMouse.bind(_assertThisInitialized(i)),Vx(i.element,{click:i._mouseTrackHandler,mousemove:i._mouseTrackHandler}),i}return _inherits(t,e),_createClass(t,[{key:"destroy",value:function(){_get(_getPrototypeOf(t.prototype),"destroy",this).call(this),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),Gx(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}},{key:"draw",value:function(e){_get(_getPrototypeOf(t.prototype),"draw",this).call(this,e),this._root.load([e],void 0,this.options.cors),this._searchTree&&this._searchTree.add([e])}},{key:"clear",value:function(){_get(_getPrototypeOf(t.prototype),"clear",this).call(this),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()}},{key:"eventTarget",value:function(e){if(this._searchTree){var t=this._surfacePoint(e);return this._searchTree.pointShape(t)}}},{key:"image",value:function(){var e=this._root,t=this._rootElement,n=[];e.traverse((function(e){e.loading&&n.push(e.loading)}));var i=mx(),r=function(){e._invalidate();try{var n=t.toDataURL();i.resolve(n)}catch(r){i.reject(r)}};return Fx(n).then(r,r),i}},{key:"suspendTracking",value:function(){_get(_getPrototypeOf(t.prototype),"suspendTracking",this).call(this),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)}},{key:"resumeTracking",value:function(){if(_get(_getPrototypeOf(t.prototype),"resumeTracking",this).call(this),!this._searchTree){this._searchTree=new mI;for(var e=this._root.childNodes,n=[],i=0;i<e.length;i++)n.push(e[i].srcElement);this._searchTree.add(n)}}},{key:"_resize",value:function(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.size=this._size,this._root.invalidate()}},{key:"_template",value:function(){return"<canvas style='width: 100%; height: 100%;'></canvas>"}},{key:"_enableTracking",value:function(){this._searchTree=new mI,this._cursor=new(function(){function e(t){_classCallCheck(this,e),t.bind("mouseenter",this._mouseenter.bind(this)),t.bind("mouseleave",this._mouseleave.bind(this)),this.element=t.element}return _createClass(e,[{key:"clear",value:function(){this._resetCursor()}},{key:"destroy",value:function(){this._resetCursor(),delete this.element}},{key:"_mouseenter",value:function(e){var t=this._shapeCursor(e);t?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(t)):this._resetCursor()}},{key:"_mouseleave",value:function(){this._resetCursor()}},{key:"_shapeCursor",value:function(e){for(var t=e.element;t&&!yx(t.options.cursor);)t=t.parent;if(t)return t.options.cursor}},{key:"_getCursor",value:function(){if(this.element)return this.element.style.cursor}},{key:"_setCursor",value:function(e){this.element&&(this.element.style.cursor=e,this._current=e)}},{key:"_resetCursor",value:function(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)}}]),e}())(this),_get(_getPrototypeOf(t.prototype),"_enableTracking",this).call(this)}},{key:"_trackMouse",value:function(e){if(!this._suspendedTracking){var t=this.eventTarget(e);if("click"!==e.type){var n=this._currentShape;n&&n!==t&&this.trigger("mouseleave",{element:n,originalEvent:e,type:"mouseleave"}),t&&n!==t&&this.trigger("mouseenter",{element:t,originalEvent:e,type:"mouseenter"}),this.trigger("mousemove",{element:t,originalEvent:e,type:"mousemove"}),this._currentShape=t}else t&&this.trigger("click",{element:t,originalEvent:e,type:"click"})}}}]),t}(mO);yI.prototype.type="canvas","undefined"!=typeof document&&document.createElement("canvas").getContext&&(mO.support.canvas=!0,vO.current.register("canvas",yI,20));var kI=yI,bI=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"renderTo",value:function(e){e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),this.renderPoints(e,this.srcElement),this.setLineDash(e),this.setLineCap(e),this.setLineJoin(e),this.setFill(e),this.setStroke(e),e.restore()}},{key:"setFill",value:function(e){var t=this.srcElement.options.fill,n=!1;return t&&("Gradient"===t.nodeType?(this.setGradientFill(e,t),n=!0):Ax(t.color)||(e.fillStyle=t.color,e.save(),this.globalAlpha(e,t.opacity),e.fill(),e.restore(),n=!0)),n}},{key:"setGradientFill",value:function(e,t){var n,i=this.srcElement.rawBBox();if(t instanceof nO){var r=t.start(),o=t.end();n=e.createLinearGradient(r.x,r.y,o.x,o.y)}else if(t instanceof rO){var s=t.center();n=e.createRadialGradient(s.x,s.y,0,s.x,s.y,t.radius())}!function(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=hx(i.color());r.a*=i.opacity(),e.addColorStop(i.offset(),r.toCssRgba())}}(n,t.stops),e.save(),t.userSpace()||e.transform(i.width(),0,0,i.height(),i.origin.x,i.origin.y),e.fillStyle=n,e.fill(),e.restore()}},{key:"setStroke",value:function(e){var t=this.srcElement.options.stroke;if(t&&!Ax(t.color)&&t.width>0)return e.strokeStyle=t.color,e.lineWidth=Lx(t.width,1),e.save(),this.globalAlpha(e,t.opacity),e.stroke(),e.restore(),!0}},{key:"dashType",value:function(){var e=this.srcElement.options.stroke;if(e&&e.dashType)return e.dashType.toLowerCase()}},{key:"setLineDash",value:function(e){var t=this.dashType();if(t&&"solid"!==t){var n=HO[t];e.setLineDash?e.setLineDash(n):(e.mozDash=n,e.webkitLineDash=n)}}},{key:"setLineCap",value:function(e){var t=this.dashType(),n=this.srcElement.options.stroke;t&&"solid"!==t?e.lineCap="butt":n&&n.lineCap&&(e.lineCap=n.lineCap)}},{key:"setLineJoin",value:function(e){var t=this.srcElement.options.stroke;t&&t.lineJoin&&(e.lineJoin=t.lineJoin)}},{key:"renderPoints",value:function(e,t){lI(e,t)}}]),t}(uI);aI.Path=bI;var _I=bI,CI=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"renderPoints",value:function(e){lI(e,this.srcElement.toPath())}}]),t}(_I);aI.Arc=CI;var wI=CI,xI=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"renderPoints",value:function(e){var t=this.srcElement.geometry(),n=t.center,i=t.radius;e.arc(n.x,n.y,i,0,2*Math.PI)}}]),t}(_I);aI.Circle=xI;var SI=xI,TI=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"renderPoints",value:function(e){var t=this.srcElement.geometry(),n=t.origin,i=t.size;e.rect(n.x,n.y,i.width,i.height)}}]),t}(_I);aI.Rect=TI;var OI=TI,II=function(e){function t(e,n){var i;_classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).onLoad=i.onLoad.bind(_assertThisInitialized(i)),i.onError=i.onError.bind(_assertThisInitialized(i)),i.loading=mx();var r=i.img=new Image;return n&&!/^data:/i.test(e.src())&&(r.crossOrigin=n),r.src=e.src(),r.complete?i.onLoad():(r.onload=i.onLoad,r.onerror=i.onError),i}return _inherits(t,e),_createClass(t,[{key:"renderTo",value:function(e){"resolved"===this.loading.state()&&(e.save(),this.setTransform(e),this.setClip(e),this.drawImage(e),e.restore())}},{key:"optionsChange",value:function(e){"src"===e.field?(this.loading=mx(),this.img.src=this.srcElement.src()):_get(_getPrototypeOf(t.prototype),"optionsChange",this).call(this,e)}},{key:"onLoad",value:function(){this.loading.resolve(),this.invalidate()}},{key:"onError",value:function(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))}},{key:"drawImage",value:function(e){var t=this.srcElement.rect(),n=t.topLeft();e.drawImage(this.img,n.x,n.y,t.width(),t.height())}}]),t}(_I);aI.Image=II;var EI=II,AI=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"renderTo",value:function(e){var t=this.srcElement,n=t.position(),i=t.measure();e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),e.font=t.options.font,e.textAlign="left",this.setFill(e)&&e.fillText(t.content(),n.x,n.y+i.baseline),this.setStroke(e)&&(this.setLineDash(e),e.strokeText(t.content(),n.x,n.y+i.baseline)),e.restore()}}]),t}(_I);aI.Text=AI;var RI=AI,PI=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"renderPoints",value:function(e){for(var t=this.srcElement.paths,n=0;n<t.length;n++)lI(e,t[n])}}]),t}(_I);aI.MultiPath=PI;var DI=PI;function FI(e,t){var n={width:"800px",height:"600px",cors:"Anonymous"},i=e,r=e.clippedBBox();if(r){var o=r.getOrigin();(i=new IT).transform(mS().translate(-o.x,-o.y)),i.children.push(e);var s=r.getSize();n.width=s.width+"px",n.height=s.height+"px"}var a=Object.assign(n,t),l=document.createElement("div"),u=l.style;u.display="none",u.width=a.width,u.height=a.height,document.body.appendChild(l);var c=new kI(l,a);c.suspendTracking(),c.draw(i);var h=c.image(),f=function(){c.destroy(),document.body.removeChild(l)};return h.then(f,f),h}function MI(e,t){var n=sI(e);return t&&t.raw||(n="data:image/svg+xml;base64,"+Ox(n)),mx().resolve(n)}var zI,LI="undefined"!=typeof Uint8Array&&Qw.browser&&(!Qw.browser.msie||Qw.browser.version>9),VI=(zI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",{decode:function(e){for(var t=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),n=0,i=t.length,r=[];n<i;){var o=zI.indexOf(t.charAt(n++)),s=zI.indexOf(t.charAt(n++)),a=zI.indexOf(t.charAt(n++)),l=zI.indexOf(t.charAt(n++)),u=(15&s)<<4|a>>>2,c=(3&a)<<6|l;r.push(o<<2|s>>>4),64!=a&&r.push(u),64!=l&&r.push(c)}return r},encode:function(e){for(var t=0,n=e.length,i="";t<n;){var r=e[t++],o=e[t++],s=e[t++],a=(3&r)<<4|o>>>4,l=(15&o)<<2|s>>>6,u=63&s;t-n==2?l=u=64:t-n==1&&(u=64),i+=zI.charAt(r>>>2)+zI.charAt(a)+zI.charAt(l)+zI.charAt(u)}return i}});function NI(e){var t=0,n=0;null==e?e=LI?new Uint8Array(256):[]:n=e.length;var i=LI?function(t){if(t>=e.length){var n=new Uint8Array(Math.max(t+256,2*e.length));n.set(e,0),e=n}}:function(){},r=LI?function(){return new Uint8Array(e.buffer,0,n)}:function(){return e},o=LI?function(r){if("string"==typeof r)return v(r);var o=r.length;i(t+o),e.set(r,t),(t+=o)>n&&(n=t)}:function(e){if("string"==typeof e)return v(e);for(var t=0;t<e.length;++t)a(e[t])};function s(){return t<n?e[t++]:0}function a(r){i(t),e[t++]=255&r,t>n&&(n=t)}function l(){return s()<<8|s()}function u(e){a(e>>8),a(e)}function c(){return 65536*l()+l()}function h(e){u(e>>>16&65535),u(65535&e)}function f(){var e=c();return e>=2147483648?e-4294967296:e}function d(e){h(e<0?e+4294967296:e)}function p(e){return g(e,s)}function v(e){for(var t=0;t<e.length;++t)a(e.charCodeAt(t))}function g(e,t){for(var n=new Array(e),i=0;i<e;++i)n[i]=t();return n}var m={eof:function(){return t>=n},readByte:s,writeByte:a,readShort:l,writeShort:u,readLong:c,writeLong:h,readFixed:function(){return c()/65536},writeFixed:function(e){h(Math.round(65536*e))},readShort_:function(){var e=l();return e>=32768?e-65536:e},writeShort_:function(e){u(e<0?e+65536:e)},readLong_:f,writeLong_:d,readFixed_:function(){return f()/65536},writeFixed_:function(e){d(Math.round(65536*e))},read:p,write:o,readString:function(e){return String.fromCharCode.apply(String,p(e))},writeString:v,times:g,get:r,slice:LI?function(t,n){if(e.buffer.slice)return new Uint8Array(e.buffer.slice(t,t+n));var i=new Uint8Array(n);return i.set(new Uint8Array(e.buffer,t,n)),i}:function(t,n){return e.slice(t,t+n)},offset:function(e){return null!=e?(t=e,m):t},skip:function(e){t+=e},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return n})),saveExcursion:function(e){var n=t;try{return e()}finally{t=n}},writeBase64:function(e){window.atob?v(window.atob(e)):o(VI.decode(e))},base64:function(){return VI.encode(r())}};return m}function BI(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function jI(e){return Object.keys(e).sort((function(e,t){return e-t})).map(parseFloat)}function HI(e){this.raw=e,this.scalerType=e.readLong(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort();for(var t=this.tables={},n=0;n<this.tableCount;++n){var i={tag:e.readString(4),checksum:e.readLong(),offset:e.readLong(),length:e.readLong()};t[i.tag]=i}}function GI(e){function t(e,t){this.definition=t,this.length=t.length,this.offset=t.offset,this.file=e,this.rawData=e.raw,this.parse(e.raw)}for(var n in t.prototype.raw=function(){return this.rawData.slice(this.offset,this.length)},e)BI(e,n)&&(t[n]=t.prototype[n]=e[n]);return t}HI.prototype={readTable:function(e,t){var n=this.tables[e];if(!n)throw new Error("Table "+e+" not found in directory");return this[e]=n.table=new t(this,n)},render:function(e){var t=Object.keys(e).length,n=Math.pow(2,Math.floor(Math.log(t)/Math.LN2)),i=16*n,r=Math.floor(Math.log(n)/Math.LN2),o=16*t-i,s=NI();s.writeLong(this.scalerType),s.writeShort(t),s.writeShort(i),s.writeShort(r),s.writeShort(o);var a=16*t,l=s.offset()+a,u=null,c=NI();for(var h in e)if(BI(e,h)){var f=e[h];for(s.writeString(h),s.writeLong(this.checksum(f)),s.writeLong(l),s.writeLong(f.length),c.write(f),"head"==h&&(u=l),l+=f.length;l%4;)c.writeByte(0),l++}s.write(c.get());var d=2981146554-this.checksum(s.get());return s.offset(u+8),s.writeLong(d),s.get()},checksum:function(e){e=NI(e);for(var t=0;!e.eof();)t+=e.readLong();return 4294967295&t}};GI({parse:function(e){e.offset(this.offset),this.version=e.readLong(),this.revision=e.readLong(),this.checkSumAdjustment=e.readLong(),this.magicNumber=e.readLong(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.read(8),this.modified=e.read(8),this.xMin=e.readShort_(),this.yMin=e.readShort_(),this.xMax=e.readShort_(),this.yMax=e.readShort_(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort_(),this.indexToLocFormat=e.readShort_(),this.glyphDataFormat=e.readShort_()},render:function(e){var t=NI();return t.writeLong(this.version),t.writeLong(this.revision),t.writeLong(0),t.writeLong(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.write(this.created),t.write(this.modified),t.writeShort_(this.xMin),t.writeShort_(this.yMin),t.writeShort_(this.xMax),t.writeShort_(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort_(this.fontDirectionHint),t.writeShort_(e),t.writeShort_(this.glyphDataFormat),t.get()}}),GI({parse:function(e){e.offset(this.offset),this.offsets=0===this.file.head.indexToLocFormat?e.times(this.length/2,(function(){return 2*e.readShort()})):e.times(this.length/4,e.readLong)},offsetOf:function(e){return this.offsets[e]},lengthOf:function(e){return this.offsets[e+1]-this.offsets[e]},render:function(e){for(var t=NI(),n=e[e.length-1]>65535,i=0;i<e.length;++i)n?t.writeLong(e[i]):t.writeShort(e[i]/2);return{format:n?1:0,table:t.get()}}}),GI({parse:function(e){e.offset(this.offset),this.version=e.readLong(),this.ascent=e.readShort_(),this.descent=e.readShort_(),this.lineGap=e.readShort_(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort_(),this.minRightSideBearing=e.readShort_(),this.xMaxExtent=e.readShort_(),this.caretSlopeRise=e.readShort_(),this.caretSlopeRun=e.readShort_(),this.caretOffset=e.readShort_(),e.skip(8),this.metricDataFormat=e.readShort_(),this.numOfLongHorMetrics=e.readShort()},render:function(e){var t=NI();return t.writeLong(this.version),t.writeShort_(this.ascent),t.writeShort_(this.descent),t.writeShort_(this.lineGap),t.writeShort(this.advanceWidthMax),t.writeShort_(this.minLeftSideBearing),t.writeShort_(this.minRightSideBearing),t.writeShort_(this.xMaxExtent),t.writeShort_(this.caretSlopeRise),t.writeShort_(this.caretSlopeRun),t.writeShort_(this.caretOffset),t.write([0,0,0,0,0,0,0,0]),t.writeShort_(this.metricDataFormat),t.writeShort(e.length),t.get()}}),GI({parse:function(e){e.offset(this.offset),this.version=e.readLong(),this.numGlyphs=e.readShort(),this.maxPoints=e.readShort(),this.maxContours=e.readShort(),this.maxComponentPoints=e.readShort(),this.maxComponentContours=e.readShort(),this.maxZones=e.readShort(),this.maxTwilightPoints=e.readShort(),this.maxStorage=e.readShort(),this.maxFunctionDefs=e.readShort(),this.maxInstructionDefs=e.readShort(),this.maxStackElements=e.readShort(),this.maxSizeOfInstructions=e.readShort(),this.maxComponentElements=e.readShort(),this.maxComponentDepth=e.readShort()},render:function(e){var t=NI();return t.writeLong(this.version),t.writeShort(e.length),t.writeShort(this.maxPoints),t.writeShort(this.maxContours),t.writeShort(this.maxComponentPoints),t.writeShort(this.maxComponentContours),t.writeShort(this.maxZones),t.writeShort(this.maxTwilightPoints),t.writeShort(this.maxStorage),t.writeShort(this.maxFunctionDefs),t.writeShort(this.maxInstructionDefs),t.writeShort(this.maxStackElements),t.writeShort(this.maxSizeOfInstructions),t.writeShort(this.maxComponentElements),t.writeShort(this.maxComponentDepth),t.get()}}),GI({parse:function(e){e.offset(this.offset);var t=this.file;this.metrics=e.times(t.hhea.numOfLongHorMetrics,(function(){return{advance:e.readShort(),lsb:e.readShort_()}})),this.leftSideBearings=e.times(t.maxp.numGlyphs-t.hhea.numOfLongHorMetrics,e.readShort_)},forGlyph:function(e){var t=this.metrics,n=t.length;return e<n?t[e]:{advance:t[n-1].advance,lsb:this.leftSideBearings[e-n]}},render:function(e){for(var t=NI(),n=0;n<e.length;++n){var i=this.forGlyph(e[n]);t.writeShort(i.advance),t.writeShort_(i.lsb)}return t.get()}}),function(){function e(e){this.raw=e}function t(e){this.raw=e;for(var t=this.glyphIds=[],n=this.idOffsets=[];;){var i=e.readShort();if(n.push(e.offset()),t.push(e.readShort()),!(32&i))break;e.skip(1&i?4:2),128&i?e.skip(8):64&i?e.skip(4):8&i&&e.skip(2)}}e.prototype={compound:!1,render:function(){return this.raw.get()}},t.prototype={compound:!0,render:function(e){for(var t=NI(this.raw.get()),n=0;n<this.glyphIds.length;++n){var i=this.glyphIds[n];t.offset(this.idOffsets[n]),t.writeShort(e[i])}return t.get()}},GI({parse:function(){this.cache={}},glyphFor:function(n){var i=this.cache;if(BI(i,n))return i[n];var r=this.file.loca,o=r.lengthOf(n);if(0===o)return i[n]=null;var s=this.rawData,a=this.offset+r.offsetOf(n),l=NI(s.slice(a,o)),u=l.readShort_(),c=l.readShort_(),h=l.readShort_(),f=l.readShort_(),d=l.readShort_(),p=i[n]=-1==u?new t(l):new e(l);return p.numberOfContours=u,p.xMin=c,p.yMin=h,p.xMax=f,p.yMax=d,p},render:function(e,t,n){for(var i=NI(),r=[],o=0;o<t.length;++o){var s=e[t[o]];r.push(i.offset()),s&&i.write(s.render(n))}return r.push(i.offset()),{table:i.get(),offsets:r}}})}(),function(){function e(e,t){this.text=e,this.length=e.length,this.platformID=t.platformID,this.platformSpecificID=t.platformSpecificID,this.languageID=t.languageID,this.nameID=t.nameID}GI({parse:function(t){t.offset(this.offset),t.readShort();for(var n=t.readShort(),i=this.offset+t.readShort(),r=t.times(n,(function(){return{platformID:t.readShort(),platformSpecificID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:t.readShort()+i}})),o=this.strings={},s=0;s<r.length;++s){var a=r[s];t.offset(a.offset);var l=t.readString(a.length);o[a.nameID]||(o[a.nameID]=[]),o[a.nameID].push(new e(l,a))}this.postscriptEntry=o[6][0],this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")},render:function(t){var n=this.strings,i=0;for(var r in n)BI(n,r)&&(i+=n[r].length);var o=NI(),s=NI();for(r in o.writeShort(0),o.writeShort(i),o.writeShort(6+12*i),n)if(BI(n,r))for(var a=6==r?[new e(t,this.postscriptEntry)]:n[r],l=0;l<a.length;++l){var u=a[l];o.writeShort(u.platformID),o.writeShort(u.platformSpecificID),o.writeShort(u.languageID),o.writeShort(u.nameID),o.writeShort(u.length),o.writeShort(s.offset()),s.writeString(u.text)}return o.write(s.get()),o.get()}})}(),UI=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g),GI({parse:function(e){var t;switch(e.offset(this.offset),this.format=e.readLong(),this.italicAngle=e.readFixed_(),this.underlinePosition=e.readShort_(),this.underlineThickness=e.readShort_(),this.isFixedPitch=e.readLong(),this.minMemType42=e.readLong(),this.maxMemType42=e.readLong(),this.minMemType1=e.readLong(),this.maxMemType1=e.readLong(),this.format){case 65536:case 196608:break;case 131072:t=e.readShort(),this.glyphNameIndex=e.times(t,e.readShort),this.names=[];for(var n=this.offset+this.length;e.offset()<n;)this.names.push(e.readString(e.readByte()));break;case 151552:t=e.readShort(),this.offsets=e.read(t);break;case 262144:this.map=e.times(this.file.maxp.numGlyphs,e.readShort)}},glyphFor:function(e){switch(this.format){case 65536:return UI[e]||".notdef";case 131072:var t=this.glyphNameIndex[e];return t<UI.length?UI[t]:this.names[t-UI.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[e]||65535}},render:function(e){if(196608==this.format)return this.raw();var t=NI(this.rawData.slice(this.offset,32));t.writeLong(131072),t.offset(32);for(var n=[],i=[],r=0;r<e.length;++r){var o=this.glyphFor(e[r]),s=UI.indexOf(o);s>=0?n.push(s):(n.push(UI.length+i.length),i.push(o))}for(t.writeShort(e.length),r=0;r<n.length;++r)t.writeShort(n[r]);for(r=0;r<i.length;++r)t.writeByte(i[r].length),t.writeString(i[r]);return t.get()}});var UI,WI=function(){function e(e,t,n){var i=this;i.platformID=e.readShort(),i.platformSpecificID=e.readShort(),i.offset=t+e.readLong(),e.saveExcursion((function(){var t;switch(e.offset(i.offset),i.format=e.readShort(),i.format){case 0:i.length=e.readShort(),i.language=e.readShort();for(var r=0;r<256;++r)n[r]=e.readByte();break;case 4:i.length=e.readShort(),i.language=e.readShort();var o=e.readShort()/2;e.skip(6);var s=e.times(o,e.readShort);e.skip(2);var a=e.times(o,e.readShort),l=e.times(o,e.readShort_),u=e.times(o,e.readShort),c=(i.length+i.offset-e.offset())/2,h=e.times(c,e.readShort);for(r=0;r<o;++r){var f=a[r],d=s[r];for(t=f;t<=d;++t){var p;0===u[r]?p=t+l[r]:0!==(p=h[u[r]/2-(o-r)+(t-f)]||0)&&(p+=l[r]),n[t]=65535&p}}break;case 6:i.length=e.readShort(),i.language=e.readShort(),t=e.readShort();for(var v=e.readShort();v-- >0;)n[t++]=e.readShort();break;case 12:e.readShort(),i.length=e.readLong(),i.language=e.readLong();for(var g=e.readLong();g-- >0;){t=e.readLong();for(var m=e.readLong(),y=e.readLong();t<=m;)n[t++]=y++}break;default:window.console&&window.console.error("Unhandled CMAP format: "+i.format)}}))}return GI({parse:function(t){var n=this,i=n.offset;t.offset(i),n.codeMap={},n.version=t.readShort();var r=t.readShort();n.tables=t.times(r,(function(){return new e(t,i,n.codeMap)}))},render:function(e,t){var n=NI();return n.writeShort(0),n.writeShort(1),n.write(function(e,t){var n=jI(e),i=[],r=[],o=null,s=null;function a(n){return t[e[n]]}for(var l=0;l<n.length;++l){var u=n[l],c=a(u)-u;null!=o&&c===s||(o&&r.push(o),i.push(u),s=c),o=u}o&&r.push(o),r.push(65535),i.push(65535);var h=i.length,f=2*h,d=2*Math.pow(2,Math.floor(Math.log(h)/Math.LN2)),p=Math.log(d/2)/Math.LN2,v=f-d,g=[],m=[],y=[];for(l=0;l<h;++l){var k=i[l],b=r[l];if(65535==k){g.push(0),m.push(0);break}var _=a(k);if(k-_>=32768){g.push(0),m.push(2*(y.length+h-l));for(var C=k;C<=b;++C)y.push(a(C))}else g.push(_-k),m.push(0)}var w=NI();return w.writeShort(3),w.writeShort(1),w.writeLong(12),w.writeShort(4),w.writeShort(16+8*h+2*y.length),w.writeShort(0),w.writeShort(f),w.writeShort(d),w.writeShort(p),w.writeShort(v),r.forEach(w.writeShort),w.writeShort(0),i.forEach(w.writeShort),g.forEach(w.writeShort_),m.forEach(w.writeShort),y.forEach(w.writeShort),w.get()}(e,t)),n.get()}})}(),qI=(GI({parse:function(e){e.offset(this.offset),this.version=e.readShort(),this.averageCharWidth=e.readShort_(),this.weightClass=e.readShort(),this.widthClass=e.readShort(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort_(),this.ySubscriptYSize=e.readShort_(),this.ySubscriptXOffset=e.readShort_(),this.ySubscriptYOffset=e.readShort_(),this.ySuperscriptXSize=e.readShort_(),this.ySuperscriptYSize=e.readShort_(),this.ySuperscriptXOffset=e.readShort_(),this.ySuperscriptYOffset=e.readShort_(),this.yStrikeoutSize=e.readShort_(),this.yStrikeoutPosition=e.readShort_(),this.familyClass=e.readShort_(),this.panose=e.times(10,e.readByte),this.charRange=e.times(4,e.readLong),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort_(),this.descent=e.readShort_(),this.lineGap=e.readShort_(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=e.times(2,e.readLong),this.version>1&&(this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()))},render:function(){return this.raw()}}),1e5);function ZI(e){this.font=e,this.subset={},this.unicodes={},this.ogid2ngid={0:0},this.ngid2ogid={0:0},this.ncid2ogid={},this.next=this.firstChar=1,this.nextGid=1,this.psName=function(){for(var e="",t=String(qI),n=0;n<t.length;++n)e+=String.fromCharCode(t.charCodeAt(n)-48+65);return++qI,e}()+"+"+this.font.psName}ZI.prototype={use:function(e){var t=this;if("string"==typeof e)return function(e){for(var t,n,i=[],r=0,o=e.length;r<o;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<o?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}(e).reduce((function(e,n){return e+String.fromCharCode(t.use(n))}),"");var n=t.unicodes[e];if(!n){n=t.next++,t.subset[n]=e,t.unicodes[e]=n;var i=t.font.cmap.codeMap[e];if(i&&(t.ncid2ogid[n]=i,null==t.ogid2ngid[i])){var r=t.nextGid++;t.ogid2ngid[i]=r,t.ngid2ogid[r]=i}}return n},encodeText:function(e){return this.use(e)},glyphIds:function(){return jI(this.ogid2ngid)},glyphsFor:function(e,t){t||(t={});for(var n=0;n<e.length;++n){var i=e[n];if(!t[i]){var r=t[i]=this.font.glyf.glyphFor(i);r&&r.compound&&this.glyphsFor(r.glyphIds,t)}}return t},render:function(){var e=this.glyphsFor(this.glyphIds());for(var t in e)if(BI(e,t)&&(t=parseInt(t,10),null==this.ogid2ngid[t])){var n=this.nextGid++;this.ogid2ngid[t]=n,this.ngid2ogid[n]=t}var i=jI(this.ngid2ogid).map((function(e){return this.ngid2ogid[e]}),this),r=this.font,o=r.glyf.render(e,i,this.ogid2ngid),s=r.loca.render(o.offsets);this.lastChar=this.next-1;var a={cmap:WI.render(this.ncid2ogid,this.ogid2ngid),glyf:o.table,loca:s.table,hmtx:r.hmtx.render(i),hhea:r.hhea.render(i),maxp:r.maxp.render(i),post:r.post.render(i),name:r.name.render(this.psName),head:r.head.render(s.format),"OS/2":r.os2.render()};return this.font.directory.render(a)},cidToGidMap:function(){for(var e=NI(),t=0,n=this.firstChar;n<this.next;++n){for(;t<n;)e.writeShort(0),t++;var i=this.ncid2ogid[n];e.writeShort(i?this.ogid2ngid[i]:0),t++}return e.get()}};var $I=n("wSl+").deflate,KI=(Qw.browser,"\n"),YI=0,XI={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]};function QI(e,t,n){for(;e.length<t;)e=n+e;return e}function JI(e,t){return QI(String(e),t,"0")}function eE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var tE=Array.isArray||function(e){return e instanceof Array};function nE(e){return e instanceof Date}function iE(e,t){t("["),e.length>0&&t.withIndent((function(){for(var n=0;n<e.length;++n)n>0&&n%8==0?t.indent(e[n]):t(" ",e[n])})),t(" ]")}function rE(e,t){t("(D:",JI(e.getUTCFullYear(),4),JI(e.getUTCMonth()+1,2),JI(e.getUTCDate(),2),JI(e.getUTCHours(),2),JI(e.getUTCMinutes(),2),JI(e.getUTCSeconds(),2),"Z)")}function oE(e){return e*(72/25.4)}function sE(e){return oE(10*e)}function aE(e){return 72*e}function lE(e,t){if("number"==typeof e)return e;var n;if("string"==typeof e&&(n=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(e))){var i=parseFloat(n[1]);if(!isNaN(i))return"pt"==n[2]?i:{mm:oE,cm:sE,in:aE}[n[2]](i)}if(null!=t)return t;throw new Error("Can't parse unit: "+e)}function uE(){}function cE(e,t,n){for(var i in n||(n=uE),e.prototype=new n,t)eE(t,i)&&(e.prototype[i]=t[i]);return e}uE.prototype.beforeRender=function(){};var hE=cE((function(e){this.value=e}),{render:function(e){for(var t="",n=this.value,i=0;i<n.length;++i)t+=String.fromCharCode(255&n.charCodeAt(i));e("(",t.replace(/([\(\)\\])/g,"\\$1"),")")},toString:function(){return this.value}}),fE=cE((function(e){this.value=e}),{render:function(e){e("<");for(var t=0;t<this.value.length;++t)e(JI(this.value.charCodeAt(t).toString(16),4));e(">")}},hE),dE=cE((function(e){this.name=e}),{render:function(e){e("/"+this.escape())},escape:function(){return this.name.replace(/[^\x21-\x7E]/g,(function(e){return"#"+JI(e.charCodeAt(0).toString(16),2)}))},toString:function(){return this.name}}),pE={};function vE(e){return eE(pE,e)?pE[e]:pE[e]=new dE(e)}dE.get=vE;var gE=cE((function(e){this.props=e}),{render:function(e){var t=this.props,n=!0;e("<<"),e.withIndent((function(){for(var i in t)eE(t,i)&&!/^_/.test(i)&&(n=!1,e.indent(vE(i)," ",t[i]))})),n||e.indent(),e(">>")}}),mE=cE((function(e,t,n){if("string"==typeof e){var i=NI();i.write(e),e=i}this.data=e,this.props=t||{},this.compress=n}),{render:function(e){var t=this.data.get(),n=this.props;this.compress&&(n.Filter?n.Filter instanceof Array||(n.Filter=[n.Filter]):n.Filter=[],n.Filter.unshift(vE("FlateDecode")),t=$I(t)),n.Length=t.length,e(new gE(n)," stream",KI),e.writeData(t),e(KI,"endstream")}});cE((function(){this.props={Type:vE("Catalog")}}),{setPages:function(e){this.props.Pages=e}},gE),cE((function(){this.props={Type:vE("Pages"),Kids:[],Count:0}}),{addPage:function(e){this.props.Kids.push(e),this.props.Count++}},gE),cE((function(e){this.props={Type:vE("Font"),Subtype:vE("Type1"),BaseFont:vE(e)},this._resourceName=vE("F"+ ++YI)}),{encodeText:function(e){return new hE(String(e))}},gE);var yE=cE((function(e,t,n){(n=this.props=n||{}).Type=vE("Font"),n.Subtype=vE("Type0"),n.Encoding=vE("Identity-H"),this._pdf=e,this._font=t,this._sub=t.makeSubset(),this._resourceName=vE("F"+ ++YI);var i=t.head;this.name=t.psName;var r=this.scale=t.scale;this.bbox=[i.xMin*r,i.yMin*r,i.xMax*r,i.yMax*r],this.italicAngle=t.post.italicAngle,this.ascent=t.ascent*r,this.descent=t.descent*r,this.lineGap=t.lineGap*r,this.capHeight=t.os2.capHeight||this.ascent,this.xHeight=t.os2.xHeight||0,this.stemV=0,this.familyClass=(t.os2.familyClass||0)>>8,this.isSerif=this.familyClass>=1&&this.familyClass<=7,this.isScript=10==this.familyClass,this.flags=(t.post.isFixedPitch?1:0)|(this.isSerif?2:0)|(this.isScript?8:0)|(0!==this.italicAngle?64:0)|32}),{encodeText:function(e){return new fE(this._sub.encodeText(String(e)))},getTextWidth:function(e,t){for(var n=0,i=this._font.cmap.codeMap,r=0;r<t.length;++r){var o=i[t.charCodeAt(r)];n+=this._font.widthOfGlyph(o||0)}return n*e/1e3},beforeRender:function(){var e=this,t=e._sub,n=t.render(),i=new mE(NI(n),{Length1:n.length},!0),r=e._pdf.attach(new gE({Type:vE("FontDescriptor"),FontName:vE(e._sub.psName),FontBBox:e.bbox,Flags:e.flags,StemV:e.stemV,ItalicAngle:e.italicAngle,Ascent:e.ascent,Descent:e.descent,CapHeight:e.capHeight,XHeight:e.xHeight,FontFile2:e._pdf.attach(i)})),o=t.ncid2ogid,s=t.firstChar,a=t.lastChar,l=[];!function t(n,i){if(n<=a){var r=o[n];null==r?t(n+1):(i||l.push(n,i=[]),i.push(e._font.widthOfGlyph(r)),t(n+1,i))}}(s);var u=new gE({Type:vE("Font"),Subtype:vE("CIDFontType2"),BaseFont:vE(e._sub.psName),CIDSystemInfo:new gE({Registry:new hE("Adobe"),Ordering:new hE("Identity"),Supplement:0}),FontDescriptor:r,FirstChar:s,LastChar:a,DW:Math.round(e._font.widthOfGlyph(0)),W:l,CIDToGIDMap:e._pdf.attach(e._makeCidToGidMap())}),c=e.props;c.BaseFont=vE(e._sub.psName),c.DescendantFonts=[e._pdf.attach(u)];var h=new kE(s,a,t.subset),f=new mE(function(){var e=0,t=NI();function n(){for(var e=0;e<arguments.length;++e){var i=arguments[e];if(void 0===i)throw new Error("Cannot output undefined to PDF");if(i instanceof uE)i.beforeRender(n),i.render(n);else if(tE(i))iE(i,n);else if(nE(i))rE(i,n);else if("number"==typeof i){if(isNaN(i))throw new Error("Cannot output NaN to PDF");var r=i.toFixed(7);r.indexOf(".")>=0&&(r=r.replace(/\.?0+$/,"")),"-0"==r&&(r="0"),t.writeString(r)}else/string|boolean/.test(typeof i)?t.writeString(String(i)):"function"==typeof i.get?t.write(i.get()):"object"==typeof i&&(i?n(new gE(i)):t.writeString("null"))}}return n.writeData=function(e){t.write(e)},n.withIndent=function(t){++e,t(n),--e},n.indent=function(){n(KI,QI("",2*e,"  ")),n.apply(null,arguments)},n.offset=function(){return t.offset()},n.toString=function(){throw new Error("FIX CALLER")},n.get=function(){return t.get()},n.stream=function(){return t},n}(),null,!0);f.data(h),c.ToUnicode=e._pdf.attach(f)},_makeCidToGidMap:function(){return new mE(NI(this._sub.cidToGidMap()),null,!0)}},gE),kE=cE((function(e,t,n){this.firstChar=e,this.lastChar=t,this.map=n}),{render:function(e){e.indent("/CIDInit /ProcSet findresource begin"),e.indent("12 dict begin"),e.indent("begincmap"),e.indent("/CIDSystemInfo <<"),e.indent("  /Registry (Adobe)"),e.indent("  /Ordering (UCS)"),e.indent("  /Supplement 0"),e.indent(">> def"),e.indent("/CMapName /Adobe-Identity-UCS def"),e.indent("/CMapType 2 def"),e.indent("1 begincodespacerange"),e.indent("  <0000><ffff>"),e.indent("endcodespacerange");var t=this;e.indent(t.lastChar-t.firstChar+1," beginbfchar"),e.withIndent((function(){for(var n=t.firstChar;n<=t.lastChar;++n){var i=[t.map[n]].map((function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+String.fromCharCode(e)})).join("");e.indent("<",JI(n.toString(16),4),">","<");for(var r=0;r<i.length;++r)e(JI(i.charCodeAt(r).toString(16),4));e(">")}})),e.indent("endbfchar"),e.indent("endcmap"),e.indent("CMapName currentdict /CMap defineresource pop"),e.indent("end"),e.indent("end")}});function bE(e){return e.map((function(e){return tE(e)?bE(e):"number"==typeof e?(Math.round(1e3*e)/1e3).toFixed(3):e})).join(" ")}function _E(e,t,n,i,r,o,s){var a=bE([t,n,i,r,o,s]),l=e.GRAD_COL_FUNCTIONS[a];return l||(l=e.GRAD_COL_FUNCTIONS[a]=e.attach(new gE({FunctionType:2,Domain:[0,1],Range:[0,1,0,1,0,1],N:1,C0:[t,n,i],C1:[r,o,s]}))),l}function CE(e,t,n){var i=bE([t,n]),r=e.GRAD_OPC_FUNCTIONS[i];return r||(r=e.GRAD_OPC_FUNCTIONS[i]=e.attach(new gE({FunctionType:2,Domain:[0,1],Range:[0,1],N:1,C0:[t],C1:[n]}))),r}cE((function(e,t){this._pdf=e,this._rcount=0,this._textMode=!1,this._fontResources={},this._gsResources={},this._xResources={},this._patResources={},this._shResources={},this._opacity=1,this._matrix=[1,0,0,1,0,0],this._annotations=[],this._font=null,this._fontSize=null,this._contextStack=[],(t=this.props=t||{}).Type=vE("Page"),t.ProcSet=[vE("PDF"),vE("Text"),vE("ImageB"),vE("ImageC"),vE("ImageI")],t.Resources=new gE({Font:new gE(this._fontResources),ExtGState:new gE(this._gsResources),XObject:new gE(this._xResources),Pattern:new gE(this._patResources),Shading:new gE(this._shResources)}),t.Annots=this._annotations}),{_out:function(){this._content.data.apply(null,arguments)},transform:function(e,t,n,i,r,o){TE(arguments)||(this._matrix=SE(arguments,this._matrix),this._out(e," ",t," ",n," ",i," ",r," ",o," cm"),this._out(KI))},translate:function(e,t){this.transform(1,0,0,1,e,t)},scale:function(e,t){this.transform(e,0,0,t,0,0)},rotate:function(e){var t=Math.cos(e),n=Math.sin(e);this.transform(t,n,-n,t,0,0)},beginText:function(){this._textMode=!0,this._out("BT",KI)},endText:function(){this._textMode=!1,this._out("ET",KI)},_requireTextMode:function(){if(!this._textMode)throw new Error("Text mode required; call page.beginText() first")},_requireFont:function(){if(!this._font)throw new Error("No font selected; call page.setFont() first")},setFont:function(e,t){this._requireTextMode(),null==e?e=this._font:e instanceof yE||(e=this._pdf.getFont(e)),null==t&&(t=this._fontSize),this._fontResources[e._resourceName]=e,this._font=e,this._fontSize=t,this._out(e._resourceName," ",t," Tf",KI)},setTextLeading:function(e){this._requireTextMode(),this._out(e," TL",KI)},setTextRenderingMode:function(e){this._requireTextMode(),this._out(e," Tr",KI)},showText:function(e,t){if(this._requireFont(),e.length>1&&t&&this._font instanceof yE){var n=this._font.getTextWidth(this._fontSize,e);this._out(t/n*100," Tz ")}this._out(this._font.encodeText(e)," Tj",KI)},showTextNL:function(e){this._requireFont(),this._out(this._font.encodeText(e)," '",KI)},addLink:function(e,t){var n=this._toPage({x:t.left,y:t.bottom}),i=this._toPage({x:t.right,y:t.top});this._annotations.push(new gE({Type:vE("Annot"),Subtype:vE("Link"),Rect:[n.x,n.y,i.x,i.y],Border:[0,0,0],A:new gE({Type:vE("Action"),S:vE("URI"),URI:new hE(e)})}))},setStrokeColor:function(e,t,n){this._out(e," ",t," ",n," RG",KI)},setOpacity:function(e){this.setFillOpacity(e),this.setStrokeOpacity(e),this._opacity*=e},setStrokeOpacity:function(e){if(e<1){var t=this._pdf.getOpacityGS(this._opacity*e,!0);this._gsResources[t._resourceName]=t,this._out(t._resourceName," gs",KI)}},setFillColor:function(e,t,n){this._out(e," ",t," ",n," rg",KI)},setFillOpacity:function(e){if(e<1){var t=this._pdf.getOpacityGS(this._opacity*e,!1);this._gsResources[t._resourceName]=t,this._out(t._resourceName," gs",KI)}},gradient:function(e,t){this.save(),this.rect(t.left,t.top,t.width,t.height),this.clip(),e.userSpace||this.transform(t.width,0,0,t.height,t.left,t.top);var n,i=function(e,t,n){var i="radial"==t.type,r=function(e,t){var n,i,r,o,s=!1,a=[],l=[],u=[],c=[];for(n=1;n<t.length;++n)l.push(_E(e,(r=t[n-1].color).r,r.g,r.b,(o=(i=t[n]).color).r,o.g,o.b)),(r.a<1||o.a<1)&&(s=!0),u.push(i.offset),c.push(0,1);if(s)for(n=1;n<t.length;++n)a.push(CE(e,(r=t[n-1].color).a,(o=(i=t[n]).color).a));return u.pop(),{hasAlpha:s,colors:h(l),opacities:s?h(a):null};function h(e){return 1==e.length?e[0]:{FunctionType:3,Functions:e,Domain:[0,1],Bounds:u,Encode:c}}}(e,t.stops),o=i?[t.start.x,t.start.y,t.start.r,t.end.x,t.end.y,t.end.r]:[t.start.x,t.start.y,t.end.x,t.end.y],s=function(e,t,n,i,r,o){var s,a;if(!o){var l=[t].concat(i);n.forEach((function(e){l.push(e.offset,e.color.r,e.color.g,e.color.b)})),a=bE(l),s=e.GRAD_COL[a]}return s||(s=new gE({Type:vE("Shading"),ShadingType:t?3:2,ColorSpace:vE("DeviceRGB"),Coords:i,Domain:[0,1],Function:r,Extend:[!0,!0]}),e.attach(s),s._resourceName="S"+ ++YI,a&&(e.GRAD_COL[a]=s)),s}(e,i,t.stops,o,r.colors,t.userSpace&&n),a=r.hasAlpha?function(e,t,n,i,r,o){var s,a;if(!o){var l=[t].concat(i);n.forEach((function(e){l.push(e.offset,e.color.a)})),a=bE(l),s=e.GRAD_OPC[a]}return s||(s=new gE({Type:vE("ExtGState"),AIS:!1,CA:1,ca:1,SMask:{Type:vE("Mask"),S:vE("Luminosity"),G:e.attach(new mE("/a0 gs /s0 sh",{Type:vE("XObject"),Subtype:vE("Form"),FormType:1,BBox:o?[o.left,o.top+o.height,o.left+o.width,o.top]:[0,1,1,0],Group:{Type:vE("Group"),S:vE("Transparency"),CS:vE("DeviceGray"),I:!0},Resources:{ExtGState:{a0:{CA:1,ca:1}},Shading:{s0:{ColorSpace:vE("DeviceGray"),Coords:i,Domain:[0,1],ShadingType:t?3:2,Function:r,Extend:[!0,!0]}}}}))}}),e.attach(s),s._resourceName="O"+ ++YI,a&&(e.GRAD_OPC[a]=s)),s}(e,i,t.stops,o,r.opacities,t.userSpace&&n):null;return{hasAlpha:r.hasAlpha,shading:s,opacity:a}}(this._pdf,e,t),r=i.shading._resourceName;this._shResources[r]=i.shading,i.hasAlpha&&(this._gsResources[n=i.opacity._resourceName]=i.opacity,this._out("/"+n+" gs ")),this._out("/"+r+" sh",KI),this.restore()},setDashPattern:function(e,t){this._out(e," ",t," d",KI)},setLineWidth:function(e){this._out(e," w",KI)},setLineCap:function(e){this._out(e," J",KI)},setLineJoin:function(e){this._out(e," j",KI)},setMitterLimit:function(e){this._out(e," M",KI)},save:function(){this._contextStack.push(this._context()),this._out("q",KI)},restore:function(){this._out("Q",KI),this._context(this._contextStack.pop())},moveTo:function(e,t){this._out(e," ",t," m",KI)},lineTo:function(e,t){this._out(e," ",t," l",KI)},bezier:function(e,t,n,i,r,o){this._out(e," ",t," ",n," ",i," ",r," ",o," c",KI)},bezier1:function(e,t,n,i){this._out(e," ",t," ",n," ",i," y",KI)},bezier2:function(e,t,n,i){this._out(e," ",t," ",n," ",i," v",KI)},close:function(){this._out("h",KI)},rect:function(e,t,n,i){this._out(e," ",t," ",n," ",i," re",KI)},ellipse:function(e,t,n,i){function r(t){return e+t}function o(e){return t+e}var s=.5522847498307936;this.moveTo(r(0),o(i)),this.bezier(r(n*s),o(i),r(n),o(i*s),r(n),o(0)),this.bezier(r(n),o(-i*s),r(n*s),o(-i),r(0),o(-i)),this.bezier(r(-n*s),o(-i),r(-n),o(-i*s),r(-n),o(0)),this.bezier(r(-n),o(i*s),r(-n*s),o(i),r(0),o(i))},circle:function(e,t,n){this.ellipse(e,t,n,n)},stroke:function(){this._out("S",KI)},nop:function(){this._out("n",KI)},clip:function(){this._out("W n",KI)},clipStroke:function(){this._out("W S",KI)},closeStroke:function(){this._out("s",KI)},fill:function(){this._out("f",KI)},fillStroke:function(){this._out("B",KI)},drawImage:function(e){var t=this._pdf.getImage(e);t&&(this._xResources[t._resourceName]=t,this._out(t._resourceName," Do",KI))},comment:function(e){var t=this;e.split(/\r?\n/g).forEach((function(e){t._out("% ",e,KI)}))},_context:function(e){if(null==e)return{opacity:this._opacity,matrix:this._matrix};this._opacity=e.opacity,this._matrix=e.matrix},_toPage:function(e){var t=this._matrix;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}},gE);var wE={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};function xE(e,t){e=e.toLowerCase(),wE[e]=function(){return wE[t]},wE[e+"|bold"]=function(){return wE[t+"|bold"]},wE[e+"|italic"]=function(){return wE[t+"|italic"]},wE[e+"|bold|italic"]=function(){return wE[t+"|bold|italic"]}}function SE(e,t){var n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=t[0],u=t[1],c=t[2],h=t[3];return[n*l+i*c,n*u+i*h,r*l+o*c,r*u+o*h,s*l+a*c+t[4],s*u+a*h+t[5]]}function TE(e){return 1===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&0===e[4]&&0===e[5]}xE("Times New Roman","serif"),xE("Courier New","monospace"),xE("Arial","sans-serif"),xE("Helvetica","sans-serif"),xE("Verdana","sans-serif"),xE("Tahoma","sans-serif"),xE("Georgia","sans-serif"),xE("Monaco","monospace"),xE("Andale Mono","monospace");var OE=Qw.browser||{};function IE(e){return Array.prototype.slice.call(e)}var EE={},AE=function(){var e={};return e._root=e,e}(),RE=!("undefined"==typeof window)&&(OE.msie||OE.edge),PE=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n.getOrigin(),i)))._pdfRect=n,r}return _inherits(t,e),_createClass(t,[{key:"rect",value:function(){return this._pdfRect}},{key:"rawBBox",value:function(){return this._pdfRect}}]),t}(wT);function DE(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}var FE,ME="undefined"!=typeof Element&&Element.prototype&&((FE=Element.prototype).matches?function(e,t){return e.matches(t)}:FE.webkitMatchesSelector?function(e,t){return e.webkitMatchesSelector(t)}:FE.mozMatchesSelector?function(e,t){return e.mozMatchesSelector(t)}:FE.msMatchesSelector?function(e,t){return e.msMatchesSelector(t)}:function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),this)});function zE(e,t){if(e.closest)return e.closest(t);for(;e&&!/^\[object (?:HTML)?Document\]$/.test(String(e));){if(1==e.nodeType&&ME(e,t))return e;e=e.parentNode}}var LE,VE=(LE="undefined"!=typeof window&&window.kendo&&window.kendo.jQuery)?function e(t){var n=t.cloneNode(!1);if(1==t.nodeType){var i,r=LE(t),o=LE(n),s=r.data();for(i in s)o.data(i,s[i]);for(/^canvas$/i.test(t.tagName)?n.getContext("2d").drawImage(t,0,0):/^(?:input|select|textarea|option)$/i.test(t.tagName)&&(n.removeAttribute("id"),n.removeAttribute("name"),n.value=t.value,n.checked=t.checked,n.selected=t.selected),i=t.firstChild;i;i=i.nextSibling)n.appendChild(e(i))}return n}:function(e){var t=function e(t){var n=t.cloneNode(!1);t._kendoExportVisual&&(n._kendoExportVisual=t._kendoExportVisual);for(var i=t.firstChild;i;i=i.nextSibling)n.appendChild(e(i));return n}(e),n=e.querySelectorAll("canvas");n.length&&IE(t.querySelectorAll("canvas")).forEach((function(e,t){e.getContext("2d").drawImage(n[t],0,0)}));var i=e.querySelectorAll("input, select, textarea, option");return IE(t.querySelectorAll("input, select, textarea, option")).forEach((function(e,t){e.removeAttribute("id"),e.removeAttribute("name"),e.value=i[t].value,e.checked=i[t].checked,e.selected=i[t].selected})),t};function NE(e,t){t||(t={});var n=mx();if(!e)return n.reject("No element to export");if("function"!=typeof window.getComputedStyle)throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.");!function e(t,n){if(1==arguments.length)for(var i in t)eE(t,i)&&e(i,t[i]);else switch(t=t.toLowerCase(),wE[t]=n,t){case"dejavu sans":wE["sans-serif"]=n;break;case"dejavu sans|bold":wE["sans-serif|bold"]=n;break;case"dejavu sans|italic":wE["sans-serif|italic"]=n;break;case"dejavu sans|bold|italic":wE["sans-serif|bold|italic"]=n;break;case"dejavu serif":wE.serif=n;break;case"dejavu serif|bold":wE["serif|bold"]=n;break;case"dejavu serif|italic":wE["serif|italic"]=n;break;case"dejavu serif|bold|italic":wE["serif|bold|italic"]=n;break;case"dejavu mono":wE.monospace=n;break;case"dejavu mono|bold":wE["monospace|bold"]=n;break;case"dejavu mono|italic":wE["monospace|italic"]=n;break;case"dejavu mono|bold|italic":wE["monospace|bold|italic"]=n}}(WE(e.ownerDocument));var i,r="number"==typeof(i=t.scale||1)?{x:i,y:i}:Array.isArray(i)?{x:i[0],y:i[1]}:{x:i.x,y:i.y};function o(e){var n,i,o=new IT,s=e.getBoundingClientRect();return hA(o,[r.x,0,0,r.y,-s.left*r.x,-s.top*r.y]),AE._clipbox=!1,AE._matrix=aS.unit(),AE._stackingContext={element:e,group:o},AE._avoidLinks=!0===t.avoidLinks?"a":t.avoidLinks,i="k-pdf-export",(n=e).classList?n.classList.add(i):n.className+=" "+i,SA(e,o),function(e,t){e.classList?e.classList.remove(t):e.className=e.className.split(/\s+/).reduce((function(e,n){return n!=t&&e.push(n),e}),[]).join(" ")}(e,"k-pdf-export"),o}return QE(e,(function(){var i=t&&t.forcePageBreak,s=t&&t.paperSize&&"auto"!=t.paperSize,a=function(e){if("function"!=typeof e){var t=e;e=function(e,n){return e in t?t[e]:n}}var n=e("paperSize",XI.a4);if(!n)return{};if("string"==typeof n&&null==(n=XI[n.toLowerCase()]))throw new Error("Unknown paper size");n[0]=lE(n[0]),n[1]=lE(n[1]),e("landscape",!1)&&(n=[Math.max(n[0],n[1]),Math.min(n[0],n[1])]);var i=e("margin");return i&&(i="string"==typeof i||"number"==typeof i?{left:i=lE(i,0),top:i,right:i,bottom:i}:{left:lE(i.left,0),top:lE(i.top,0),right:lE(i.right,0),bottom:lE(i.bottom,0)},e("addMargin")&&(n[0]+=i.left+i.right,n[1]+=i.top+i.bottom)),{paperSize:n,margin:i}}((function(e,n){return"paperSize"==e?s?t[e]:"A4":e in t?t[e]:n})),l=s&&a.paperSize[0],u=s&&a.paperSize[1],c=t.margin&&a.margin,h=Boolean(c);if(i||u){c||(c={left:0,top:0,right:0,bottom:0}),l&&(l/=r.x),u&&(u/=r.y),c.left/=r.x,c.right/=r.x,c.top/=r.y,c.bottom/=r.y;var f=new IT({pdf:{multiPage:!0,paperSize:s?a.paperSize:"auto",_ignoreMargin:h}});!function(e,t,n,i,r,o,s){var a=function(e){if(null!=e)return"string"==typeof e&&(e=function(){throw new Error("String template not yet supported.  Pass a function and use your preferred template engine.")}(e.replace(/^\s+|\s+$/g,""))),"function"==typeof e?function(t){var n=e(t);if(n&&"string"==typeof n){var i=document.createElement("div");i.innerHTML=n,n=i.firstElementChild}return n}:function(){return e.cloneNode(!0)}}(s.template),l=t.ownerDocument,u=[],c=s._destructive?t:VE(t),h=l.createElement("KENDO-PDF-DOCUMENT"),f=0;function d(){("-"!=n||r)&&function e(t){if("TABLE"==t.tagName&&DE(t,{tableLayout:"fixed"}),!p(t)){var i=iA(t),o=parseFloat(rA(i,"padding-bottom")),s=parseFloat(rA(i,"border-bottom-width")),a=f;f+=o+s;for(var l=!0,u=t.firstChild;u;u=u.nextSibling)if(1==u.nodeType){if(l=!1,ME(u,n)){v(u);continue}if(!r){e(u);continue}if(!/^(?:static|relative)$/.test(rA(iA(u),"position")))continue;var c=m(u);1==c?v(u):c&&p(u)?v(u):e(u)}else 3==u.nodeType&&r&&(y(u,l),l=!1);f=a}}(c);var t=g();c.parentNode.insertBefore(t,c),t.appendChild(c),a&&u.forEach((function(e,t){var n=a({element:e,pageNum:t+1,totalPages:u.length});n&&e.appendChild(n)})),QE(u,(function(){!function(e,t){var n=0;function i(){--n<=0&&t()}e.forEach((function(e){for(var t=e.querySelectorAll("img"),r=0;r<t.length;++r){var o=t[r];o.complete||(n++,o.onload=o.onerror=i)}})),n||i()}(u,(function(){e({pages:u,container:h})}))}))}function p(e){return!!(s.keepTogether&&ME(e,s.keepTogether)&&e.offsetHeight<=r-f)||!(/^h[1-6]$/i.test(e.tagName)&&e.offsetHeight>=r-f)&&(e.getAttribute("data-kendo-chart")||/^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(e.tagName))}function v(e){if(1==e.nodeType&&e!==c&&function(e){var t=e.parentNode,n=t.firstChild;if(e===n)return!0;if(e===t.children[0]){if(7==n.nodeType||8==n.nodeType)return!0;if(3==n.nodeType)return!/\S/.test(n.data)}return!1}(e))return v(e.parentNode);var t,n,i,r,o;n=(t=zE(e,"table"))&&t.querySelector("colgroup"),s.repeatHeaders&&(i=t&&t.querySelector("thead"),(r=zE(e,".k-grid.k-widget"))&&r.querySelector(".k-auto-scrollable")&&(o=r.querySelector(".k-grid-header")));var a=g(),u=l.createRange();u.setStartBefore(c),u.setEndBefore(e),a.appendChild(u.extractContents()),c.parentNode.insertBefore(a,c),k(e.parentNode),t&&(t=zE(e,"table"),s.repeatHeaders&&i&&t.insertBefore(i.cloneNode(!0),t.firstChild),n&&t.insertBefore(n.cloneNode(!0),t.firstChild)),s.repeatHeaders&&o&&(r=zE(e,".k-grid.k-widget")).insertBefore(o.cloneNode(!0),r.firstChild)}function g(){var e=l.createElement("KENDO-PDF-PAGE");return DE(e,{display:"block",boxSizing:"content-box",width:i?i+"px":"auto",padding:o.top+"px "+o.right+"px "+o.bottom+"px "+o.left+"px",position:"relative",height:r?r+"px":"auto",overflow:r||i?"hidden":"visible",clear:"both"}),s&&s.pageClassName&&(e.className=s.pageClassName),u.push(e),e}function m(e){var t=e.getBoundingClientRect();if(0===t.width||0===t.height)return 0;var n=c.getBoundingClientRect().top,i=r-f;return t.height>i?3:t.top-n>i?1:t.bottom-n>i?2:0}function y(e,t){if(/\S/.test(e.data)){var n=e.data.length,i=l.createRange();i.selectNodeContents(e);var r=m(i);if(r){var o=e;if(1==r)v(t?e.parentNode:e);else if(function t(n,r,o){return i.setEnd(e,r),n==r||r==o?r:m(i)?t(n,n+r>>1,r):t(r,r+o>>1,o)}(0,n>>1,n),!/\S/.test(i.toString())&&t)v(e.parentNode);else{o=e.splitText(i.endOffset);var s=g();i.setStartBefore(c),s.appendChild(i.extractContents()),c.parentNode.insertBefore(s,c),k(o.parentNode)}y(o)}}}function k(e){var t=zE(e,"li");t&&(t.setAttribute("kendo-no-bullet","1"),k(t.parentNode))}IE(c.querySelectorAll("tfoot")).forEach((function(e){e.parentNode.appendChild(e)})),IE(c.querySelectorAll("ol")).forEach((function(e){IE(e.children).forEach((function(e,t){e.setAttribute("kendo-split-index",t)}))})),DE(h,{display:"block",position:"absolute",boxSizing:"content-box",left:"-10000px",top:"-10000px"}),i&&(DE(h,{width:i+"px",paddingLeft:o.left+"px",paddingRight:o.right+"px"}),DE(c,{overflow:"hidden"})),t.parentNode.insertBefore(h,t),h.appendChild(c),s.beforePageBreak?setTimeout((function(){s.beforePageBreak(h,d)}),15):setTimeout(d,15)}((function(e){if(t.progress){var i=!1,r=0;!function s(){if(r<e.pages.length){var a=o(e.pages[r]);f.append(a),t.progress({page:a,pageNum:++r,totalPages:e.pages.length,cancel:function(){i=!0}}),i?e.container.parentNode.removeChild(e.container):setTimeout(s)}else e.container.parentNode.removeChild(e.container),n.resolve(f)}()}else e.pages.forEach((function(e){f.append(o(e))})),e.container.parentNode.removeChild(e.container),n.resolve(f)}),e,i,l?l-c.left-c.right:null,u?u-c.top-c.bottom:null,c,t)}else n.resolve(o(e))})),n}NE.getFontFaces=WE,NE.drawText=function(e){var t=new IT;return AE._clipbox=!1,AE._matrix=aS.unit(),AE._stackingContext={element:e,group:t},eA(e,iA(e),t),3==e.firstChild.nodeType?xA(e,e.firstChild,t):_A(e,t),tA(),t};var BE,jE=function(){var e=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/,t=/^([-0-9.]+%)/,n=/^([-0-9.]+px)/,i=/^(left|right|top|bottom|to|center)\W/,r=/^([-0-9.]+(deg|grad|rad|turn)|0)/,o=/^(\s+)/,s=/^(\()/,a=/^(\))/,l=/^(,)/,u=/^(url)\(/,c=/^(.*?)\)/,h={},f={};function d(f){var d,p=f;if(qE(h,p))return h[p];function v(e){!function(){var e=o.exec(f);e&&(f=f.substr(e[1].length))}();var t=e.exec(f);if(t)return f=f.substr(t[1].length),t[1]}function g(){var e,i,r=hx(f,!0);if(r){var o=/^#[0-9a-f]+/i.exec(f)||/^rgba?\(.*?\)/i.exec(f)||/^..*?\b/.exec(f);return f=f.substr(o[0].length),r=r.toRGB(),(e=v(n))||(i=v(t)),{color:r,length:e,percent:i}}}return(d=v(e))?d=function(e){var n,o,u,c=[],h=!1;if(v(s)){if("0"==(n=v(r))&&(n="0deg"),n?(n=function(e){var t=parseFloat(e);return/grad$/.test(e)?Math.PI*t/200:/rad$/.test(e)?t:/turn$/.test(e)?Math.PI*t*2:/deg$/.test(e)?Math.PI*t/180:void 0}(n),v(l)):("to"==(o=v(i))?o=v(i):o&&/^-/.test(e)&&(h=!0),u=v(i),v(l)),/-moz-/.test(e)&&null==n&&null==o){var d=v(t),p=v(t);h=!0,"0%"==d?o="left":"100%"==d&&(o="right"),"0%"==p?u="top":"100%"==p&&(u="bottom"),v(l)}for(;f&&!v(a);){var m=g();if(!m)break;c.push(m),v(l)}return{type:"linear",angle:n,to:o&&u?o+" "+u:o||u||null,stops:c,reverse:h}}}(d):(d=v(u))&&(d=function(){if(v(s)){var e=v(c);return e=e.replace(/^['"]+|["']+$/g,""),v(a),{type:"url",url:e}}}()),h[p]=d||{type:"none"}}return function(e){return qE(f,e)?f[e]:f[e]=HE(e).map(d)}}(),HE=(BE={},function(e,t){t||(t=/^\s*,\s*/);var n=e+t;if(qE(BE,n))return BE[n];var i,r=[],o=0,s=0,a=0,l=!1;function u(t){return i=t.exec(e.substr(s))}function c(e){return e.replace(/^\s+|\s+$/g,"")}for(;s<e.length;)!l&&u(/^[\(\[\{]/)?(a++,s++):!l&&u(/^[\)\]\}]/)?(a--,s++):!l&&u(/^[\"\']/)?(l=i[0],s++):"'"==l&&u(/^\\\'/)?s+=2:'"'==l&&u(/^\\\"/)?s+=2:"'"==l&&u(/^\'/)?(l=!1,s++):'"'==l&&u(/^\"/)?(l=!1,s++):u(t)?(!l&&!a&&s>o&&(r.push(c(e.substring(o,s))),o=s+i[0].length),s+=i[0].length):s++;return o<s&&r.push(c(e.substring(o,s))),BE[n]=r}),GE=function(e){return function(t){var n,i=e[t];return i||((n=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(t))?i=e[t]=n[2]:(n=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(t))&&(i=e[t]=n[2])),i}}(Object.create(null)),UE=function(e){return function(t){var n=e[t];return null==n&&(n=e[t]=Jx("Mapq",{font:t}).height),n}}(Object.create(null));function WE(e){null==e&&(e=document);for(var t={},n=0;n<e.styleSheets.length;++n)i(e.styleSheets[n]);return t;function i(e){if(e){var t=null;try{t=e.cssRules}catch(n){}t&&function(e,t){for(var n=0;n<t.length;++n){var s=t[n];switch(s.type){case 3:i(s.styleSheet);break;case 5:var a=s.style,l=HE(rA(a,"font-family")),u=/^([56789]00|bold)$/i.test(rA(a,"font-weight")),c="italic"==rA(a,"font-style"),h=r(s);h.length>0&&o(e,l,u,c,h[0])}}}(e,t)}}function r(e){var t=rA(e.style,"src");if(t)return HE(t).reduce((function(e,t){var n=GE(t);return n&&e.push(n),e}),[]);var n=GE(e.cssText);return n?[n]:[]}function o(e,n,i,r,o){/^data:/i.test(o)||/^[^\/:]+:\/\//.test(o)||/^\//.test(o)||(o=String(e.href).replace(/[^\/]*$/,"")+o),n.forEach((function(e){e=e.replace(/^(['"]?)(.*?)\1$/,"$2"),i&&(e+="|bold"),r&&(e+="|italic"),t[e]=o}))}}function qE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ZE(e,t){var n=AE;for(e="_counter_"+e;n&&!qE(n,e);)n=Object.getPrototypeOf(n);n||(n=AE._root),n[e]=(n[e]||0)+(null==t?1:t)}function $E(e,t){AE[e="_counter_"+e]=null==t?0:t}function KE(e,t,n){for(var i=0;i<e.length;){var r=e[i++],o=parseFloat(e[i]);isNaN(o)?t(r,n):(t(r,o),++i)}}function YE(e){var t=rA(e,"counter-reset");t&&KE(HE(t,/^\s+/),$E,0);var n=rA(e,"counter-increment");n&&KE(HE(n,/^\s+/),ZE,1)}function XE(e,t){var n=hx(e,!0);return n&&(n=n.toRGB(),t?n=n.toCssRgba():0===n.a&&(n=null)),n}function QE(e,t){var n=[];function i(e){EE[e]||(EE[e]=!0,n.push(e))}function r(e){/^img$/i.test(e.tagName)&&i(e.src),jE(rA(iA(e),"background-image")).forEach((function(e){"url"==e.type&&i(e.url)})),e.children&&IE(e.children).forEach(r)}Array.isArray(e)?e.forEach(r):r(e);var o=n.length;function s(){--o<=0&&t()}0===o&&s(),n.forEach((function(e){var t=EE[e]=new window.Image;/^data:/i.test(e)||(t.crossOrigin="Anonymous"),t.src=e,t.complete?s():(t.onload=s,t.onerror=function(){EE[e]=null,s()})}))}function JE(e){var t="";do{t=String.fromCharCode(97+e%26)+t,e=Math.floor(e/26)}while(e>0);return t}function eA(e,t,n){(AE=Object.create(AE))[e.tagName.toLowerCase()]={element:e,style:t};var i=rA(t,"text-decoration");if(i&&"none"!=i){var r=rA(t,"color");i.split(/\s+/g).forEach((function(e){AE[e]||(AE[e]=r)}))}(function(e){function t(t){return rA(e,t)}if("none"!=t("transform")||"static"!=t("position")||"auto"!=t("z-index")||t("opacity")<1)return!0})(t)&&(AE._stackingContext={element:e,group:n})}function tA(){AE=Object.getPrototypeOf(AE)}function nA(e){if(null!=AE._clipbox){var t=e.bbox(AE._matrix);AE._clipbox=AE._clipbox?pS.intersect(AE._clipbox,t):t}}function iA(e,t){return window.getComputedStyle(e,t||null)}function rA(e,t,n){var i=e.getPropertyValue(t);return null!=i&&""!==i||(OE.webkit?i=e.getPropertyValue("-webkit-"+t):OE.mozilla?i=e.getPropertyValue("-moz-"+t):OE.opera?i=e.getPropertyValue("-o-"+t):RE&&(i=e.getPropertyValue("-ms-"+t))),arguments.length>2&&(null==i||""===i)?n:i}function oA(e,t,n,i){e.setProperty(t,n,i),OE.webkit?e.setProperty("-webkit-"+t,n,i):OE.mozilla?e.setProperty("-moz-"+t,n,i):OE.opera?e.setProperty("-o-"+t,n,i):RE&&(e.setProperty("-ms-"+t,n,i),e[t="ms"+t.replace(/(^|-)([a-z])/g,(function(e,t,n){return t+n.toUpperCase()}))]=n)}function sA(e,t){return t="border-"+t,{width:parseFloat(rA(e,t+"-width")),style:rA(e,t+"-style"),color:XE(rA(e,t+"-color"),!0)}}function aA(e,t){var n=e.style.cssText,i=t();return e.style.cssText=n,i}function lA(e,t){var n=rA(e,"border-"+t+"-radius").split(/\s+/g).map(parseFloat);return 1==n.length&&n.push(n[0]),pA({x:n[0],y:n[1]})}function uA(e,t,n){var i,r,o,s,a;return"string"==typeof t?(i=iA(n),r=parseFloat(rA(i,t.replace("*","top"))),o=parseFloat(rA(i,t.replace("*","right"))),s=parseFloat(rA(i,t.replace("*","bottom"))),a=parseFloat(rA(i,t.replace("*","left")))):"number"==typeof t&&(r=o=s=a=t),{top:e.top+r,right:e.right-o,bottom:e.bottom-s,left:e.left+a,width:e.right-e.left-o-a,height:e.bottom-e.top-s-r}}function cA(e){return 180*e/Math.PI%360}function hA(e,t){return t=new aS(t[0],t[1],t[2],t[3],t[4],t[5]),e.transform(t),t}function fA(e,t){e.clip(t)}function dA(e,t,n,i){for(var r=new LS([t,n],i).curvePoints(),o=1;o<r.length;)e.curveTo(r[o++],r[o++],r[o++])}function pA(e){return(e.x<=0||e.y<=0)&&(e.x=e.y=0),e}function vA(e,t,n,i,r){var o=Math.max(0,t.x),s=Math.max(0,t.y),a=Math.max(0,n.x),l=Math.max(0,n.y),u=Math.max(0,i.x),c=Math.max(0,i.y),h=Math.max(0,r.x),f=Math.max(0,r.y),d=Math.min(e.width/(o+a),e.height/(l+c),e.width/(u+h),e.height/(f+s));return d<1&&(o*=d,s*=d,a*=d,l*=d,u*=d,c*=d,h*=d,f*=d),{tl:{x:o,y:s},tr:{x:a,y:l},br:{x:u,y:c},bl:{x:h,y:f}}}function gA(e,t,n){var i=iA(e),r=lA(i,"top-left"),o=lA(i,"top-right"),s=lA(i,"bottom-left"),a=lA(i,"bottom-right");if("padding"==n||"content"==n){var l=sA(i,"top"),u=sA(i,"right"),c=sA(i,"bottom"),h=sA(i,"left");if(r.x-=h.width,r.y-=l.width,o.x-=u.width,o.y-=l.width,a.x-=u.width,a.y-=c.width,s.x-=h.width,s.y-=c.width,"content"==n){var f=parseFloat(rA(i,"padding-top")),d=parseFloat(rA(i,"padding-right")),p=parseFloat(rA(i,"padding-bottom")),v=parseFloat(rA(i,"padding-left"));r.x-=v,r.y-=f,o.x-=d,o.y-=f,a.x-=d,a.y-=p,s.x-=v,s.y-=p}}return"number"==typeof n&&(r.x-=n,r.y-=n,o.x-=n,o.y-=n,a.x-=n,a.y-=n,s.x-=n,s.y-=n),mA(t,r,o,a,s)}function mA(e,t,n,i,r){var o=vA(e,t,n,i,r),s=o.tl,a=o.tr,l=o.br,u=o.bl,c=new kT({fill:null,stroke:null});return c.moveTo(e.left,e.top+s.y),s.x&&dA(c,e.left+s.x,e.top+s.y,{startAngle:-180,endAngle:-90,radiusX:s.x,radiusY:s.y}),c.lineTo(e.right-a.x,e.top),a.x&&dA(c,e.right-a.x,e.top+a.y,{startAngle:-90,endAngle:0,radiusX:a.x,radiusY:a.y}),c.lineTo(e.right,e.bottom-l.y),l.x&&dA(c,e.right-l.x,e.bottom-l.y,{startAngle:0,endAngle:90,radiusX:l.x,radiusY:l.y}),c.lineTo(e.left+u.x,e.bottom),u.x&&dA(c,e.left+u.x,e.bottom-u.y,{startAngle:90,endAngle:180,radiusX:u.x,radiusY:u.y}),c.close()}function yA(e,t){var n=String(parseFloat(e));switch(t){case"decimal-leading-zero":return n.length<2&&(n="0"+n),n;case"lower-roman":return gx(e).toLowerCase();case"upper-roman":return gx(e).toUpperCase();case"lower-latin":case"lower-alpha":return JE(e-1);case"upper-latin":case"upper-alpha":return JE(e-1).toUpperCase();default:return n}}function kA(e){if(e.cssText)return e.cssText;for(var t=[],n=0;n<e.length;++n)t.push(e[n]+": "+rA(e,e[n]));return t.join(";\n")}function bA(e,t){if("KENDO-PSEUDO-ELEMENT"!=e.tagName){var n=[];if(r(":before",e.firstChild),r(":after",null),n.length>0){var i=e.className;e.className+=" kendo-pdf-hide-pseudo-elements",_A(e,t),e.className=i,n.forEach((function(t){e.removeChild(t)}))}else _A(e,t)}else _A(e,t);function r(t,i){var r=iA(e,t),o=r.content;if(YE(r),o&&"normal"!=o&&"none"!=o&&"0px"!=r.width){var s=e.ownerDocument.createElement("KENDO-PSEUDO-ELEMENT");s.style.cssText=kA(r),s.textContent=function(e,t){function n(e,t,n){return n?(n=n.replace(/^\s*(["'])(.*)\1\s*$/,"$2"),function(e){var t=[],n=AE;for(e="_counter_"+e;n;)qE(n,e)&&t.push(n[e]),n=Object.getPrototypeOf(n);return t.reverse()}(e).map((function(e){return yA(e,t)})).join(n)):yA(function(e){return AE[e="_counter_"+e]}(e)||0,t)}var i,r=HE(t,/^\s+/),o=[];return r.forEach((function(t){var r;(i=/^\s*(["'])(.*)\1\s*$/.exec(t))?o.push(i[2].replace(/\\([0-9a-f]{4})/gi,(function(e,t){return String.fromCharCode(parseInt(t,16))}))):(i=/^\s*counter\((.*?)\)\s*$/.exec(t))?(r=HE(i[1]),o.push(n(r[0],r[1]))):(i=/^\s*counters\((.*?)\)\s*$/.exec(t))?(r=HE(i[1]),o.push(n(r[0],r[2],r[1]))):(i=/^\s*attr\((.*?)\)\s*$/.exec(t))?o.push(e.getAttribute(i[1])||""):o.push(t)})),o.join("")}(e,o),e.insertBefore(s,i),n.push(s)}}}function _A(e,t){var n=iA(e),i=sA(n,"top"),r=sA(n,"right"),o=sA(n,"bottom"),s=sA(n,"left"),a=lA(n,"top-left"),l=lA(n,"top-right"),u=lA(n,"bottom-left"),c=lA(n,"bottom-right"),h=rA(n,"direction"),f=rA(n,"background-color");f=XE(f);var d,p,v=jE(rA(n,"background-image")),g=HE(rA(n,"background-repeat")),m=HE(rA(n,"background-position")),y=HE(rA(n,"background-origin")),k=HE(rA(n,"background-size"));RE&&"ellipsis"==(d=n.textOverflow)&&(p=e.style.textOverflow,e.style.textOverflow="clip"),OE.msie&&OE.version<10&&(m=HE(e.currentStyle.backgroundPosition));var b,_,C,w=uA(e.getBoundingClientRect(),"border-*-width",e);!function(){var e=rA(n,"clip"),i=/^\s*rect\((.*)\)\s*$/.exec(e);if(i){var r=i[1].split(/[ ,]+/g),o="auto"==r[0]?w.top:parseFloat(r[0])+w.top,s="auto"==r[1]?w.right:parseFloat(r[1])+w.left,a="auto"==r[2]?w.bottom:parseFloat(r[2])+w.top,l="auto"==r[3]?w.left:parseFloat(r[3])+w.left,u=new IT,c=(new kT).moveTo(l,o).lineTo(s,o).lineTo(s,a).lineTo(l,a).close();fA(u,c),t.append(u),t=u,nA(c)}}();var x=rA(n,"display");if("table-row"==x)for(b=[],_=0,C=e.children;_<C.length;++_)b.push(C[_].getBoundingClientRect());else 1==(b=e.getClientRects()).length&&(b=[e.getBoundingClientRect()]);for(b=function(t){if(/^td$/i.test(e.tagName)){var n=AE.table;if(n&&"collapse"==rA(n.style,"border-collapse")){var i=sA(n.style,"left").width,r=sA(n.style,"top").width;if(0===i&&0===r)return t;var o=n.element.getBoundingClientRect(),s=n.element.rows[0].cells[0].getBoundingClientRect();if(s.top==o.top||s.left==o.left)return IE(t).map((function(e){return{left:e.left+i,top:e.top+r,right:e.right+i,bottom:e.bottom+r,height:e.height,width:e.width}}))}}return t}(b),_=0;_<b.length;++_)I(b[_],0===_,_==b.length-1);if("A"==e.tagName&&e.href&&!/^#?$/.test(e.getAttribute("href"))&&(!AE._avoidLinks||!ME(e,AE._avoidLinks))){var S=document.createRange();S.selectNodeContents(e),IE(S.getClientRects()).forEach((function(n){var i=new IT;i._pdfLink={url:e.href,top:n.top,right:n.right,bottom:n.bottom,left:n.left},t.append(i)}))}return b.length>0&&"list-item"==x&&!e.getAttribute("kendo-no-bullet")&&function(){var i=rA(n,"list-style-type");if("none"!=i){var r=rA(n,"list-style-position");switch(i){case"circle":case"disc":case"square":o((function(e){e.style.fontSize="60%",e.style.lineHeight="200%",e.style.paddingRight="0.5em",e.style.fontFamily="DejaVu Serif",e.innerHTML={disc:"\u25cf",circle:"\u25ef",square:"\u25a0"}[i]}));break;case"decimal":case"decimal-leading-zero":o((function(e){s((function(t){++t,"decimal-leading-zero"==i&&t<10&&(t="0"+t),e.innerHTML=t+"."}))}));break;case"lower-roman":case"upper-roman":o((function(e){s((function(t){t=gx(t+1),"upper-roman"==i&&(t=t.toUpperCase()),e.innerHTML=t+"."}))}));break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":o((function(e){s((function(t){t=JE(t),/^upper/i.test(i)&&(t=t.toUpperCase()),e.innerHTML=t+"."}))}))}}function o(n){aA(e,(function(){e.style.position="relative";var i=e.ownerDocument.createElement("KENDO-PSEUDO-ELEMENT");i.style.position="absolute",i.style.boxSizing="border-box","outside"==r?(i.style.width="6em",i.style.left="-6.8em",i.style.textAlign="right"):i.style.left="0px",n(i),e.insertBefore(i,e.firstChild),SA(i,t),e.removeChild(i)}))}function s(t){var n=e.parentNode.children,i=e.getAttribute("kendo-split-index");if(null!=i)return t(0|i,n.length);for(var r=0;r<n.length;++r)if(n[r]===e)return t(r,n.length)}}(),function(){function i(){var n=gA(e,w,"padding"),i=new IT;fA(i,n),t.append(i),t=i,nA(n)}!function(e){return/^(?:textarea|select|input)$/i.test(e.tagName)}(e)?/^(hidden|auto|scroll)/.test(rA(n,"overflow"))?i():/^(hidden|auto|scroll)/.test(rA(n,"overflow-x"))?i():/^(hidden|auto|scroll)/.test(rA(n,"overflow-y"))&&i():i()}(),function(e,t){var n;if(e._kendoExportVisual)n=e._kendoExportVisual();else if(window.kendo&&window.kendo.jQuery&&e.getAttribute(window.kendo.attr("role"))){var i=window.kendo.widgetInstance(window.kendo.jQuery(e));i&&(i.exportDOMVisual||i.exportVisual)&&(n=i.exportDOMVisual?i.exportDOMVisual():i.exportVisual())}if(!n)return!1;var r=new IT;r.children.push(n);var o=e.getBoundingClientRect();return r.transform(mS().translate(o.left,o.top)),t.append(r),!0}(e,t)||function e(t,n){switch(AE._stackingContext.element===t&&(AE._stackingContext.group=n),t.tagName.toLowerCase()){case"img":CA(t,t.src,n);break;case"canvas":try{CA(t,t.toDataURL("image/png"),n)}catch(u){}break;case"textarea":case"input":case"select":!function(t,n){var i=t.tagName.toLowerCase();if("input"==i&&("checkbox"==t.type||"radio"==t.type))return function(e,t){var n=rA(iA(e),"color"),i=e.getBoundingClientRect();"checkbox"==e.type?(t.append(kT.fromRect(new pS([i.left+1,i.top+1],[i.width-2,i.height-2])).stroke(n,1)),e.checked&&t.append((new kT).stroke(n,1.2).moveTo(i.left+.22*i.width,i.top+.55*i.height).lineTo(i.left+.45*i.width,i.top+.75*i.height).lineTo(i.left+.78*i.width,i.top+.22*i.width))):(t.append(new AS(new wS([(i.left+i.right)/2,(i.top+i.bottom)/2],Math.min(i.width-2,i.height-2)/2)).stroke(n,1)),e.checked&&t.append(new AS(new wS([(i.left+i.right)/2,(i.top+i.bottom)/2],Math.min(i.width-8,i.height-8)/2)).fill(n).stroke(null)))}(t,n);var r,o=t.parentNode,s=t.ownerDocument,a=s.createElement("KENDO-PSEUDO-ELEMENT");if(a.style.cssText=kA(iA(t)),"input"==i&&(a.style.whiteSpace="pre"),"select"!=i&&"textarea"!=i||(a.style.overflow="auto"),"select"==i)if(t.multiple)for(var l=0;l<t.options.length;++l)(r=s.createElement("KENDO-PSEUDO-ELEMENT")).style.cssText=kA(iA(t.options[l])),r.style.display="block",r.textContent=t.options[l].textContent,a.appendChild(r);else(r=function(e){return e.selectedOptions&&e.selectedOptions.length>0?e.selectedOptions[0]:e.options[e.selectedIndex]}(t))&&(a.textContent=r.textContent);else a.textContent=t.value;o.insertBefore(a,t),a.scrollLeft=t.scrollLeft,a.scrollTop=t.scrollTop,t.style.display="none",e(a,n),t.style.display="",o.removeChild(a)}(t,n);break;default:for(var i=[],r=[],o=[],s=t.firstChild;s;s=s.nextSibling)switch(s.nodeType){case 3:/\S/.test(s.data)&&xA(t,s,n);break;case 1:var a=iA(s),l=rA(a,"float");"static"!=rA(a,"position")?o.push(s):"none"!=l?r.push(s):i.push(s)}Dx(i,wA).forEach((function(e){SA(e,n)})),Dx(r,wA).forEach((function(e){SA(e,n)})),Dx(o,wA).forEach((function(e){SA(e,n)}))}}(e,t),RE&&"ellipsis"==d&&(e.style.textOverflow=p),t;function T(e,n,i,r,o,s,a,l){if(!(i<=0)){var u,c=new IT;hA(c,l),t.append(c),pA(s),pA(a),u=new kT({fill:{color:e},stroke:null}),c.append(u),u.moveTo(s.x?Math.max(s.x,r):0,0).lineTo(n-(a.x?Math.max(a.x,o):0),0).lineTo(n-Math.max(a.x,o),i).lineTo(Math.max(s.x,r),i).close(),s.x&&h(r,s,[-1,0,0,1,s.x,0]),a.x&&h(o,a,[1,0,0,1,n-a.x,0])}function h(t,n,r){var o=Math.PI/2*t/(t+i),s={x:n.x-t,y:n.y-i},a=new kT({fill:{color:e},stroke:null}).moveTo(0,0);hA(a,r),dA(a,0,n.y,{startAngle:-90,endAngle:-cA(o),radiusX:n.x,radiusY:n.y}),s.x>0&&s.y>0?(a.lineTo(s.x*Math.cos(o),n.y-s.y*Math.sin(o)),dA(a,0,n.y,{startAngle:-cA(o),endAngle:-90,radiusX:s.x,radiusY:s.y,anticlockwise:!0})):s.x>0?a.lineTo(s.x,i).lineTo(0,i):a.lineTo(s.x,i).lineTo(s.x,0),c.append(a.close())}}function O(t,n,i,r,o,s,a){var l;if(i&&"none"!=i)if("url"==i.type){if(/^url\(\"data:image\/svg/i.test(i.url))return;var u=EE[i.url];u&&u.width>0&&u.height>0&&c(t,n,u.width,u.height,(function(e,t){e.append(new ST(i.url,t))}))}else{if("linear"!=i.type)return;c(t,n,n.width,n.height,(l=i,function(e,t){var n=t.width(),i=t.height();switch(l.type){case"linear":var r=null!=l.angle?l.angle:Math.PI;switch(l.to){case"top":r=0;break;case"left":r=-Math.PI/2;break;case"bottom":r=Math.PI;break;case"right":r=Math.PI/2;break;case"top left":case"left top":r=-Math.atan2(i,n);break;case"top right":case"right top":r=Math.atan2(i,n);break;case"bottom left":case"left bottom":r=Math.PI+Math.atan2(i,n);break;case"bottom right":case"right bottom":r=Math.PI-Math.atan2(i,n)}l.reverse&&(r-=Math.PI),(r%=2*Math.PI)<0&&(r+=2*Math.PI);var o=Math.abs(n*Math.sin(r))+Math.abs(i*Math.cos(r)),s=Math.atan(n*Math.tan(r)/i),a=Math.sin(s),u=Math.cos(s),c=Math.abs(a)+Math.abs(u),h=c/2*a,f=c/2*u;r>Math.PI/2&&r<=3*Math.PI/2&&(h=-h,f=-f);var d=[],p=0,v=l.stops.map((function(e,t){var n=e.percent;n?n=parseFloat(n)/100:e.length?n=parseFloat(e.length)/o:0===t?n=0:t==l.stops.length-1&&(n=1);var i={color:e.color.toCssRgba(),offset:n};return null!=n?(p=n,d.forEach((function(e,t){e.stop.offset=e.left+(p-e.left)*(t+1)/(d.length+1)})),d=[]):d.push({left:p,stop:i}),i})),g=[.5-h,.5+f],m=[.5+h,.5-f];e.append(kT.fromRect(t).stroke(null).fill(new nO({start:g,end:m,stops:v,userSpace:!1})));break;case"radial":window.console&&window.console.log&&window.console.log("Radial gradients are not yet supported in HTML renderer")}}))}function c(t,n,i,l,u){var c,h=i/l,f=n;if("content-box"==s?(f=uA(f,"border-*-width",e),f=uA(f,"padding-*",e)):"padding-box"==s&&(f=uA(f,"border-*-width",e)),!/^\s*auto(\s+auto)?\s*$/.test(a))if("contain"==a)c=Math.min(f.width/i,f.height/l),i*=c,l*=c;else if("cover"==a)c=Math.max(f.width/i,f.height/l),i*=c,l*=c;else{var d=a.split(/\s+/g);i=/%$/.test(d[0])?f.width*parseFloat(d[0])/100:parseFloat(d[0]),l=1==d.length||"auto"==d[1]?i/h:/%$/.test(d[1])?f.height*parseFloat(d[1])/100:parseFloat(d[1])}var p=String(o);switch(p){case"bottom":p="50% 100%";break;case"top":p="50% 0";break;case"left":p="0 50%";break;case"right":p="100% 50%";break;case"center":p="50% 50%"}1==(p=p.split(/\s+/)).length&&(p[1]="50%"),p[0]=/%$/.test(p[0])?parseFloat(p[0])/100*(f.width-i):parseFloat(p[0]),p[1]=/%$/.test(p[1])?parseFloat(p[1])/100*(f.height-l):parseFloat(p[1]);var v=new pS([f.left+p[0],f.top+p[1]],[i,l]);function g(){for(;v.origin.x>n.left;)v.origin.x-=i}function m(){for(;v.origin.y>n.top;)v.origin.y-=l}function y(){for(;v.origin.x<n.right;)u(t,v.clone()),v.origin.x+=i}if("no-repeat"==r)u(t,v);else if("repeat-x"==r)g(),y();else if("repeat-y"==r)for(m();v.origin.y<n.bottom;)u(t,v.clone()),v.origin.y+=l;else if("repeat"==r){g(),m();for(var k=v.origin.clone();v.origin.y<n.bottom;)v.origin.x=k.x,y(),v.origin.y+=l}}}function I(n,d,p){if(0!==n.width&&0!==n.height){!function(e){var n=new IT;if(fA(n,mA(e,a,l,c,u)),t.append(n),f){var i=new kT({fill:{color:f.toCssRgba()},stroke:null});i.moveTo(e.left,e.top).lineTo(e.right,e.top).lineTo(e.right,e.bottom).lineTo(e.left,e.bottom).close(),n.append(i)}for(var r=v.length;--r>=0;)O(n,e,v[r],g[r%g.length],m[r%m.length],y[r%y.length],k[r%k.length])}(n);var b=s.width>0&&(d&&"ltr"==h||p&&"rtl"==h),_=r.width>0&&(p&&"ltr"==h||d&&"rtl"==h);if(0!==i.width||0!==s.width||0!==r.width||0!==o.width){if(i.color==r.color&&i.color==o.color&&i.color==s.color&&i.width==r.width&&i.width==o.width&&i.width==s.width&&b&&_){n=uA(n,i.width/2);var C=gA(e,n,i.width/2);return C.options.stroke={color:i.color,width:i.width},void t.append(C)}if(0===a.x&&0===l.x&&0===c.x&&0===u.x&&i.width<2&&s.width<2&&r.width<2&&o.width<2)return i.width>0&&t.append(new kT({stroke:{width:i.width,color:i.color}}).moveTo(n.left,n.top+i.width/2).lineTo(n.right,n.top+i.width/2)),o.width>0&&t.append(new kT({stroke:{width:o.width,color:o.color}}).moveTo(n.left,n.bottom-o.width/2).lineTo(n.right,n.bottom-o.width/2)),b&&t.append(new kT({stroke:{width:s.width,color:s.color}}).moveTo(n.left+s.width/2,n.top).lineTo(n.left+s.width/2,n.bottom)),void(_&&t.append(new kT({stroke:{width:r.width,color:r.color}}).moveTo(n.right-r.width/2,n.top).lineTo(n.right-r.width/2,n.bottom)));var w=vA(n,a,l,c,u),x=w.tl,S=w.tr,I=w.br,E=w.bl;T(i.color,n.width,i.width,s.width,r.width,x,S,[1,0,0,1,n.left,n.top]),T(o.color,n.width,o.width,r.width,s.width,I,E,[-1,0,0,-1,n.right,n.bottom]),T(s.color,n.height,s.width,o.width,i.width,A(E),A(x),[0,-1,1,0,n.left,n.bottom]),T(r.color,n.height,r.width,i.width,o.width,A(S),A(I),[0,1,-1,0,n.right,n.top])}}function A(e){return{x:e.y,y:e.x}}}}function CA(e,t,n){var i=function(e){var t=e.getBoundingClientRect();return t=uA(t,"border-*-width",e),uA(t,"padding-*",e)}(e),r=new pS([i.left,i.top],[i.width,i.height]),o=new ST(t,r);fA(o,gA(e,i,"content")),n.append(o)}function wA(e,t){var n=iA(e),i=iA(t),r=parseFloat(rA(n,"z-index")),o=parseFloat(rA(i,"z-index")),s=rA(n,"position"),a=rA(i,"position");return isNaN(r)&&isNaN(o)?/static|absolute/.test(s)&&/static|absolute/.test(a)?0:"static"==s?-1:"static"==a?1:0:isNaN(r)?0===o?0:o>0?-1:1:isNaN(o)?0===r?0:r>0?1:-1:parseFloat(r)-parseFloat(o)}function xA(e,t,n){if(null!=(i=AE._clipbox)&&(!i||0!==i.width()&&0!==i.height())){var i,r=iA(e);if(!(parseFloat(rA(r,"text-indent"))<-500)){var o=t.data,s=0,a=o.search(/\S\s*$/)+1;if(a){var l=rA(r,"font-size"),u=rA(r,"line-height"),c=[rA(r,"font-style"),rA(r,"font-variant"),rA(r,"font-weight"),l,rA(r,"font-family")].join(" ");if(l=parseFloat(l),u=parseFloat(u),0!==l){var h=rA(r,"color"),f=e.ownerDocument.createRange(),d="justify"==rA(r,"text-align"),p=rA(r,"column-count",1),v=rA(r,"white-space"),g=rA(r,"text-transform"),m=e.getBoundingClientRect().width/l*5;0===m&&(m=500);for(var y=null,k=AE.underline,b=AE["line-through"],_=AE.overline,C=k||b||_;!x(););return void(C&&(f.selectNode(t),IE(f.getClientRects()).forEach((function(e){function t(t,i){if(t){var r=l/12,o=new kT({stroke:{width:r,color:t}});o.moveTo(e.left,i-=r).lineTo(e.right,i),n.append(o)}}t(k,e.bottom),t(b,e.bottom-e.height/2.7),t(_,e.top)}))))}}}}function w(e){if(RE||OE.chrome){for(var t=e.getClientRects(),n={top:1/0,right:-1/0,bottom:-1/0,left:1/0},i=!1,r=0;r<t.length;++r){var o=t[r];o.width<=1||o.bottom===y||(n.left=Math.min(o.left,n.left),n.top=Math.min(o.top,n.top),n.right=Math.max(o.right,n.right),n.bottom=Math.max(o.bottom,n.bottom),i=!0)}return i?(n.width=n.right-n.left,n.height=n.bottom-n.top,n):e.getBoundingClientRect()}return e.getBoundingClientRect()}function x(){var e,i=s,r=o.substr(s).search(/\S/);if(s+=r,r<0||s>=a)return!0;f.setStart(t,s),f.setEnd(t,s+1),e=w(f);var l=!1;if((d||p>1)&&(r=o.substr(s).search(/\s/))>=0){f.setEnd(t,s+r);var k=w(f);k.bottom==e.bottom&&(e=k,l=!0,s+=r)}if(!l){if((r=function n(i,r,o){f.setEnd(t,r);var s=w(f);return s.bottom!=e.bottom&&i<r?n(i,i+r>>1,r):s.right!=e.right?(e=s,r<o?n(r,r+o>>1,o):r):r}(s,Math.min(a,s+m),a))==s)return!0;if(s=r,0===(r=f.toString().search(/\s+$/)))return!1;r>0&&(f.setEnd(t,f.startOffset+r),e=w(f))}RE&&(e=f.getClientRects()[0]);var b=f.toString();if(/^(?:pre|pre-wrap)$/i.test(v)){if(/\t/.test(b)){var _=0;for(r=i;r<f.startOffset;++r){var C=o.charCodeAt(r);9==C?_+=8-_%8:10==C||13==C?_=0:_++}for(;(r=b.search("\t"))>=0;){var x="        ".substr(0,8-(_+r)%8);b=b.substr(0,r)+x+b.substr(r+1)}}}else b=b.replace(/\s+/g," ");l||(y=e.bottom),function(e,t){if(RE&&!isNaN(u)){var i=UE(c),r=(t.top+t.bottom-i)/2;t={top:r,right:t.right,bottom:r+i,left:t.left,height:i,width:t.right-t.left}}switch(g){case"uppercase":e=e.toUpperCase();break;case"lowercase":e=e.toLowerCase();break;case"capitalize":e=e.replace(/(?:^|\s)\S/g,(function(e){return e.toUpperCase()}))}var o=new PE(e,new pS([t.left,t.top],[t.width,t.height]),{font:c,fill:{color:h}});n.append(o)}(b,e)}}function SA(e,t){var n=iA(e);if(YE(n),!/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(e.tagName)&&null!=AE._clipbox){var i=parseFloat(rA(n,"opacity")),r=rA(n,"visibility"),o=rA(n,"display");if(0!==i&&"hidden"!=r&&"none"!=o){var s,a=function(e){var t=rA(e,"transform");if("none"==t)return null;var n=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(t);if(n){var i=rA(e,"transform-origin");return{matrix:n=n[1].split(/\s*,\s*/g).map(parseFloat),origin:i=i.split(/\s+/g).map(parseFloat)}}}(n),l=rA(n,"z-index");(a||i<1)&&"auto"==l&&(l=0),s=function(e,t,n){var i;"auto"!=n?(i=AE._stackingContext.group,n=parseFloat(n)):(i=t,n=0);for(var r=i.children,o=0;o<r.length&&!(null!=r[o]._dom_zIndex&&r[o]._dom_zIndex>n);++o);var s=new IT;if(i.insert(o,s),s._dom_zIndex=n,i!==t&&AE._clipbox){var a=AE._matrix.invert(),l=AE._clipbox.transformCopy(a);fA(s,kT.fromRect(l))}return s}(0,t,l),i<1&&s.opacity(i*s.opacity()),eA(e,n,s),a?aA(e,(function(){oA(e.style,"transform","none","important"),oA(e.style,"transition","none","important"),"static"==rA(n,"position")&&oA(e.style,"position","relative","important");var t=e.getBoundingClientRect(),i=t.left+a.origin[0],r=t.top+a.origin[1],o=[1,0,0,1,-i,-r];o=TA(o,a.matrix),o=TA(o,[1,0,0,1,i,r]),o=hA(s,o),AE._matrix=AE._matrix.multiplyCopy(o),bA(e,s)})):bA(e,s),tA()}}}function TA(e,t){var n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=t[0],u=t[1],c=t[2],h=t[3];return[n*l+i*c,n*u+i*h,r*l+o*c,r*u+o*h,s*l+a*c+t[4],s*u+a*h+t[5]]}function OA(e){return"string"==typeof e}var IA,EA=/\{(\d+)}?\}/g,AA=function(){function e(t){var n=t.name,i=t.message;if(_classCallCheck(this,e),!n||!i)throw new Error("{ name: string, message: string } object is required!");this.name=n,this.message=i}return _createClass(e,[{key:"formatMessage",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=RA(t),r=this.message.replace(EA,(function(e,t){return i[parseInt(t,10)]}));return"".concat(this.name,": ").concat(r)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Error(this.formatMessage(t))}}]),e}(),RA=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},PA=(IA={NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."},Object.keys(IA).reduce((function(e,t){return e[t]=new AA({name:t,message:IA[t]}),e}),{})),DA={en:{name:"en",identity:{version:{_number:"$Revision: 12418 $",_cldrVersion:"29"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},day:{wide:"day",short:"day",narrow:"day"},weekday:{wide:"day of the week"},dayperiod:{wide:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},zone:{wide:"time zone"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function FA(e){return OA(e)?MA(e):e}function MA(e){if(DA[e])return DA[e];if(DA.supplemental.likelySubtags){var t=e.split("-"),n=t[0],i=t.slice(1),r=function(e,t){for(var n=DA.supplemental.likelySubtags,i=0;i<t.length;i++){var r=n[e+"-"+t[i]];if(r)return r}if(n[e])return n[e]}(n,i),o=r?function(e,t){var n=e.split("-"),i=n[0],r=n[1],o=n[2];return DA[e]||-1!==t.indexOf(o)&&DA[i+"-"+o]||-1!==t.indexOf(r)&&DA[i+"-"+r]||DA[i]}(r,i):null;if(o)return o}throw PA.NoLocale.error(e)}function zA(e){if(e.territory)return e.territory;var t,n=e.identity;return t=n&&n.territory?n.territory:function(e,t){var n=DA.supplemental.likelySubtags,i=e.split("-");if(n){var r=n[e]||n[i[0]];r&&(i=r.split("-"))}if(t)for(var o=i.length-1;o>=1;o--){var s=i[o];s!==t.variant&&s!==t.script||i.splice(o,1)}var a=i.length;if(a>1)return i[a-1].toUpperCase()}(e.name,n),e.territory=t,t}function LA(e,t){var n,i=t.type,r=t.nameType,o=t.standAlone,s=t.lower,a=(s?"lower-":"")+r,l=FA(e).calendar[i][o?"stand-alone":"format"],u=l[a];return!u&&s&&(u=l[a]=(n=l[r],Array.isArray(n)?function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toLowerCase());return t}(n):function(e){var t={};for(var n in e)t[n]=e[n].toLowerCase();return t}(n))),u}function VA(e){var t=e.split("-"),n=parseInt(t[0],10),i=parseInt(t[1],10)-1,r=parseInt(t[2],10);return new Date(n,i,r)}var NA=PA.NoCurrency,BA=PA.NoCurrencyDisplay,jA=PA.NoSupplementalCurrency,HA=PA.NoCurrencyRegion,GA=PA.NoValidCurrency,UA={"001":"USD",150:"EUR"};function WA(e,t,n){var i=FA(e).numbers.currencies;if(i){var r=i[t];if(r)return r;if(n)throw BA.error()}else if(n)throw NA.error()}function qA(e,t){return t.length-e.length}function ZA(e,t){var n=FA(e),i=n.numbers;if(!i.localeCurrency){var r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(UA[e])return UA[e];var n=DA.supplemental.currencyData;if(n){var i=n.region[e];if(i)return function(e){for(var t,n,i,r,o=0;o<e.length;o++){var s=e[o],a=Object.keys(s)[0],l=s[a];if("XXX"!==a&&"false"!==l._tender&&l._from)if(l._to){if(!i){var u=VA(l._from),c=VA(l._to);(!n||n.to<c||n.from<u)&&(t=a,n={from:u,to:c})}}else{var h=VA(l._from);(!r||r<h)&&(i=a,r=h)}}return i||t}(i);if(t)throw HA.error(e)}else if(t)throw jA.error()}(zA(n),t);if(!r&&t)throw GA.error(n.name);i.localeCurrency=r}return i.localeCurrency}var $A=["sun","mon","tue","wed","thu","fri","sat"],KA=PA.NoWeekData,YA=PA.NoFirstDay;function XA(e){var t=FA(e);if(!isNaN(t.firstDay))return t.firstDay;var n=DA.supplemental.weekData;if(!n)throw KA.error();var i=n.firstDay[zA(t)]||n.firstDay["001"];if(!i)throw YA.error();return t.firstDay=$A.indexOf(i),t.firstDay}var QA=PA.NoWeekData;function JA(e){return 1/e==-1/0}function eR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.currency||(t.currency=ZA(e,!0)),function(e,t){var n=t.value,i=t.currency,r=t.currencyDisplay,o=void 0===r?"symbol":r;if("code"===o)return i;var s=WA(e,i,!0);return"symbol"===o?s["symbol-alt-narrow"]||s.symbol:void 0===typeof n||1!==n?s["displayName-count-other"]:s["displayName-count-one"]}(e,t)}function tR(e,t,n,i,r){var o=r.numbers.symbols,s=e.indexOf(o.decimal),a=i.groupSize.slice(),l=a.shift(),u=-1!==s?s:n+1,c=e.substring(t,u),h=e,f=c.length;if(f>=l){for(var d=f,p=[];d>-1;){var v=c.substring(d-l,d);v&&p.push(v),d-=l;var g=a.shift();if(0===(l=void 0!==g?g:l)){(v=c.substring(0,d))&&p.push(v);break}}c=p.reverse().join(o.group),h=e.substring(0,t)+c+e.substring(u)}return h}function nR(e){return"currency"===e||"accounting"===e}function iR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t-String(e).length,r=e;if(i>0){var o=new Array(i+1).join("0");r=n?e+o:o+e}return r}function rR(e,t){var n=e,i=t||0;return n=n.toString().split("e"),n=(n=Math.round(Number(n[0]+"e"+(n[1]?Number(n[1])+i:i)))).toString().split("e"),(n=Number(n[0]+"e"+(n[1]?Number(n[1])-i:-i))).toFixed(Math.min(i,20))}var oR=/0+$/,sR=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g;function aR(e,t){var n=e.format;-1!==n.indexOf("%")&&(e.style="percent",e.symbol=t.numbers.symbols.percentSign,e.number*=100),-1!==n.indexOf("$")&&(e.style="currency",e.symbol=eR(t))}function lR(e){var t=e.format;if(t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1){var n=e.literals=[];e.format=t.replace(sR,(function(e){var t=e.charAt(0).replace("\\",""),i=e.slice(1).replace(t,"");return n.push(i),"__??__"}))}}var uR=/(\.(?:[0-9]*[1-9])?)0+$/g,cR=/\.$/,hR=/\,/g;function fR(e,t,n){return-1===e&&-1!==t?t:-1!==e&&-1===t?e:n?Math.min(e,t):Math.max(e,t)}var dR=/^(n|c|p|e|a)(\d*)$/i;function pR(e){return OA(e)?function(e){var t=dR.exec(e);if(t){var n={style:"decimal"},i=t[1].toLowerCase();return"c"===i?n.style="currency":"a"===i?n.style="accounting":"p"===i?n.style="percent":"e"===i&&(n.style="scientific"),t[2]&&(n.minimumFractionDigits=n.maximumFractionDigits=parseInt(t[2],10)),n}}(e):e}function vR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"n",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";if(null==e)return"";if(!isFinite(e))return String(e);var i=MA(n),r=pR(t);return r?function(e,t,n){var i=n.numbers.symbols,r=t.style,o=nR(r);if("scientific"===r)return(void 0!==t.minimumFractionDigits?e.toExponential(t.minimumFractionDigits):e.toExponential()).replace(".",i.decimal);var s,a=e;o&&(t.value=a,s=eR(n,t)),"percent"===r&&(a*=100,s=i.percentSign);var l=function(e){var t,n=e.minimumFractionDigits,i=e.maximumFractionDigits,r=e.style,o=nR(r);return o&&(t=function(e){var t=2,n=2,i=((DA.supplemental.currencyData||{}).fractions||{})[e];return i&&i._digits&&(n=t=parseInt(i._digits,10)),{minimumFractionDigits:t,maximumFractionDigits:n}}(e.currency)),void 0===n&&(n=o?t.minimumFractionDigits:0),void 0===i&&(i="percent"===r?Math.max(n,0):o?Math.max(n,t.maximumFractionDigits):Math.max(n,3)),{minimumFractionDigits:n,maximumFractionDigits:i}}(t),u=l.minimumFractionDigits,c=(a=rR(a,l.maximumFractionDigits))<0,h=JA(e),f=a.split("."),d=f[0],p=iR(f[1]?f[1].replace(oR,""):"",u,!0);c&&(d=d.substring(1)),t.minimumIntegerDigits&&(d=iR(d,t.minimumIntegerDigits));var v,g=!1!==t.useGrouping?tR(d,0,d.length,t,n):d;if(p&&(g+=i.decimal+p),o&&"name"===t.currencyDisplay)v=function(e,t){var n=e.numbers.currency,i=1!==t?n["unitPattern-count-other"]:n["unitPattern-count-one"];return t<0&&(i=i.replace("n","-n")),i}(n,e);else{var m=t.patterns;v=c||h?m[1]||"-"+m[0]:m[0]}return"n"!==v||c?function(e,t,n){for(var i="",r=0,o=t.length;r<o;r++){var s=t.charAt(r);i+="n"===s?e:"$"===s||"%"===s?n:s}return i}(g,v,s):g}(e,Object.assign({},i.numbers[r.style||"decimal"],r),i):function(e,t,n){var i={negative:e<0,number:Math.abs(e),negativeZero:JA(e),format:t};return function(e){var t=e.number,n=e.format;if(n=n.split(";"),(e.negative||e.negativeZero)&&n[1])n=n[1],e.hasNegativeFormat=!0;else if(0===t){var i=n[2];n=i||n[0],i&&function(e){return-1===e.indexOf("#")&&-1===e.indexOf("0")}(i)&&(e.constant=i)}else n=n[0];e.format=n}(i),i.constant?i.constant:(lR(i),aR(i,n),function(e){e.hasGroup=e.format.indexOf(",")>-1,e.hasGroup&&(e.format=e.format.replace(hR,""))}(i),function(e){var t,n,i,r=e.number,o=e.format,s=o.indexOf(".");if(-1!==s){var a=o.lastIndexOf("0")-s,l=o.lastIndexOf("#")-s,u=a>-1,c=l>-1,h=r.toString().split("e"),f=(h=(h=h[1]?rR(r,Math.abs(h[1])):h[0]).split(".")[1]||"").length,d=-1;u||c?u&&a>l?f=a:l>a&&(c&&f>l?f=l:u&&f<a&&(f=a),d=u?a:0):(e.format=o.substring(0,s)+o.substring(s+1),s=-1,f=0),f>-1&&(r=rR(r,f),d>-1&&(t=r,i=0===(n=d)?uR:new RegExp("(\\.[0-9]{".concat(n,"}[1-9]*)0+$"),"g"),r=t.replace(i,"$1").replace(cR,"")))}else r=rR(r);e.negative&&-1*r>=0&&!e.negativeZero&&(e.negative=!1),e.number=r,e.decimalIndex=s}(i),function(e){var t=e.format,n=t.indexOf("#"),i=t.indexOf("0"),r=fR(n,i,!0),o=fR(n=t.lastIndexOf("#"),i=t.lastIndexOf("0"));r===t.length&&(o=r),e.start=r,e.end=o,e.lastZeroIndex=i}(i),function(e,t){var n=e.number;return-1!==e.start&&(n=function(e,t){var n=e;if(t)for(var i=t.length,r=0;r<i;r++)n=n.replace("__??__",t[r]);return n}(n=function(e,t,n){var i=e;if("currency"===t||"percent"===t){i="";for(var r=0,o=e.length;r<o;r++){var s=e.charAt(r);i+="$"===s||"%"===s?n:s}}return i}(n=function(e,t){var n=e.start,i=e.end,r=e.negative,o=e.negativeZero,s=e.format,a=e.decimalIndex,l=e.lastZeroIndex,u=e.hasNegativeFormat,c=e.hasGroup,h=e.number,f=h.toString().split("."),d=s.length,p=f[0],v=f[1]||"",g=p.length,m="";h=s.substring(0,n),!r&&!o||u||(h+="-");for(var y=n;y<d;y++){var k=s.charAt(y);if(-1===a){if(i-y<g){h+=p;break}}else if(-1!==l&&l<y&&(m=""),a-y<=g&&a-y>-1&&(h+=p,y=a),a===y){h+=(v?t.numbers.symbols.decimal:"")+v,y+=i-a+1;continue}"0"===k?(h+=k,m=k):"#"===k&&(h+=m)}return c&&(h=tR(h,n+(r&&!u?1:0),Math.max(i,g+n),t.numbers.decimal,t)),i>=n&&(h+=s.substring(i+1)),h}(e,t),e.style,e.symbol),e.literals)),n}(i,n))}(e,t,i)}function gR(e){return"number"==typeof e}var mR=/[eE][\-+]?[0-9]+/,yR=/\u00A0/g;function kR(e,t){if(t.length>1){var n=(t[1]||"").replace("$","").split("n");if(e.indexOf(n[0])>-1&&e.indexOf(n[1])>-1)return e.replace(n[0],"").replace(n[1],"")}}var bR=/\{(\d+)}/g;function _R(e){var t=arguments;return e.replace(bR,(function(e,n){return t[parseInt(n,10)+1]}))}var CR=[2,1,5,3,4],wR=(_defineProperty(i={},(-2).toString(),8),_defineProperty(i,(-1).toString(),6),_defineProperty(i,2..toString(),6),_defineProperty(i,1..toString(),3),i),xR={numeric:1,"2-digit":2,short:3,long:4,narrow:5},SR=/[hHmsSzZoOvVxX]/,TR=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function(e){return e.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],OR={e:"c",E:"c",M:"L",Q:"q"},IR={},ER={};function AR(e){return IR[e]||(IR[e]=new RegExp(e+"+")),IR[e]}function RR(e){for(var t=[],n=e.charAt(0),i=n,r=1;r<e.length;r++){var o=e.charAt(r);o===i?n+=o:(t.push(n),n=i=o)}return t.push(n),t}function PR(e,t){var n,i,r=e.length,o=-Number.MAX_VALUE;for(var s in t){for(var a=[],l=s.replace("v","z"),u=0,c=0;c<r;c++){var h=e[c],f=(AR(h[0]).exec(l)||[])[0];if(f){if(l=l.replace(f,""),f.length!==h.length){var d=Math.max(Math.min(CR[f.length]-CR[h.length],2),-2);u-=wR[d]}}else u-=120;if(a.push(f),u<o)break}l.length&&(u-=20*RR(l).length),u>o&&(o=u,n=a,i=t[s])}i=i.replace("v","z");for(var p=0;p<r;p++){var v=n[p];if(v&&v!==e[p]){var g=n[p][0];i=i.replace(AR(g),e[p]),OR[g]&&(i=i.replace(AR(OR[g]),e[p]))}}return i}function DR(e,t){var n,i=t.calendar;if(OA(e))n=i.patterns[e]?i.patterns[e]:e;else if(e){if(e.pattern)return e.pattern;var r=e.skeleton;r||(e.datetime?n=_R(i.dateTimeFormats[e.datetime],i.timeFormats[e.datetime],i.dateFormats[e.datetime]):e.date?n=i.dateFormats[e.date]:e.time?n=i.timeFormats[e.time]:r=function(e){for(var t=[],n=0;n<TR.length;n++){var i=TR[n],r=e[i.key];if(r){var o=i.specifier||i.getSpecifier(e);t.push(o.repeat(xR[r]))}}return t.join("")}(e)),r&&(n=function(e,t){var n=t.calendar.dateTimeFormats.availableFormats;if(n[e])return n[e];if(ER[t.name]&&ER[t.name][e])return ER[t.name][e];var i,r=e.search(SR);if(r>0){var o=e.substr(0,r),s=e.substr(r);i=_R(t.calendar.dateTimeFormats.short,n[s]||PR(RR(s),n),n[o]||PR(RR(o),n))}else i=PR(RR(e),n);return function(e,t,n){ER[n]||(ER[n]={}),ER[n][e]=t}(e,i,t.name),i}(r,t))}return n||(n=i.patterns.d),n}function FR(e){var t;return e<=3?t="abbreviated":4===e?t="wide":5===e?t="narrow":6===e&&(t="short"),t}function MR(e,t,n,i,r){return LA(e,{type:t,nameType:FR(n),standAlone:i,lower:r})}function zR(e){return"function"==typeof e}function LR(e){return Boolean(e)&&zR(e.getTime)&&zR(e.getMonth)}var VR={G:"era",y:"year",q:"quarter",Q:"quarter",M:"month",L:"month",d:"day",E:"weekday",c:"weekday",e:"weekday",h:"hour",H:"hour",k:"hour",K:"hour",m:"minute",s:"second",a:"dayperiod",x:"zone",X:"zone",z:"zone",Z:"zone"},NR=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function BR(e,t,n,i){return t<=2?iR(e+1,t):MR(n,"months",t,i)[e]}function jR(e,t,n,i){var r=Math.floor(e.getMonth()/3);return t<3?r+1:MR(n,"quarters",t,i)[r]}function HR(e,t,n){var i=n.shortHours,r=n.optionalMinutes,o=n.separator,s=n.localizedName,a=n.zZeroOffset,l=e.getTimezoneOffset()/60;if(0===l&&a)return"Z";var u=l<=0?"+":"-",c=Math.abs(l).toString().split("."),h=c[1]||0,f=u+(i?c[0]:iR(c[0],2));return!h&&r||(f+=(o?":":"")+iR(h,2)),s&&(f=_R(0===l?t.calendar.gmtZeroFormat:t.calendar.gmtFormat,f)),f}function GR(e,t,n,i){var r,o;return t<3?(r=e.getDay(),o=XA(n),(r<o?7-o+r:r-o)+1):MR(n,"days",t,i)[e.getDay()]}var UR,WR=((UR={d:function(e,t){return iR(e.getDate(),t)},E:function(e,t,n){return MR(n,"days",t)[e.getDay()]},M:function(e,t,n){return BR(e.getMonth(),t,n,!1)},L:function(e,t,n){return BR(e.getMonth(),t,n,!0)},y:function(e,t){var n=e.getFullYear();return 2===t&&(n%=100),iR(n,t)},h:function(e,t){return iR(e.getHours()%12||12,t)},H:function(e,t){return iR(e.getHours(),t)},k:function(e,t){return iR(e.getHours()||24,t)},K:function(e,t){return iR(e.getHours()%12,t)},m:function(e,t){return iR(e.getMinutes(),t)},s:function(e,t){return iR(e.getSeconds(),t)},S:function(e,t){return 0!==e.getMilliseconds()?String(e.getMilliseconds()/1e3).split(".")[1].substr(0,t):iR("",t)},a:function(e,t,n){return MR(n,"dayPeriods",t)[e.getHours()<12?"am":"pm"]},z:function(e,t,n){return HR(e,n,{shortHours:t<4,optionalMinutes:t<4,separator:!0,localizedName:!0})},Z:function(e,t,n){return HR(e,n,{separator:t>3,localizedName:4===t,zZeroOffset:5===t})},x:function(e,t,n){return HR(e,n,{optionalMinutes:1===t,separator:3===t||5===t})},X:function(e,t,n){return HR(e,n,{optionalMinutes:1===t,separator:3===t||5===t,zZeroOffset:!0})},G:function(e,t,n){var i=e.getFullYear()>=0?1:0;return MR(n,"eras",t)[i]}}).e=GR,UR.c=function(e,t,n){return GR(e,t,n,!0)},UR.q=function(e,t,n){return jR(e,t,n,!0)},UR.Q=jR,UR);function qR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";if(!LR(e))return null==e?"":e;var i=MA(n);return DR(t,i).replace(NR,(function(t){var n=t.length;return t.includes("'")||t.includes('"')?t.slice(1,n-1):WR[t[0]](e,n,i)}))}function ZR(e,t,n){var i=e.getTimezoneOffset(),r=new Date(e.getTime()+6e4*(t-n)),o=r.getTimezoneOffset();return new Date(r.getTime()+6e4*(o-i))}var $R=/([+|\-]\d{1,2})(:?)(\d{2})?/,KR=/^\/Date\((.*?)\)\/$/,YR=/[+-]\d*/,XR={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},QR=/\d+/,JR=/^ */,eP=/ *$/,tP=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],nP=["G","g","F","Y","y","M","m","D","d","y","T","t"];function iP(e,t,n){return!(e>=t&&e<=n)}function rP(e,t){for(var n=t.format,i=t.idx,r=0;n[i]===e;)r++,i++;return r>0&&(i-=1),t.idx=i,r}function oP(e,t){var n=e?XR[e]||new RegExp("^\\d{1,"+e+"}"):QR,i=t.value.substr(t.valueIdx,e).match(n);return i?(i=i[0],t.valueIdx+=i.length,parseInt(i,10)):null}function sP(e,t,n){for(var i,r,o,s=0,a=e.length,l=0,u=0;s<a;s++)r=(i=e[s]).length,o=t.value.substr(t.valueIdx,r),n&&(o=o.toLowerCase()),o===i&&r>l&&(l=r,u=s);return l?(t.valueIdx+=l,u+1):null}function aP(e){var t=!1;return e.value.charAt(e.valueIdx)===e.format[e.idx]&&(e.valueIdx++,t=!0),t}function lP(e,t,n){var i=n.shortHours,r=n.noSeparator,o=n.optionalMinutes,s=n.localizedName,a=n.zLiteral;if(e.UTC=!0,a&&"Z"===e.value.charAt(e.valueIdx))return e.valueIdx++,!1;if(s&&!sP(function(e){var t=e.gmtFormat,n=e.gmtZeroFormat;if(!t)throw PA.NoGMTInfo.error();return[t.replace("{0}","").toLowerCase(),n.replace("{0}","").toLowerCase()]}(t.calendar),e,!0))return!0;var l=$R.exec(e.value.substr(e.valueIdx,6));if(!l)return!s;var u=l[1],c=l[3],h=parseInt(u,10),f=l[2],d=parseInt(c,10);return!!(isNaN(h)||!i&&3!==u.length||!o&&isNaN(d)||r&&f)||(isNaN(d)&&(d=null),!!(iP(h,-12,13)||d&&iP(d,0,59))||(e.valueIdx+=l[0].length,e.hoursOffset=h,void(e.minutesOffset=d)))}function uP(e,t,n){var i=rP(e,t),r=MR(n,"months",i,"L"===e,!0),o=i<3?oP(2,t):sP(r,t,!0);if(null===o||iP(o,1,12))return!0;t.month=o-1}function cP(e,t,n){var i=rP(e,t),r=MR(n,"days",i,"c"===e,!0),o=i<3?oP(1,t):sP(r,t,!0);if(!o&&0!==o||iP(o,1,7))return!0}var hP={d:function(e){rP("d",e);var t=oP(2,e);if(null===t||iP(t,1,31))return!0;null===e.day&&(e.day=t)},E:function(e,t){if(null===sP(MR(t,"days",rP("E",e),!1,!0),e,!0))return!0},M:function(e,t){return uP("M",e,t)},L:function(e,t){return uP("L",e,t)},y:function(e){var t=rP("y",e),n=oP(1===t?void 0:t,e);if(null===n)return!0;if(2===t){var i=(new Date).getFullYear();(n=i-i%100+n)>2029&&(n-=100)}e.year=n},h:function(e){rP("h",e);var t=oP(2,e);if(12===t&&(t=0),null===t||iP(t,0,11))return!0;e.hours=t},K:function(e){rP("K",e);var t=oP(2,e);if(null===t||iP(t,0,11))return!0;e.hours=t},a:function(e,t){var n=MR(t,"dayPeriods",rP("a",e),!1,!0),i=sP([n.pm],e,!0);if(!i&&!sP([n.am],e,!0))return!0;e.pmHour=i},H:function(e){rP("H",e);var t=oP(2,e);if(null===t||iP(t,0,23))return!0;e.hours=t},k:function(e){rP("k",e);var t=oP(2,e);if(null===t||iP(t,1,24))return!0;e.hours=24===t?0:t},m:function(e){rP("m",e);var t=oP(2,e);if(null===t||iP(t,0,59))return!0;e.minutes=t},s:function(e){rP("s",e);var t=oP(2,e);if(null===t||iP(t,0,59))return!0;e.seconds=t},S:function(e){var t=rP("S",e),n=e.value.substr(e.valueIdx,t),i=null;if(isNaN(parseInt(n,10))||(i=rR(i=parseFloat("0."+n,10),3),i*=1e3,e.valueIdx+=t),null===i||iP(i,0,999))return!0;e.milliseconds=i},z:function(e,t){var n=rP("z",e)<4,i=lP(e,t,{shortHours:n,optionalMinutes:n,localizedName:!0});if(i)return i},Z:function(e,t){var n=rP("Z",e),i=lP(e,t,{noSeparator:n<4,zLiteral:5===n,localizedName:4===n});if(i)return i},x:function(e,t){var n=rP("x",e),i=lP(e,t,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n});if(i)return i},X:function(e,t){var n=rP("X",e),i=lP(e,t,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n,zLiteral:!0});if(i)return i},G:function(e,t){var n=MR(t,"eras",rP("G",e),!1,!0);if(null===sP([n[0],n[1]],e,!0))return!0},e:function(e,t){return cP("e",e,t)},c:function(e,t){return cP("c",e,t)}};function fP(e,t){return"".concat(JR.exec(t)[0]).concat(e).concat(eP.exec(t)[0])}function dP(e,t,n){for(var i=DR(t,n).split(""),r={format:i,idx:0,value:fP(e,t),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},o=i.length,s=!1;r.idx<o;r.idx++){var a=i[r.idx];if(s)"'"===a&&(s=!1),aP(r);else if(hP[a]){if(hP[a](r,n))return null}else if("'"===a)s=!0,aP(r);else if(!aP(r))return null}return r.valueIdx<e.length?null:function(e){var t,n=e.year,i=e.month,r=e.day,o=e.hours,s=e.minutes,a=e.seconds,l=e.milliseconds,u=e.pmHour,c=e.UTC,h=e.hoursOffset,f=e.minutesOffset,d=null!==o||null!==s||a||null,p=new Date;return null===n&&null===i&&null===r&&d?(n=p.getFullYear(),i=p.getMonth(),r=p.getDate()):(null===n&&(n=p.getFullYear()),null===r&&(r=1)),u&&o<12&&(o+=12),c?(h&&(o+=-h),f&&(s+=-f*(h<0?-1:1)),t=new Date(Date.UTC(n,i,r,o,s,a,l))):function(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}(t=new Date(n,i,r,o,s,a,l),o),n<100&&t.setFullYear(n),t.getDate()!==r&&void 0===c?null:t}(r)||null}var pP={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}};function vP(e,t){var n=e[e.length-1];n&&"literal"===n.type?n.pattern+=t:e.push({type:"literal",pattern:t})}function gP(e){return"h"===e||"K"===e}var mP=/\{(\d+)(:[^\}]+)?\}/g;function yP(e,t,n){if(t){if(LR(e))return qR(e,t,n);if(gR(e))return vR(e,t,n)}return null!=e?e:""}var kP="http://www.telerik.com/kendo-angular-ui/components/internationalization/troubleshooting/",bP={NoCurrency:"Solution: ".concat(kP,"#toc-no-currency"),NoCurrencyDisplay:"Solution: ".concat(kP,"#toc-no-currency-display"),NoCurrencyRegion:"Solution: ".concat(kP,"#toc-no-currency-region"),NoDateFieldNames:"Solution: ".concat(kP,"#toc-no-date-filed-names"),NoFirstDay:"Solution: ".concat(kP,"#toc-no-first-day"),NoGMTInfo:"Solution: ".concat(kP,"#toc-no-gmt-info"),NoLocale:"Solution: ".concat(kP,"#toc-no-locale"),NoValidCurrency:"Solution: ".concat(kP,"#toc-no-valid-currency"),NoWeekData:"Solution: ".concat(kP,"#toc-no-week-data")};function _P(e){return function(){try{for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(null,n)}catch(r){throw r.message=function(e){var t=e.message,n=bP[Object.keys(bP).filter((function(e){return 0===t.indexOf(e)}))[0]];return n?"".concat(t," ").concat(n):t}(r),r}}}var CP=_P(LA),wP=_P((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=MA(t).calendar.dateFields;if(!n)throw PA.NoDateFieldNames.error();var i=n[e.type]||{};return i[e.nameType]||i.wide})),xP=_P(XA),SP=_P((function(e,t,n){return e.replace(mP,(function(e,i,r){return yP(t[parseInt(i,10)],r?r.substring(1):"",n)}))})),TP=_P(qR),OP=_P(vR),IP=_P((function(e){return FA(e).numbers.symbols})),EP=_P((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";if(!e)return null;if(LR(e))return e;var i=String(e).trim(),r=function(e){if(e&&0===e.indexOf("/D")){var t=KR.exec(e);if(t){t=t[1];var n=YR.exec(t.substring(1));return t=new Date(parseInt(t,10)),n&&(n=function(e){var t="-"===e.substr(0,1)?-1:1,n=e.substring(1);return t*(n=60*parseInt(n.substr(0,2),10)+parseInt(n.substring(2),10))}(n[0]),t=ZR(t,t.getTimezoneOffset(),0),t=ZR(t,0,-1*n)),t}}}(i);if(r)return r;for(var o=MA(n),s=t||function(e){for(var t=[],n=e.patterns,i=nP.length,r=0;r<i;r++)t.push(n[nP[r]]);return t.concat(tP)}(o.calendar),a=(s=Array.isArray(s)?s:[s]).length,l=0;l<a;l++)if(r=dP(i,s[l],o))return r;return r})),AP=_P((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e&&0!==e)return null;if(gR(e))return e;var i,r=MA(t),o=r.numbers.symbols,s=e.toString(),a=n||{};if(OA(n)&&(lR(a={format:n}),s=function(e,t){var n=t.literals,i=e;if(n)for(var r=0;r<n.length;r++)i=i.replace(n[r],"");return i}(s,a),aR(a,r)),("percent"===a.style||s.indexOf(o.percentSign)>-1)&&(s=s.replace(o.percentSign,""),i=!0),mR.test(s))return s=parseFloat(s.replace(o.decimal,".")),isNaN(s)?null:s;var l=function(e,t,n){var i,r=pR(n)||{},o=nR(r.style),s=e,a=r.currency||ZA(t,o);if(a){var l=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=WA(e,t,n);if(i){if(!i.displays){var r=[t];for(var o in i)r.push(i[o]);r.sort(qA),i.displays=r}return i.displays}}(t,a,o);if(l)for(var u=0;u<l.length;u++){var c=l[u];if(s.includes(c)){s=s.replace(c,""),o=!0;break}}if(o){var h=kR(s,t.numbers.currency.patterns)||kR(s,t.numbers.accounting.patterns);h&&(i=!0,s=h)}}return{number:s,negative:i}}(s,r,a),u=l.negative,c=l.number,h=(s=String(c).trim()).indexOf("-");if(h>0)return null;var f=h>-1;return f=void 0!==u?u:f,s=s.replace("-","").replace(yR," ").split(o.group.replace(yR," ")).join("").replace(o.decimal,"."),s=parseFloat(s),isNaN(s)?s=null:f&&(s*=-1),s&&i&&(s/=100),s})),RP=_P((function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=DR(e,MA(t)),i=[],r=NR.lastIndex=0,o=NR.exec(n);o;){var s=o[0];if(r<o.index&&vP(i,n.substring(r,o.index)),s.startsWith('"')||s.startsWith("'"))vP(i,s);else{var a=s[0],l=VR[a],u={type:l,pattern:s};"hour"===l&&(u.hour12=gP(s));var c=pP[l];if(c){var h=gR(c.minLength)?c.minLength:c.minLength[a],f=s.length;f>=h&&(u.names={type:c.type,nameType:FR(f),standAlone:c.standAlone===a})}i.push(u)}r=NR.lastIndex,o=NR.exec(n)}return r<n.length&&vP(i,n.substring(r)),i})),PP=_P(yP),DP=_P((function(e){var t=FA(e);if(t.weekendRange)return t.weekendRange;var n=DA.supplemental.weekData;if(!n)throw QA.error();var i=zA(t),r=n.weekendEnd[i]||n.weekendEnd["001"];return t.weekendRange={start:$A.indexOf(n.weekendStart[i]||n.weekendStart["001"]),end:$A.indexOf(r)},t.weekendRange})),FP=/_/g;function MP(e){return new BP(e)}var zP,LP,VP,NP=((VP=function(){function e(){_classCallCheck(this,e),this.changes=new tu}return _createClass(e,[{key:"notify",value:function(){this.changes.emit()}}]),e}()).\u0275fac=function(e){return new(e||VP)},VP.\u0275prov=xe({token:VP,factory:function(e){return e?new e:MP(ut(Du))},providedIn:"root"}),VP.ngInjectableDef=Se({factory:function(){return MP(ct(Du))},token:VP,providedIn:"root"}),VP),BP=((LP=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).localeId=e,n}return _inherits(t,e),_createClass(t,[{key:"format",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return SP(e,n,this.localeId)}},{key:"toString",value:function(e,t,n){return PP(e,t,n||this.localeId)}},{key:"formatDate",value:function(e,t,n){return TP(e,t,n||this.localeId)}},{key:"parseDate",value:function(e,t,n){return EP(e,t,n||this.localeId)}},{key:"parseNumber",value:function(e,t,n){return AP(e,n||this.localeId,t)}},{key:"formatNumber",value:function(e,t,n){return OP(e,t,n||this.localeId)}},{key:"dateFieldName",value:function(e,t){return wP(e,t||this.localeId)}},{key:"dateFormatNames",value:function(e,t){return CP(t||this.localeId,e)}},{key:"splitDateFormat",value:function(e,t){return RP(e,t||this.localeId)}},{key:"numberSymbols",value:function(e){return IP(e||this.localeId)}},{key:"firstDay",value:function(e){return xP(e||this.localeId)}},{key:"weekendRange",value:function(e){return DP(e||this.localeId)}},{key:"localeId",get:function(){return this.locale},set:function(e){var t=e.replace(FP,"-");t!==this.locale&&(this.locale=t,this.notify())}}]),t}(NP)).\u0275fac=function(e){return new(e||LP)(ut(Du))},LP.\u0275prov=xe({token:LP,factory:LP.\u0275fac}),LP),jP=((zP=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:zP}),zP.\u0275inj=Te({factory:function(e){return new(e||zP)}}),zP);$localize(_templateObject8()),$localize(_templateObject9()),$localize(_templateObject10()),$localize(_templateObject11()),$localize(_templateObject12());var HP=["numericInput"],GP=["numericWrap"],UP=["increment",$localize(_templateObject13()),"decrement",$localize(_templateObject14())],WP=function(e,t){return{mouseup:e,mouseleave:t}},qP=function(e){return{mousedown:e}};function ZP(e,t){if(1&e&&(Ls(0,"span",6),Ls(1,"span",7),Ns(2,"span",8),Vs(),Ls(3,"span",9),Ns(4,"span",10),Vs(),Vs()),2&e){var n=$s();Ms("kendoEventsOutsideAngular",Hl(11,WP,n.releaseArrow,n.releaseArrow)),wr(1),sa("k-state-active",n.arrowDirection===n.ArrowDirection.Up),Ms("kendoEventsOutsideAngular",jl(14,qP,n.increasePress))("title",n.incrementTitle),As("aria-label",n.incrementTitle),wr(2),sa("k-state-active",n.arrowDirection===n.ArrowDirection.Down),Ms("kendoEventsOutsideAngular",jl(16,qP,n.decreasePress))("title",n.decrementTitle),As("aria-label",n.decrementTitle)}}var $P=function(e,t){return{mousewheel:e,DOMMouseScroll:t}},KP=function(e,t,n,i,r,o,s){return{mousedown:e,dragenter:t,keydown:n,input:i,focus:r,blur:o,paste:s}},YP=function(e){return Math.min(e,20)},XP=function(e){return(String(e).split(".")[1]||"").length},QP=function(e,t){var n=YP(t);return parseFloat(e.toFixed(n))};function JP(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(e&&e.nativeElement)return e.nativeElement[t].apply(e.nativeElement,i)}var eD=/[eE][\-+]?([0-9]+)/,tD=function(e){return e>=0?Math.floor(e):Math.ceil(e)},nD=function(e){},iD=function(e){return!isNaN(e)&&null!==e};function rD(e,t){var n=t-String(e).length,i=e;if(n>0){var r=new Array(n+1).join("0");i=parseFloat(e+r)}return i}var oD,sD,aD,lD,uD,cD,hD,fD,dD,pD,vD,gD,mD=function(e){return e[e.Down=-1]="Down",e[e.None=0]="None",e[e.Up=1]="Up",e}({}),yD=["min","max","step","decimals"],kD={decimals:null,max:null,min:null,step:1},bD=((sD=function(){function e(t,n,i,r,o,s,a){var l=this;_classCallCheck(this,e),this.intl=t,this.renderer=n,this.localizationService=i,this.injector=r,this.ngZone=o,this.changeDetector=s,this.hostElement=a,this.focusableId="k-".concat(Sm()),this.disabled=!1,this.readonly=!1,this.title="",this.autoCorrect=!1,this.decimals=null,this.step=1,this.spinners=!0,this.rangeValidation=!0,this.tabindex=0,this.selectOnFocus=!0,this.value=null,this.valueChange=new tu,this.onFocus=new tu,this.onBlur=new tu,this.ArrowDirection=mD,this.arrowDirection=mD.None,this.inputValue="",this.minValidateFn=nD,this.maxValidateFn=nD,this._format="n2",this.isPasted=!1,this.mouseDown=!1,this.ngChange=nD,this.ngTouched=nD,this.ngValidatorChange=nD,this.increasePress=function(e){l.arrowPress(mD.Up,e)},this.decreasePress=function(e){l.arrowPress(mD.Down,e)},this.releaseArrow=function(){clearTimeout(l.spinTimeout),l.arrowDirection!==mD.None&&(l.arrowDirection=mD.None,l.changeDetector.detectChanges())},this.handlePaste=function(){l.isPasted=!0},this.handleInput=function(){var e=l.numericInput.nativeElement,t=e.selectionStart,n=e.selectionEnd,i=e.value;if(l.pressedKey===Bm.NumpadDecimal&&(i=l.replaceNumpadDotValue()),l.isPasted&&(i=l.formatInputValue(l.intl.parseNumber(i))),!l.isValid(i))return e.value=l.inputValue,void l.setSelection(t-1,n-1);var r=l.intl.parseNumber(i),o=l.restrictDecimals(r);if(l.autoCorrect){var s=l.limitInputValue(o);o=s.value,t=s.selectionStart,n=s.selectionEnd}r!==o||l.hasTrailingZeros(i)||!l.focused?(l.setInputValue(o),l.setSelection(t,n)):l.inputValue=i,l.isPasted&&(e.value=l.inputValue),l.updateValue(o),l.previousSelection=null,l.isPasted=!1},this.handleDragEnter=function(){l.focused||l.isDisabled||l.setInputValue(l.value,!0)},this.handleMouseDown=function(){l.mouseDown=!0},this.handleFocus=function(){if(!l.focused&&(l.focused=!0,!l.isDisabled)){var e=l.selectOnFocus||!l.mouseDown;l.ngZone.runOutsideAngular((function(){setTimeout((function(){e?l.selectAll():l.selectCaret()}),0)}))}l.mouseDown=!1,xm(l.onFocus)&&l.ngZone.run((function(){l.onFocus.emit()}))},this.handleBlur=function(){var e;l.focused=!1,l.inputValue!==l.elementValue&&l.handleInput(),l.setInputValue(),(xm(l.onBlur)||(e=l.control)&&(!e.touched||e.control&&"blur"===e.control.updateOn))&&l.ngZone.run((function(){l.ngTouched(),l.onBlur.emit()}))},this.handleKeyDown=function(e){if(!l.isDisabled){var t;e.keyCode===Bm.ArrowDown?t=-1:e.keyCode===Bm.ArrowUp&&(t=1),t&&l.step&&(e.preventDefault(),l.addStep(t));var n=l.numericInput.nativeElement;l.previousSelection={end:n.selectionEnd,start:n.selectionStart},l.pressedKey=e.keyCode}},this.handleWheel=function(e){if(l.focused&&!l.isDisabled){e.preventDefault();var t=function(e){var t=0;return e.wheelDelta?t=(t=e.wheelDelta/120)>0?Math.ceil(t):Math.floor(t):e.detail&&(t=Math.round(-e.detail/3)),t}(e);l.addStep(t)}},this.direction=i.rtl?"rtl":"ltr"}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscriptions=this.localizationService.changes.subscribe((function(t){var n=t.rtl;e.direction=n?"rtl":"ltr"})),this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.control=this.injector.get(Ap,null)}},{key:"ngOnChanges",value:function(e){var t,n;wm(yD,e,!1)&&this.parseOptions(yD.filter((function(t){return e[t]}))),this.verifySettings(),wm(["min","max","rangeValidation"],e,!1)&&(this.minValidateFn=this.rangeValidation?(n=this.min,function(e){return null!==e.value&&e.value<n?{minError:{minValue:n,value:e.value}}:null}):nD,this.maxValidateFn=this.rangeValidation?(t=this.max,function(e){return null!==e.value&&e.value>t?{maxError:{maxValue:t,value:e.value}}:null}):nD,this.ngValidatorChange()),wm(["autoCorrect","decimals","min"],e)&&delete this.numericRegex,wm(["value","format"],e,!1)&&(this.verifyValue(this.value),this.value=this.restrictModelValue(this.value),this.focused&&this.intl.parseNumber(this.elementValue)===this.value||this.setInputValue())}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.spinTimeout)}},{key:"validate",value:function(e){return this.minValidateFn(e)||this.maxValidateFn(e)}},{key:"registerOnValidatorChange",value:function(e){this.ngValidatorChange=e}},{key:"writeValue",value:function(e){this.verifyValue(e);var t=this.restrictModelValue(e);this.value=t,this.setInputValue()}},{key:"registerOnChange",value:function(e){this.ngChange=e}},{key:"registerOnTouched",value:function(e){this.ngTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"focus",value:function(){JP(this.numericInput,"focus")}},{key:"blur",value:function(){JP(this.numericInput,"blur")}},{key:"notifyValueChange",value:function(){this.setInputValue()}},{key:"arrowPress",value:function(e,t){t.preventDefault(),this.isDisabled||(Dw||(this.focused=!0,this.focus()),this.arrowDirection!==e&&(this.arrowDirection=e,this.changeDetector.detectChanges()),this.step?this.spin(e,500):this.setInputValue())}},{key:"updateValue",value:function(e){var t,n,i=this;(t=this.value)===(n=e)||null===t&&void 0===n||void 0===t&&null===n||this.ngZone.run((function(){i.value=e,i.ngChange(e),i.valueChange.emit(e),i.changeDetector.markForCheck()}))}},{key:"replaceNumpadDotValue",value:function(){var e=this.inputValue||"";if(this.previousSelection){var t=this.numericInput.nativeElement,n=t.selectionStart,i=t.selectionEnd,r=this.previousSelection,o=r.start,s=r.end;t.value=e=e.substring(0,o)+this.decimalSeparator+e.substring(s),this.setSelection(n,i)}return e}},{key:"isValid",value:function(e){return this.numericRegex||(this.numericRegex=(t={autoCorrect:this.autoCorrect,decimals:this.decimals,min:this.min,separator:this.decimalSeparator},i=t.autoCorrect,r=t.min,"."===(o=t.separator)&&(o="\\"+o),n=0===t.decimals?"\\d*":"(?:(?:\\d+(".concat(o,"\\d*)?)|(?:").concat(o,"\\d*))?"),new RegExp("^".concat(i&&null!==r&&r>=0?"":"-?").concat(n,"$")))),this.numericRegex.test(e);var t,n,i,r,o}},{key:"spin",value:function(e,t){var n=this;clearTimeout(this.spinTimeout),this.spinTimeout=window.setTimeout((function(){n.spin(e,50)}),t),this.addStep(e)}},{key:"addStep",value:function(e){var t,n,i,r=(t=this.value||0,n=this.step*e,i=function(e,t){return Math.max(XP(e),XP(t))}(t,n),QP(t+n,i));r=this.limitValue(r),r=this.restrictDecimals(r),this.setInputValue(r),this.updateValue(r)}},{key:"setSelection",value:function(e,t){this.focused&&JP(this.numericInput,"setSelectionRange",e,t)}},{key:"limitValue",value:function(e){var t=e;return this.isInRange(e)||(iD(this.max)&&e>this.max&&(t=this.max),iD(this.min)&&e<this.min&&(t=this.min)),t}},{key:"limitInputValue",value:function(e){var t=this.numericInput.nativeElement,n=t.selectionStart,i=t.selectionEnd,r=t.value,o=e,s=!1;if(!this.isInRange(e)){var a,l,u=r.length-String(this.inputValue).length,c=this.min,h=this.max,f=iD(h),d=iD(c),p=e;if(0===n&&this.inputValue.substr(1)===r)return{selectionEnd:i,selectionStart:n,value:null};if(f&&e>h?e>0?l=!0:a=h:d&&e<c&&(e>0?a=c:l=!0),a){var v=this.tryPadValue(e,a);v&&tD(e)!==tD(a)&&(p=v,s=!0)}else l&&this.inputValue&&n!==r.length&&(p=parseFloat(r.substr(0,n)+r.substr(n+u)));o=this.limitValue(p),s=(s||o!==p)&&this.previousSelection&&this.previousSelection.end-this.previousSelection.start+u>0}return{selectionEnd:s?String(o).length:i,selectionStart:n,value:o}}},{key:"tryPadValue",value:function(e,t){var n,i=String(Math.floor(t)).length,r=rD(e,i),o=rD(e,i+1);return this.isInRange(r)?n=r:this.isInRange(o)&&(n=o),n}},{key:"isInRange",value:function(e){return!iD(e)||(!iD(this.min)||this.min<=e)&&(!iD(this.max)||e<=this.max)}},{key:"restrictModelValue",value:function(e){var t=this.restrictDecimals(e,!0);return this.autoCorrect&&this.limitValue(t)!==t&&(t=null),t}},{key:"restrictDecimals",value:function(e,t){var n=e;if(e&&this.hasDecimals){var i=this.decimals,r=String(e);if(t||eD.test(r))n=QP(e,i);else{var o=r.split("."),s=o[1];s&&s.length>i&&(s=s.substr(0,i),n=parseFloat("".concat(o[0],".").concat(s)))}}return n}},{key:"formatInputValue",value:function(e){var t=String(e),n=eD.exec(t);return n&&(t=e.toFixed(YP(parseInt(n[1],10)))),t.replace(".",this.decimalSeparator)}},{key:"formatValue",value:function(e,t){return null!==e&&function(e){return void 0!==e}(e)&&""!==e?t&&!this.readonly?this.formatInputValue(e):this.intl.formatNumber(e,this.format):""}},{key:"setInputValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.value,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.focused,n=this.formatValue(e,t);this.elementValue=n,this.inputValue=n}},{key:"verifySettings",value:function(){if(Ci()&&null!==this.min&&null!==this.max&&this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-max.")}},{key:"verifyValue",value:function(e){if(Ci()&&e&&"number"!=typeof e)throw new Error("The NumericTextBox component requires value of type Number and ".concat(JSON.stringify(e)," was set."))}},{key:"parseOptions",value:function(e){for(var t=0;t<e.length;t++){var n=e[t],i=this[n];if("string"==typeof i){var r=parseFloat(i),o=!isNaN(r);if(Ci()&&!o&&""!==i)throw new Error("The NumericTextBox component requires value of type Number or a String representing "+"a number for the ".concat(n," property and ").concat(JSON.stringify(i)," was set."));this[n]=o?r:kD[n]}}}},{key:"intlChange",value:function(){delete this.numericRegex,!this.numericInput||this.focused&&this.isValid(this.elementValue)||this.setInputValue()}},{key:"hasTrailingZeros",value:function(e){if(this.hasDecimals&&this.focused){var t=e.split(this.decimalSeparator)[1];return t&&t.length>this.decimals&&t.lastIndexOf("0")===t.length-1}}},{key:"selectAll",value:function(){this.setInputValue(),this.setSelection(0,this.inputValue.length)}},{key:"selectCaret",value:function(){var e,t,n=this,i=this.elementValue,r=i.substring(0,this.numericInput.nativeElement.selectionStart);if(this.setInputValue(),r.length){var o=(e=r,t="".concat(n.decimalSeparator,"0123456789-"),e.split("").reduce((function(e,n){return t.includes(n)?++e:e}),0)),s=this.adjustSignificantChars(i,o);this.setSelection(s,s)}else this.setSelection(0,0)}},{key:"numberOfLeadingZeroes",value:function(e){var t=e.indexOf(this.decimalSeparator),n=e.match(/^[^1-9]*?(0+)/);if(n){var i=n[1].length;return n[0].length===t?i-1:i}return 0}},{key:"adjustSignificantChars",value:function(e,t){var n=this.numberOfLeadingZeroes(e);return n>0?Math.max(0,t-n):t}},{key:"format",get:function(){var e=this._format;return null!=e?e:"n2"},set:function(e){this._format=e}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"widgetClasses",get:function(){return!0}},{key:"incrementTitle",get:function(){return this.localizationService.get("increment")}},{key:"decrementTitle",get:function(){return this.localizationService.get("decrement")}},{key:"decimalSeparator",get:function(){return this.intl.numberSymbols().decimal}},{key:"elementValue",get:function(){return this.numericInput.nativeElement.value},set:function(e){this.renderer.setProperty(this.numericInput.nativeElement,"value",e)}},{key:"focused",get:function(){return this.isFocused},set:function(e){if(this.isFocused!==e&&this.numericWrap){var t=this.numericWrap.nativeElement,n=this.numericInput.nativeElement;e?(this.renderer.addClass(t,"k-state-focused"),this.isDisabled||this.renderer.removeClass(n,"k-formatted-value")):(this.renderer.removeClass(t,"k-state-focused"),this.renderer.addClass(n,"k-formatted-value")),this.isFocused=e}}},{key:"hasDecimals",get:function(){return null!==this.decimals&&this.decimals>=0}},{key:"isDisabled",get:function(){return this.disabled||this.readonly}}]),e}()).\u0275fac=function(e){return new(e||sD)(Ds(NP),Ds(Ya),Ds(jy),Ds(ds),Ds(qu),Ds(Xo),Ds(qa))},sD.\u0275cmp=Et({type:sD,selectors:[["kendo-numerictextbox"]],viewQuery:function(e,t){var n;1&e&&(du(HP,!0),pu(GP,!0)),2&e&&(fu(n=ku())&&(t.numericInput=n.first),fu(n=ku())&&(t.numericWrap=n.first))},hostVars:5,hostBindings:function(e,t){2&e&&(As("dir",t.direction),sa("k-widget",t.widgetClasses)("k-numerictextbox",t.widgetClasses))},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",title:"title",autoCorrect:"autoCorrect",decimals:"decimals",step:"step",spinners:"spinners",rangeValidation:"rangeValidation",tabindex:"tabindex",selectOnFocus:"selectOnFocus",value:"value",format:"format",tabIndex:"tabIndex",max:"max",min:"min",placeholder:"placeholder"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur"},exportAs:["kendoNumericTextBox"],features:[Ha([jy,{provide:By,useValue:"kendo.numerictextbox"},{provide:yp,useExisting:Ve((function(){return sD})),multi:!0},{provide:Mp,useExisting:Ve((function(){return sD})),multi:!0},{provide:Nm,useExisting:Ve((function(){return sD}))}]),Ra()],decls:7,vars:25,consts:[["kendoNumericTextBoxLocalizedMessages","",6,"increment","decrement"],[1,"k-numeric-wrap",3,"kendoEventsOutsideAngular"],["numericWrap",""],["role","spinbutton","autocomplete","off","autocorrect","off",1,"k-input","k-formatted-value",3,"id","tabindex","disabled","readonly","kendoEventsOutsideAngular"],["numericInput",""],["class","k-select",3,"kendoEventsOutsideAngular",4,"ngIf"],[1,"k-select",3,"kendoEventsOutsideAngular"],[1,"k-link","k-link-increase",3,"kendoEventsOutsideAngular","title"],[1,"k-icon","k-i-arrow-n"],[1,"k-link","k-link-decrease",3,"kendoEventsOutsideAngular","title"],[1,"k-icon","k-i-arrow-s"]],template:function(e,t){1&e&&(Bs(0,0),Ml(1,UP),js(),Ls(2,"span",1,2),Ns(4,"input",3,4),Rs(6,ZP,5,18,"span",5),Vs()),2&e&&(wr(2),sa("k-state-disabled",t.disabled),Ms("kendoEventsOutsideAngular",Hl(14,$P,t.handleWheel,t.handleWheel)),wr(2),Ms("id",t.focusableId)("tabindex",t.tabIndex)("disabled",t.disabled)("readonly",t.readonly)("kendoEventsOutsideAngular",ql(17,KP,t.handleMouseDown,t.handleDragEnter,t.handleKeyDown,t.handleInput,t.handleFocus,t.handleBlur,t.handlePaste)),As("aria-valuemin",t.min)("aria-valuemax",t.max)("aria-valuenow",t.value)("title",t.title)("placeholder",t.placeholder),wr(2),Ms("ngIf",t.spinners))},directives:function(){return[SD,Im,zc]},encapsulation:2}),sD),_D=((oD=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(Vy)).\u0275fac=function(e){return CD(e||oD)},oD.\u0275dir=Mt({type:oD,inputs:{decrement:"decrement",increment:"increment"},features:[Sa]}),oD),CD=si(_D),wD=((gD=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:gD}),gD.\u0275inj=Te({factory:function(e){return new(e||gD)},imports:[[ih,Om,Em,Vm]]}),gD),xD=((vD=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:vD}),vD.\u0275inj=Te({factory:function(e){return new(e||vD)},imports:[[ih,Em,Vm]]}),vD),SD=((pD=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).service=e,n}return _inherits(t,e),t}(_D)).\u0275fac=function(e){return new(e||pD)(Ds(jy))},pD.\u0275dir=Mt({type:pD,selectors:[["","kendoNumericTextBoxLocalizedMessages",""]],features:[Ha([{provide:_D,useExisting:Ve((function(){return pD}))}]),Sa]}),pD),TD=((dD=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:dD}),dD.\u0275inj=Te({factory:function(e){return new(e||dD)},imports:[[ih,Em]]}),dD),OD=((fD=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:fD}),fD.\u0275inj=Te({factory:function(e){return new(e||fD)},imports:[[ih,Em]]}),fD),ID=((hD=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:hD}),hD.\u0275inj=Te({factory:function(e){return new(e||hD)},imports:[[ih]]}),hD),ED=((cD=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:cD}),cD.\u0275inj=Te({factory:function(e){return new(e||cD)},imports:[[wD,TD,ih,Lk,Om]]}),cD),AD=((uD=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:uD}),uD.\u0275inj=Te({factory:function(e){return new(e||uD)},imports:[[ih]]}),uD),RD=((lD=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:lD}),lD.\u0275inj=Te({factory:function(e){return new(e||lD)},imports:[[ih]]}),lD),PD=((aD=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:aD}),aD.\u0275inj=Te({factory:function(e){return new(e||aD)},imports:[[ih],ID,wD,xD,TD,OD,ED,AD,RD]}),aD),DD=function(e){return e?new Date(e.getTime()):null},FD=function(e,t){var n=DD(e);return 0===t&&23===n.getHours()&&n.setHours(n.getHours()+2),n},MD=function(e,t){var n=DD(e);return n.setDate(n.getDate()+t),FD(n,e.getHours())},zD=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=new Date(e,t,n,i,r,o,s);return e>-1&&e<100&&a.setFullYear(a.getFullYear()-1900),FD(a,i)},LD=function(e){return zD(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0)},VD=function(e,t){return!e&&!t||e&&t&&e.getTime()===t.getTime()},ND=function(e){var t=zD(e.getFullYear(),e.getMonth()+1,1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return MD(t,-1)},BD=function e(t,n){var i=DD(t),r=(12+(i.getMonth()+n)%12)%12;return i.setMonth(i.getMonth()+n),function(t,n){return t.getMonth()!==n?ND(e(t,-1)):t}(FD(i,t.getHours()),r)},jD=function(e,t){var n=e.getMonth(),i=zD(t,n,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return i.getMonth()===n?i:ND(BD(i,-1))},HD=function(e,t){return FD(jD(e,e.getFullYear()+t),e.getHours())},GD=function(e,t){return HD(e,10*t)},UD=function(e,t){return HD(e,100*t)},WD=function(e,t){return jD(e,t(e.getFullYear()))},qD=function(e){return WD(e,(function(e){return e-e%100}))},ZD=function(e){return WD(e,(function(e){return e-e%100+90}))},$D=function(e){return WD(e,(function(e){return e-e%10}))},KD=function(e,t){return(qD(t).getFullYear()-qD(e).getFullYear())/100},YD=function(e){return WD(e,(function(e){return e-e%10+9}))},XD=function(e,t){return($D(t).getFullYear()-$D(e).getFullYear())/10},QD=function(e,t){return MD(e,7*t)},JD=function(e){return zD(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},eF=function(e){return e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward",e}({}),tF=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:eF.Forward,i=DD(e),r=(t-i.getDay()+7*n)%7;return i.setDate(i.getDate()+r),FD(i,e.getHours())},nF=function(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())},iF=function(e,t){var n=e.getDate(),i=zD(e.getFullYear(),t,n,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return i.getDate()===n?i:ND(BD(i,-1))},rF=function(e){return iF(e,0)},oF=function(e){return iF(e,11)},sF=function(e,t){return t.getFullYear()-e.getFullYear()},aF=function(e){return e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday",e}({}),lF=function(e,t){var n=zD(e.getFullYear(),0,1,-6),i=function(e,t){return t!==aF.Monday?MD(function(e,t){return tF(e,t,eF.Backward)}(e,t),4):MD(e,4-(e.getDay()||7))}(e,t).getTime()-n.getTime(),r=Math.floor(i/864e5);return 1+Math.floor(r/7)},uF=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aF.Monday,n=MD(e,-7),i=MD(e,7),r=lF(e,t);return 0===r?lF(n,t)+1:53===r&&lF(i,t)>1?1:r},cF=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).scheduler=e,i.work=n,i}return _inherits(t,e),_createClass(t,[{key:"schedule",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n>0?_get(_getPrototypeOf(t.prototype),"schedule",this).call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,n){return n>0||this.closed?_get(_getPrototypeOf(t.prototype),"execute",this).call(this,e,n):this._execute(e,n)}},{key:"requestAsyncId",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0||null===i&&this.delay>0?_get(_getPrototypeOf(t.prototype),"requestAsyncId",this).call(this,e,n,i):e.flush(this)}}]),t}(ug),hF=new(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(hg))(cF),fF=function(e){function t(e,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).scheduler=n,i.delay=r,i}return _inherits(t,e),_createClass(t,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new dF(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(Zg.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(Zg.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(Zg.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),t}(A),dF=function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n},pF=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,r=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).scheduler=r,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=n<1?1:n,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _inherits(t,e),_createClass(t,[{key:"nextInfiniteTimeWindow",value:function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),_get(_getPrototypeOf(t.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new vF(this._getNow(),e)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(t.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;if(this.closed)throw new V;if(this.isStopped||this.hasError?t=O.EMPTY:(this.observers.push(e),t=new N(this,e)),r&&e.add(e=new fF(e,r)),n)for(var s=0;s<o&&!e.closed;s++)e.next(i[s]);else for(var a=0;a<o&&!e.closed;a++)e.next(i[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||hF).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(e-i[o].time<n);)o++;return r>t&&(o=Math.max(o,r-t)),o>0&&i.splice(0,o),i}}]),t}(j),vF=function e(t,n){_classCallCheck(this,e),this.time=t,this.value=n},gF={};function mF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=null,r=null;return G(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&w(t[0])&&(t=t[0]),ae(t,r).lift(new yF(i))}var yF=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new kF(e,this.resultSelector))}}]),e}(),kF=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.values.push(gF),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var i=e[n];this.add(Y(this,i,i,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,i,r){var o=this.values,s=this.toRespond?o[n]===gF?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),t}(X),bF=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).scheduler=e,i.work=n,i}return _inherits(t,e),_createClass(t,[{key:"requestAsyncId",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?_get(_getPrototypeOf(t.prototype),"requestAsyncId",this).call(this,e,n,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))}},{key:"recycleAsyncId",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return _get(_getPrototypeOf(t.prototype),"recycleAsyncId",this).call(this,e,n,i);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)}}]),t}(ug),_F=new(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,r=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<r&&(e=n.shift()));if(this.active=!1,t){for(;++i<r&&(e=n.shift());)e.unsubscribe();throw t}}}]),t}(hg))(bF),CF=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new wF(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),wF=function(e){function t(e,n,i,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).accumulator=n,o._seed=i,o.hasSeed=r,o.index=0,o}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(i){this.destination.error(i)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),t}(A),xF=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.inclusive=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new SF(e,this.predicate,this.inclusive))}}]),e}(),SF=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).predicate=n,r.inclusive=i,r.index=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(i){return void n.error(i)}this.nextOrComplete(e,t)}},{key:"nextOrComplete",value:function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}]),t}(A),TF=function(){return"undefined"!=typeof window},OF={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},IF={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},EF={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},AF={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},RF=function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return i;return void 0!==n?n:e},PF=TF()&&window.navigator?window.navigator.userAgent:null,DF=PF?function(e){var t=null,n=[];for(var i in EF)if(EF.hasOwnProperty(i)&&(n=e.match(EF[i]))){(t={})[i]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||n[2],10);break}return t}(PF):null,FF=PF?function(e){var t,n=[];for(var i in OF)if(OF.hasOwnProperty(i)){if(!(n=e.match(OF[i])))continue;if("windows"===i&&"plugins"in window.navigator)return null;var r={};return r.device=i,r.browser=RF(e,AF,"default"),r.name=RF(i,IF),r[r.name]=!0,r.majorVersion=n[2],r.minorVersion=n[3].replace("_","."),t=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),r.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,r.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||r.cordova,r}return null}(PF):null,MF=TF()&&"ontouchstart"in window,zF=DF&&!DF.chrome&&window.MSPointerEvent,LF=DF&&!DF.chrome&&window.PointerEvent,VF=FF&&(MF||zF||LF),NF=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,BF={undefined:function(e){return e}},jF=["*"],HF=["list"];function GF(e,t){if(1&e&&ya(0),2&e){var n=$s().$implicit;ka($s().service.navigationTitle(n))}}function UF(e,t){}var WF=function(e,t,n){return{$implicit:e,activeView:t,date:n}};function qF(e,t){if(1&e&&(Ls(0,"li"),Ls(1,"span"),Rs(2,GF,1,1,"ng-template",5),Rs(3,UF,0,0,"ng-template",6),Vs(),Vs()),2&e){var n=t.$implicit,i=t.index,r=$s();As("data-date-index",i),wr(1),sa("k-calendar-navigation-marker",r.service.isRangeStart(n)),wr(1),Ms("ngIf",!r.templateRef),wr(1),Ms("ngIf",r.templateRef)("ngTemplateOutlet",r.templateRef)("ngTemplateOutletContext",Gl(7,WF,r.service.navigationTitle(n),r.activeViewValue,n))}}var ZF=function(e){return{click:e}};function $F(e,t){if(1&e&&(Ls(0,"th"),ya(1),Vs()),2&e){var n=t.$implicit;oa("width",$s(2).colWidth,"%"),wr(1),ka(n)}}function KF(e,t){if(1&e&&(Ls(0,"table",6),Ls(1,"thead"),Ls(2,"tr"),Rs(3,$F,2,3,"th",7),Vs(),Vs(),Vs()),2&e){var n=$s();wr(3),Ms("ngForOf",n.weekNames)}}function YF(e,t){1&e&&Ns(0,"col")}function XF(e,t){if(1&e){var n=Gs();Ls(0,"tbody",8),Ws("change",(function(e){return Xt(n),$s().handleDateChange(e)})),Vs()}if(2&e){var i=t.$implicit,r=$s();Ms("activeView",r.activeView)("isActive",r.isActive)("min",r.min)("max",r.max)("cellUID",r.cellUID)("focusedDate",r.focusedDate)("selectedDate",r.value)("weekNumber",r.weekNumber)("templateRef",r.cellTemplateRef)("weekNumberTemplateRef",r.weekNumberTemplateRef)("viewDate",i)}}var QF=["today",$localize(_templateObject15())];function JF(e,t){if(1&e){var n=Gs();Ls(0,"kendo-calendar-navigation",3),Ws("valueChange",(function(e){return Xt(n),$s().handleNavigation(e)}))("pageChange",(function(){return Xt(n),$s().onPageChange()})),Vs()}if(2&e){var i=$s();Ms("activeView",i.activeViewEnum)("focusedDate",i.focusedDate)("min",i.min)("max",i.max)("templateRef",null==i.navigationItemTemplate?null:i.navigationItemTemplate.templateRef)}}var eM=["dateInput"],tM=["wrap"],nM=["increment",$localize(_templateObject16()),"decrement",$localize(_templateObject17())];function iM(e,t){if(1&e){var n=Gs();Ls(0,"span",6),Ws("mousedown",(function(e){return Xt(n),e.preventDefault()})),Ls(1,"span",7),Ws("mousedown",(function(){Xt(n);var e=$s();return e.arrowDirection=e.arrow.Up}))("mouseleave",(function(){Xt(n);var e=$s();return e.arrowDirection=e.arrow.None}))("click",(function(){return Xt(n),$s().handleButtonClick(1)})),Ns(2,"span",8),Vs(),Ls(3,"span",9),Ws("click",(function(){return Xt(n),$s().handleButtonClick(-1)}))("mousedown",(function(){Xt(n);var e=$s();return e.arrowDirection=e.arrow.Down}))("mouseleave",(function(){Xt(n);var e=$s();return e.arrowDirection=e.arrow.None})),Ns(4,"span",10),Vs(),Vs()}if(2&e){var i=$s();wr(1),sa("k-state-active",i.arrowDirection===i.arrow.Up),Ms("title",i.localization.get("increment")),As("aria-label",i.localization.get("increment")),wr(2),sa("k-state-active",i.arrowDirection===i.arrow.Down),Ms("title",i.localization.get("decrement")),As("aria-label",i.localization.get("decrement"))}}var rM=function(e,t,n,i,r,o,s){return{click:e,focus:t,mousedown:n,touchstart:i,dragstart:r,drop:o,blur:s}},oM=["container"],sM=["popupTemplate"],aM=["wrapper"],lM=["today",$localize(_templateObject18()),"toggle",$localize(_templateObject19())];function uM(e,t){}var cM=function(e){return{keydown:e}};function hM(e,t){if(1&e){var n=Gs();Ls(0,"kendo-calendar",9,10),Ws("valueChange",(function(e){Xt(n);var t=$s();return t.handleChange(t.mergeTime(e))})),Ns(2,"kendo-calendar-messages",11),Vs(),Rs(3,uM,0,0,"ng-template")}if(2&e){var i=$s();Ms("min",i.min)("max",i.max)("navigation",i.navigation)("activeView",i.activeView)("bottomView",i.bottomView)("topView",i.topView)("weekNumber",i.weekNumber)("cellTemplate",i.cellTemplate)("monthCellTemplate",i.monthCellTemplate)("yearCellTemplate",i.yearCellTemplate)("decadeCellTemplate",i.decadeCellTemplate)("centuryCellTemplate",i.centuryCellTemplate)("weekNumberTemplate",i.weekNumberTemplate)("headerTitleTemplate",i.headerTitleTemplate)("navigationItemTemplate",i.navigationItemTemplate)("focusedDate",i.focusedDate)("value",i.value)("kendoEventsOutsideAngular",jl(21,cM,i.handleKeydown))("scope",i)("disabledDates",i.disabledDates),wr(2),Ms("today",i.localization.get("today"))}}var fM=function(e,t){return{click:e,mousedown:t}};function dM(e,t){1&e&&ya(0),2&e&&ka($s().title)}function pM(e,t){}$localize(_templateObject20()),$localize(_templateObject21()),$localize(_templateObject22()),$localize(_templateObject23()),$localize(_templateObject24()),$localize(_templateObject25()),$localize(_templateObject26()),$localize(_templateObject27()),$localize(_templateObject28()),$localize(_templateObject29()),$localize(_templateObject30()),$localize(_templateObject31()),$localize(_templateObject32()),$localize(_templateObject33()),$localize(_templateObject34()),$localize(_templateObject35()),$localize(_templateObject36()),$localize(_templateObject37()),$localize(_templateObject38()),$localize(_templateObject39()),$localize(_templateObject40()),$localize(_templateObject41());var vM=["kendoCalendarView",""];function gM(e,t){1&e&&(Ls(0,"td",3),ya(1,"\xa0"),Vs())}function mM(e,t){if(1&e&&(Ls(0,"tr",4),Ls(1,"th",5),ya(2),Vs(),Vs()),2&e){var n=$s();wr(1),Ms("colSpan",n.colSpan),wr(1),ka(n.title)}}function yM(e,t){if(1&e&&(Ls(0,"th"),ya(1),Vs()),2&e){var n=t.$implicit;wr(1),ka(n)}}function kM(e,t){if(1&e&&(Ls(0,"tr",4),Rs(1,yM,2,1,"th",6),Vs()),2&e){var n=$s();wr(1),Ms("ngForOf",n.weekNames)}}function bM(e,t){if(1&e&&ya(0),2&e){var n=$s(3).$implicit,i=$s();ba(" ",i.getWeekNumber(i.firstDate(n))," ")}}function _M(e,t){}var CM=function(e,t){return{$implicit:e,cellContext:t}};function wM(e,t){if(1&e&&(Ls(0,"td",10),Rs(1,bM,1,1,"ng-template",7),Rs(2,_M,0,0,"ng-template",11),Vs()),2&e){var n=$s(2).$implicit,i=$s();wr(1),Ms("ngIf",!i.weekNumberTemplateRef),wr(1),Ms("ngIf",i.weekNumberTemplateRef)("ngTemplateOutlet",i.weekNumberTemplateRef)("ngTemplateOutletContext",Hl(4,CM,i.firstDate(n),i.getWeekNumberContext(n)))}}function xM(e,t){if(1&e&&Rs(0,wM,3,7,"td",9),2&e){var n=$s().$implicit,i=$s(),r=Ps(1);Ms("ngIf",i.firstDate(n))("ngIfElse",r)}}function SM(e,t){1&e&&ya(0),2&e&&ka($s(2).$implicit.formattedValue)}function TM(e,t){}function OM(e,t){if(1&e&&Rs(0,TM,0,0,"ng-template",16),2&e){var n=$s(2).$implicit;Ms("ngTemplateOutlet",$s(2).templateRef)("ngTemplateOutletContext",Hl(2,CM,n.value,n))}}function IM(e,t){if(1&e&&(Ls(0,"td",13),Ls(1,"span",14),Rs(2,SM,1,1,"ng-template",7),Rs(3,OM,1,5,void 0,15),Vs(),Vs()),2&e){var n=$s(),i=n.$implicit,r=n.index,o=$s().index,s=$s();Ms("ngClass",s.getStyles(i))("title",i.title),As("id",i.id)("data-cell-index",s.tableCellIndex(o,r))("aria-selected",i.isSelected||i.isRangeStart||i.isRangeMid||i.isRangeEnd)("aria-disabled",i.isDisabled),wr(2),Ms("ngIf",!s.templateRef),wr(1),Ms("ngIf",s.templateRef)}}function EM(e,t){if(1&e&&(Bs(0),Rs(1,IM,4,8,"td",12),js()),2&e){var n=t.$implicit;$s(2);var i=Ps(1);wr(1),Ms("ngIf",n)("ngIfElse",i)}}function AM(e,t){if(1&e&&(Ls(0,"tr",4),Rs(1,xM,1,2,"ng-template",7),Rs(2,EM,2,2,"ng-container",8),Vs()),2&e){var n=t.$implicit,i=$s();wr(1),Ms("ngIf",i.weekNumber),wr(1),Ms("kForOf",n)}}$localize(_templateObject42()),$localize(_templateObject43()),$localize(_templateObject44()),$localize(_templateObject45()),$localize(_templateObject46()),$localize(_templateObject47());var RM,PM,DM,FM,MM,zM,LM,VM,NM=((RM={})[RM.Left=0]="Left",RM[RM.Right=1]="Right",RM[RM.Up=2]="Up",RM[RM.Down=3]="Down",RM[RM.PrevView=4]="PrevView",RM[RM.NextView=5]="NextView",RM[RM.FirstInView=6]="FirstInView",RM[RM.LastInView=7]="LastInView",RM[RM.LowerView=8]="LowerView",RM[RM.UpperView=9]="UpperView",RM),BM={start:null,end:null},jM=new Date(1900,0,1),HM=new Date(2099,11,31),GM=function(e){return null!=e},UM=function(e,t){var n=DD(e);return n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n},WM=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=[],r=e;r<t;r+=n)i.push(r);return i},qM=function(e,t,n){return!e||!(t&&t>e||n&&n<e)},ZM=function(e,t){return!GM(e)||!GM(t)||e<=t},$M=function(e,t,n){return e?t&&e<t?DD(t):n&&e>n?DD(n):e:e},KM=function(){return LD(new Date)},YM=function(e){},XM=function(e,t){return e.slice(t).concat(e.slice(0,t))},QM=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=document.createElement(e);return r.className=n,Object.keys(i).map((function(e){return r.style[e]=i[e]})),"string"==typeof t?r.innerHTML=t||"":(t||[]).forEach((function(e){return e&&r.appendChild(e)})),r}},JM=function(e,t){return void 0!==e[t]},ez=function(e,t){return e[t]&&null!=e[t].currentValue},tz=function(e,t){var n=t||BM,i=n.start,r=n.end;return!(!i||!r)&&i<e&&e<r},nz=[[]],iz=(_defineProperty(r={},NM.Left,(function(e){return GD(e,-1)})),_defineProperty(r,NM.Up,(function(e){return GD(e,-5)})),_defineProperty(r,NM.Right,(function(e){return GD(e,1)})),_defineProperty(r,NM.Down,(function(e){return GD(e,5)})),_defineProperty(r,NM.PrevView,(function(e){return UD(e,-1)})),_defineProperty(r,NM.NextView,(function(e){return UD(e,1)})),_defineProperty(r,NM.FirstInView,(function(e){return qD(e)})),_defineProperty(r,NM.LastInView,(function(e){return ZD(e)})),r),rz=((PM=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToDate",value:function(e,t){return UD(e,t)}},{key:"datesList",value:function(e,t){return WM(0,t).map((function(t){return UD(e,t)}))}},{key:"data",value:function(e){var t=this,n=e.cellUID,i=e.focusedDate,r=e.isActiveView,o=e.max,s=e.min,a=e.selectedDate,l=e.selectionRange,u=void 0===l?BM:l,c=e.viewDate;if(!c)return nz;var h=WM(0,5),f=qD(c),d=ZD(c),p=qM(a,s,o),v=KM();return WM(0,2).map((function(e){var l=GD(f,5*e);return h.map((function(e){var c=t.normalize(GD(l,e),s,o);if(!t.isInRange(c,s,o))return null;var h=t.isEqual(c,u.start),g=t.isEqual(c,u.end),m=!h&&!g&&tz(c,u);return{formattedValue:t.value(c),id:"".concat(n).concat(c.getTime()),isFocused:t.isEqual(c,i),isSelected:r&&p&&t.isEqual(c,a),isWeekend:!1,isRangeStart:h,isRangeMid:m,isRangeEnd:g,isRangeSplitEnd:m&&t.isEqual(c,d),isRangeSplitStart:m&&t.isEqual(c,f),isToday:t.isEqual(c,v),title:t.cellTitle(c),value:c}}))}))}},{key:"isEqual",value:function(e,t){return!(!e||!t)&&$D(e).getFullYear()===$D(t).getFullYear()}},{key:"isInArray",value:function(e,t){if(!t.length)return!1;var n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()+99}},{key:"isInRange",value:function(e,t,n){var i=$D(e).getFullYear(),r=!t||$D(t).getFullYear()<=i,o=!n||i<=$D(n).getFullYear();return r&&o}},{key:"beginningOfPeriod",value:function(e){if(!e)return e;var t=$D(qD(e));return zD(t.getFullYear(),0,1)}},{key:"isRangeStart",value:function(e){return e.getFullYear()%1e3==0}},{key:"move",value:function(e,t){var n=iz[t];return n?n(e):e}},{key:"cellTitle",value:function(e){return $D(e).getFullYear().toString()}},{key:"navigationTitle",value:function(e){return e?qD(e).getFullYear().toString():""}},{key:"title",value:function(e){return e?"".concat(qD(e).getFullYear()," - ").concat(ZD(e).getFullYear()):""}},{key:"rowLength",value:function(e){return 5}},{key:"skip",value:function(e,t){return KD(t,e)}},{key:"total",value:function(e,t){return KD(e,t)+1}},{key:"value",value:function(e){return e?$D(e).getFullYear().toString():""}},{key:"viewDate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.total(e,t);return i<n?UD(e,-1*(n-i)):e}},{key:"normalize",value:function(e,t,n){return e<t&&this.isEqual(e,t)?DD(t):e>n&&this.isEqual(e,n)?DD(n):e}}]),e}()).\u0275fac=function(e){return new(e||PM)},PM.\u0275prov=xe({token:PM,factory:PM.\u0275fac}),PM),oz=[[]],sz=(_defineProperty(o={},NM.Left,(function(e){return HD(e,-1)})),_defineProperty(o,NM.Up,(function(e){return HD(e,-5)})),_defineProperty(o,NM.Right,(function(e){return HD(e,1)})),_defineProperty(o,NM.Down,(function(e){return HD(e,5)})),_defineProperty(o,NM.PrevView,(function(e){return GD(e,-1)})),_defineProperty(o,NM.NextView,(function(e){return GD(e,1)})),_defineProperty(o,NM.FirstInView,(function(e){return $D(e)})),_defineProperty(o,NM.LastInView,(function(e){return YD(e)})),o),az=((DM=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToDate",value:function(e,t){return GD(e,t)}},{key:"datesList",value:function(e,t){return WM(0,t).map((function(t){return GD(e,t)}))}},{key:"data",value:function(e){var t=this,n=e.cellUID,i=e.focusedDate,r=e.isActiveView,o=e.max,s=e.min,a=e.selectedDate,l=e.selectionRange,u=void 0===l?BM:l,c=e.viewDate;if(!c)return oz;var h=WM(0,5),f=$D(c),d=YD(c),p=qM(a,s,o),v=KM();return WM(0,2).map((function(e){var l=HD(f,5*e);return h.map((function(e){var c=t.normalize(HD(l,e),s,o);if(!t.isInRange(c,s,o))return null;var h=t.isEqual(c,u.start),g=t.isEqual(c,u.end),m=!h&&!g&&tz(c,u);return{formattedValue:t.value(c),id:"".concat(n).concat(c.getTime()),isFocused:t.isEqual(c,i),isSelected:r&&p&&t.isEqual(c,a),isWeekend:!1,isRangeStart:h,isRangeMid:m,isRangeEnd:g,isRangeSplitEnd:m&&t.isEqual(c,d),isRangeSplitStart:m&&t.isEqual(c,f),isToday:t.isEqual(c,v),title:t.cellTitle(c),value:c}}))}))}},{key:"isEqual",value:function(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()}},{key:"isInArray",value:function(e,t){if(!t.length)return!1;var n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()+9}},{key:"isInRange",value:function(e,t,n){var i=e.getFullYear(),r=!t||t.getFullYear()<=i,o=!n||i<=n.getFullYear();return r&&o}},{key:"beginningOfPeriod",value:function(e){if(!e)return e;var t=$D(e);return zD(t.getFullYear(),0,1)}},{key:"isRangeStart",value:function(e){return e.getFullYear()%100==0}},{key:"move",value:function(e,t){var n=sz[t];return n?n(e):e}},{key:"cellTitle",value:function(e){return e.getFullYear().toString()}},{key:"navigationTitle",value:function(e){return e?$D(e).getFullYear().toString():""}},{key:"title",value:function(e){return e?"".concat($D(e).getFullYear()," - ").concat(YD(e).getFullYear()):""}},{key:"rowLength",value:function(e){return 5}},{key:"skip",value:function(e,t){return XD(t,e)}},{key:"total",value:function(e,t){return XD(e,t)+1}},{key:"value",value:function(e){return e?e.getFullYear().toString():""}},{key:"viewDate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.total(e,t);return i<n?GD(e,-1*(n-i)):e}},{key:"normalize",value:function(e,t,n){return e<t&&this.isEqual(e,t)?DD(t):e>n&&this.isEqual(e,n)?DD(n):e}}]),e}()).\u0275fac=function(e){return new(e||DM)},DM.\u0275prov=xe({token:DM,factory:DM.\u0275fac}),DM),lz=[[]],uz=(_defineProperty(s={},NM.Left,(function(e){return MD(e,-1)})),_defineProperty(s,NM.Up,(function(e){return QD(e,-1)})),_defineProperty(s,NM.Right,(function(e){return MD(e,1)})),_defineProperty(s,NM.Down,(function(e){return QD(e,1)})),_defineProperty(s,NM.PrevView,(function(e){return BD(e,-1)})),_defineProperty(s,NM.NextView,(function(e){return BD(e,1)})),_defineProperty(s,NM.FirstInView,(function(e){return JD(e)})),_defineProperty(s,NM.LastInView,(function(e){return ND(e)})),s),cz=((FM=function(){function e(t){_classCallCheck(this,e),this._intlService=t}return _createClass(e,[{key:"addToDate",value:function(e,t){return BD(e,t)}},{key:"datesList",value:function(e,t){return WM(0,t).map((function(t){return BD(e,t)}))}},{key:"data",value:function(e){var t=this,n=e.cellUID,i=e.focusedDate,r=e.isActiveView,o=e.max,s=e.min,a=e.selectedDate,l=e.selectionRange,u=void 0===l?BM:l,c=e.viewDate,h=e.isDateDisabled,f=void 0===h?function(){return!1}:h;if(!c)return lz;var d=JD(c),p=LD(d),v=ND(c),g=LD(v),m=qM(a,s,o),y=tF(d,this._intlService.firstDay(),-1),k=WM(0,7),b=KM();return WM(0,6).map((function(e){var l=MD(y,7*e);return k.map((function(e){var c=t.normalize(MD(l,e),s,o),h=LD(c);if(h<p||h>g||c<s||c>o)return null;var y=t.isEqual(c,u.start),k=t.isEqual(c,u.end),_=!y&&!k&&tz(c,u);return{formattedValue:t.value(c),id:"".concat(n).concat(c.getTime()),isFocused:t.isEqual(c,i),isSelected:r&&m&&t.isEqual(c,a),isWeekend:t.isWeekend(c),isRangeStart:y,isRangeMid:_,isRangeEnd:k,isRangeSplitStart:_&&t.isEqual(c,d),isRangeSplitEnd:_&&t.isEqual(c,v),isToday:t.isEqual(c,b),title:t.cellTitle(c),value:c,isDisabled:f(c)}}))}))}},{key:"isEqual",value:function(e,t){return!(!e||!t)&&LD(e).getTime()===LD(t).getTime()}},{key:"isInArray",value:function(e,t){if(0===t.length)return!1;var n=this.beginningOfPeriod(t[0]),i=this.beginningOfPeriod(BD(t[t.length-1],1));return n<=e&&e<i}},{key:"isInRange",value:function(e,t,n){var i=LD(e),r=!t||LD(t)<=i,o=!n||i<=LD(n);return r&&o}},{key:"beginningOfPeriod",value:function(e){return e?zD(e.getFullYear(),e.getMonth(),1):e}},{key:"isRangeStart",value:function(e){return!e.getMonth()}},{key:"move",value:function(e,t){var n=uz[t];return n?n(e):e}},{key:"cellTitle",value:function(e){return this._intlService.formatDate(e,"D")}},{key:"navigationTitle",value:function(e){return e?this.isRangeStart(e)?e.getFullYear().toString():this.abbrMonthNames()[e.getMonth()]:""}},{key:"title",value:function(e){return"".concat(this.wideMonthNames()[e.getMonth()]," ").concat(e.getFullYear())}},{key:"rowLength",value:function(e){return 7+(e?1:0)}},{key:"skip",value:function(e,t){return nF(t,e)}},{key:"total",value:function(e,t){return nF(e,t)+1}},{key:"value",value:function(e){return e?e.getDate().toString():""}},{key:"viewDate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.total(e,t);return i<n?BD(e,-1*(n-i)):e}},{key:"isWeekend",value:function(e){var t=this._intlService.weekendRange(),n=t.start,i=t.end,r=e.getDay();return i<n?r<=i||n<=r:n<=r&&r<=i}},{key:"abbrMonthNames",value:function(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}},{key:"normalize",value:function(e,t,n){return e<t&&this.isEqual(e,t)?DD(t):e>n&&this.isEqual(e,n)?DD(n):e}},{key:"wideMonthNames",value:function(){return this._intlService.dateFormatNames({nameType:"wide",type:"months"})}}]),e}()).\u0275fac=function(e){return new(e||FM)(ut(NP))},FM.\u0275prov=xe({token:FM,factory:FM.\u0275fac}),FM),hz=[[]],fz=(_defineProperty(a={},NM.Left,(function(e){return BD(e,-1)})),_defineProperty(a,NM.Up,(function(e){return BD(e,(t=e.getMonth())>4?-5:t<2?-2:-7);var t})),_defineProperty(a,NM.Right,(function(e){return BD(e,1)})),_defineProperty(a,NM.Down,(function(e){return BD(e,(t=e.getMonth())<7?5:t<10?7:2);var t})),_defineProperty(a,NM.PrevView,(function(e){return HD(e,-1)})),_defineProperty(a,NM.NextView,(function(e){return HD(e,1)})),_defineProperty(a,NM.FirstInView,(function(e){return rF(e)})),_defineProperty(a,NM.LastInView,(function(e){return oF(e)})),a),dz=((MM=function(){function e(t){_classCallCheck(this,e),this._intlService=t}return _createClass(e,[{key:"addToDate",value:function(e,t){return HD(e,t)}},{key:"datesList",value:function(e,t){return WM(0,t).map((function(t){return HD(e,t)}))}},{key:"data",value:function(e){var t=this,n=e.cellUID,i=e.focusedDate,r=e.isActiveView,o=e.max,s=e.min,a=e.selectedDate,l=e.selectionRange,u=void 0===l?BM:l,c=e.viewDate;if(!c)return hz;var h=this.abbrMonthNames(),f=qM(a,s,o),d=rF(c),p=oF(c),v=d.getFullYear(),g=WM(0,5),m=KM();return WM(0,3).map((function(e){var l=BD(d,5*e);return g.map((function(e){var c=t.normalize(BD(l,e),s,o),g=v<c.getFullYear();if(!t.isInRange(c,s,o)||g)return null;var y=t.isEqual(c,u.start),k=t.isEqual(c,u.end),b=!y&&!k&&tz(c,u);return{formattedValue:h[c.getMonth()],id:"".concat(n).concat(c.getTime()),isFocused:t.isEqual(c,i),isSelected:r&&f&&t.isEqual(c,a),isWeekend:!1,isRangeStart:y,isRangeMid:b,isRangeEnd:k,isRangeSplitEnd:b&&t.isEqual(c,p),isRangeSplitStart:b&&t.isEqual(c,d),isToday:t.isEqual(c,m),title:t.cellTitle(c),value:c}}))}))}},{key:"isEqual",value:function(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}},{key:"isInArray",value:function(e,t){if(!t.length)return!1;var n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()}},{key:"isInRange",value:function(e,t,n){var i=zD(e.getFullYear(),e.getMonth(),1),r=!t||zD(t.getFullYear(),t.getMonth(),1)<=i,o=!n||i<=zD(n.getFullYear(),n.getMonth(),1);return r&&o}},{key:"beginningOfPeriod",value:function(e){return e?zD(e.getFullYear(),0,1):e}},{key:"isRangeStart",value:function(e){return e.getFullYear()%10==0}},{key:"move",value:function(e,t){var n=fz[t];return n?n(e):e}},{key:"cellTitle",value:function(e){return"".concat(e.getFullYear()," ").concat(this.value(e))}},{key:"navigationTitle",value:function(e){return this.title(e)}},{key:"title",value:function(e){return e?e.getFullYear().toString():""}},{key:"rowLength",value:function(e){return 5}},{key:"skip",value:function(e,t){return sF(t,e)}},{key:"total",value:function(e,t){return sF(e,t)+1}},{key:"value",value:function(e){return e?this.abbrMonthNames()[e.getMonth()]:""}},{key:"viewDate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.total(e,t);return i<n?HD(e,-1*(n-i)):e}},{key:"abbrMonthNames",value:function(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}},{key:"normalize",value:function(e,t,n){return e<t&&this.isEqual(e,t)?DD(t):e>n&&this.isEqual(e,n)?DD(n):e}}]),e}()).\u0275fac=function(e){return new(e||MM)(ut(NP))},MM.\u0275prov=xe({token:MM,factory:MM.\u0275fac}),MM),pz=function(e){return e[e.month=0]="month",e[e.year=1]="year",e[e.decade=2]="decade",e[e.century=3]="century",e}({}),vz=(_defineProperty(l={},pz.month,cz),_defineProperty(l,pz.year,dz),_defineProperty(l,pz.decade,az),_defineProperty(l,pz.century,rz),l),gz=((zM=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.viewChanged=new tu,this.bottom=pz.month,this.top=pz.century}return _createClass(e,[{key:"configure",value:function(e,t){this.bottom=e,this.top=t}},{key:"service",value:function(e){var t=vz[e];return t?this.injector.get(t):null}},{key:"moveDown",value:function(e){this.move(e,-1)}},{key:"moveUp",value:function(e){this.move(e,1)}},{key:"moveToBottom",value:function(e){e!==this.bottom&&this.viewChanged.emit({view:this.bottom})}},{key:"canMoveDown",value:function(e){return this.bottom<e}},{key:"canMoveUp",value:function(e){return e<this.top}},{key:"clamp",value:function(e){return e<this.bottom?this.bottom:e>this.top?this.top:e}},{key:"move",value:function(e,t){var n=this.clamp(function(e,t){var n=pz[pz[e+t]];return void 0!==n?n:e}(e,t));n!==e&&this.viewChanged.emit({view:n})}}]),e}()).\u0275fac=function(e){return new(e||zM)(ut(ds))},zM.\u0275prov=xe({token:zM,factory:zM.\u0275fac}),zM),mz=QM("div"),yz=QM("ul"),kz=QM("li"),bz=QM("td"),_z=QM("th"),Cz=QM("tr"),wz=QM("tbody"),xz=QM("thead"),Sz=QM("table"),Tz=function(e,t){return new Array(e).fill("1").map(t)},Oz=function(e){return mz(e,"k-content k-scrollable")},Iz=function(){return _m?(LM||(LM=mz([Oz([yz([kz("<span>FEB</span>")])])],"k-calendar-navigation",{left:"0px",position:"absolute"})),LM):null},Ez=function(e,t,n){var i,r=e.cells,o=e.rows;return function(){return _m?(i||(i=function(e,t,n){return mz([mz('\n            <span class="k-calendar-title">March 2017</span>\n            <span class="k-calendar-today">TODAY</span>\n        ',"k-calendar-header"),n?Sz([xz([Cz([_z("MO")])])],"k-calendar-weekdays"):null,Oz([e,e])],t,{left:"-10000px",position:"absolute"})}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Sz([wz([Cz([_z("1")])].concat(Tz(e,(function(){return Cz(Tz(t,(function(e){return bz('<span class="k-link">'.concat(e,"</span>"))})))}))))])}(o,r),t,n)),i):null}},Az=function(e){return e.querySelector(".k-scrollable")},Rz=function(e){return Az(e).classList.add("k-scrollable-horizontal"),e},Pz=Ez({cells:7,rows:6},"k-calendar-view k-calendar-monthview",!0),Dz=Ez({cells:5,rows:3},"k-calendar-view k-calendar-yearview",!1),Fz=Ez({cells:5,rows:2},"k-calendar-view k-calendar-decadeview",!1),Mz=function(e){return parseFloat(window.getComputedStyle(e).height)||e.offsetHeight},zz=function(e){var t=window.getComputedStyle(e);return parseFloat(t.width)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)||e.offsetWidth},Lz=function(e){return e.querySelector("tbody")},Vz=((VM=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ensureHeights",value:function(){void 0===this.calendarHeight&&this.calculateHeights()}},{key:"calculateHeights",value:function(e){var t=this;_m()&&(this.hostContainer=e,this.batch(Pz(),(function(e){var n=Lz(e);t.calendarHeight=Mz(e),t.monthViewHeight=Mz(n),t.headerHeight=Mz(n.children[0]),t.scrollableContentHeight=Mz(Az(e))})),this.batch(Rz(Pz()),(function(e){var n=Lz(e);t.calendarWidth=zz(e),t.monthViewWidth=zz(n),t.scrollableContentWidth=zz(Az(e))})),this.batch(Dz(),(function(e){t.yearViewHeight=Mz(Lz(e)),t.scrollableYearContentHeight=Mz(Az(e))})),this.batch(Rz(Dz()),(function(e){t.yearViewWidth=zz(Lz(e))})),this.batch(Fz(),(function(e){t.decadeViewHeight=Mz(Lz(e)),t.centuryViewHeight=t.decadeViewHeight})),this.batch(Rz(Fz()),(function(e){t.decadeViewWidth=zz(Lz(e)),t.centuryViewWidth=t.decadeViewWidth})),this.batch(Iz(),(function(e){t.navigationItemHeight=Mz(e.querySelector("li"))})))}},{key:"viewHeight",value:function(e){return this.viewDimension(e,"height")}},{key:"viewWidth",value:function(e){return this.viewDimension(e,"width")}},{key:"viewDimension",value:function(e,t){var n="height"===t?"ViewHeight":"ViewWidth";switch(e){case pz.month:return this["month".concat(n)];case pz.year:return this["year".concat(n)];case pz.decade:return this["decade".concat(n)];case pz.century:return this["century".concat(n)];default:return 1}}},{key:"batch",value:function(e,t){var n=this.hostContainer||document.body,i=n.appendChild(e);t(i),n.removeChild(i)}}]),e}()).\u0275fac=function(e){return new(e||VM)},VM.\u0275prov=xe({token:VM,factory:VM.\u0275fac}),VM),Nz=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,e),this.total=t,this.rowHeight=n,this.detailRowHeight=i,this.offsets=[],this.heights=[];for(var r=0,o=0;o<t;o++)this.offsets.push(r),r+=n,this.heights.push(n)}return _createClass(e,[{key:"height",value:function(e){return this.heights[e]}},{key:"expandDetail",value:function(e){this.height(e)===this.rowHeight&&this.updateRowHeight(e,this.detailRowHeight)}},{key:"collapseDetail",value:function(e){this.height(e)>this.rowHeight&&this.updateRowHeight(e,-1*this.detailRowHeight)}},{key:"index",value:function(e){if(!(e<0)){var t=this.offsets.reduce((function(t,n,i){return void 0!==t?t:n===e?i:n>e?i-1:void 0}),void 0);return void 0===t?this.total-1:t}}},{key:"offset",value:function(e){return this.offsets[e]}},{key:"totalHeight",value:function(){return this.heights.reduce((function(e,t){return e+t}),0)}},{key:"updateRowHeight",value:function(e,t){this.heights[e]+=t,this.offsets=function(e,t,n){return[].concat(_toConsumableArray(e.slice(0,t+1)),_toConsumableArray(e.slice(t+1).map((function(e){return e+n}))))}(this.offsets,e,t)}}]),e}(),Bz=function(e){return Math.max(e,0)},jz=function e(t){_classCallCheck(this,e),this.offset=t},Hz=function e(t){_classCallCheck(this,e),this.skip=t},Gz=function(){function e(t){_classCallCheck(this,e),this.scrollObservable=t,this.firstLoaded=0,this.bottomOffset=0,this.topOffset=0}return _createClass(e,[{key:"create",value:function(e,t,n,i){var r=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"vertical";this.rowHeightService=e,this.firstLoaded=t,this.lastLoaded=t+n,this.take=n,this.total=i,this.lastScroll=0,this.topOffset=o,this.bottomOffset=s,this.direction=a;var l=new pF(2),u=this.rowsForHeight(o),c=Bz(t-u);return l.next(new jz(this.rowOffset(c))),u&&l.next(new Hz(c)),this.subscription=M.create((function(e){r.unsubscribe(),r.scrollSubscription=r.scrollObservable.subscribe((function(t){return r.onScroll(t,e)}))})).subscribe((function(e){return l.next(e)})),l}},{key:"destroy",value:function(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}},{key:"onScroll",value:function(e,t){var n=e.scrollLeft,i=e.scrollTop,r=e.offsetHeight,o=e.offsetWidth,s="vertical"===this.direction?i:n,a="vertical"===this.direction?r:o;if(this.lastScroll!==s){var l=this.lastScroll>=s;this.lastScroll=s;var u=this.rowHeightService.index(Bz(s-this.topOffset)),c=this.rowHeightService.index(Bz(s+a-this.bottomOffset));if(!l&&c>=this.lastLoaded&&this.lastLoaded<this.total&&(this.firstLoaded=u,t.next(new jz(this.rowOffset(u))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),t.next(new Hz(this.firstLoaded))),l&&u<=this.firstLoaded){var h=Math.floor(.3*this.take);this.firstLoaded=Bz(u-h),t.next(new jz(this.rowOffset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),t.next(new Hz(this.firstLoaded))}}}},{key:"rowOffset",value:function(e){return this.rowHeightService.offset(e)+this.topOffset}},{key:"rowsForHeight",value:function(e){return Math.ceil(e/this.rowHeightService.height(0))}},{key:"unsubscribe",value:function(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=null)}}]),e}(),Uz=new et("dateinputs-scroll-service-factory");function Wz(e){return new Gz(e)}var qz,Zz,$z,Kz,Yz,Xz,Qz,Jz,eL,tL,nL,iL,rL,oL,sL,aL,lL,uL,cL,hL,fL,dL,pL,vL,gL,mL,yL,kL,bL,_L,CL,wL,xL,SL,TL,OL,IL,EL,AL,RL,PL,DL,FL,ML=function(e){return e[e.Backward=0]="Backward",e[e.Forward=1]="Forward",e}({}),zL=(_defineProperty(u={},ML.Forward,(function(e){return function(t){return t+e}})),_defineProperty(u,ML.Backward,(function(e){return function(t){return t-e}})),u),LL=(_defineProperty(c={},ML.Forward,(function(e){return function(t){return Math.min(t,e)}})),_defineProperty(c,ML.Backward,(function(e){return function(t){return Math.max(t,e)}})),c),VL=(_defineProperty(h={},ML.Forward,(function(e){return function(t){return t<e}})),_defineProperty(h,ML.Backward,(function(e){return function(t){return t>e}})),h),NL=((qz=function(){function e(t,n,i,r){_classCallCheck(this,e),this.container=n,this.renderer=i,this.zone=r,this.direction="vertical",this.itemHeight=1,this.itemWidth=1,this.topOffset=0,this.bottomOffset=0,this.maxScrollDifference=100,this.scrollOffsetSize=0,this.scrollDuration=150,this.activeIndexChange=new tu,this.pageChange=new tu,this.scrollChange=new tu,this.resolvedPromise=Promise.resolve(null),this.dispatcher=new j,this.scroller=t(this.dispatcher)}return _createClass(e,[{key:"ngOnChanges",value:function(e){(e.direction||e.take||e.total)&&(this.initServices(),this.totalSize=this.rowHeightService.totalHeight()+this.bottomOffset)}},{key:"ngOnInit",value:function(){this.rowHeightService||(this.rowHeightService=this.createRowHeightService())}},{key:"ngAfterViewInit",value:function(){var e=this;this.zone.runOutsideAngular((function(){e.containerScrollSubscription=e.scroll$().pipe(Q((function(e){return e.target}))).subscribe((function(t){e.dispatcher.next(t),e.emitActiveIndex()}))}))}},{key:"ngOnDestroy",value:function(){this.containerScrollSubscription&&this.containerScrollSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.animationSubscription&&this.animationSubscription.unsubscribe()}},{key:"getContainerProperty",value:function(e){return this.container.nativeElement[e]}},{key:"activeIndex",value:function(){return this.itemIndex(Math.ceil(this.containerScrollPosition))}},{key:"itemIndex",value:function(e){return this.rowHeightService.index(e)}},{key:"itemOffset",value:function(e){return this.rowHeightService.offset(e)}},{key:"isIndexVisible",value:function(e){if(!this.rowHeightService)return!1;var t=this.containerScrollPosition,n=t+this.containerOffsetSize,i=this.rowHeightService.offset(e),r=i+this.rowHeightService.height(e);return i>=t&&r<=n}},{key:"isListScrolled",value:function(e){return this.containerScrollPosition!==this.rowHeightService.offset(e)}},{key:"scrollTo",value:function(e){this.renderer.setProperty(this.container.nativeElement,"vertical"===this.direction?"scrollTop":"scrollLeft",e)}},{key:"scrollToIndex",value:function(e){var t=this;this.zone.runOutsideAngular((function(){t.resolvedPromise.then((function(){t.scrollTo(t.rowHeightService.offset(e))}))}))}},{key:"scrollToBottom",value:function(){this.scrollTo(this.totalSize)}},{key:"animateToIndex",value:function(e){var t=this;this.animationSubscription&&this.animationSubscription.unsubscribe();var n=this.rowHeightService.offset(e),i=this.getContainerScrollDirection(n),r=this.scrollRange(n,i),o=r.start,s=r.end;if(o!==s){var a=this.scrollStep(o,s),l=zL[i](a),u=LL[i](s),c=VL[i](l(s));this.zone.runOutsideAngular((function(){t.animationSubscription=mF(ng(o),pg(0,_F)).pipe(Q((function(e){return e[0]})),function(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new CF(e,t,n))}}(l),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return n.lift(new xF(e,t))}}(c),Q(u)).subscribe((function(e){return t.scrollTo(e)}))}))}}},{key:"scrollRange",value:function(e,t){var n=this.containerScrollPosition;if(parseInt(e,10)===parseInt(n,10))return{start:e,end:e};var i,r=this.containerMaxScroll(),o=t===ML.Backward?1:-1,s=(i=this.maxScrollDifference,Math.min(Math.abs(e-n),i)),a=Math.min(e,r);return{start:Math.min(Math.max(a+o*s,0),r),end:a}}},{key:"scrollStep",value:function(e,t){return Math.abs(t-e)/(this.scrollDuration/17)}},{key:"scroll$",value:function(){return _m()?ig(this.container.nativeElement,"scroll"):Sg}},{key:"initServices",value:function(){var e=this;this.rowHeightService=this.createRowHeightService(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.scrollSubscription=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total,this.topOffset,this.scrollOffsetSize,this.direction).subscribe((function(t){t instanceof Hz?e.pageChange.emit(t):e.scrollChange.emit(t)}))}},{key:"createRowHeightService",value:function(){return new Nz(this.total,"vertical"===this.direction?this.itemHeight:this.itemWidth,0)}},{key:"emitActiveIndex",value:function(){var e=this.rowHeightService.index(this.containerScrollPosition-this.topOffset);this.lastActiveIndex!==e&&(this.lastActiveIndex=e,this.activeIndexChange.emit(e))}},{key:"containerMaxScroll",value:function(){return this.containerScrollSize-this.containerOffsetSize}},{key:"getContainerScrollDirection",value:function(e){return e<this.containerScrollPosition?ML.Backward:ML.Forward}},{key:"totalVertexLength",get:function(){var e="".concat(this.totalSize,"px");return"vertical"===this.direction?{height:e}:{width:e}}},{key:"containerOffsetSize",get:function(){return this.getContainerProperty("vertical"===this.direction?"offsetHeight":"offsetWidth")}},{key:"containerScrollSize",get:function(){return this.getContainerProperty("vertical"===this.direction?"scrollHeight":"scrollWidth")}},{key:"containerScrollPosition",get:function(){return this.getContainerProperty("vertical"===this.direction?"scrollTop":"scrollLeft")}},{key:"wrapperClasses",get:function(){return!0}},{key:"horizontalClass",get:function(){return"horizontal"===this.direction}}]),e}()).\u0275fac=function(e){return new(e||qz)(Ds(Uz),Ds(qa),Ds(Ya),Ds(qu))},qz.\u0275cmp=Et({type:qz,selectors:[["kendo-virtualization"]],hostVars:6,hostBindings:function(e,t){2&e&&sa("k-content",t.wrapperClasses)("k-scrollable",t.wrapperClasses)("k-scrollable-horizontal",t.horizontalClass)},inputs:{direction:"direction",itemHeight:"itemHeight",itemWidth:"itemWidth",topOffset:"topOffset",bottomOffset:"bottomOffset",maxScrollDifference:"maxScrollDifference",scrollOffsetSize:"scrollOffsetSize",scrollDuration:"scrollDuration",skip:"skip",take:"take",total:"total"},outputs:{activeIndexChange:"activeIndexChange",pageChange:"pageChange",scrollChange:"scrollChange"},features:[Ha([{provide:Uz,useValue:Wz}]),Ra()],ngContentSelectors:jF,decls:2,vars:3,consts:[[1,"k-scrollable-placeholder",3,"ngStyle"]],template:function(e,t){1&e&&(Ys(),Xs(0),Ns(1,"div",0)),2&e&&(wr(1),sa("k-scrollable-horizontal-placeholder","horizontal"===t.direction),Ms("ngStyle",t.totalVertexLength))},directives:[eh],encapsulation:2}),qz),BL=function(e,t,n){for(;e&&e!==n&&!t(e);)e=e.parentNode;if(e!==n)return e},jL=function(e,t){for(;e&&!t(e);)e=e.parentNode;return e},HL=(($z=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.bus=t,this.dom=n,this.intl=i,this.cdr=r,this.renderer=o,this.min=new Date(jM),this.max=new Date(HM),this.focusedDate=new Date,this.valueChange=new tu,this.pageChange=new tu,this.dates=[],this.take=30,this.indexToScroll=-1}return _createClass(e,[{key:"ngOnInit",value:function(){this.dom.ensureHeights();var e=this.dom.calendarHeight;this.itemHeight=this.dom.navigationItemHeight,this.maxViewHeight=this.dom.monthViewHeight,this.topOffset=(e-this.itemHeight)/2,this.bottomOffset=e-this.itemHeight,this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}},{key:"ngOnChanges",value:function(e){if(this.service=this.bus.service(this.activeView),this.service){this.activeViewValue=pz[this.activeView];var t=$M(this.focusedDate,this.min,this.max),n=this.service.total(this.min,this.max),i=this.total&&this.total!==n;this.skip=this.service.skip(t,this.min),this.total=n,!i&&this.service.isInArray(t,this.dates)||(this.dates=this.service.datesList(t,this.getTake(this.skip))),(e.focusedDate||i)&&(this.indexToScroll=this.service.skip(this.focusedDate,this.min))}}},{key:"ngOnDestroy",value:function(){this.intlSubscription&&this.intlSubscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}},{key:"ngAfterViewChecked",value:function(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}},{key:"onPageChange",value:function(e){var t=e.skip;this.dates=this.service.datesList(this.service.addToDate(this.min,t),this.getTake(t)),this.pageChange.emit()}},{key:"scrollChange",value:function(e){var t=e.offset,n=this.list.nativeElement,i="translateY(".concat(t,"px)");this.renderer.setStyle(n,"transform",i),this.renderer.setStyle(n,"-ms-transform",i)}},{key:"handleDateChange",value:function(e){var t=BL(e.target,(function(e){return e.hasAttribute("data-date-index")}),this.list.nativeElement);if(t){var n=parseInt(t.getAttribute("data-date-index"),10);this.valueChange.emit(DD(this.dates[n]))}}},{key:"getTake",value:function(e){return Math.min(this.total-e,this.take)}},{key:"intlChange",value:function(){this.activeView===pz.month&&this.cdr.markForCheck()}},{key:"getComponentClass",get:function(){return!0}}]),e}()).\u0275fac=function(e){return new(e||$z)(Ds(gz),Ds(Vz),Ds(NP),Ds(Xo),Ds(Ya))},$z.\u0275cmp=Et({type:$z,selectors:[["kendo-calendar-navigation"]],viewQuery:function(e,t){var n;1&e&&(pu(NL,!0),du(HF,!0)),2&e&&(fu(n=ku())&&(t.virtualization=n.first),fu(n=ku())&&(t.list=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&sa("k-calendar-navigation",t.getComponentClass)},inputs:{min:"min",max:"max",focusedDate:"focusedDate",activeView:"activeView",templateRef:"templateRef"},outputs:{valueChange:"valueChange",pageChange:"pageChange"},features:[Ra()],decls:5,vars:12,consts:[[1,"k-calendar-navigation-highlight"],[3,"skip","take","total","itemHeight","topOffset","bottomOffset","maxScrollDifference","pageChange","scrollChange"],[1,"k-reset",3,"kendoEventsOutsideAngular","scope"],["list",""],[4,"kFor","kForOf"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Ns(0,"span",0),Ls(1,"kendo-virtualization",1),Ws("pageChange",(function(e){return t.onPageChange(e)}))("scrollChange",(function(e){return t.scrollChange(e)})),Ls(2,"ul",2,3),Rs(4,qF,4,11,"li",4),Vs(),Vs()),2&e&&(wr(1),Ms("skip",t.skip)("take",t.take)("total",t.total)("itemHeight",t.itemHeight)("topOffset",t.topOffset)("bottomOffset",t.bottomOffset)("maxScrollDifference",t.maxViewHeight),wr(1),Ms("kendoEventsOutsideAngular",jl(10,ZF,t.handleDateChange))("scope",t),wr(2),Ms("kForOf",t.dates))},directives:function(){return[NL,Im,OV,zc,th]},encapsulation:2,changeDetection:0}),$z),GL=((Zz=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.bus=t,this.cdr=n,this.intl=i,this.dom=r,this.renderer=o,this.isActive=!0,this.min=new Date(jM),this.max=new Date(HM),this.activeDateChange=new tu,this.valueChange=new tu,this.pageChange=new tu,this.dates=[],this.cols=[],this.weekNames=[],this.take=5,this.animateToIndex=!0,this.indexToScroll=-1,this.minViewsToRender=1}return _createClass(e,[{key:"ngOnInit",value:function(){this.weekNames=this.getWeekNames(),this.bottomOffset=this.getBottomOffset(),this.viewOffset=-1*this.dom.headerHeight,this.viewHeight=this.dom.viewHeight(this.activeView),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}},{key:"ngOnChanges",value:function(e){if(this.service=this.bus.service(this.activeView),this.service){this.cols=new Array(this.service.rowLength(this.weekNumber)).fill(""),this.colWidth=Math.round(100/this.cols.length),this.weekNames=JM(e,"weekNumber")&&this.weekNumber?this.getWeekNames():this.weekNames;var t,n,i=JM(e,"activeView"),r=this.focusedDate,o=$M(this.service.viewDate(r,this.max,this.minViewsToRender),this.min,this.max),s=this.service.total(this.min,this.max),a=this.total&&this.total!==s||!this.service.isInArray(r,this.dates);this.skip=this.service.skip(o,this.min),this.total=s,this.animateToIndex=!i,this.bottomOffset=this.getBottomOffset(),this.viewHeight=this.dom.viewHeight(this.activeView),a&&(this.dates=this.service.datesList(o,this.getTake(this.skip))),n=r,(t=this.activeDate)&&n&&t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()||(this.activeDate=DD(r));var l=JM(e,"focusedDate")||i;(a||l||this.virtualization.isIndexVisible(this.skip))&&(this.indexToScroll=this.service.skip(r,this.min))}}},{key:"ngOnDestroy",value:function(){this.intlSubscription&&this.intlSubscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}},{key:"ngAfterViewChecked",value:function(){-1!==this.indexToScroll&&(this.virtualization[this.animateToIndex?"animateToIndex":"scrollToIndex"](this.indexToScroll),this.animateToIndex=!0,this.indexToScroll=-1)}},{key:"onPageChange",value:function(e){var t=e.skip;this.dates=this.service.datesList(this.service.addToDate(this.min,t),this.getTake(t)),this.pageChange.emit()}},{key:"scrollChange",value:function(e){var t=e.offset,n=this.list.nativeElement,i="translateY(".concat(t,"px)");this.renderer.setStyle(n,"transform",i),this.renderer.setStyle(n,"-ms-transform",i)}},{key:"setActiveDate",value:function(e){var t=this.service.addToDate(this.min,e);VD(this.activeDate,t)||(this.activeDate=t,this.activeDateChange.emit(t),this.cdr.detectChanges())}},{key:"handleDateChange",value:function(e){this.valueChange.emit(e)}},{key:"isMonthView",value:function(){return this.activeView===pz.month}},{key:"isScrolled",value:function(){return this.virtualization.isListScrolled(this.service.skip(this.focusedDate,this.min))}},{key:"getBottomOffset",value:function(){return this.getScrollableHeight()-this.dom.viewHeight(this.activeView)}},{key:"getScrollableHeight",value:function(){return this.activeView===pz.month?this.dom.scrollableContentHeight:this.dom.scrollableYearContentHeight}},{key:"getTake",value:function(e){return Math.min(this.total-e,this.take)}},{key:"getWeekNames",value:function(){var e=XM(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return this.weekNumber?[""].concat(e):e}},{key:"intlChange",value:function(){this.weekNames=this.getWeekNames(),this.isMonthView()&&this.cdr.markForCheck()}},{key:"weekNumber",get:function(){return this.showWeekNumbers&&this.isMonthView()},set:function(e){this.showWeekNumbers=e}},{key:"getComponentClass",get:function(){return!0}},{key:"getComponentMonthClass",get:function(){return this.activeView===pz.month}},{key:"getComponentYearClass",get:function(){return this.activeView===pz.year}},{key:"getComponentDecadeClass",get:function(){return this.activeView===pz.decade}},{key:"getComponentCenturyClass",get:function(){return this.activeView===pz.century}}]),e}()).\u0275fac=function(e){return new(e||Zz)(Ds(gz),Ds(Xo),Ds(NP),Ds(Vz),Ds(Ya))},Zz.\u0275cmp=Et({type:Zz,selectors:[["kendo-calendar-viewlist"]],viewQuery:function(e,t){var n;1&e&&(pu(NL,!0),du(HF,!0)),2&e&&(fu(n=ku())&&(t.virtualization=n.first),fu(n=ku())&&(t.list=n.first))},hostVars:10,hostBindings:function(e,t){2&e&&sa("k-calendar-view",t.getComponentClass)("k-calendar-monthview",t.getComponentMonthClass)("k-calendar-yearview",t.getComponentYearClass)("k-calendar-decadeview",t.getComponentDecadeClass)("k-calendar-centuryview",t.getComponentCenturyClass)},inputs:{isActive:"isActive",min:"min",max:"max",weekNumber:"weekNumber",cellTemplateRef:"cellTemplateRef",weekNumberTemplateRef:"weekNumberTemplateRef",headerTitleTemplateRef:"headerTitleTemplateRef",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",value:"value"},outputs:{activeDateChange:"activeDateChange",valueChange:"valueChange",pageChange:"pageChange"},features:[Ra()],decls:8,vars:17,consts:[[3,"currentDate","min","max","activeView","templateRef","today"],["class","k-calendar-weekdays","style","table-layout: auto;",4,"ngIf"],[3,"tabindex","skip","take","total","itemHeight","topOffset","bottomOffset","scrollOffsetSize","maxScrollDifference","pageChange","scrollChange","activeIndexChange"],["list",""],[4,"ngFor","ngForOf"],["kendoCalendarView","","role","rowgroup",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDate","weekNumber","templateRef","weekNumberTemplateRef","viewDate","change",4,"kFor","kForOf"],[1,"k-calendar-weekdays",2,"table-layout","auto"],[3,"width",4,"ngFor","ngForOf"],["kendoCalendarView","","role","rowgroup",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDate","weekNumber","templateRef","weekNumberTemplateRef","viewDate","change"]],template:function(e,t){1&e&&(Ls(0,"kendo-calendar-header",0),Ws("today",(function(e){return t.handleDateChange(e)})),Vs(),Rs(1,KF,4,1,"table",1),Ls(2,"kendo-virtualization",2),Ws("pageChange",(function(e){return t.onPageChange(e)}))("scrollChange",(function(e){return t.scrollChange(e)}))("activeIndexChange",(function(e){return t.setActiveDate(e)})),Ls(3,"table",null,3),Ls(5,"colgroup"),Rs(6,YF,1,0,"col",4),Vs(),Rs(7,XF,1,11,"tbody",5),Vs(),Vs()),2&e&&(Ms("currentDate",t.activeDate)("min",t.min)("max",t.max)("activeView",t.activeView)("templateRef",t.headerTitleTemplateRef),wr(1),Ms("ngIf",t.isMonthView()),wr(1),Ms("tabindex",-1)("skip",t.skip)("take",t.take)("total",t.total)("itemHeight",t.viewHeight)("topOffset",t.viewOffset)("bottomOffset",t.bottomOffset)("scrollOffsetSize",t.viewOffset)("maxScrollDifference",t.viewHeight),wr(4),Ms("ngForOf",t.cols),wr(1),Ms("kForOf",t.dates))},directives:function(){return[IV,zc,NL,Fc,OV,AV]},encapsulation:2,changeDetection:0}),Zz),UL={33:NM.PrevView,34:NM.NextView,35:NM.LastInView,36:NM.FirstInView,37:NM.Left,38:NM.Up,39:NM.Right,40:NM.Down,"meta+38":NM.UpperView,"meta+40":NM.LowerView},WL=function(){var e=function(){function e(t){_classCallCheck(this,e),this.bus=t}return _createClass(e,[{key:"action",value:function(e){return UL["".concat(e.ctrlKey||e.metaKey?"meta+":"").concat(e.keyCode)]}},{key:"move",value:function(e,t,n){var i=this.bus.service(n);return i?t===NM.UpperView&&this.bus.canMoveUp(n)?(this.bus.moveUp(n),e):t===NM.LowerView&&this.bus.canMoveDown(n)?(this.bus.moveDown(n),e):i.move(e,t):e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ut(gz))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),qL=((rL=function(){function e(t,n){_classCallCheck(this,e),this.dom=t,this.zone=n}return _createClass(e,[{key:"configure",value:function(e){var t=Math.max(this.dom.viewHeight(e)/this.dom.navigationItemHeight,1);this.divideByMagnitude=function(e){return function(t){return Math.floor(t/e)}}(t),this.powerByMagnitude=function(e){return function(t){return t*e}}(t)}},{key:"sync",value:function(e,t){var n=this;this.unsubscribe(),e&&t&&(this.navigator=e,this.view=t,this.zone.runOutsideAngular((function(){var i,r;n.navSubscription=e.scroll$().subscribe((function(e){r?r=!1:(i=!0,n.scrollSiblingOf(e.target))})),n.viewSubscription=t.scroll$().subscribe((function(e){i?i=!1:(r=!0,n.scrollSiblingOf(e.target))}))})))}},{key:"scrollSiblingOf",value:function(e){var t=this.siblingComponent(e),n=this.calculateScroll(t,e.scrollTop);t.scrollTo(n)}},{key:"siblingComponent",value:function(e){return this.navigator.container.nativeElement===e?this.view:this.navigator}},{key:"calculateScroll",value:function(e,t){return(e===this.navigator?this.divideByMagnitude:this.powerByMagnitude)(t)}},{key:"destroy",value:function(){this.unsubscribe()}},{key:"unsubscribe",value:function(){this.navSubscription&&this.navSubscription.unsubscribe(),this.viewSubscription&&this.viewSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||rL)(ut(Vz),ut(qu))},rL.\u0275prov=xe({token:rL,factory:rL.\u0275fac}),rL),ZL=((iL=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||iL)(Ds(vl))},iL.\u0275dir=Mt({type:iL,selectors:[["","kendoCalendarCellTemplate",""]]}),iL),$L=((nL=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||nL)(Ds(vl))},nL.\u0275dir=Mt({type:nL,selectors:[["","kendoCalendarMonthCellTemplate",""]]}),nL),KL=((tL=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||tL)(Ds(vl))},tL.\u0275dir=Mt({type:tL,selectors:[["","kendoCalendarYearCellTemplate",""]]}),tL),YL=((eL=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||eL)(Ds(vl))},eL.\u0275dir=Mt({type:eL,selectors:[["","kendoCalendarDecadeCellTemplate",""]]}),eL),XL=((Jz=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||Jz)(Ds(vl))},Jz.\u0275dir=Mt({type:Jz,selectors:[["","kendoCalendarCenturyCellTemplate",""]]}),Jz),QL=((Qz=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||Qz)(Ds(vl))},Qz.\u0275dir=Mt({type:Qz,selectors:[["","kendoCalendarWeekNumberCellTemplate",""]]}),Qz),JL=((Xz=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||Xz)(Ds(vl))},Xz.\u0275dir=Mt({type:Xz,selectors:[["","kendoCalendarHeaderTitleTemplate",""]]}),Xz),eV=((Yz=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||Yz)(Ds(vl))},Yz.\u0275dir=Mt({type:Yz,selectors:[["","kendoCalendarNavigationItemTemplate",""]]}),Yz),tV=((Kz=function e(){_classCallCheck(this,e),this.onFocus=new tu,this.onBlur=new tu,this.sameDateSelected=new tu}).\u0275prov=xe({token:Kz,factory:Kz.\u0275fac=function(e){return new(e||Kz)}}),Kz),nV=function(e){return function(t){return e&&t.value&&t.value<e?{minError:{minValue:e,value:t.value}}:null}},iV=function(e){return function(t){return e&&t.value&&t.value>e?{maxError:{maxValue:e,value:t.value}}:null}},rV=function(e){return e&&(!e.touched||e.control&&"blur"===e.control.updateOn)},oV=function(e){return e.preventDefault()},sV=function(e){return null!=e},aV=function(){return!1},lV=((oL=function(){function e(){_classCallCheck(this,e),this.changes=new j,this.isDateDisabled=aV}return _createClass(e,[{key:"initialize",value:function(e){if("function"==typeof e)this.isDateDisabled=function(t){return e(LD(t))};else if(i=e,Array.isArray(i)&&i.length>0&&i.every((function(e){return"number"==typeof e}))){var t=new Set(e);this.isDateDisabled=function(e){return t.has(e.getDay())}}else if(function(e){return Array.isArray(e)&&e.length>0&&e.every((function(e){return e instanceof Date}))}(e)){var n=new Set(e.map((function(e){return LD(e).getTime()})));this.isDateDisabled=function(e){return n.has(LD(e).getTime())}}else this.isDateDisabled=aV,this.notifyInvalidInput(e);var i;this.notifyServiceChange()}},{key:"notifyInvalidInput",value:function(e){if(sV(e)&&Ci())throw new Error("The 'disabledDates' value should be a function, a Day array or a Date array. Check https://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/disabled-dates/ for more information.")}},{key:"notifyServiceChange",value:function(){this.changes.next()}}]),e}()).\u0275fac=function(e){return new(e||oL)},oL.\u0275prov=xe({token:oL,factory:oL.\u0275fac}),oL),uV=function(e){return e?e.virtualization:null},cV={multi:!0,provide:yp,useExisting:Ve((function(){return dV}))},hV={multi:!0,provide:Mp,useExisting:Ve((function(){return dV}))},fV={provide:Nm,useExisting:Ve((function(){return dV}))},dV=((sL=function(){function e(t,n,i,r,o,s,a,l,u,c,h){_classCallCheck(this,e),this.bus=t,this.dom=n,this.element=i,this.navigator=r,this.renderer=o,this.cdr=s,this.ngZone=a,this.injector=l,this.scrollSyncService=u,this.disabledDatesService=c,this.pickerService=h,this.id=Sm(),this.rangeValidation=!1,this.disabled=!1,this.tabindex=0,this.navigation=!0,this.activeView=pz[pz.month],this.bottomView=pz[pz.month],this.topView=pz[pz.century],this.weekNumber=!1,this.activeViewChange=new tu,this.activeViewDateChange=new tu,this.valueChange=new tu,this.isActive=!1,this.cellUID=Sm(),this._min=new Date(jM),this._max=new Date(HM),this._focusedDate=KM(),this.onControlChange=YM,this.onControlTouched=YM,this.onValidatorChange=YM,this.minValidateFn=YM,this.maxValidateFn=YM,this.syncNavigation=!0,this.domEvents=[],this.resolvedPromise=Promise.resolve(null),this.destroyed=!1,this.setClasses(i.nativeElement),this.pickerService&&(this.pickerService.calendar=this)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.dom.calculateHeights(this.element.nativeElement),this.scrollSyncService.configure(this.activeViewEnum),this.viewChangeSubscription=this.bus.viewChanged.subscribe((function(t){var n=t.view;e.activeView=pz[n],e.emitEvent(e.activeViewChange,e.activeView),e.scrollSyncService.configure(n),e.detectChanges()})),this.control=this.injector.get(Ap,null),this.element&&this.ngZone.runOutsideAngular((function(){e.bindEvents()}))}},{key:"ngOnChanges",value:function(e){this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum),this.scrollSyncService.configure(this.activeViewEnum);var t=ez(e,"value")&&!ez(e,"focusedDate"),n=$M(DD(t?this.value:this.focusedDate),this.min,this.max);this.focusedDate=VD(this.focusedDate,n)?this.focusedDate:n,e.navigation&&(this.syncNavigation=!0),(e.min||e.max||e.rangeValidation)&&(this.minValidateFn=this.rangeValidation?nV(this.min):YM,this.maxValidateFn=this.rangeValidation?iV(this.max):YM,this.onValidatorChange())}},{key:"ngAfterViewInit",value:function(){this.setAriaActivedescendant()}},{key:"ngAfterViewChecked",value:function(){this.syncNavigation&&(this.syncNavigation=!1,this.scrollSyncService.sync(uV(this.navigationView),uV(this.monthView)))}},{key:"ngOnDestroy",value:function(){this.scrollSyncService.destroy(),this.viewChangeSubscription.unsubscribe(),this.domEvents.forEach((function(e){return e()})),this.pickerService&&(this.pickerService.calendar=null),this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.destroyed=!0}},{key:"focus",value:function(){this.element&&this.element.nativeElement.focus()}},{key:"blur",value:function(){this.element&&this.element.nativeElement.blur()}},{key:"containsElement",value:function(e){var t=this;return Boolean(jL(e,(function(e){return e===t.element.nativeElement})))}},{key:"handleNavigation",value:function(e){this.disabled||(this.focusedDate=$M(DD(e)||this.focusedDate,this.min,this.max),this.detectChanges())}},{key:"onPageChange",value:function(){var e=this;qu.isInAngularZone()||(this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.pageChangeSubscription=ne(this.resolvedPromise).subscribe((function(){e.detectChanges()})))}},{key:"handleDateChange",value:function(e){var t=this,n=this.bus.canMoveDown(this.activeViewEnum),i=!n&&VD(e,this.value);this.focusedDate=DD(e)||this.focusedDate,this.disabled||(i?this.emitSameDate():n?this.bus.moveDown(this.activeViewEnum):this.disabledDatesService.isDateDisabled(e)||this.ngZone.run((function(){t.value=DD(e),t.onControlChange(DD(e)),t.valueChange.emit(DD(e)),t.cdr.markForCheck()})))}},{key:"writeValue",value:function(e){this.verifyValue(e),this.focusedDate=$M(DD(e)||this.focusedDate,this.min,this.max),this.value=DD(e),this.cdr.markForCheck()}},{key:"registerOnChange",value:function(e){this.onControlChange=e}},{key:"registerOnTouched",value:function(e){this.onControlTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cdr.markForCheck()}},{key:"validate",value:function(e){return this.minValidateFn(e)||this.maxValidateFn(e)}},{key:"registerOnValidatorChange",value:function(e){this.onValidatorChange=e}},{key:"activeCellTemplate",value:function(){switch(this.activeViewEnum){case pz.month:return this.monthCellTemplate||this.cellTemplate;case pz.year:return this.yearCellTemplate;case pz.decade:return this.decadeCellTemplate;case pz.century:return this.centuryCellTemplate;default:return null}}},{key:"emitEvent",value:function(e,t){xm(e)&&this.ngZone.run((function(){e.emit(t)}))}},{key:"setClasses",value:function(e){this.renderer.addClass(e,"k-widget"),this.renderer.addClass(e,"k-calendar"),this.renderer.addClass(e,"k-calendar-infinite")}},{key:"verifyChanges",value:function(){if(Ci()){if(this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max.");if(this.bottomViewEnum>this.topViewEnum)throw new Error("The topView should be greater than bottomView. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview.")}}},{key:"verifyValue",value:function(e){if(Ci()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json for possible resolution.")}},{key:"bindEvents",value:function(){var e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"blur",this.handleBlur.bind(this)),this.renderer.listen(e,"focus",this.handleFocus.bind(this)),this.renderer.listen(e,"mousedown",oV),this.renderer.listen(e,"click",this.handleClick.bind(this)),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)))}},{key:"emitBlur",value:function(e){this.pickerService&&this.pickerService.onBlur.emit(e)}},{key:"emitFocus",value:function(){this.pickerService&&this.pickerService.onFocus.emit()}},{key:"handleBlur",value:function(e){var t=this;this.isActive=!1,!this.pickerService&&rV(this.control)?this.ngZone.run((function(){t.onControlTouched(),t.emitBlur(e)})):(this.emitBlur(e),this.detectChanges())}},{key:"handleFocus",value:function(){this.isActive=!0,qu.isInAngularZone()||this.detectChanges(),this.emitFocus()}},{key:"handleClick",value:function(){this.isActive||(this.monthView.isScrolled()&&(this.focusedDate=DD(this.focusedDate),this.detectChanges()),this.focus())}},{key:"handleKeydown",value:function(e){var t=-1!==[Bm.ArrowUp,Bm.ArrowRight,Bm.ArrowDown,Bm.ArrowLeft].indexOf(e.keyCode);if(!(sV(this.pickerService)&&t&&e.altKey)){var n=$M(this.navigator.move(this.focusedDate,this.navigator.action(e),this.activeViewEnum),this.min,this.max);VD(this.focusedDate,n)||(this.focusedDate=n,this.detectChanges(),e.preventDefault()),e.keyCode===Bm.Enter&&this.handleDateChange(this.focusedDate)}}},{key:"detectChanges",value:function(){this.destroyed||this.cdr.detectChanges()}},{key:"emitSameDate",value:function(){this.pickerService&&this.pickerService.sameDateSelected.emit()}},{key:"setAriaActivedescendant",value:function(){if(sV(this.element)){var e=this.cellUID+this.focusedDate.getTime();this.renderer.setAttribute(this.element.nativeElement,"aria-activedescendant",e)}}},{key:"focusedDate",set:function(e){this._focusedDate=e||KM(),this.setAriaActivedescendant()},get:function(){return this._focusedDate}},{key:"min",set:function(e){this._min=e||new Date(jM)},get:function(){return this._min}},{key:"max",set:function(e){this._max=e||new Date(HM)},get:function(){return this._max}},{key:"value",get:function(){return this._value},set:function(e){this.verifyValue(e),this._value=DD(e)}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"disabledDates",set:function(e){this.disabledDatesService.initialize(e)}},{key:"cellTemplateRef",set:function(e){this.cellTemplate=e}},{key:"monthCellTemplateRef",set:function(e){this.monthCellTemplate=e}},{key:"yearCellTemplateRef",set:function(e){this.yearCellTemplate=e}},{key:"decadeCellTemplateRef",set:function(e){this.decadeCellTemplate=e}},{key:"centuryCellTemplateRef",set:function(e){this.centuryCellTemplate=e}},{key:"weekNumberTemplateRef",set:function(e){this.weekNumberTemplate=e}},{key:"headerTitleTemplateRef",set:function(e){this.headerTitleTemplate=e}},{key:"navigationItemTemplateRef",set:function(e){this.navigationItemTemplate=e}},{key:"activeViewEnum",get:function(){var e=pz[this.activeView];return e<this.bottomViewEnum?this.bottomViewEnum:e}},{key:"bottomViewEnum",get:function(){return pz[this.bottomView]}},{key:"topViewEnum",get:function(){return pz[this.topView]}},{key:"widgetId",get:function(){return this.id}},{key:"widgetRole",get:function(){return"grid"}},{key:"calendarTabIndex",get:function(){return this.disabled?void 0:this.tabIndex}},{key:"ariaDisabled",get:function(){return this.disabled}}]),e}()).\u0275fac=function(e){return new(e||sL)(Ds(gz),Ds(Vz),Ds(qa),Ds(WL),Ds(Ya),Ds(Xo),Ds(qu),Ds(ds),Ds(qL),Ds(lV),Ds(tV,8))},sL.\u0275cmp=Et({type:sL,selectors:[["kendo-calendar"]],contentQueries:function(e,t,n){var i;1&e&&(mu(n,ZL,!0),mu(n,$L,!0),mu(n,KL,!0),mu(n,YL,!0),mu(n,XL,!0),mu(n,QL,!0),mu(n,JL,!0),mu(n,eV,!0)),2&e&&(fu(i=ku())&&(t.cellTemplate=i.first),fu(i=ku())&&(t.monthCellTemplate=i.first),fu(i=ku())&&(t.yearCellTemplate=i.first),fu(i=ku())&&(t.decadeCellTemplate=i.first),fu(i=ku())&&(t.centuryCellTemplate=i.first),fu(i=ku())&&(t.weekNumberTemplate=i.first),fu(i=ku())&&(t.headerTitleTemplate=i.first),fu(i=ku())&&(t.navigationItemTemplate=i.first))},viewQuery:function(e,t){var n;1&e&&(pu(HL,!0),pu(GL,!0)),2&e&&(fu(n=ku())&&(t.navigationView=n.first),fu(n=ku())&&(t.monthView=n.first))},hostVars:8,hostBindings:function(e,t){2&e&&(As("id",t.widgetId)("role",t.widgetRole)("tabindex",t.calendarTabIndex)("aria-disabled",t.ariaDisabled),sa("k-week-number",t.weekNumber)("k-state-disabled",t.ariaDisabled))},inputs:{id:"id",rangeValidation:"rangeValidation",disabled:"disabled",tabindex:"tabindex",navigation:"navigation",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",focusedDate:"focusedDate",min:"min",max:"max",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:["navigationItemTemplate","navigationItemTemplateRef"]},outputs:{activeViewChange:"activeViewChange",activeViewDateChange:"activeViewDateChange",valueChange:"valueChange"},exportAs:["kendo-calendar"],features:[Ha([gz,cV,hV,fV,jy,lV,{provide:By,useValue:"kendo.calendar"},WL,qL]),Ra()],decls:4,vars:12,consts:[["kendoCalendarLocalizedMessages","",6,"today"],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange",4,"ngIf"],[3,"activeView","isActive","cellTemplateRef","headerTitleTemplateRef","weekNumberTemplateRef","cellUID","min","max","focusedDate","weekNumber","value","valueChange","activeDateChange","pageChange"],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange"]],template:function(e,t){if(1&e&&(Bs(0,0),Ml(1,QF),js(),Rs(2,JF,1,5,"kendo-calendar-navigation",1),Ls(3,"kendo-calendar-viewlist",2),Ws("valueChange",(function(e){return t.handleDateChange(e)}))("activeDateChange",(function(e){return t.emitEvent(t.activeViewDateChange,e)}))("pageChange",(function(){return t.onPageChange()})),Vs()),2&e){var n,i=null==(n=t.activeCellTemplate())?null:n.templateRef;wr(2),Ms("ngIf",t.navigation),wr(1),Ms("activeView",t.activeViewEnum)("isActive",t.isActive)("cellTemplateRef",i)("headerTitleTemplateRef",null==t.headerTitleTemplate?null:t.headerTitleTemplate.templateRef)("weekNumberTemplateRef",null==t.weekNumberTemplate?null:t.weekNumberTemplate.templateRef)("cellUID",t.cellUID)("min",t.min)("max",t.max)("focusedDate",t.focusedDate)("weekNumber",t.weekNumber)("value",t.value)}},directives:function(){return[MV,zc,GL,HL]},encapsulation:2,changeDetection:0}),sL),pV=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.None=2]="None",e}({}),vV=/year|month|<day>/,gV=/hour|minute|second|millisecond/,mV=/d|M|H|h|m|s/,yV=function(e){return e?e.getTime():null},kV=function(e){return e.replace(/^0*/,"")},bV=function e(){_classCallCheck(this,e),this.symbols=""},_V=function(){function e(t,n,i,r){if(_classCallCheck(this,e),this.intl=t,this.formatPlaceholder=n,this.format=i,this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.leadingZero=null,this.monthNames=null,this.typedMonthPart="",this.value=LD(new Date),this.knownParts="adHhmMsEy",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y"},this.monthNames=this.allFormatedMonths(),this.dayPeriods=this.allDayPeriods(),r)this.value=DD(r);else{this.value=LD(new Date);for(var o=this.dateFormatString(this.value,this.format).symbols,s=0;s<o.length;s++)this.setExisting(o[s],!1)}}return _createClass(e,[{key:"hasValue",value:function(){var e=this;return this.intl.splitDateFormat(this.format).reduce((function(t,n){return t||"literal"!==n.type&&"dayperiod"!==n.type&&e.getExisting(n.pattern[0])}),!1)}},{key:"getDateObject",value:function(){for(var e=0;e<this.knownParts.length;e++)if(!this.getExisting(this.knownParts[e]))return null;return DD(this.value)}},{key:"getTextAndFormat",value:function(){return this.merge(this.intl.formatDate(this.value,this.format),this.dateFormatString(this.value,this.format))}},{key:"getExisting",value:function(e){switch(e){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"m":return this.minutes;case"s":return this.seconds;default:return!0}}},{key:"setExisting",value:function(e,t){switch(e){case"y":this.year=t,!1===t&&this.value.setFullYear(2e3);break;case"M":this.month=t,!1===t&&this.value.setMonth(0);break;case"d":this.date=t;break;case"h":case"H":this.hours=t;break;case"m":this.minutes=t;break;case"s":this.seconds=t;break;default:return}}},{key:"modifyPart",value:function(e,t){var n=DD(this.value);switch(e){case"y":n.setFullYear(n.getFullYear()+t);break;case"M":n=BD(this.value,t);break;case"d":case"E":n.setDate(n.getDate()+t);break;case"h":case"H":n.setHours(n.getHours()+t);break;case"m":n.setMinutes(n.getMinutes()+t);break;case"s":n.setSeconds(n.getSeconds()+t);break;case"a":n.setHours(n.getHours()+12*t)}n.getFullYear()>0&&(this.setExisting(e,!0),this.value=n)}},{key:"parsePart",value:function(e,t,n){if(!t)return this.resetLeadingZero(),this.setExisting(e,!1),{value:null,switchToNext:!1};for(var i=this.intl.formatDate(this.value,this.format),r=this.dateFormatString(this.value,this.format),o=r.symbols,s=!1,a="",l="",u="",c=0;c<i.length;c++)o[c]===e?(l+=this.getExisting(e)?i[c]:"0",s=!0):s?u+=i[c]:a+=i[c];var h=l.length-3,f=null,d=this.matchMonth(t),p=this.matchDayPeriod(t,e),v="0"===t,g=(this.leadingZero||{})[e]||0;v?0!==parseInt(n?t:l+t,10)||this.isAbbrMonth(r.partMap,e)||this.incrementLeadingZero(e):this.resetLeadingZero();for(var m=Math.max(0,h);m<=l.length;m++){var y=n?t:l.substring(m)+t,k=parseInt(y,10);if(!(f=this.intl.parseDate(a+y+u,this.format))&&!isNaN(k)&&!isNaN(parseInt(t,10))){if("M"===e&&!d){var b=k-1;b>-1&&b<12&&((f=DD(this.value)).setMonth(b),f.getMonth()!==b&&(f=ND(BD(f,-1))))}"y"===e&&(f=zD(parseInt(y,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),this.date&&f.getDate()!==this.value.getDate()&&(f=ND(BD(f,-1))))}if(f){var _=this.partPattern(r.partMap,e).pattern,C=this.intl.parseDate("".concat(a).concat(this.peek(y,_)).concat(u),this.format),w=this.patternLength(_)||_.length,x=g+(kV(y)||t).length>=w,S=null===C||x;return this.value=f,this.setExisting(e,!0),{value:this.value,switchToNext:S}}}return d&&(f=this.intl.parseDate(a+d+u,this.format))?(this.value=f,this.setExisting(e,!0),{value:this.value,switchToNext:!1}):p&&(f=this.intl.parseDate(a+p+u,this.format))?(this.value=f,{value:this.value,switchToNext:!0}):(v&&this.setExisting(e,!1),{value:null,switchToNext:!1})}},{key:"resetLeadingZero",value:function(){var e=null!==this.leadingZero;return this.setLeadingZero(null),e}},{key:"setLeadingZero",value:function(e){this.leadingZero=e}},{key:"incrementLeadingZero",value:function(e){var t=this.leadingZero||{};t[e]=(t[e]||0)+1,this.leadingZero=t}},{key:"isAbbrMonth",value:function(e,t){var n=this.partPattern(e,t);return"month"===n.type&&n.names}},{key:"partPattern",value:function(e,t){return e.filter((function(e){return-1!==e.pattern.indexOf(t)}))[0]}},{key:"peek",value:function(e,t){var n=kV(e)+"0";return function(e){return new Array(Math.max(e,0)).fill("0").join("")}(t.length-n.length)+n}},{key:"matchMonth",value:function(e){if(this.typedMonthPart+=e.toLowerCase(),!this.monthNames)return"";for(;this.typedMonthPart.length>0;){for(var t=0;t<this.monthNames.length;t++)if(0===this.monthNames[t].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[t];var n=parseInt(this.typedMonthPart,10);if(n>=1&&n<=12&&n.toString()===this.typedMonthPart)return this.monthNames[n-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""}},{key:"matchDayPeriod",value:function(e,t){var n=String(e).toLowerCase();if("a"===t&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(n))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(n))return this.dayPeriods.pm}return""}},{key:"allFormatedMonths",value:function(){for(var e=this.intl.splitDateFormat(this.format),t=0;t<e.length;t++)if("month"===e[t].type&&e[t].names)return this.intl.dateFormatNames(e[t].names);return null}},{key:"allDayPeriods",value:function(){for(var e=this.intl.splitDateFormat(this.format),t=0;t<e.length;t++)if("dayperiod"===e[t].type&&e[t].names)return this.intl.dateFormatNames(e[t].names);return null}},{key:"patternLength",value:function(e){return"y"===e[0]?4:mV.test(e)?2:0}},{key:"dateFormatString",value:function(e,t){for(var n=this.intl.splitDateFormat(t),i=[],r=[],o=0;o<n.length;o++)for(var s=this.intl.formatDate(e,{pattern:n[o].pattern}).length;s>0;)i.push(this.symbols[n[o].pattern[0]]||"_"),r.push(n[o]),s--;var a=new bV;return a.symbols=i.join(""),a.partMap=r,a}},{key:"merge",value:function(e,t){for(var n="",i="",r=t.symbols,o=r.length-1;o>=0;o--)if(-1===this.knownParts.indexOf(r[o])||this.getExisting(r[o]))n=e[o]+n,i=r[o]+i;else{for(var s=r[o];o>=0&&s===r[o];)o--;for(o++,n=this.leadingZero&&this.leadingZero[s]?"0"+n:this.dateFieldName(t.partMap[o])+n;i.length<n.length;)i=r[o]+i}return[n,i]}},{key:"dateFieldName",value:function(e){var t=this.formatPlaceholder||"wide";return t[e.type]?t[e.type]:"formatPattern"===t?e.pattern:this.intl.dateFieldName(Object.assign(e,{nameType:t}))}}]),e}(),CV=((aL=function(){function e(t,n,i,r,o,s,a,l){_classCallCheck(this,e),this.cdr=t,this.intl=n,this.renderer=i,this.element=r,this.ngZone=o,this.injector=s,this.localization=a,this.pickerService=l,this.focusableId="k-".concat(Sm()),this.disabled=!1,this.readonly=!1,this.title="",this.tabindex=0,this.format="d",this.placeholder=null,this.rangeValidation=!0,this.autoCorrect=!1,this.spinners=!1,this.isPopupOpen=!1,this.hasPopup=!1,this.valueChange=new tu,this.valueUpdate=new tu,this.onFocus=new tu,this.onBlur=new tu,this.arrow=pV,this.arrowDirection=pV.None,this.formatSections={date:!1,time:!1},this.hasMousedown=!1,this.currentValue="",this.currentFormat="",this.backspace=!1,this.resetSegmentValue=!0,this.minValidateFn=YM,this.maxValidateFn=YM,this._value=null,this._active=!1,this.kendoDate=null,this.paste=!1,this.domEvents=[],this.onControlChange=YM,this.onControlTouched=YM,this.onValidatorChange=YM,this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections(),this.pickerService&&(this.pickerService.input=this)}return _createClass(e,[{key:"isEmpty",value:function(){return!this.currentValue||!String(this.currentValue).trim()}},{key:"containsElement",value:function(e){var t=this;return Boolean(jL(e,(function(e){return e===t.element.nativeElement})))}},{key:"ngOnChanges",value:function(e){this.verifyRange(),(e.min||e.max||e.rangeValidation)&&(this.minValidateFn=this.rangeValidation?nV(this.min):YM,this.maxValidateFn=this.rangeValidation?iV(this.max):YM,this.onValidatorChange()),e.format&&(this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections());var t=this.kendoDate&&VD(this.value,this.kendoDate.getDateObject());(e.format||!t||e.placeholder)&&(this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive))}},{key:"ngOnDestroy",value:function(){this.intlSubscription&&this.intlSubscription.unsubscribe(),this.pickerService&&(this.pickerService.input=null),this.domEvents.forEach((function(e){return e()}))}},{key:"validate",value:function(e){return this.minValidateFn(e)||this.maxValidateFn(e)}},{key:"registerOnValidatorChange",value:function(e){this.onValidatorChange=e}},{key:"ngOnInit",value:function(){var e=this;this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this)),this.control=this.injector.get(Ap,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.ngZone.runOutsideAngular((function(){e.bindEvents()})))}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cdr.markForCheck()}},{key:"writeValue",value:function(e){this.verifyValue(e),this.kendoDate=this.getKendoDate(e),this.value=DD(e),this.updateElementValue(this.isActive)}},{key:"triggerChange",value:function(){var e=this.kendoDate.getDateObject();+e!=+this.value&&(this.value=DD(e),this.notify())}},{key:"notify",value:function(){var e=this;this.ngZone.run((function(){e.onControlChange(DD(e.value)),e.valueChange.emit(DD(e.value))}))}},{key:"registerOnChange",value:function(e){this.onControlChange=e}},{key:"registerOnTouched",value:function(e){this.onControlTouched=e}},{key:"focus",value:function(){var e=this.inputElement;e&&(e.focus(),this.selectDateSegment(this.currentFormat[0]))}},{key:"blur",value:function(){var e=this.inputElement;e&&e.blur()}},{key:"handleButtonClick",value:function(e){this.arrowDirection=pV.None,this.modifyDateSegmentValue(e)}},{key:"modifyDateSegmentValue",value:function(e){var t=this.caret(),n=this.currentFormat[t[0]];this.kendoDate.modifyPart(n,e*((this.steps||{})[this.symbolsMap[n]]||1)),this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),this.selectDateSegment(n)}},{key:"switchDateSegment",value:function(e){var t=this.caret();if(this.kendoDate.resetLeadingZero()&&this.updateElementValue(this.isActive),t[0]<t[1]&&this.currentFormat[t[0]]!==this.currentFormat[t[1]-1])return this.selectNearestSegment(e>0?t[0]:t[1]-1),this.resetSegmentValue=!0,!0;for(var n=this.currentFormat[t[0]],i=t[0]+e;i>0&&i<this.currentFormat.length&&(this.currentFormat[i]===n||"_"===this.currentFormat[i]);)i+=e;if("_"===this.currentFormat[i])return!1;for(var r=i;r>=0&&r<this.currentFormat.length&&this.currentFormat[r]===this.currentFormat[i];)r+=e;return i>r&&(r+1!==t[0]||i+1!==t[1])?(this.caret(r+1,i+1),this.resetSegmentValue=!0,!0):i<r&&(i!==t[0]||r!==t[1])&&(this.caret(i,r),this.resetSegmentValue=!0,!0)}},{key:"selectDateSegment",value:function(e){for(var t=-1,n=0,i=0;i<this.currentFormat.length;i++)this.currentFormat[i]===e&&(n=i+1,-1===t&&(t=i));t<0&&(t=0),this.caret(0,0),this.caret(t,n)}},{key:"handleClick",value:function(){this.hasMousedown=!1,this.isActive&&this.selectNearestSegment(this.caret()[0])}},{key:"handleDragAndDrop",value:function(e){e.preventDefault()}},{key:"handleMousedown",value:function(){this.hasMousedown=!0}},{key:"handleFocus",value:function(e){var t=this;this.isActive=!0,this.updateElementValue(),this.hasMousedown||this.caret(0,this.inputValue.length),this.hasMousedown=!1,xm(this.onFocus)?this.ngZone.run((function(){t.emitFocus(e)})):this.emitFocus(e)}},{key:"handleBlur",value:function(e){var t=this;this.isActive=!1,this.resetSegmentValue=!0,this.kendoDate.resetLeadingZero(),this.updateElementValue(),xm(this.onBlur)||rV(this.control)?this.ngZone.run((function(){t.onControlTouched(),t.emitBlur(e)})):this.emitBlur(e)}},{key:"getKendoDate",value:function(e){var t=(this.kendoDate||{}||null).leadingZero,n=new _V(this.intl,this.formatPlaceholder,this.format,e);return n.setLeadingZero(this.isActive?t:null),n}},{key:"dateSymbolMap",value:function(){return this.intl.splitDateFormat(this.format).reduce((function(e,t){return e[t.pattern[0]]=t.type,e}),{})}},{key:"updateElementValue",value:function(e){var t=this.caret()[0],n=this.kendoDate.getTextAndFormat(),i=!this.isActive&&null!=this.placeholder&&!this.kendoDate.hasValue(),r=this.inputElement;this.currentFormat=n[1],this.currentValue=i?"":n[0],this.renderer.setProperty(r,"value",this.currentValue),r.placeholder!==this.placeholder&&this.renderer.setProperty(r,"placeholder",this.placeholder);var o=this.kendoDate.getDateObject();this.ariaValueNow=yV(o),this.ariaValueText=this.intl.formatDate(o,this.format),e&&this.selectNearestSegment(t)}},{key:"caret",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=void 0!==e,i=[e,e],r=this.inputElement;if(!n||!this.disabled&&!this.readonly){try{void 0!==r.selectionStart&&(n&&(_m()&&document.activeElement!==r&&r.focus(),r.setSelectionRange(e,t)),i=[r.selectionStart,r.selectionEnd])}catch(o){i=[]}return i}}},{key:"selectNearestSegment",value:function(e){for(var t=e,n=e-1;t<this.currentFormat.length||n>=0;t++,n--){if(t<this.currentFormat.length&&"_"!==this.currentFormat[t])return void this.selectDateSegment(this.currentFormat[t]);if(n>=0&&"_"!==this.currentFormat[n])return void this.selectDateSegment(this.currentFormat[n])}}},{key:"verifyRange",value:function(){if(Ci()&&!ZM(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-max.")}},{key:"verifyValue",value:function(e){if(Ci()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/dateinput/#toc-using-with-json for possible resolution.")}},{key:"putDateInRange",value:function(){var e=this.kendoDate.getDateObject(),t=$M(e,this.min,this.max);this.autoCorrect&&!VD(e,t)&&(this.kendoDate=this.getKendoDate(t))}},{key:"updateFormatSections",value:function(){this.formatSections=this.intl.splitDateFormat(this.format).reduce((function(e,t){var n=e.date,i=e.time;return{date:n||vV.test(t.type),time:i||gV.test(t.type)}}),{date:!1,time:!1})}},{key:"intlChange",value:function(){this.updateFormatSections(),this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive)}},{key:"updateOnPaste",value:function(){var e=this.intl.parseDate(this.inputValue,this.format)||this.value,t=+e!=+this.value;this.writeValue(e),t&&this.notify()}},{key:"bindEvents",value:function(){var e=this.element.nativeElement,t=this.handleMouseWheel.bind(this);this.domEvents.push(this.renderer.listen(e,"DOMMouseScroll",t),this.renderer.listen(e,"mousewheel",t),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)),this.renderer.listen(e,"paste",this.handlePaste.bind(this)),this.renderer.listen(e,"input",this.handleInput.bind(this)))}},{key:"handleMouseWheel",value:function(e){this.disabled||this.readonly||!this.isActive||((e=window.event||e).shiftKey?this.switchDateSegment((e.wheelDelta||-e.detail)>0?-1:1):this.modifyDateSegmentValue((e.wheelDelta||-e.detail)>0?1:-1),e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())}},{key:"handlePaste",value:function(){this.paste=!0}},{key:"handleKeydown",value:function(e){if(!(this.disabled||this.readonly||e.altKey||e.ctrlKey||e.metaKey))if(e.keyCode!==Bm.Tab)if(e.keyCode!==Bm.Backspace){switch(e.keyCode){case Bm.ArrowDown:this.modifyDateSegmentValue(-1);break;case Bm.ArrowUp:this.modifyDateSegmentValue(1);break;case Bm.ArrowRight:this.switchDateSegment(1);break;case Bm.ArrowLeft:this.switchDateSegment(-1);break;case Bm.Home:this.selectNearestSegment(0);break;case Bm.End:this.selectNearestSegment(this.inputValue.length);break;default:return}e.preventDefault()}else this.backspace=!0;else this.switchDateSegment(e.shiftKey?-1:1)&&e.preventDefault()}},{key:"handleInput",value:function(){if(!this.disabled&&!this.readonly){if(this.paste)return this.updateOnPaste(),void(this.paste=!1);var e=function(e,t,n,i){var r=i+e.length-n.length,o=e[r],s=e.substring(0,i+e.length-n.length),a=n.substring(0,i),l=[];if(s===a&&i>0)return l.push([t[i-1],a[i-1]]),l;if(0===s.indexOf(a)&&(0===a.length||t[a.length-1]!==t[a.length])){var u="";1===a.length&&l.push([t[0],a[0]]);for(var c=a.length;c<s.length;c++)t[c]!==u&&"_"!==t[c]&&(u=t[c],l.push([u,""]));return l}if(0===a.indexOf(s)||"_"===t[i-1]){for(var h=t[0],f=Math.max(0,s.length-1);f<t.length;f++)if("_"!==t[f]){h=t[f];break}return[[h,a[i-1]]]}return" "===a[a.length-1]||a[a.length-1]===o&&"_"===t[r]?[[t[i-1],"_"]]:[[t[i-1],a[i-1]]]}(this.currentValue,this.currentFormat,this.inputValue,this.caret()[0]),t=1===e.length&&"_"===e[0][1],n=!1;if(!t){for(var i=0;i<e.length;i++)n=this.kendoDate.parsePart(e[i][0],e[i][1],this.resetSegmentValue).switchToNext;var r=this.kendoDate.getDateObject();this.value&&r&&!this.formatSections.date&&(this.kendoDate=this.getKendoDate(UM(this.value,r)))}this.resetSegmentValue=!1,this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),e.length&&"_"!==e[0][0]&&this.selectDateSegment(e[0][0]),(n||t)&&this.switchDateSegment(1),this.backspace&&this.switchDateSegment(-1),this.backspace=!1}}},{key:"emitFocus",value:function(e){this.onFocus.emit(),this.pickerService&&this.pickerService.onFocus.emit(e)}},{key:"emitBlur",value:function(e){this.onBlur.emit(),this.pickerService&&this.pickerService.onBlur.emit(e)}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"max",set:function(e){this._max=e,this.ariaValueMax=yV(e)},get:function(){return this._max}},{key:"min",set:function(e){this._min=e,this.ariaValueMin=yV(e)},get:function(){return this._min}},{key:"value",set:function(e){this.verifyValue(e),this.autoCorrect&&!qM(e,this.min,this.max)||(this._value=DD(e),this.valueUpdate.emit(DD(e)))},get:function(){return this._value}},{key:"wrapperClass",get:function(){return!0}},{key:"disabledClass",get:function(){return this.disabled}},{key:"inputElement",get:function(){return this.dateInput?this.dateInput.nativeElement:null}},{key:"inputValue",get:function(){return(this.inputElement||{}).value||""}},{key:"isActive",get:function(){return this._active},set:function(e){if(this._active=e,this.wrap){var t=this.wrap.nativeElement;e?this.renderer.addClass(t,"k-state-focused"):this.renderer.removeClass(t,"k-state-focused")}}}]),e}()).\u0275fac=function(e){return new(e||aL)(Ds(Xo),Ds(NP),Ds(Ya),Ds(qa),Ds(qu),Ds(ds),Ds(jy),Ds(tV,8))},aL.\u0275cmp=Et({type:aL,selectors:[["kendo-dateinput"]],viewQuery:function(e,t){var n;1&e&&(du(eM,!0),pu(tM,!0)),2&e&&(fu(n=ku())&&(t.dateInput=n.first),fu(n=ku())&&(t.wrap=n.first))},hostVars:6,hostBindings:function(e,t){2&e&&sa("k-widget",t.wrapperClass)("k-dateinput",t.wrapperClass)("k-state-disabled",t.disabledClass)},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",title:"title",tabindex:"tabindex",format:"format",placeholder:"placeholder",rangeValidation:"rangeValidation",autoCorrect:"autoCorrect",spinners:"spinners",isPopupOpen:"isPopupOpen",hasPopup:"hasPopup",tabIndex:"tabIndex",max:"max",min:"min",value:"value",formatPlaceholder:"formatPlaceholder",steps:"steps"},outputs:{valueChange:"valueChange",valueUpdate:"valueUpdate",onFocus:"focus",onBlur:"blur"},exportAs:["kendo-dateinput"],features:[Ha([{provide:yp,useExisting:Ve((function(){return aL})),multi:!0},{provide:Mp,useExisting:Ve((function(){return aL})),multi:!0},{provide:By,useValue:"kendo.dateinput"},{provide:Nm,useExisting:Ve((function(){return aL}))},jy]),Ra()],decls:7,vars:23,consts:[["kendoDateInputLocalizedMessages","",6,"increment","decrement"],[1,"k-dateinput-wrap"],["wrap",""],["autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false","role","spinbutton",1,"k-input",3,"id","title","tabindex","disabled","readonly","placeholder","kendoEventsOutsideAngular","scope"],["dateInput",""],["class","k-select",3,"mousedown",4,"ngIf"],[1,"k-select",3,"mousedown"],[1,"k-link","k-link-increase",3,"title","mousedown","mouseleave","click"],[1,"k-icon","k-i-arrow-n"],[1,"k-link","k-link-decrease",3,"title","click","mousedown","mouseleave"],[1,"k-icon","k-i-arrow-s"]],template:function(e,t){1&e&&(Bs(0,0),Ml(1,nM),js(),Ls(2,"span",1,2),Ns(4,"input",3,4),Rs(6,iM,5,8,"span",5),Vs()),2&e&&(wr(4),Ms("id",t.focusableId)("title",t.title)("tabindex",t.tabindex)("disabled",t.disabled)("readonly",t.readonly)("placeholder",t.placeholder)("kendoEventsOutsideAngular",ql(15,rM,t.handleClick,t.handleFocus,t.handleMousedown,t.handleMousedown,t.handleDragAndDrop,t.handleDragAndDrop,t.handleBlur))("scope",t),As("aria-expanded",t.isPopupOpen)("aria-haspopup",t.hasPopup)("aria-valuemin",t.ariaValueMin)("aria-valuemax",t.ariaValueMax)("aria-valuenow",t.ariaValueNow)("aria-valuetext",t.ariaValueText),wr(2),Ms("ngIf",t.spinners))},directives:function(){return[jV,Im,zc]},encapsulation:2,changeDetection:0}),aL),wV=function(){function e(){_classCallCheck(this,e),this.prevented=!1}return _createClass(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),xV=new et("dateinputs-touch-enabled"),SV=((lL=function(){function e(t,n,i,r,o,s,a,l,u,c){_classCallCheck(this,e),this.zone=t,this.localization=n,this.cdr=i,this.popupService=r,this.element=o,this.renderer=s,this.injector=a,this.pickerService=l,this.disabledDatesService=u,this.touchEnabled=c,this.focusableId="k-".concat(Sm()),this.activeView=pz[pz.month],this.bottomView=pz[pz.month],this.topView=pz[pz.century],this.disabled=!1,this.readonly=!1,this.navigation=!0,this.min=DD(jM),this.max=DD(HM),this.focusedDate=null,this.format="d",this.placeholder=null,this.tabindex=0,this.title="",this.rangeValidation=!0,this.disabledDatesValidation=!0,this.weekNumber=!1,this.valueChange=new tu,this.onFocus=new tu,this.onBlur=new tu,this.open=new tu,this.close=new tu,this.popupUID=Sm(),this._popupSettings={animate:!0},this._show=!1,this._value=null,this._active=!1,this.onControlChange=YM,this.onControlTouched=YM,this.onValidatorChange=YM,this.minValidateFn=YM,this.maxValidateFn=YM,this.disabledDatesValidateFn=YM,this.resolvedPromise=Promise.resolve(null),this.domEvents=[],this.pickerSubscriptions=this.pickerService.onFocus.subscribe(this.handleFocus.bind(this)),this.pickerSubscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this))),this.pickerSubscriptions.add(this.pickerService.sameDateSelected.subscribe(this.handleSameSelection.bind(this)))}return _createClass(e,[{key:"isEmpty",value:function(){return!this.value&&this.input.isEmpty()}},{key:"ngOnInit",value:function(){var e=this;this.localizationChangeSubscription=this.localization.changes.subscribe((function(){return e.cdr.markForCheck()})),this.control=this.injector.get(Ap,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.zone.runOutsideAngular((function(){e.bindEvents()})))}},{key:"ngOnChanges",value:function(e){var t;this.verifySettings(),(e.min||e.max||e.rangeValidation||e.disabledDatesValidation||e.disabledDates)&&(this.minValidateFn=this.rangeValidation?nV(this.min):YM,this.maxValidateFn=this.rangeValidation?iV(this.max):YM,this.disabledDatesValidateFn=this.disabledDatesValidation?(t=this.disabledDatesService.isDateDisabled,function(e){return t&&e.value&&t(e.value)?{disabledDate:!0}:null}):YM,this.onValidatorChange())}},{key:"ngOnDestroy",value:function(){this.isActive=!1,this.show=!1,this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.windowBlurSubscription&&this.windowBlurSubscription.unsubscribe(),this.domEvents.forEach((function(e){return e()})),this.pickerSubscriptions.unsubscribe()}},{key:"writeValue",value:function(e){this.verifyValue(e),this.value=DD(e),this.cdr.markForCheck(),!e&&this.input&&(this.input.placeholder=this.placeholder,this.input.writeValue(e))}},{key:"registerOnChange",value:function(e){this.onControlChange=e}},{key:"registerOnTouched",value:function(e){this.onControlTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cdr.markForCheck()}},{key:"validate",value:function(e){return this.minValidateFn(e)||this.maxValidateFn(e)||this.disabledDatesValidateFn(e)}},{key:"registerOnValidatorChange",value:function(e){this.onValidatorChange=e}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){(this.calendar||this.input).blur()}},{key:"toggle",value:function(e){var t=this;this.disabled||this.readonly||this.resolvedPromise.then((function(){t._toggle(void 0===e?!t.show:e)}))}},{key:"handleIconClick",value:function(e){this.disabled||this.readonly||(e.preventDefault(),this.focusInput(),this.handleFocus(),this.show=!this.show,this.cdr.markForCheck())}},{key:"handleMousedown",value:function(e){e.preventDefault()}},{key:"handleChange",value:function(e){this.cdr.markForCheck(),this.focusInput(),this.value=e,this.show=!1,this.onControlChange(DD(e)),this.valueChange.emit(DD(e))}},{key:"handleInputChange",value:function(e){this.handleChange(this.input.formatSections.time?e:this.mergeTime(e))}},{key:"mergeTime",value:function(e){return this.value&&e?UM(e,this.value):e}},{key:"handleKeydown",value:function(e){var t=e.altKey,n=e.keyCode;n===Bm.Escape&&(this.show=!1),t&&(n!==Bm.ArrowDown||this.show||(this.show=!0),n===Bm.ArrowUp&&(this.show=!1)),n===Bm.Tab&&this.show&&this.calendar.isActive&&(this.input.focus(),this.show=!1)}},{key:"togglePopup",value:function(e){var t=new wV;!this._show&&e?this.open.emit(t):this._show&&!e&&this.close.emit(t),t.isDefaultPrevented()||(this._toggle(e),this.toggleFocus())}},{key:"_toggle",value:function(e){var t=this;if(this._show=e,this.popupRef&&(this.popupRef.close(),this.popupRef=null,this.subscription.unsubscribe()),this._show){var n=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{vertical:"bottom",horizontal:n},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{vertical:"top",horizontal:n},popupClass:this.popupClasses,positionMode:"absolute"}),this.popupRef.popupElement.setAttribute("id",this.popupUID),this.subscription=this.popupRef.popupAnchorViewportLeave.subscribe((function(){return t.show=!1}))}}},{key:"focusInput",value:function(){this.touchEnabled||this.input.focus()}},{key:"toggleFocus",value:function(){this.isActive&&(this.show?(this.calendar||this.cdr.detectChanges(),this.calendar&&this.calendar.focus()):this.touchEnabled?this.input.isActive||this.handleBlur():this.input.focus())}},{key:"verifySettings",value:function(){if(Ci()&&!ZM(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-max.")}},{key:"verifyValue",value:function(e){if(Ci()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/datepicker/#toc-using-with-json for possible resolution.")}},{key:"bindEvents",value:function(){this.domEvents.push(this.renderer.listen(this.element.nativeElement,"keydown",this.handleKeydown.bind(this))),"undefined"!=typeof window&&(this.windowBlurSubscription=ig(window,"blur").subscribe(this.handleWindowBlur.bind(this)))}},{key:"handleFocus",value:function(){var e=this;this.isActive||(this.isActive=!0,xm(this.onFocus)&&this.zone.run((function(){e.onFocus.emit()})))}},{key:"handleWindowBlur",value:function(){this.isOpen&&(this.show=!1)}},{key:"handleBlur",value:function(e){var t=this,n=e&&(e.relatedTarget||document.activeElement);n&&(this.input.containsElement(n)||this.calendar&&this.calendar.containsElement(n))||(xm(this.onBlur)||this.show&&xm(this.close)||rV(this.control)?this.zone.run((function(){t.blurComponent()})):this.blurComponent())}},{key:"blurComponent",value:function(){this.isActive=!1,this.show=!1,this.cdr.detectChanges(),this.onControlTouched(),this.onBlur.emit()}},{key:"handleSameSelection",value:function(){this.show&&(this.focusInput(),this.show=!1)}},{key:"cellTemplateRef",set:function(e){this.cellTemplate=e}},{key:"monthCellTemplateRef",set:function(e){this.monthCellTemplate=e}},{key:"yearCellTemplateRef",set:function(e){this.yearCellTemplate=e}},{key:"decadeCellTemplateRef",set:function(e){this.decadeCellTemplate=e}},{key:"centuryCellTemplateRef",set:function(e){this.centuryCellTemplate=e}},{key:"weekNumberTemplateRef",set:function(e){this.weekNumberTemplate=e}},{key:"headerTitleTemplateRef",set:function(e){this.headerTitleTemplate=e}},{key:"navigationItemTemplateRef",set:function(e){this.navigationItemTemplate=e}},{key:"popupSettings",set:function(e){this._popupSettings=Object.assign({},{animate:!0},e)},get:function(){return this._popupSettings}},{key:"value",set:function(e){this.verifyValue(e),this._value=DD(e)},get:function(){return this._value}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"disabledDates",set:function(e){this._disabledDates=e,this.disabledDatesService.initialize(e)},get:function(){return this._disabledDates}},{key:"wrapperClasses",get:function(){return!0}},{key:"disabledClass",get:function(){return this.disabled}},{key:"isActive",get:function(){return this._active},set:function(e){if(this._active=e,this.wrapper){var t=this.wrapper.nativeElement;e?this.renderer.addClass(t,"k-state-focused"):this.renderer.removeClass(t,"k-state-focused")}}},{key:"show",get:function(){return this._show},set:function(e){var t=this;e&&(this.disabled||this.readonly)||(e||this._show&&xm(this.close)?this.zone.run((function(){t.togglePopup(e)})):this.togglePopup(e))}},{key:"isOpen",get:function(){return this.show}},{key:"popupClasses",get:function(){return["k-calendar-container","k-group","k-reset"].concat(this.popupSettings.popupClass||[])}},{key:"appendTo",get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e}},{key:"input",get:function(){return this.pickerService.input}},{key:"calendar",get:function(){return this.pickerService.calendar}}]),e}()).\u0275fac=function(e){return new(e||lL)(Ds(qu),Ds(jy),Ds(Xo),Ds(zk),Ds(qa),Ds(Ya),Ds(ds),Ds(tV),Ds(lV),Ds(xV,8))},lL.\u0275cmp=Et({type:lL,selectors:[["kendo-datepicker"]],contentQueries:function(e,t,n){var i;1&e&&(gu(n,ZL,!0),gu(n,$L,!0),gu(n,KL,!0),gu(n,YL,!0),gu(n,XL,!0),gu(n,QL,!0),gu(n,JL,!0),gu(n,eV,!0)),2&e&&(fu(i=ku())&&(t.cellTemplate=i.first),fu(i=ku())&&(t.monthCellTemplate=i.first),fu(i=ku())&&(t.yearCellTemplate=i.first),fu(i=ku())&&(t.decadeCellTemplate=i.first),fu(i=ku())&&(t.centuryCellTemplate=i.first),fu(i=ku())&&(t.weekNumberTemplate=i.first),fu(i=ku())&&(t.headerTitleTemplate=i.first),fu(i=ku())&&(t.navigationItemTemplate=i.first))},viewQuery:function(e,t){var n;1&e&&(pu(oM,!0,ml),pu(sM,!0),pu(aM,!0)),2&e&&(fu(n=ku())&&(t.container=n.first),fu(n=ku())&&(t.popupTemplate=n.first),fu(n=ku())&&(t.wrapper=n.first))},hostVars:8,hostBindings:function(e,t){2&e&&sa("k-widget",t.wrapperClasses)("k-datepicker",t.wrapperClasses)("k-header",t.wrapperClasses)("k-state-disabled",t.disabledClass)},inputs:{focusableId:"focusableId",activeView:"activeView",bottomView:"bottomView",topView:"topView",disabled:"disabled",readonly:"readonly",navigation:"navigation",min:"min",max:"max",focusedDate:"focusedDate",format:"format",placeholder:"placeholder",tabindex:"tabindex",title:"title",rangeValidation:"rangeValidation",disabledDatesValidation:"disabledDatesValidation",weekNumber:"weekNumber",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:["navigationItemTemplate","navigationItemTemplateRef"],popupSettings:"popupSettings",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",formatPlaceholder:"formatPlaceholder"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur",open:"open",close:"close"},exportAs:["kendo-datepicker"],features:[Ha([{provide:yp,useExisting:Ve((function(){return lL})),multi:!0},{provide:Mp,useExisting:Ve((function(){return lL})),multi:!0},{provide:Nm,useExisting:Ve((function(){return lL}))},jy,tV,lV,{provide:By,useValue:"kendo.datepicker"}]),Ra()],decls:12,vars:23,consts:[["kendoDatePickerLocalizedMessages","",6,"today","toggle"],[1,"k-picker-wrap","k-state-default"],["wrapper",""],[3,"focusableId","hasPopup","isPopupOpen","disabled","readonly","tabindex","title","format","formatPlaceholder","placeholder","min","max","value","valueChange"],["input",""],["role","button",1,"k-select",3,"kendoEventsOutsideAngular","scope"],[1,"k-icon","k-i-calendar"],["container",""],["popupTemplate",""],[3,"min","max","navigation","activeView","bottomView","topView","weekNumber","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","weekNumberTemplate","headerTitleTemplate","navigationItemTemplate","focusedDate","value","kendoEventsOutsideAngular","scope","disabledDates","valueChange"],["calendar",""],[3,"today"]],template:function(e,t){1&e&&(Bs(0,0),Ml(1,lM),js(),Ls(2,"span",1,2),Ls(4,"kendo-dateinput",3,4),Ws("valueChange",(function(e){return t.handleInputChange(e)})),Vs(),Ls(6,"span",5),Ns(7,"span",6),Vs(),Vs(),Hs(8,null,7),Rs(10,hM,4,23,"ng-template",null,8,wu)),2&e&&(wr(2),sa("k-state-disabled",t.disabled),wr(2),Ms("focusableId",t.focusableId)("hasPopup",!0)("isPopupOpen",t.show)("disabled",t.disabled)("readonly",t.readonly)("tabindex",t.tabindex)("title",t.title)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("min",t.min)("max",t.max)("value",t.value),wr(2),Ms("kendoEventsOutsideAngular",Hl(20,fM,t.handleIconClick,t.handleMousedown))("scope",t),As("title",t.localization.get("toggle"))("aria-label",t.localization.get("toggle"))("aria-controls",t.popupUID))},directives:function(){return[WV,CV,Im,dV,zV]},encapsulation:2,changeDetection:0}),lL),TV=function(){function e(t,n,i,r){_classCallCheck(this,e),this.$implicit=t,this.kForOf=n,this.index=i,this.count=r}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),OV=((vL=function(){function e(t,n,i){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=i,this._differ=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){if("kForOf"in e){var t=e.kForOf.currentValue;if(this._differ||!t)return;try{this._differ=this._differs.find(t).create(this.kForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((n=t).name||typeof n,"'."))}}var n}},{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this.kForOf);e&&this._applyChanges(e)}}},{key:"_applyChanges",value:function(e){if(_m()){var t=this._viewContainer.length,n=this.kForOf.length,i={};e.forEachOperation((function(e,t,n){null!==n&&(i[n]=e.item)}));for(var r=t;r<n;r++)this._viewContainer.createEmbeddedView(this._template,new TV(null,this.kForOf,-1,-1),r);for(var o=this._viewContainer.length;o>n;o--)this._viewContainer.remove(o-1);for(var s=0;s<this._viewContainer.length;s++){var a=this._viewContainer.get(s);a.context.index=s,a.context.count=length,a.context.$implicit=i[s]||null}}}},{key:"kForTemplate",set:function(e){e&&(this._template=e)}}]),e}()).\u0275fac=function(e){return new(e||vL)(Ds(ml),Ds(vl),Ds(cl))},vL.\u0275dir=Mt({type:vL,selectors:[["","kFor","","kForOf",""]],inputs:{kForTemplate:"kForTemplate",kForOf:"kForOf",kForTrackBy:"kForTrackBy"},features:[Ra()]}),vL),IV=((pL=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.bus=t,this.cdr=n,this.localization=i,this.intl=r,this.disabledDatesService=o,this.navigate=!0,this.todayAvailable=!0,this.min=new Date(jM),this.max=new Date(HM),this.rangeLength=1,this.today=new tu,this.subscriptions=new O}return _createClass(e,[{key:"ngOnInit",value:function(){this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))).add(this.localization.changes.subscribe(this.l10nChange.bind(this))).add(this.disabledDatesService.changes.subscribe(this.setTodayAvailability.bind(this)))}},{key:"ngOnChanges",value:function(e){this.bus.service(this.activeView)&&(this.activeViewValue=pz[this.activeView],this.todayMessage=this.localization.get("today"),this.setTodayAvailability(),this.navigate=this.bus.canMoveUp(this.activeView),this.title=this.getTitle())}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}},{key:"handleTodayClick",value:function(){this.todayAvailable&&(this.bus.moveToBottom(this.activeView),this.today.emit($M(KM(),this.min,this.max)))}},{key:"handleNavigation",value:function(){this.navigate&&this.bus.moveUp(this.activeView)}},{key:"intlChange",value:function(){this.currentDate&&this.bus.service(this.activeView)&&(this.title=this.getTitle(),this.cdr.markForCheck())}},{key:"l10nChange",value:function(){this.todayMessage=this.localization.get("today"),this.cdr.markForCheck()}},{key:"getTitle",value:function(){if(!this.currentDate)return"";var e=this.bus.service(this.activeView),t=this.rangeLength-1,n=e.title(this.currentDate),i=e.addToDate(this.currentDate,t);return t<1||!e.isInRange(i,this.min,this.max)?n:"".concat(n," - ").concat(e.title(i))}},{key:"setTodayAvailability",value:function(){var e=KM(),t=qM(e,LD(this.min),LD(this.max)),n=this.disabledDatesService.isDateDisabled(e);this.todayAvailable=t&&!n,this.cdr.markForCheck()}},{key:"getComponentClass",get:function(){return!0}}]),e}()).\u0275fac=function(e){return new(e||pL)(Ds(gz),Ds(Xo),Ds(jy),Ds(NP),Ds(lV))},pL.\u0275cmp=Et({type:pL,selectors:[["kendo-calendar-header"]],hostVars:2,hostBindings:function(e,t){2&e&&sa("k-calendar-header",t.getComponentClass)},inputs:{min:"min",max:"max",rangeLength:"rangeLength",activeView:"activeView",currentDate:"currentDate",templateRef:"templateRef"},outputs:{today:"today"},features:[Ra()],decls:5,vars:21,consts:[[1,"k-button","k-bare","k-title",3,"kendoEventsOutsideAngular","scope"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-today",3,"kendoEventsOutsideAngular","scope"]],template:function(e,t){1&e&&(Ls(0,"span",0),Rs(1,dM,1,1,"ng-template",1),Rs(2,pM,0,0,"ng-template",2),Vs(),Ls(3,"span",3),ya(4),Vs()),2&e&&(sa("k-state-disabled",!t.navigate),Ms("kendoEventsOutsideAngular",jl(13,ZF,t.handleNavigation))("scope",t),wr(1),Ms("ngIf",!t.templateRef),wr(1),Ms("ngIf",t.templateRef)("ngTemplateOutlet",t.templateRef)("ngTemplateOutletContext",Gl(15,WF,t.title,t.activeViewValue,t.currentDate)),wr(1),sa("k-state-disabled",!t.todayAvailable),Ms("kendoEventsOutsideAngular",jl(19,ZF,t.handleTodayClick))("scope",t),wr(1),ba(" ",t.todayMessage," "))},directives:[Im,zc,th],encapsulation:2}),pL),EV=((dL=function(){function e(t){_classCallCheck(this,e),this.intl=t}return _createClass(e,[{key:"getWeekNames",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=XM(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return e?[""].concat(t):t}}]),e}()).\u0275fac=function(e){return new(e||dL)(ut(NP))},dL.\u0275prov=xe({token:dL,factory:dL.\u0275fac}),dL),AV=((fL=function(){function e(t,n,i,r,o,s,a,l){_classCallCheck(this,e),this.bus=t,this.intl=n,this.cdr=i,this.weekService=r,this.element=o,this.zone=s,this.renderer=a,this.disabledDatesService=l,this.direction="vertical",this.isActive=!0,this.change=new tu,this.cellEnter=new tu,this.cellLeave=new tu,this.weekNames=[],this.colSpan=0,this.subscriptions=new O,this.domEvents=[],this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))).add(this.disabledDatesService.changes.subscribe(this.disabledDatesChange.bind(this)))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.element&&this.zone.runOutsideAngular((function(){e.bindEvents()}))}},{key:"ngOnChanges",value:function(e){this.service=this.bus.service(this.activeView),this.service&&(this.isHorizontal()&&0===this.weekNames.length&&(e.weekNumber||e.direction)&&(this.weekNames=this.weekService.getWeekNames(this.weekNumber)),this.colSpan=this.service.rowLength(this.weekNumber),this.title=this.service.title(this.viewDate),this.updateData(),e.activeView&&(this.currentCellIndex=null))}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),this.domEvents.forEach((function(e){return e()}))}},{key:"isHorizontal",value:function(){return"horizontal"===this.direction}},{key:"isMonthView",value:function(){return this.activeView===pz.month}},{key:"firstDate",value:function(e){var t=this.firstWeekDateContext(e);return t?t.value:null}},{key:"getWeekNumber",value:function(e){return this.weekNumber?uF(e,this.intl.firstDay()):null}},{key:"getWeekNumberContext",value:function(e){var t=this.firstWeekDateContext(e);if(!this.weekNumber||!t)return null;var n=uF(t.value,this.intl.firstDay()).toString();return{formattedValue:n,id:null,isFocused:!1,isSelected:!1,isWeekend:!1,title:n,value:DD(t.value)}}},{key:"getStyles",value:function(e){var t,n=e.isRangeEnd,i=e.isRangeStart;return t={"k-range-end":n,"k-range-mid":e.isRangeMid,"k-range-split-end":e.isRangeSplitEnd,"k-range-split-start":e.isRangeSplitStart,"k-range-start":i,"k-state-active":"start"===this.activeRangeEnd&&i||"end"===this.activeRangeEnd&&n,"k-state-focused":this.isActive&&e.isFocused,"k-state-selected":e.isSelected||i||n,"k-today":e.isToday,"k-weekend":e.isWeekend,"k-state-disabled":e.isDisabled},Object.keys(t).reduce((function(e,n){return t[n]?e.concat(n):e}),[]).join(" ")}},{key:"tableCellIndex",value:function(e,t){return"".concat(e,":").concat(t)}},{key:"firstWeekDateContext",value:function(e){if(!this.weekNumber)return null;for(var t=0,n=e[t];!n&&t<e.length;)n=e[++t];return n}},{key:"updateData",value:function(){var e=this.selectedDate||KM(),t=UM(this.viewDate,e);this.data=this.service.data({cellUID:this.cellUID,focusedDate:this.focusedDate,isActiveView:!this.bus.canMoveDown(this.activeView),max:this.max,min:this.min,selectedDate:this.selectedDate,selectionRange:this.selectionRange,viewDate:t,isDateDisabled:this.disabledDatesService.isDateDisabled})}},{key:"intlChange",value:function(){this.updateData(),this.isHorizontal()&&(this.weekNames=this.weekService.getWeekNames(this.weekNumber)),this.cdr.markForCheck()}},{key:"disabledDatesChange",value:function(){this.updateData(),this.cdr.markForCheck()}},{key:"bindEvents",value:function(){var e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"mouseover",this.cellMouseoverHandler.bind(this)),this.renderer.listen(e,"mouseleave",this.mouseLeaveHandler.bind(this)),this.renderer.listen(e,"click",this.clickHandler.bind(this)))}},{key:"clickHandler",value:function(e){var t=this.closestCell(e);if(t){var n=t.getAttribute("data-cell-index"),i=this.cellByIndex(n);i.isDisabled||this.change.emit(i.value)}}},{key:"mouseLeaveHandler",value:function(){this.currentCellIndex&&this.emitCellLeave()}},{key:"cellMouseoverHandler",value:function(e){var t=this.closestCell(e);if(t){var n=t.getAttribute("data-cell-index");this.currentCellIndex&&this.currentCellIndex!==n&&this.emitCellLeave();var i=this.cellByIndex(n).value;this.cellEnter.emit(i),this.currentCellIndex=n}else this.currentCellIndex&&this.emitCellLeave()}},{key:"closestCell",value:function(e){return BL(e.target,(function(e){return e.hasAttribute("data-cell-index")}),this.element.nativeElement)}},{key:"emitCellLeave",value:function(){var e=this.cellByIndex(this.currentCellIndex);e&&this.cellLeave.emit(e.value),this.currentCellIndex=null}},{key:"cellByIndex",value:function(e){var t=_slicedToArray(e.split(":"),2),n=t[0],i=t[1];return this.data[n][i]}},{key:"weekNumber",get:function(){return this.showWeekNumbers&&this.activeView===pz.month},set:function(e){this.showWeekNumbers=e}}]),e}()).\u0275fac=function(e){return new(e||fL)(Ds(gz),Ds(NP),Ds(Xo),Ds(EV),Ds(qa),Ds(qu),Ds(Ya),Ds(lV))},fL.\u0275cmp=Et({type:fL,selectors:[["","kendoCalendarView",""]],inputs:{direction:"direction",isActive:"isActive",weekNumber:"weekNumber",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",selectedDate:"selectedDate",viewDate:"viewDate",activeRangeEnd:"activeRangeEnd",selectionRange:"selectionRange",min:"min",max:"max",viewIndex:"viewIndex",templateRef:"templateRef",weekNumberTemplateRef:"weekNumberTemplateRef"},outputs:{change:"change",cellEnter:"cellEnter",cellLeave:"cellLeave"},features:[Ra()],attrs:vM,decls:5,vars:3,consts:[["emptyCell",""],["role","row",4,"ngIf"],["role","row",4,"kFor","kForOf"],[1,"k-empty"],["role","row"],["scope","col",3,"colSpan"],[4,"ngFor","ngForOf"],[3,"ngIf"],[4,"kFor","kForOf"],["class","k-alt",4,"ngIf","ngIfElse"],[1,"k-alt"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],["role","gridcell",3,"ngClass","title",4,"ngIf","ngIfElse"],["role","gridcell",3,"ngClass","title"],[1,"k-link"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Rs(0,gM,2,0,"ng-template",null,0,wu),Rs(2,mM,3,2,"tr",1),Rs(3,kM,2,1,"tr",1),Rs(4,AM,3,2,"tr",2)),2&e&&(wr(2),Ms("ngIf",!t.isHorizontal()),wr(1),Ms("ngIf",t.isMonthView()&&t.isHorizontal()),wr(1),Ms("kForOf",t.data))},directives:[zc,OV,Fc,th,Pc],encapsulation:2}),fL),RV=((hL=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:hL}),hL.\u0275inj=Te({factory:function(e){return new(e||hL)},imports:[[ih,Em]]}),hL),PV=((cL=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:cL}),cL.\u0275inj=Te({factory:function(e){return new(e||cL)}}),cL),DV=((uL=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(Vy)).\u0275fac=function(e){return FV(e||uL)},uL.\u0275dir=Mt({type:uL,inputs:{today:"today"},features:[Sa]}),uL),FV=si(DV),MV=((bL=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).service=e,n}return _inherits(t,e),t}(DV)).\u0275fac=function(e){return new(e||bL)(Ds(jy))},bL.\u0275dir=Mt({type:bL,selectors:[["","kendoCalendarLocalizedMessages",""]],features:[Ha([{provide:DV,useExisting:Ve((function(){return bL}))}]),Sa]}),bL),zV=((kL=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).service=e,n}return _inherits(t,e),_createClass(t,[{key:"override",get:function(){return!0}}]),t}(DV)).\u0275fac=function(e){return new(e||kL)(Ds(jy))},kL.\u0275cmp=Et({type:kL,selectors:[["kendo-calendar-messages"]],features:[Ha([{provide:DV,useExisting:Ve((function(){return kL}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),kL),LV=((yL=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:yL}),yL.\u0275inj=Te({factory:function(e){return new(e||yL)},imports:[[ih]]}),yL),VV=((mL=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:mL}),mL.\u0275inj=Te({factory:function(e){return new(e||mL)},providers:[Vz,rz,az,cz,dz,EV],imports:[[ih,RV,jP,PV,LV,Em],RV,PV]}),mL),NV=((gL=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(Vy)).\u0275fac=function(e){return BV(e||gL)},gL.\u0275dir=Mt({type:gL,inputs:{decrement:"decrement",increment:"increment"},features:[Sa]}),gL),BV=si(NV),jV=((wL=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).service=e,n}return _inherits(t,e),t}(NV)).\u0275fac=function(e){return new(e||wL)(Ds(jy))},wL.\u0275dir=Mt({type:wL,selectors:[["","kendoDateInputLocalizedMessages",""]],features:[Ha([{provide:NV,useExisting:Ve((function(){return wL}))}]),Sa]}),wL),HV=((CL=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:CL}),CL.\u0275inj=Te({factory:function(e){return new(e||CL)},imports:[[ih,jP,Em]]}),CL),GV=((_L=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(Vy)).\u0275fac=function(e){return UV(e||_L)},_L.\u0275dir=Mt({type:_L,inputs:{today:"today",toggle:"toggle"},features:[Sa]}),_L),UV=si(GV),WV=((xL=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).service=e,n}return _inherits(t,e),t}(GV)).\u0275fac=function(e){return new(e||xL)(Ds(jy))},xL.\u0275dir=Mt({type:xL,selectors:[["","kendoDatePickerLocalizedMessages",""]],features:[Ha([{provide:GV,useExisting:Ve((function(){return xL}))}]),Sa]}),xL),qV=VF,ZV=((FL=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:FL}),FL.\u0275inj=Te({factory:function(e){return new(e||FL)},providers:[{provide:xV,useValue:qV}],imports:[[ih,HV,VV,jP,Lk,PV,Em],PV]}),FL),$V=((DL=function(){function e(){_classCallCheck(this,e),this.buttonLookChange=new gg("default"),this.buttonClicked=new j,this.buttonClicked$=this.buttonClicked.asObservable()}return _createClass(e,[{key:"click",value:function(e){this.buttonClicked.next(e)}},{key:"setButtonLook",value:function(e){this.buttonLookChange.next(e)}}]),e}()).\u0275fac=function(e){return new(e||DL)},DL.\u0275prov=xe({token:DL,factory:DL.\u0275fac}),DL),KV=((PL=function(){function e(t,n,i,r,o){var s=this;_classCallCheck(this,e),this.service=i,this.ngZone=o,this.toggleable=!1,this.primary=!1,this.look="default",this.role="button",this.selectedChange=new tu,this.click=new tu,this.isDisabled=!1,this.isIcon=!1,this.isIconClass=!1,this._focused=!1,this.domEvents=[],this.direction=r.rtl?"rtl":"ltr",this.localizationChangeSubscription=r.changes.subscribe((function(e){var t=e.rtl;return s.direction=t?"rtl":"ltr"})),this.element=t.nativeElement,this.renderer=n}return _createClass(e,[{key:"onFocus",value:function(){this.isFocused=!0}},{key:"onBlur",value:function(){this.isFocused=!1}},{key:"ngOnInit",value:function(){var e=this,t="SPAN"===this.element.tagName;this.service&&(this.buttonLookChangeSubscription=this.service.buttonLookChange.pipe(Pg((function(e){return"default"!==e}))).subscribe((function(t){return e.look=t}))),!this.element.hasAttribute("role")&&this.togglable&&this.toggleAriaCheckbox(this.toggleable),this.role&&this.setAttribute("role",this.role),this.ngZone.runOutsideAngular((function(){e.domEvents.push(e.renderer.listen(e.element,"click",e._onButtonClick.bind(e))),e.domEvents.push(e.renderer.listen(e.element,"keydown",(function(n){!t||n.keyCode!==Bm.Space&&n.keyCode!==Bm.Enter||(e.click.emit(n),e._onButtonClick())})))}))}},{key:"ngOnChanges",value:function(e){(Cm("togglable",e)||Cm("toggleable",e))&&this.toggleAriaCheckbox(this.toggleable)}},{key:"ngAfterViewChecked",value:function(){this.setIconTextClasses()}},{key:"ngOnDestroy",value:function(){this.imageNode=null,this.iconNode=null,this.renderer=null,this.localizationChangeSubscription.unsubscribe(),this.service&&this.buttonLookChangeSubscription&&this.buttonLookChangeSubscription.unsubscribe(),clearTimeout(this.deferTimeout),this.domEvents.forEach((function(e){return e()}))}},{key:"focus",value:function(){_m()&&(this.element.focus(),this.isFocused=!0)}},{key:"blur",value:function(){_m()&&(this.element.blur(),this.isFocused=!1)}},{key:"setAttribute",value:function(e,t){this.renderer.setAttribute(this.element,e,t)}},{key:"removeAttribute",value:function(e){this.renderer.removeAttribute(this.element,e)}},{key:"setSelected",value:function(e){var t=this,n=this.selected!==e;this.selected=e,this.setAttribute("aria-checked",this.selected.toString()),this.toggleClass("k-state-active",this.selected),n&&xm(this.selectedChange)&&this.ngZone.run((function(){t.selectedChange.emit(e)}))}},{key:"toggleAriaCheckbox",value:function(e){_m()&&(e?(this.role="checkbox",this.setAttribute("role",this.role),this.setAttribute("aria-checked",this.selected.toString())):(this.role="button",this.setAttribute("role",this.role),this.removeAttribute("aria-checked")))}},{key:"hasText",value:function(){return!!_m()&&String(this.element.textContent).trim().length>0}},{key:"addImgIcon",value:function(e){var t=this.renderer;this.imageNode?t.setProperty(this.imageNode,"src",e):_m()&&(this.imageNode=t.createElement("img"),t.setProperty(this.imageNode,"src",e),t.setProperty(this.imageNode,"className","k-image"),t.setAttribute(this.imageNode,"role","presentation"),this.prependChild(this.imageNode))}},{key:"addIcon",value:function(e){var t=this.renderer;this.iconNode?t.setProperty(this.iconNode,"className",e):_m()&&(this.iconNode=t.createElement("span"),t.setProperty(this.iconNode,"className",e),t.setAttribute(this.iconNode,"role","presentation"),this.prependChild(this.iconNode))}},{key:"prependChild",value:function(e){var t=this;this.defer((function(){t.renderer&&e!==t.element.firstChild&&t.renderer.insertBefore(t.element,e,t.element.firstChild)}))}},{key:"defer",value:function(e){var t=this;this.ngZone.runOutsideAngular((function(){t.deferTimeout=setTimeout(e,0)}))}},{key:"iconSetter",value:function(e,t){e&&t(e),this.setIconTextClasses()}},{key:"removeImageNode",value:function(){this.imageNode&&this.renderer.parentNode(this.imageNode)&&(this.renderer.removeChild(this.element,this.imageNode),this.imageNode=null)}},{key:"removeIconNode",value:function(){this.iconNode&&this.renderer.parentNode(this.iconNode)&&(this.renderer.removeChild(this.element,this.iconNode),this.iconNode=null)}},{key:"updateIconNode",value:function(){this.isIcon||this.isIconClass||this.removeIconNode()}},{key:"setIconTextClasses",value:function(){var e=this.isIcon||this.isIconClass||this.imageNode,t=this.hasText();this.toggleClass("k-button-icon",e&&!t),this.toggleClass("k-button-icontext",e&&t)}},{key:"toggleClass",value:function(e,t){t?this.renderer.addClass(this.element,e):this.renderer.removeClass(this.element,e)}},{key:"_onButtonClick",value:function(){var e=this;!this.disabled&&this.service&&this.ngZone.run((function(){e.service.click(e)})),this.togglable&&!this.service&&this.setSelected(!this.selected)}},{key:"togglable",get:function(){return this.toggleable},set:function(e){this.toggleable=e}},{key:"selected",get:function(){return this._selected||!1},set:function(e){this._selected=e}},{key:"tabIndex",set:function(e){this.element.tabIndex=e},get:function(){return this.element.tabIndex}},{key:"icon",set:function(e){var t=this;e?this.iconSetter(e,(function(){t.isIcon=!0,t.addIcon("k-icon k-i-"+e)})):(this.isIcon=!1,this.updateIconNode())}},{key:"iconClass",set:function(e){var t=this;e?this.iconSetter(e,(function(){t.isIconClass=!0,t.addIcon(e)})):(this.isIconClass=!1,this.updateIconNode())}},{key:"imageUrl",set:function(e){e?this.iconSetter(e,this.addImgIcon.bind(this)):this.removeImageNode()}},{key:"disabled",set:function(e){this.isDisabled=e,this.renderer.setProperty(this.element,"disabled",e)},get:function(){return this.isDisabled}},{key:"isFocused",set:function(e){this.toggleClass("k-state-focused",e),this._focused=e},get:function(){return this._focused}},{key:"classButton",get:function(){return!0}},{key:"classDisabled",get:function(){return this.isDisabled}},{key:"classPrimary",get:function(){return this.primary}},{key:"isFlat",get:function(){return"flat"===this.look}},{key:"isBare",get:function(){return"bare"===this.look}},{key:"isOutline",get:function(){return"outline"===this.look}},{key:"classActive",get:function(){return this.selected}},{key:"getDirection",get:function(){return this.direction}}]),e}()).\u0275fac=function(e){return new(e||PL)(Ds(qa),Ds(Ya),Ds($V,8),Ds(jy),Ds(qu))},PL.\u0275dir=Mt({type:PL,selectors:[["button","kendoButton",""],["span","kendoButton",""]],hostVars:16,hostBindings:function(e,t){1&e&&Ws("focus",(function(){return t.onFocus()}))("blur",(function(){return t.onBlur()})),2&e&&(As("ariaPressed",t.classActive)("dir",t.getDirection),sa("k-button",t.classButton)("k-state-disabled",t.classDisabled)("k-primary",t.classPrimary)("k-flat",t.isFlat)("k-bare",t.isBare)("k-outline",t.isOutline)("k-state-active",t.classActive))},inputs:{toggleable:"toggleable",primary:"primary",look:"look",role:"role",togglable:"togglable",selected:"selected",tabIndex:"tabIndex",icon:"icon",iconClass:"iconClass",imageUrl:"imageUrl",disabled:"disabled"},outputs:{selectedChange:"selectedChange",click:"click"},exportAs:["kendoButton"],features:[Ha([jy,{provide:By,useValue:"kendo.button"}]),Ra()]}),PL),YV=((RL=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:RL}),RL.\u0275inj=Te({factory:function(e){return new(e||RL)}}),RL),XV=((AL=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:AL}),AL.\u0275inj=Te({factory:function(e){return new(e||AL)},imports:[[ih,YV]]}),AL),QV=((EL=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:EL}),EL.\u0275inj=Te({factory:function(e){return new(e||EL)},imports:[[ih]]}),EL),JV=((IL=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:IL}),IL.\u0275inj=Te({factory:function(e){return new(e||IL)},imports:[[ih,Lk,YV,QV],QV]}),IL),eN=((OL=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:OL}),OL.\u0275inj=Te({factory:function(e){return new(e||OL)},imports:[[ih,Lk,QV,YV],QV]}),OL),tN=((TL=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:TL}),TL.\u0275inj=Te({factory:function(e){return new(e||TL)},imports:[[ih]]}),TL),nN=((SL=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:SL}),SL.\u0275inj=Te({factory:function(e){return new(e||SL)},imports:[XV,YV,JV,eN,tN]}),SL);function iN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=lN;if(n.forceProxy&&!n.proxyURL)throw new Error("No proxyURL is set, but forceProxy is true");n.forceProxy||(oN()&&(i=aN),navigator.msSaveBlob&&(i=sN)),i(e,t,n)}var rN=function(){return document.createElement("a")},oN=function(){return"download"in rN()};function sN(e,t){var n=e;if("string"==typeof e){for(var i=e.split(";base64,"),r=i[0],o=atob(i[1]),s=new Uint8Array(o.length),a=0;a<o.length;a++)s[a]=o.charCodeAt(a);n=new Blob([s.buffer],{type:r})}navigator.msSaveBlob(n,t)}function aN(e,t){var n=e;window.Blob&&e instanceof Blob&&(n=URL.createObjectURL(e));var i=rN();i.download=t,i.href=n;var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(r),setTimeout((function(){return URL.revokeObjectURL(n)}))}function lN(e,t,n){if(n.proxyURL){var i=document.createElement("form");i.setAttribute("action",n.proxyURL),i.setAttribute("method","POST"),i.setAttribute("target",n.proxyTarget||"_self");var r=n.proxyData||{};r.fileName=t;var o=e.split(";base64,");for(var s in r.contentType=o[0].replace("data:",""),r.base64=o[1],r)if(r.hasOwnProperty(s)){var a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name",s),a.setAttribute("value",r[s]),i.appendChild(a)}document.body.appendChild(i),i.submit(),document.body.removeChild(i)}}var uN={compile:function(e){return e}},cN=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"register",value:function(e){uN=e}},{key:"compile",value:function(e){return uN.compile(e)}}]),e}(),hN=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,fN={};function dN(e){if(fN[e])return fN[e];var t=[];return e.replace(hN,(function(e,n,i,r){t.push(void 0!==n?n:i||r)})),fN[e]=function(e){for(var n=e,i=0;i<t.length&&n;i++)n=n[t[i]];return n},fN[e]}function pN(e,t){return e.reduce((function(e,n,i){var r=t(n,i);return null!=r&&e.push(r),e}),[])}function vN(e){return"".concat(e.title,": ").concat(e.value)}function gN(e,t){for(var n=[],i=0;i<e;i++)n.push(t(i));return n}function mN(e){return e.id}fN[void 0]=function(e){return e};var yN={toString:function(e){return e}},kN=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"register",value:function(e){yN=e}},{key:"toString",value:function(e,t){return yN.toString(e,t)}}]),e}(),bN=n("g1Xn"),_N=n.n(bN);function CN(e,t,n){return(1461*(e+4800+((t-13)/12|0))/4|0)+(367*(t-1-12*((t-13)/12|0))/12|0)-(3*((e+4900+((t-13)/12|0))/100|0)/4|0)+n-32075}var wN=CN(1900,0,-1),xN="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",SN="data:".concat(xN,";base64,"),TN={compression:"DEFLATE",type:"base64"},ON={compression:"DEFLATE",type:"blob"},IN={compression:"DEFLATE",type:"arraybuffer"};function EN(e){return SN+e}function AN(e,t){return t.indexOf(e)}var RN=JSON.parse.bind(JSON);function PN(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}function DN(e,t){for(var n="",i=0;i<e;++i)n+=t(i);return n}function FN(e,t){var n="";if(null!=e)if(Array.isArray(e))for(var i=0;i<e.length;++i)n+=t(e[i],i);else"object"==typeof e&&Object.keys(e).forEach((function(i,r){n+=t(e[i],i,r)}));return n}var MN='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r',zN="".concat(MN,'\n            <Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n               <Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/>\n               <Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/>\n               <Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/>\n            </Relationships>'),LN=function(e){return"".concat(MN,'\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  ').concat(FN(e,(function(e){return'\n    <Relationship Id="'.concat(e.rId,'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" Target="').concat(e.target,'"/>')})),"\n</Relationships>")};function VN(e){var t=Math.floor(e/26)-1;return(t>=0?VN(t):"")+String.fromCharCode(65+e%26)}function NN(e,t){return VN(t)+(e+1)}function BN(e,t){return"$"+VN(t)+"$"+(e+1)}function jN(e){return(e.frozenRows||(e.freezePane||{}).rowSplit||1)-1}function HN(e){return e/7-Math.floor(128/7)/256}var GN=function(){function e(t,n,i,r){_classCallCheck(this,e),this.options=t,this._strings=n,this._styles=i,this._borders=r,this._validations={},this._comments=[],this._drawings=t.drawings||[],this._hyperlinks=(this.options.hyperlinks||[]).map((function(e,t){return Object.assign({},e,{rId:"link".concat(t)})}))}return _createClass(e,[{key:"relsToXML",value:function(){var e=this._hyperlinks,t=this._comments,n=this._drawings;if(e.length||t.length||n.length)return function(e){var t=e.hyperlinks,n=e.comments,i=e.sheetIndex,r=e.drawings;return"".concat(MN,'\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  ').concat(FN(t,(function(e){return'\n    <Relationship Id="'.concat(e.rId,'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="').concat(PN(e.target),'" TargetMode="External" />')})),"\n  ").concat(n.length?'\n    <Relationship Id="comment'.concat(i,'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments" Target="../comments').concat(i,'.xml"/>\n    <Relationship Id="vml').concat(i,'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing" Target="../drawings/vmlDrawing').concat(i,'.vml"/>'):"","\n  ").concat(r.length?'\n    <Relationship Id="drw'.concat(i,'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing" Target="../drawings/drawing').concat(i,'.xml"/>'):"","\n</Relationships>")}({hyperlinks:e,comments:t,sheetIndex:this.options.sheetIndex,drawings:n})}},{key:"toXML",value:function(e){var t=this.options.mergedCells||[],n=function(e,t){var n=[],i=[];!function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i){var r=i.index;"number"!=typeof r&&(r=n),t(i,r)}}}(e,(function(e,t){var r={_source:e,index:t,height:e.height,level:e.level,cells:[]};n.push(r),i[t]=r}));for(var r=JN(n).slice(0),o={rowData:n,rowsByIndex:i,mergedCells:t},s=0;s<r.length;s++)iB(r[s],o),delete r[s]._source;return JN(n)}(this.options.rows||[],t);this._readCells(n);var i,r=this.options.filter;r&&"number"==typeof r.from&&"number"==typeof r.to?r={from:NN(jN(this.options),r.from),to:NN(jN(this.options),r.to)}:r&&r.ref&&r.columns&&(i=r,r=null);var o=[];for(var s in this._validations)Object.prototype.hasOwnProperty.call(this._validations,s)&&o.push(this._validations[s]);var a=null;this.options.defaultCellStyle&&(a=this._lookupStyle(this.options.defaultCellStyle));var l=this.options.freezePane||{},u=this.options.defaults||{},c=this.options.rows?this._getLastRow():1,h=this.options.rows?this._getLastCol():1;return function(e){var t=e.frozenColumns,n=e.frozenRows,i=e.columns,r=e.defaults,o=e.data,s=e.index,a=e.mergeCells,l=e.autoFilter,u=e.filter,c=e.showGridLines,h=e.hyperlinks,f=e.validations,d=e.defaultCellStyleId,p=e.rtl,v=e.legacyDrawing,g=e.drawing,m=e.lastRow,y=e.lastCol;return"".concat(MN,'\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable="x14ac">\n   <dimension ref="A1:').concat(NN(m-1,y-1),'" />\n\n   <sheetViews>\n     <sheetView ').concat(p?'rightToLeft="1"':""," ").concat(0===s?'tabSelected="1"':"",' workbookViewId="0" ').concat(!1===c?'showGridLines="0"':"",">\n     ").concat(n||t?'\n       <pane state="frozen"\n         '.concat(t?'xSplit="'.concat(t,'"'):"","\n         ").concat(n?'ySplit="'.concat(n,'"'):"",'\n         topLeftCell="').concat(String.fromCharCode(65+(t||0))+((n||0)+1),'"\n       />'):"",'\n     </sheetView>\n   </sheetViews>\n\n   <sheetFormatPr x14ac:dyDescent="0.25" customHeight="1" defaultRowHeight="').concat(r.rowHeight?.75*r.rowHeight:15,'"\n     ').concat(r.columnWidth?'defaultColWidth="'.concat(HN(r.columnWidth),'"'):""," />\n\n   ").concat(null!=d||i&&i.length>0?"\n     <cols>\n       ".concat(i&&i.length?"":'\n         <col min="1" max="16384" style="'.concat(d,'"\n              ').concat(r.columnWidth?'width="'.concat(HN(r.columnWidth),'"'):""," /> "),"\n       ").concat(FN(i,(function(e,t){var n="number"==typeof e.index?e.index+1:t+1;return 0===e.width?"<col ".concat(null!=d?'style="'.concat(d,'"'):"",'\n                        min="').concat(n,'" max="').concat(n,'" hidden="1" customWidth="1" />'):"<col ".concat(null!=d?'style="'.concat(d,'"'):"",'\n                      min="').concat(n,'" max="').concat(n,'" customWidth="1"\n                      ').concat(e.autoWidth?'width="'.concat((7*e.width+5)/7*256/256,'" bestFit="1"'):'width="'.concat(HN(e.width),'"')," />")})),"\n     </cols>"):"","\n\n   <sheetData>\n     ").concat(FN(o,(function(e,t){return'\n         <row r="'.concat("number"==typeof e.index?e.index+1:t+1,'" x14ac:dyDescent="0.25"\n              ').concat(e.level?'outlineLevel="'.concat(e.level,'"'):"","\n              ").concat(0===e.height?'hidden="1"':e.height?'ht="'.concat((n=e.height,.75*n),'" customHeight="1"'):"",">\n           ").concat(FN(e.data,(function(e){return'\n             <c r="'.concat(e.ref,'" ').concat(e.style?'s="'.concat(e.style,'"'):""," ").concat(e.type?'t="'.concat(e.type,'"'):"",">\n               ").concat(null!=e.formula?(t=e.formula,"string"==typeof t?"<f>".concat(PN(t),"</f>"):'<f t="array" ref="'.concat(t.ref,'">').concat(PN(t.src),"</f>")):"","\n               ").concat(null!=e.value?"<v>".concat(PN(e.value),"</v>"):"","\n             </c>");var t})),"\n         </row>\n       ");var n})),"\n   </sheetData>\n\n   ").concat(l?'<autoFilter ref="'.concat(l.from,":").concat(l.to,'"/>'):u?hB(u):"","\n\n   ").concat(a.length?'\n     <mergeCells count="'.concat(a.length,'">\n       ').concat(FN(a,(function(e){return'<mergeCell ref="'.concat(e,'"/>')})),"\n     </mergeCells>"):"","\n\n   ").concat(f.length?"\n     <dataValidations>\n       ".concat(FN(f,(function(e){return'\n         <dataValidation sqref="'.concat(e.sqref.join(" "),'"\n                         showErrorMessage="').concat(e.showErrorMessage,'"\n                         type="').concat(PN(e.type),'"\n                         ').concat("list"!==e.type?'operator="'.concat(PN(e.operator),'"'):"",'\n                         allowBlank="').concat(e.allowBlank,'"\n                         showDropDown="').concat(e.showDropDown,'"\n                         ').concat(e.error?'error="'.concat(PN(e.error),'"'):"","\n                         ").concat(e.errorTitle?'errorTitle="'.concat(PN(e.errorTitle),'"'):"",">\n           ").concat(e.formula1?"<formula1>".concat(PN(e.formula1),"</formula1>"):"","\n           ").concat(e.formula2?"<formula2>".concat(PN(e.formula2),"</formula2>"):"","\n         </dataValidation>")})),"\n     </dataValidations>"):"","\n\n   ").concat(h.length?"\n     <hyperlinks>\n       ".concat(FN(h,(function(e){return'\n         <hyperlink ref="'.concat(e.ref,'" r:id="').concat(e.rId,'"/>')})),"\n     </hyperlinks>"):"",'\n\n   <pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" />\n   ').concat(g?'<drawing r:id="'.concat(g,'"/>'):"","\n   ").concat(v?'<legacyDrawing r:id="'.concat(v,'"/>'):"","\n</worksheet>")}({frozenColumns:this.options.frozenColumns||l.colSplit,frozenRows:this.options.frozenRows||l.rowSplit,columns:this.options.columns,defaults:u,data:n,index:e,mergeCells:t,autoFilter:r,filter:i,showGridLines:this.options.showGridLines,hyperlinks:this._hyperlinks,validations:o,defaultCellStyleId:a,rtl:void 0!==this.options.rtl?this.options.rtl:u.rtl,legacyDrawing:this._comments.length?"vml".concat(this.options.sheetIndex):null,drawing:this._drawings.length?"drw".concat(this.options.sheetIndex):null,lastRow:c,lastCol:h})}},{key:"commentsXML",value:function(){if(this._comments.length)return e={comments:this._comments},t=e.comments,"".concat(MN,'\n<comments xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">\n  <authors>\n    <author></author>\n  </authors>\n  <commentList>\n    ').concat(FN(t,(function(e){return'\n      <comment ref="'.concat(e.ref,'" authorId="0">\n        <text>\n          <r>\n            <rPr>\n              <sz val="8"/>\n              <color indexed="81"/>\n              <rFont val="Tahoma"/>\n              <charset val="1"/>\n            </rPr>\n            <t>').concat(PN(e.text),"</t>\n          </r>\n        </text>\n      </comment>")})),"\n  </commentList>\n</comments>");var e,t}},{key:"drawingsXML",value:function(e){if(this._drawings.length){var t={};return{main:(n=this._drawings.map((function(n){var i=tB(n.topLeftCell),r=t[n.image];return r||(r=t[n.image]={rId:"img".concat(n.image),target:e[n.image].target}),{col:i.col,colOffset:nB(n.offsetX),row:i.row,rowOffset:nB(n.offsetY),width:nB(n.width),height:nB(n.height),imageId:r.rId}})),"".concat(MN,'\n<xdr:wsDr xmlns:xdr="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"\n          xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"\n          xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\n  ').concat(FN(n,(function(e,t){return'\n    <xdr:oneCellAnchor editAs="oneCell">\n      <xdr:from>\n        <xdr:col>'.concat(e.col,"</xdr:col>\n        <xdr:colOff>").concat(e.colOffset,"</xdr:colOff>\n        <xdr:row>").concat(e.row,"</xdr:row>\n        <xdr:rowOff>").concat(e.rowOffset,'</xdr:rowOff>\n      </xdr:from>\n      <xdr:ext cx="').concat(e.width,'" cy="').concat(e.height,'" />\n      <xdr:pic>\n        <xdr:nvPicPr>\n          <xdr:cNvPr id="').concat(t+1,'" name="Picture ').concat(t+1,'"/>\n          <xdr:cNvPicPr/>\n        </xdr:nvPicPr>\n        <xdr:blipFill>\n          <a:blip r:embed="').concat(e.imageId,'"/>\n          <a:stretch>\n            <a:fillRect/>\n          </a:stretch>\n        </xdr:blipFill>\n        <xdr:spPr>\n          <a:prstGeom prst="rect">\n            <a:avLst/>\n          </a:prstGeom>\n        </xdr:spPr>\n      </xdr:pic>\n      <xdr:clientData/>\n    </xdr:oneCellAnchor>')})),"\n</xdr:wsDr>")),rels:LN(t)}}var n}},{key:"legacyDrawing",value:function(){if(this._comments.length)return e={comments:this._comments},'<xml xmlns:v="urn:schemas-microsoft-com:vml"\n     xmlns:o="urn:schemas-microsoft-com:office:office"\n     xmlns:x="urn:schemas-microsoft-com:office:excel">\n  <v:shapetype id="_x0000_t202" path="m,l,21600r21600,l21600,xe"></v:shapetype>\n  '.concat(FN(e.comments,(function(e){return'\n    <v:shape type="#_x0000_t202" style="visibility: hidden" fillcolor="#ffffe1" o:insetmode="auto">\n      <v:shadow on="t" color="black" obscured="t"/>\n      <x:ClientData ObjectType="Note">\n        <x:MoveWithCells/>\n        <x:SizeWithCells/>\n        <x:Anchor>'.concat(e.anchor,"</x:Anchor>\n        <x:AutoFill>False</x:AutoFill>\n        <x:Row>").concat(e.row,"</x:Row>\n        <x:Column>").concat(e.col,"</x:Column>\n      </x:ClientData>\n    </v:shape>")})),"\n</xml>");var e}},{key:"_lookupString",value:function(e){var t,n="$"+e,i=this._strings.indexes[n];return void 0!==i?t=i:(t=this._strings.indexes[n]=this._strings.uniqueCount,this._strings.uniqueCount++),this._strings.count++,t}},{key:"_lookupStyle",value:function(e){var t=JSON.stringify(e);if("{}"===t)return 0;var n=AN(t,this._styles);return n<0&&(n=this._styles.push(t)-1),n+1}},{key:"_lookupBorder",value:function(e){var t=JSON.stringify(e);if("{}"!==t){var n=AN(t,this._borders);return n<0&&(n=this._borders.push(t)-1),n+1}}},{key:"_readCells",value:function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.cells;n.data=[];for(var r=0;r<i.length;r++){var o=this._cell(i[r],n.index,r);o&&n.data.push(o)}}}},{key:"_cell",value:function(e,t,n){if(!e||e===QN)return null;var i=e.value,r={};e.borderLeft&&(r.left=e.borderLeft),e.borderRight&&(r.right=e.borderRight),e.borderTop&&(r.top=e.borderTop),e.borderBottom&&(r.bottom=e.borderBottom),r=this._lookupBorder(r);var o,s=this.options.defaultCellStyle||{},a={borderId:r};(o=function(t,n){var i=e[t];if(void 0===i&&(i=s[t]),void 0!==i)return a[n||t]=i,!0})("color"),o("background"),o("bold"),o("italic"),o("underline"),o("fontFamily")||o("fontName","fontFamily"),o("fontSize"),o("format"),o("textAlign")||o("hAlign","textAlign"),o("verticalAlign")||o("vAlign","verticalAlign"),o("wrap"),o("indent");var l,u,c,h=(this.options.columns||[])[n],f=typeof i;if(h&&h.autoWidth&&(!e.colSpan||1===e.colSpan)){var d=i;"number"===f&&(d=kN.toString(i,e.format)),h.width=Math.max(h.width||0,String(d).length)}"string"===f?(i=function(e){return String(e).replace(/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,"").replace(/\r?\n/g,"\r\n")}(i),i=this._lookupString(i),f="s"):"number"===f?f="n":"boolean"===f?(f="b",i=Number(i)):i&&i.getTime?(f=null,u=((l=i).getHours()+(l.getMinutes()+(l.getSeconds()+l.getMilliseconds()/1e3)/60)/60)/24,i=(c=function(e,t,n){return CN(e,t,n)-wN}(l.getFullYear(),l.getMonth(),l.getDate()))<0?c-1+u:c+u,a.format||(a.format="mm-dd-yy")):(f=null,i=null),a=this._lookupStyle(a);var p=NN(t,n);return e.validation&&this._addValidation(e.validation,p),e.comment&&this._comments.push({ref:p,text:e.comment,row:t,col:n,anchor:[n+1,15,t,10,n+3,15,t+3,4].join(", ")}),{value:i,formula:e.formula,type:f,style:a,ref:p}}},{key:"_addValidation",value:function(e,t){var n={showErrorMessage:"reject"===e.type?1:0,formula1:e.from,formula2:e.to,type:qN[e.dataType]||e.dataType,operator:WN[e.comparerType]||e.comparerType,allowBlank:e.allowNulls?1:0,showDropDown:e.showButton?0:1,error:e.messageTemplate,errorTitle:e.titleTemplate},i=JSON.stringify(n);this._validations[i]||(this._validations[i]=n,n.sqref=[]),this._validations[i].sqref.push(t)}},{key:"_getLastRow",value:function(){return UN(this.options.rows)}},{key:"_getLastCol",value:function(){var e=0;return this.options.rows.forEach((function(t){t.cells&&(e=Math.max(e,UN(t.cells)))})),e}}]),e}();function UN(e){var t=e.length;return e.forEach((function(e){e.index&&e.index>=t&&(t=e.index+1)})),t}var WN={greaterThanOrEqualTo:"greaterThanOrEqual",lessThanOrEqualTo:"lessThanOrEqual"},qN={number:"decimal"},ZN={General:0,0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49,"[$-404]e/m/d":27,"m/d/yy":30,t0:59,"t0.00":60,"t#,##0":61,"t#,##0.00":62,"t0%":67,"t0.00%":68,"t# ?/?":69,"t# ??/??":70};function $N(e){var t=e;return t.length<6&&(t=t.replace(/(\w)/g,(function(e,t){return t+t}))),(t=t.substring(1).toUpperCase()).length<8&&(t="FF"+t),t}var KN=function(){function e(t){var n=this;_classCallCheck(this,e),this.options=t||{},this._strings={indexes:{},count:0,uniqueCount:0},this._styles=[],this._borders=[],this._images=this.options.images,this._imgId=0,this._sheets=pN(this.options.sheets||[],(function(e,t){return e.defaults=n.options,e.sheetIndex=t+1,new GN(e,n._strings,n._styles,n._borders)}))}return _createClass(e,[{key:"imageFilename",value:function(e){var t=++this._imgId;switch(e){case"image/jpg":case"image/jpeg":return"image".concat(t,".jpg");case"image/png":return"image".concat(t,".png");case"image/gif":return"image".concat(t,".gif");default:return"image".concat(t,".bin")}}},{key:"toZIP",value:function(){var e,t,n,i,r,o=this,s=new _N.a,a=s.folder("docProps");a.file("core.xml",(e={creator:this.options.creator||"Kendo UI",lastModifiedBy:this.options.creator||"Kendo UI",created:this.options.date||(new Date).toJSON(),modified:this.options.date||(new Date).toJSON()},t=e.creator,n=e.lastModifiedBy,i=e.created,r=e.modified,"".concat(MN,'\n <cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties"\n   xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/"\n   xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n   <dc:creator>').concat(PN(t),"</dc:creator>\n   <cp:lastModifiedBy>").concat(PN(n),'</cp:lastModifiedBy>\n   <dcterms:created xsi:type="dcterms:W3CDTF">').concat(PN(i),'</dcterms:created>\n   <dcterms:modified xsi:type="dcterms:W3CDTF">').concat(PN(r),"</dcterms:modified>\n</cp:coreProperties>")));var l,u,c=this._sheets.length;a.file("app.xml",(l={sheets:this._sheets},u=l.sheets,"".concat(MN,'\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes">\n  <Application>Microsoft Excel</Application>\n  <DocSecurity>0</DocSecurity>\n  <ScaleCrop>false</ScaleCrop>\n  <HeadingPairs>\n    <vt:vector size="2" baseType="variant">\n      <vt:variant>\n        <vt:lpstr>Worksheets</vt:lpstr>\n      </vt:variant>\n      <vt:variant>\n        <vt:i4>').concat(u.length,'</vt:i4>\n      </vt:variant>\n    </vt:vector>\n  </HeadingPairs>\n  <TitlesOfParts>\n    <vt:vector size="').concat(u.length,'" baseType="lpstr">').concat(FN(u,(function(e,t){return e.options.title?"<vt:lpstr>".concat(PN(e.options.title),"</vt:lpstr>"):"<vt:lpstr>Sheet".concat(t+1,"</vt:lpstr>")})),"</vt:vector>\n  </TitlesOfParts>\n  <LinksUpToDate>false</LinksUpToDate>\n  <SharedDoc>false</SharedDoc>\n  <HyperlinksChanged>false</HyperlinksChanged>\n  <AppVersion>14.0300</AppVersion>\n</Properties>"))),s.folder("_rels").file(".rels",zN);var h,f=s.folder("xl");if(f.folder("_rels").file("workbook.xml.rels",(h={count:c}.count,"".concat(MN,'\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  ').concat(DN(h,(function(e){return'\n    <Relationship Id="rId'.concat(e+1,'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet').concat(e+1,'.xml" />')})),'\n  <Relationship Id="rId').concat(h+1,'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" />\n  <Relationship Id="rId').concat(h+2,'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />\n</Relationships>'))),this._images){var d=f.folder("media");Object.keys(this._images).forEach((function(e){var t=o._images[e],n=o.imageFilename(t.type);d.file(n,t.data),t.target="../media/".concat(n)}))}var p={};f.file("workbook.xml",function(e){var t=e.sheets,n=e.filterNames,i=e.userNames;return"".concat(MN,'\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\n  <fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9303" />\n  <workbookPr defaultThemeVersion="124226" />\n  <bookViews>\n    <workbookView xWindow="240" yWindow="45" windowWidth="18195" windowHeight="7995" />\n  </bookViews>\n  <sheets>\n  ').concat(FN(t,(function(e,t){var n=e.options;return'<sheet name="'.concat(PN(n.name||n.title||"Sheet".concat(t+1)),'" sheetId="').concat(t+1,'" r:id="rId').concat(t+1,'" />')})),"\n  </sheets>\n  ").concat(n.length||i.length?"\n    <definedNames>\n      ".concat(FN(n,(function(e){return'\n         <definedName name="_xlnm._FilterDatabase" hidden="1" localSheetId="'.concat(e.localSheetId,'">').concat(PN(function(e){return/^\'/.test(e)?e:/^[a-z_][a-z0-9_]*$/i.test(e)?e:"'"+e.replace(/\x27/g,"\\'")+"'"}(e.name)),"!").concat(PN(e.from),":").concat(PN(e.to),"</definedName>")})),"\n      ").concat(FN(i,(function(e){return'\n         <definedName name="'.concat(e.name,'" hidden="').concat(e.hidden?1:0,'" ').concat(null!=e.localSheetId?'localSheetId="'.concat(e.localSheetId,'"'):"",">").concat(PN(e.value),"</definedName>")})),"\n    </definedNames>"):"",'\n  <calcPr fullCalcOnLoad="1" calcId="145621" />\n</workbook>')}({sheets:this._sheets,filterNames:pN(this._sheets,(function(e,t){var n=e.options,i=n.name||n.title||"Sheet"+(t+1);p[i.toLowerCase()]=t;var r=n.filter;if(r){if(r.ref){var o=r.ref.split(":"),s=tB(o[0]),a=tB(o[1]);return{localSheetId:t,name:i,from:BN(s.row,s.col),to:BN(a.row,a.col)}}if(void 0!==r.from&&void 0!==r.to)return{localSheetId:t,name:i,from:BN(jN(n),r.from),to:BN(jN(n),r.to)}}})),userNames:pN(this.options.names||[],(function(e){return{name:e.localName,localSheetId:e.sheet?p[e.sheet.toLowerCase()]:null,value:e.value,hidden:e.hidden}}))}));for(var v=f.folder("worksheets"),g=f.folder("drawings"),m=g.folder("_rels"),y=v.folder("_rels"),k=[],b=[],_=0;_<c;_++){var C=this._sheets[_],w="sheet".concat(_+1,".xml"),x=C.toXML(_),S=C.relsToXML(),T=C.commentsXML(),O=C.legacyDrawing(),I=C.drawingsXML(this._images);if(S&&y.file(w+".rels",S),T){var E="comments".concat(C.options.sheetIndex,".xml");f.file(E,T),k.push(E)}if(O&&g.file("vmlDrawing".concat(C.options.sheetIndex,".vml"),O),I){var A="drawing".concat(C.options.sheetIndex,".xml");g.file(A,I.main),m.file("".concat(A,".rels"),I.rels),b.push(A)}v.file(w,x)}var R=pN(this._borders,RN),P=pN(this._styles,RN),D=function(e){return e.underline||e.bold||e.italic||e.color||e.fontFamily||e.fontSize},F=pN(P,(function(e){if(e.fontSize&&(e.fontSize=(t=e.fontSize,(i=Number(t))&&(n=3*i/4),n)),e.color&&(e.color=$N(e.color)),D(e))return e;var t,n,i})),M=pN(P,(function(e){if(e.format&&void 0===ZN[e.format])return e})),z=pN(P,(function(e){if(e.background)return e.background=$N(e.background),e}));return f.file("styles.xml",function(e){var t=e.formats,n=e.fonts,i=e.fills,r=e.borders,o=e.styles;return"".concat(MN,'\n<styleSheet\n    xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"\n    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"\n    mc:Ignorable="x14ac"\n    xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">\n  <numFmts count="').concat(t.length,'">\n  ').concat(FN(t,(function(e,t){return'\n    <numFmt formatCode="'.concat(PN(e.format),'" numFmtId="').concat(165+t,'" />')})),'\n  </numFmts>\n  <fonts count="').concat(n.length+1,'" x14ac:knownFonts="1">\n    <font>\n       <sz val="11" />\n       <color theme="1" />\n       <name val="Calibri" />\n       <family val="2" />\n       <scheme val="minor" />\n    </font>\n    ').concat(FN(n,(function(e){return"\n    <font>\n      ".concat(e.bold?"<b/>":"","\n      ").concat(e.italic?"<i/>":"","\n      ").concat(e.underline?"<u/>":"",'\n      <sz val="').concat(e.fontSize||11,'" />\n      ').concat(e.color?'<color rgb="'.concat(PN(e.color),'" />'):'<color theme="1" />',"\n      ").concat(e.fontFamily?'\n        <name val="'.concat(PN(e.fontFamily),'" />\n        <family val="2" />\n      '):'\n        <name val="Calibri" />\n        <family val="2" />\n        <scheme val="minor" />\n      ',"\n    </font>")})),'\n  </fonts>\n  <fills count="').concat(i.length+2,'">\n      <fill><patternFill patternType="none"/></fill>\n      <fill><patternFill patternType="gray125"/></fill>\n    ').concat(FN(i,(function(e){return"\n      ".concat(e.background?'\n        <fill>\n          <patternFill patternType="solid">\n              <fgColor rgb="'.concat(PN(e.background),'"/>\n          </patternFill>\n        </fill>\n      '):"")})),'\n  </fills>\n  <borders count="').concat(r.length+1,'">\n    <border><left/><right/><top/><bottom/><diagonal/></border>\n    ').concat(FN(r,XN),'\n  </borders>\n  <cellStyleXfs count="1">\n    <xf borderId="0" fillId="0" fontId="0" />\n  </cellStyleXfs>\n  <cellXfs count="').concat(o.length+1,'">\n    <xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" />\n    ').concat(FN(o,(function(e){return'\n      <xf xfId="0"\n          '.concat(e.fontId?'fontId="'.concat(e.fontId,'" applyFont="1"'):"","\n          ").concat(e.fillId?'fillId="'.concat(e.fillId,'" applyFill="1"'):"","\n          ").concat(e.numFmtId?'numFmtId="'.concat(e.numFmtId,'" applyNumberFormat="1"'):"","\n          ").concat(e.textAlign||e.verticalAlign||e.wrap?'applyAlignment="1"':"","\n          ").concat(e.borderId?'borderId="'.concat(e.borderId,'" applyBorder="1"'):"",">\n        ").concat(e.textAlign||e.verticalAlign||e.wrap?"\n        <alignment\n          ".concat(e.textAlign?'horizontal="'.concat(PN(e.textAlign),'"'):"","\n          ").concat(e.verticalAlign?'vertical="'.concat(PN(e.verticalAlign),'"'):"","\n          ").concat(e.indent?'indent="'.concat(PN(e.indent),'"'):"","\n          ").concat(e.wrap?'wrapText="1"':""," />\n        "):"","\n      </xf>\n    ")})),'\n  </cellXfs>\n  <cellStyles count="1">\n    <cellStyle name="Normal" xfId="0" builtinId="0"/>\n  </cellStyles>\n  <dxfs count="0" />\n  <tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9" />\n</styleSheet>')}({fonts:F,fills:z,formats:M,borders:R,styles:pN(P,(function(e){var t={};return D(e)&&(t.fontId=AN(e,F)+1),e.background&&(t.fillId=AN(e,z)+2),t.textAlign=e.textAlign,t.indent=e.indent,t.verticalAlign=e.verticalAlign,t.wrap=e.wrap,t.borderId=e.borderId,e.format&&(t.numFmtId=void 0!==ZN[e.format]?ZN[e.format]:165+AN(e,M)),t}))})),f.file("sharedStrings.xml",function(e){var t=e.count,n=e.uniqueCount,i=e.indexes;return"".concat(MN,'\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="').concat(t,'" uniqueCount="').concat(n,'">\n  ').concat(FN(Object.keys(i),(function(e){return'\n    <si><t xml:space="preserve">'.concat(PN(e.substring(1)),"</t></si>")})),"\n</sst>")}(this._strings)),s.file("[Content_Types].xml",function(e){var t=e.sheetCount,n=e.commentFiles,i=e.drawingFiles;return"".concat(MN,'\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n  <Default Extension="png" ContentType="image/png"/>\n  <Default Extension="gif" ContentType="image/gif"/>\n  <Default Extension="jpg" ContentType="image/jpeg"/>\n  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" />\n  <Default Extension="xml" ContentType="application/xml" />\n  <Default Extension="vml" ContentType="application/vnd.openxmlformats-officedocument.vmlDrawing"/>\n  <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" />\n  <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>\n  <Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>\n  ').concat(DN(t,(function(e){return'<Override PartName="/xl/worksheets/sheet'.concat(e+1,'.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" />')})),"\n  ").concat(FN(n,(function(e){return'<Override PartName="/xl/'.concat(e,'" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"/>')})),"\n  ").concat(FN(i,(function(e){return'<Override PartName="/xl/drawings/'.concat(e,'" ContentType="application/vnd.openxmlformats-officedocument.drawing+xml"/>')})),'\n  <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" />\n  <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" />\n</Types>')}({sheetCount:c,commentFiles:k,drawingFiles:b})),s}},{key:"toDataURL",value:function(){var e=this.toZIP();return e.generateAsync?e.generateAsync(TN).then(EN):EN(e.generate(TN))}},{key:"toBlob",value:function(){var e=this.toZIP();return e.generateAsync?e.generateAsync(ON):new Blob([e.generate(IN)],{type:xN})}}]),e}();function YN(e,t){var n,i,r="";return t&&(r+="<"+e+' style="'+(n=t.size,i="thin",2===n?i="medium":3===n&&(i="thick"),i)+'">',t.color&&(r+='<color rgb="'+$N(t.color)+'"/>'),r+="</"+e+">"),r}function XN(e){return"<border>"+YN("left",e.left)+YN("right",e.right)+YN("top",e.top)+YN("bottom",e.bottom)+"</border>"}var QN={};function JN(e){return e.sort((function(e,t){return e.index-t.index}))}function eB(e,t){for(var n=0;n<e.length;++n){var i=e[n].split(":"),r=i[0];if(r===t){var o=i[1];return r=tB(r),{rowSpan:(o=tB(o)).row-r.row+1,colSpan:o.col-r.col+1}}}}function tB(e){var t,n=/^([a-z]+)(\d+)$/i.exec(e);return{row:(t=n[2],parseInt(t,10)-1),col:function(e){for(var t=e.toUpperCase(),n=0,i=0;i<t.length;++i)n=26*n+t.charCodeAt(i)-64;return n-1}(n[1])}}function nB(e){return Math.round(9525*e)}function iB(e,t){var n,i,r=e.index,o=e._source.cells,s=e.cells;if(o)for(var a=0;a<o.length;a++){var l=o[a]||QN,u=l.rowSpan||1,c=l.colSpan||1,h=rB(s,l),f=NN(r,h);if(1===u&&1===c){var d=eB(t.mergedCells,f);d&&(c=d.colSpan,u=d.rowSpan)}if(sB(l,s,h,c),(u>1||c>1)&&(n=t.mergedCells,i=f+":"+NN(r+u-1,h+c-1),n.indexOf(i)<0&&n.push(i)),u>1)for(var p=r+1;p<r+u;p++){var v=t.rowsByIndex[p];v||(v=t.rowsByIndex[p]={index:p,cells:[]},t.rowData.push(v)),sB(l,v.cells,h-1,c+1)}}}function rB(e,t){var n;return"number"==typeof t.index?(n=t.index,oB(e,t,t.index)):n=function(e,t){for(var n=e.length,i=0;i<e.length+1;i++)if(!e[i]){e[i]=t,n=i;break}return n}(e,t),n}function oB(e,t,n){e[n]=t}function sB(e,t,n,i){for(var r=1;r<i;r++)oB(t,{borderTop:e.borderTop,borderRight:e.borderRight,borderBottom:e.borderBottom,borderLeft:e.borderLeft},n+r)}var aB=function(e){var t=e.logic,n=e.criteria;return"\n<customFilters ".concat("and"===t?'and="1"':"",">\n").concat(FN(n,(function(e){var t=hB.customOperator(e);return"<customFilter ".concat(t?'operator="'.concat(t,'"'):"",' val="').concat(hB.customValue(e),'"/>')})),"\n</customFilters>")},lB=function(e){var t=e.type;return'<dynamicFilter type="'.concat(hB.dynamicFilterType(t),'" />')},uB=function(e){var t=e.type,n=e.value;return'<top10 percent="'.concat(/percent$/i.test(t)?1:0,'"\n       top="').concat(/^top/i.test(t)?1:0,'"\n       val="').concat(n,'" />')},cB=function(e){var t=e.blanks,n=e.values;return"<filters ".concat(t?'blank="1"':"",">\n    ").concat(FN(n,(function(e){return'\n      <filter val="'.concat(e,'" />')})),"\n  </filters>")};function hB(e){return t={ref:e.ref,columns:e.columns,generators:{custom:aB,dynamic:lB,top:uB,value:cB}},n=t.columns,i=t.generators,'\n<autoFilter ref="'.concat(t.ref,'">\n  ').concat(FN(n,(function(e){return'\n    <filterColumn colId="'.concat(e.index,'">\n      ').concat(i[e.filter](e),"\n    </filterColumn>\n  ")})),"\n</autoFilter>");var t,n,i}hB.customOperator=function(e){return{eq:"equal",gt:"greaterThan",gte:"greaterThanOrEqual",lt:"lessThan",lte:"lessThanOrEqual",ne:"notEqual",doesnotstartwith:"notEqual",doesnotendwith:"notEqual",doesnotcontain:"notEqual",doesnotmatch:"notEqual"}[e.operator.toLowerCase()]},hB.customValue=function(e){function t(e){return e.replace(/([*?])/g,"~$1")}switch(e.operator.toLowerCase()){case"startswith":case"doesnotstartwith":return t(e.value)+"*";case"endswith":case"doesnotendwith":return"*"+t(e.value);case"contains":case"doesnotcontain":return"*"+t(e.value)+"*";default:return e.value}},hB.dynamicFilterType=function(e){return{quarter1:"Q1",quarter2:"Q2",quarter3:"Q3",quarter4:"Q4",january:"M1",february:"M2",march:"M3",april:"M4",may:"M5",june:"M6",july:"M7",august:"M8",september:"M9",october:"M10",november:"M11",december:"M12"}[e.toLowerCase()]||e};var fB=function(e,t,n){var i=e.createEmbeddedView(t),r=function(e){return n(t,e),i.detectChanges(),i.rootNodes.reduce((function(e,t){return e+t.textContent}),"").trim()};return r.destroy=function(){i.destroy(),i=null},r},dB=function(e,t){e.$implicit=e.group=t,e.field=t.field,e.value=t.value,e.aggregates=t.aggregates},pB=function(e,t){e.group=t.group,e.$implicit=e.aggregates=t},vB=function(e,t){e.aggregates=t.aggregates},gB=function(e){e&&e.forEach((function(e){e.destroy()}))},mB=function(){function e(t,n){_classCallCheck(this,e),this.title=t.title,this.field=t.field,this.hidden=t.hidden,this.locked=t.locked,this.width=t.width,this.headerCellOptions=t.headerCellOptions,this.cellOptions=t.cellOptions,this.groupHeaderCellOptions=t.groupHeaderCellOptions,this.groupFooterCellOptions=t.groupFooterCellOptions,this.footerCellOptions=t.footerCellOptions,t.footerTemplate&&(this.footerTemplate=fB(t.footerTemplate.templateRef,{$implicit:t,column:t,columnIndex:n},vB)),t.groupFooterTemplate&&(this.groupFooterTemplate=fB(t.groupFooterTemplate.templateRef,{column:t,field:t.field},pB)),t.groupHeaderTemplate&&(this.groupHeaderTemplate=fB(t.groupHeaderTemplate.templateRef,{},dB)),t.groupHeaderColumnTemplate&&(this.groupHeaderColumnTemplate=fB(t.groupHeaderColumnTemplate.templateRef,{},dB))}return _createClass(e,[{key:"destroy",value:function(){this.footerTemplate&&this.footerTemplate.destroy(),this.groupFooterTemplate&&this.groupFooterTemplate.destroy(),this.groupHeaderTemplate&&this.groupHeaderTemplate.destroy(),this.groupHeaderColumnTemplate&&this.groupHeaderColumnTemplate.destroy(),gB(this.columns)}}]),e}();kN.register({toString:yP});var yB,kB,bB,_B,CB,wB,xB=((wB=function(){function e(t){_classCallCheck(this,e),this.parent=t}return _createClass(e,[{key:"level",get:function(){return this.parent?this.parent.level+1:0}}]),e}()).\u0275fac=function(e){Fs()},wB.\u0275dir=Mt({type:wB,contentQueries:function(e,t,n){var i;1&e&&gu(n,wB,!1),2&e&&fu(i=ku())&&(t.children=i)},inputs:{title:"title",width:"width",locked:"locked",hidden:"hidden",headerCellOptions:"headerCellOptions"}}),wB),SB=((CB=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||CB)(Ds(vl,8))},CB.\u0275dir=Mt({type:CB,selectors:[["","kendoExcelExportGroupHeaderTemplate",""]]}),CB),TB=((_B=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||_B)(Ds(vl,8))},_B.\u0275dir=Mt({type:_B,selectors:[["","kendoExcelExportGroupHeaderColumnTemplate",""]]}),_B),OB=((bB=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||bB)(Ds(vl,8))},bB.\u0275dir=Mt({type:bB,selectors:[["","kendoExcelExportGroupFooterTemplate",""]]}),bB),IB=function(){var e=function e(t){_classCallCheck(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(Ds(vl,8))},e.\u0275dir=Mt({type:e,selectors:[["","kendoExcelExportFooterTemplate",""]]}),e}(),EB=((kB=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),t}(xB)).\u0275fac=function(e){return new(e||kB)(Ds(xB,13))},kB.\u0275cmp=Et({type:kB,selectors:[["kendo-excelexport-column"]],contentQueries:function(e,t,n){var i;1&e&&(gu(n,SB,!0),gu(n,TB,!0),gu(n,OB,!0),gu(n,IB,!0)),2&e&&(fu(i=ku())&&(t.groupHeaderTemplate=i.first),fu(i=ku())&&(t.groupHeaderColumnTemplate=i.first),fu(i=ku())&&(t.groupFooterTemplate=i.first),fu(i=ku())&&(t.footerTemplate=i.first))},inputs:{field:"field",cellOptions:"cellOptions",groupHeaderCellOptions:"groupHeaderCellOptions",groupFooterCellOptions:"groupFooterCellOptions",footerCellOptions:"footerCellOptions"},features:[Ha([{provide:xB,useExisting:Ve((function(){return kB}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),kB),AB=((yB=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:yB}),yB.\u0275inj=Te({factory:function(e){return new(e||yB)}}),yB),RB=["lockedHeader"],PB=["header"],DB=["ariaRoot"],FB=["footer"],MB=["groupPanelEmpty",$localize(_templateObject48()),"noRecords",$localize(_templateObject49()),"pagerFirstPage",$localize(_templateObject50()),"pagerPreviousPage",$localize(_templateObject51()),"pagerNextPage",$localize(_templateObject52()),"pagerLastPage",$localize(_templateObject53()),"pagerPage",$localize(_templateObject54()),"pagerOf",$localize(_templateObject55()),"pagerItems",$localize(_templateObject56()),"pagerItemsPerPage",$localize(_templateObject57()),"filter",$localize(_templateObject58()),"filterEqOperator",$localize(_templateObject59()),"filterNotEqOperator",$localize(_templateObject60()),"filterIsNullOperator",$localize(_templateObject61()),"filterIsNotNullOperator",$localize(_templateObject62()),"filterIsEmptyOperator",$localize(_templateObject63()),"filterIsNotEmptyOperator",$localize(_templateObject64()),"filterStartsWithOperator",$localize(_templateObject65()),"filterContainsOperator",$localize(_templateObject66()),"filterNotContainsOperator",$localize(_templateObject67()),"filterEndsWithOperator",$localize(_templateObject68()),"filterGteOperator",$localize(_templateObject69()),"filterGtOperator",$localize(_templateObject70()),"filterLteOperator",$localize(_templateObject71()),"filterLtOperator",$localize(_templateObject72()),"filterIsTrue",$localize(_templateObject73()),"filterIsFalse",$localize(_templateObject74()),"filterBooleanAll",$localize(_templateObject75()),"filterAfterOrEqualOperator",$localize(_templateObject76()),"filterAfterOperator",$localize(_templateObject77()),"filterBeforeOperator",$localize(_templateObject78()),"filterBeforeOrEqualOperator",$localize(_templateObject79()),"filterFilterButton",$localize(_templateObject80()),"filterClearButton",$localize(_templateObject81()),"filterAndLogic",$localize(_templateObject82()),"filterOrLogic",$localize(_templateObject83()),"loading",$localize(_templateObject84()),"columnMenu",$localize(_templateObject85()),"columns",$localize(_templateObject86()),"lock",$localize(_templateObject87()),"unlock",$localize(_templateObject88()),"sortable",$localize(_templateObject89()),"sortAscending",$localize(_templateObject90()),"sortDescending",$localize(_templateObject91()),"sortedAscending",$localize(_templateObject92()),"sortedDescending",$localize(_templateObject93()),"sortedDefault",$localize(_templateObject94()),"columnsApply",$localize(_templateObject95()),"columnsReset",$localize(_templateObject96()),"detailExpand",$localize(_templateObject97()),"detailCollapse",$localize(_templateObject98())];function zB(e,t){1&e&&Ns(0,"kendo-grid-toolbar",8)}function LB(e,t){if(1&e){var n=Gs();Ls(0,"kendo-grid-group-panel",9),Ws("change",(function(e){return Xt(n),$s().groupChange.emit(e)})),Vs()}if(2&e){var i=$s();Ms("text",i.groupableEmptyText)("groups",i.group)}}function VB(e,t){if(1&e&&(Ls(0,"div",21,22),Ls(2,"table",23),Ns(3,"colgroup",18),Ns(4,"thead",24),Vs(),Vs()),2&e){var n=$s(3);oa("width",n.lockedWidth,"px"),wr(2),oa("width",n.lockedWidth,"px"),Ms("locked",!0),wr(1),Ms("columns",n.lockedLeafColumns)("groups",n.group)("detailTemplate",n.detailTemplate),wr(1),Ms("resizable",n.resizable)("scrollable",!0)("columns",n.lockedColumns)("totalColumnLevels",n.totalColumnLevels)("sort",n.sort)("groups",n.group)("filter",n.filter)("filterable",n.filterable)("groupable",n.showGroupPanel)("reorderable",n.reorderable)("sortable",n.sortable)("columnMenu",n.columnMenuOptions)("columnMenuTemplate",n.columnMenuTemplate)("totalColumnsCount",n.leafColumns.length)("detailTemplate",n.detailTemplate)}}function NB(e,t){if(1&e&&(Ls(0,"div",25),Ns(1,"div"),Vs()),2&e){var n=$s(3);wr(1),oa("width",n.columnsContainer.unlockedWidth,"px")}}var BB=function(){return[]};function jB(e,t){if(1&e&&(Ls(0,"div",13),Rs(1,VB,5,23,"div",14),Ls(2,"div",15,16),Ls(4,"table",17),Ns(5,"colgroup",18),Ns(6,"thead",19),Vs(),Rs(7,NB,2,2,"div",20),Vs(),Vs()),2&e){var n=$s(2);oa("padding",n.headerPadding),wr(1),Ms("ngIf",n.isLocked),wr(1),Ms("kendoGridResizableContainer",n.lockedLeafColumns.length)("lockedWidth",n.lockedWidth+n.scrollbarWidth+2),wr(2),oa("width",n.nonLockedWidth,"px"),Ms("virtualColumns",n.virtualColumns),wr(1),Ms("columns",n.headerLeafColumns)("groups",n.isLocked?Bl(28,BB):n.group)("detailTemplate",n.detailTemplate),wr(1),Ms("resizable",n.resizable)("scrollable",!0)("columns",n.headerColumns)("totalColumnLevels",n.totalColumnLevels)("sort",n.sort)("filter",n.filter)("filterable",n.filterable)("groupable",n.showGroupPanel)("reorderable",n.reorderable)("groups",n.isLocked?Bl(29,BB):n.group)("sortable",n.sortable)("columnMenu",n.columnMenuOptions)("columnMenuTemplate",n.columnMenuTemplate)("lockedColumnsCount",n.lockedLeafColumns.length)("totalColumnsCount",n.leafColumns.length)("detailTemplate",n.detailTemplate),wr(1),Ms("ngIf",n.virtualColumns)}}function HB(e,t){if(1&e&&(Ls(0,"div",32),Ls(1,"table",33),Ns(2,"colgroup",30),Ns(3,"tfoot",34),Vs(),Vs()),2&e){var n=$s(3);oa("width",n.lockedWidth,"px"),wr(1),oa("width",n.lockedWidth,"px"),Ms("locked",!0),wr(1),Ms("columns",n.lockedLeafColumns)("groups",n.group)("detailTemplate",n.detailTemplate),wr(1),Ms("scrollable",!0)("groups",n.group)("columns",n.lockedLeafColumns)("detailTemplate",n.detailTemplate)}}function GB(e,t){if(1&e&&(Ls(0,"div",26),Rs(1,HB,4,12,"div",27),Ls(2,"div",28,29),Ls(4,"table"),Ns(5,"colgroup",30),Ns(6,"tfoot",31),Vs(),Vs(),Vs()),2&e){var n=$s(2);oa("padding",n.headerPadding),wr(1),Ms("ngIf",n.lockedLeafColumns.length),wr(1),Ms("kendoGridResizableContainer",n.lockedLeafColumns.length)("lockedWidth",n.lockedWidth+n.scrollbarWidth+3),wr(2),oa("width",n.nonLockedWidth,"px"),wr(1),Ms("columns",n.nonLockedLeafColumns)("groups",n.isLocked?Bl(15,BB):n.group)("detailTemplate",n.detailTemplate),wr(1),Ms("scrollable",!0)("groups",n.isLocked?Bl(16,BB):n.group)("columns",n.nonLockedLeafColumns)("lockedColumnsCount",n.lockedLeafColumns.length)("detailTemplate",n.detailTemplate)}}function UB(e,t){if(1&e){var n=Gs();Rs(0,jB,8,30,"div",10),Ls(1,"kendo-grid-list",11),Ws("pageChange",(function(e){return Xt(n),$s().notifyPageChange("list",e)}))("scrollBottom",(function(){return Xt(n),$s().notifyScrollBottom()}))("contentScroll",(function(e){return Xt(n),$s().contentScroll.emit(e)})),Vs(),Rs(2,GB,7,17,"div",12)}if(2&e){var i=$s();Ms("ngIf",!i.hideHeader),wr(1),Ms("data",i.view)("rowHeight",i.rowHeight)("detailRowHeight",i.detailRowHeight)("total",i.totalCount)("take",i.pageSize)("groups",i.group)("groupable",i.groupable)("skip",i.skip)("trackBy",i.trackBy)("columns",i.columnsContainer)("selectable",i.selectable)("filterable",i.filterable)("detailTemplate",i.detailTemplate)("noRecordsTemplate",i.noRecordsTemplate)("rowClass",i.rowClass)("loading",i.loading)("isVirtual",i.isVirtual)("virtualColumns",i.virtualColumns),wr(1),Ms("ngIf",i.showFooter)}}function WB(e,t){if(1&e&&Ns(0,"thead",39),2&e){var n=$s(2);Ms("resizable",n.resizable)("scrollable",!1)("columns",n.visibleColumns)("totalColumnLevels",n.totalColumnLevels)("groups",n.group)("groupable",n.showGroupPanel)("reorderable",n.reorderable)("sort",n.sort)("sortable",n.sortable)("filter",n.filter)("filterable",n.filterable)("columnMenu",n.columnMenuOptions)("columnMenuTemplate",n.columnMenuTemplate)("detailTemplate",n.detailTemplate)}}function qB(e,t){if(1&e&&Ns(0,"tfoot",34),2&e){var n=$s(2);Ms("scrollable",!1)("groups",n.group)("columns",n.leafColumns)("detailTemplate",n.detailTemplate)}}function ZB(e,t){1&e&&Ns(0,"div",40)}function $B(e,t){if(1&e&&(Ls(0,"table"),Ns(1,"colgroup",30),Rs(2,WB,1,14,"thead",35),Ns(3,"tbody",36),Rs(4,qB,1,4,"tfoot",37),Vs(),Rs(5,ZB,1,0,"div",38)),2&e){var n=$s();oa("table-layout",n.resizable?"fixed":null),wr(1),Ms("columns",n.leafColumns)("groups",n.group)("detailTemplate",n.detailTemplate),wr(1),Ms("ngIf",!n.hideHeader),wr(1),Ms("groups",n.group)("data",n.view)("skip",n.skip)("columns",n.leafColumns)("selectable",n.selectable)("filterable",n.filterable)("noRecordsTemplate",n.noRecordsTemplate)("detailTemplate",n.detailTemplate)("showGroupFooters",n.showGroupFooters)("trackBy",n.trackBy)("rowClass",n.rowClass),wr(1),Ms("ngIf",n.showFooter),wr(1),Ms("ngIf",n.loading)}}function KB(e,t){if(1&e){var n=Gs();Ls(0,"kendo-pager",41),Ws("pageChange",(function(e){return Xt(n),$s().notifyPageChange("pager",e)})),Vs()}if(2&e){var i=$s();Ms("template",i.pagerTemplate)("pageSize",i.pageSize)("total",i.view.total)("skip",i.skip)("options",i.pageable)}}function YB(e,t){1&e&&Ns(0,"kendo-grid-toolbar",42)}var XB=["container"],QB=["lockedContainer"],JB=["lockedTable"],ej=["table"],tj=function(e,t,n,i){return{keydown:e,scroll:t,mousewheel:n,DOMMouseScroll:i}};function nj(e,t){if(1&e&&(Ls(0,"div",12,13),Ls(2,"div",3),Ls(3,"table",14,15),Ns(5,"colgroup",6),Ns(6,"tbody",16),Vs(),Ns(7,"kendo-resize-sensor"),Vs(),Ls(8,"div",9),Ns(9,"div"),Vs(),Vs()),2&e){var n=$s();oa("width",n.lockedWidth,"px"),Ms("kendoEventsOutsideAngular",Ul(25,tj,n.lockedKeydown,n.lockedScroll,n.lockedMousewheel,n.lockedMousewheel))("scope",n),wr(3),oa("width",n.lockedWidth,"px"),Ms("locked",!0),wr(2),Ms("groups",n.groups)("columns",n.lockedLeafColumns)("detailTemplate",n.detailTemplate),wr(1),Ms("groups",n.groups)("isLocked",!0)("data",n.data)("noRecordsText","")("columns",n.lockedLeafColumns)("totalColumnsCount",n.leafColumns.length)("detailTemplate",n.detailTemplate)("showGroupFooters",n.showFooter)("skip",n.skip)("selectable",n.selectable)("trackBy",n.trackBy)("filterable",n.filterable)("rowClass",n.rowClass),wr(3),oa("height",n.totalHeight,"px")}}function ij(e,t){1&e&&Ns(0,"kendo-resize-sensor")}function rj(e,t){1&e&&Ns(0,"kendo-resize-sensor")}function oj(e,t){if(1&e&&(Ls(0,"div",17),Ns(1,"div"),Vs()),2&e){var n=$s();wr(1),oa("width",n.totalWidth,"px")}}function sj(e,t){1&e&&Ns(0,"div",18)}var aj=["kendoGridFilterRow",""];function lj(e,t){1&e&&Ns(0,"td",3),2&e&&sa("k-group-cell",!0)}function uj(e,t){1&e&&Ns(0,"td",3),2&e&&sa("k-hierarchy-cell",!0)}function cj(e,t){if(1&e&&Ns(0,"td",4),2&e){var n=t.$implicit,i=t.index,r=$s();Ms("column",n)("filter",r.filter)("logicalRowIndex",r.logicalRowIndex)("logicalColIndex",r.lockedColumnsCount+i),As("aria-label",r.filterLabel)}}var hj=["kendoGridFilterCell",""];function fj(e,t){if(1&e&&(Bs(0),Hs(1,3),js()),2&e){var n=$s(2);wr(1),Ms("column",n.column)("filter",n.filter)}}function dj(e,t){}function pj(e,t){if(1&e&&Rs(0,dj,0,0,"ng-template",5),2&e){var n=$s(3);Ms("ngTemplateOutlet",n.column.filterCellTemplateRef)("ngTemplateOutletContext",n.templateContext)}}function vj(e,t){if(1&e&&(Bs(0),Rs(1,pj,1,2,void 0,4),js()),2&e){var n=$s(2);wr(1),Ms("ngIf",n.column.filterCellTemplateRef)}}function gj(e,t){1&e&&(Bs(0,1),Rs(1,fj,2,2,"ng-container",2),Rs(2,vj,2,1,"ng-container",2),js()),2&e&&(Ms("ngSwitch",$s().hasTemplate),wr(1),Ms("ngSwitchCase",!1),wr(1),Ms("ngSwitchCase",!0))}var mj=["*"],yj=["dropdown"],kj=function(){return{width:"auto"}};function bj(e,t){if(1&e){var n=Gs();Ls(0,"kendo-dropdownlist",3,4),Ws("valueChange",(function(e){return Xt(n),$s().onChange(e)}))("keydown",(function(e){return Xt(n),$s().dropdownKeydown(e)})),Vs()}if(2&e){var i=$s();Ms("data",i.operators)("value",i.value)("valuePrimitive",!0)("popupSettings",Bl(4,kj))}}var _j=function(e){return{"k-clear-button-visible":e}},Cj=["kendoGridColGroup",""];function wj(e,t){1&e&&Ns(0,"col"),2&e&&sa("k-group-col",!0)}function xj(e,t){1&e&&Ns(0,"col"),2&e&&sa("k-hierarchy-col",!0)}function Sj(e,t){1&e&&Ns(0,"col"),2&e&&oa("width",t.$implicit.width,"px")}function Tj(e,t){if(1&e&&(Rs(0,wj,1,2,"col",1),Rs(1,xj,1,2,"col",2),Rs(2,Sj,1,2,"col",3)),2&e){var n=$s();Ms("ngForOf",n.groups),wr(1),Ms("ngIf",null==n.detailTemplate?null:n.detailTemplate.templateRef),wr(1),Ms("ngForOf",n.columnsToRender)("ngForTrackBy",n.trackBy)}}var Oj=["kendoGridLoading",""];function Ij(e,t){if(1&e&&Hs(0,2),2&e){var n=$s();Ms("ngTemplateOutlet",n.template.templateRef)("ngTemplateOutletContext",n.templateContext)}}function Ej(e,t){1&e&&Ns(0,"kendo-pager-prev-buttons")}function Aj(e,t){1&e&&Ns(0,"kendo-pager-numeric-buttons",5),2&e&&Ms("buttonCount",$s(2).settings.buttonCount)}function Rj(e,t){1&e&&Ns(0,"kendo-pager-input")}function Pj(e,t){1&e&&Ns(0,"kendo-pager-next-buttons")}function Dj(e,t){1&e&&Ns(0,"kendo-pager-info")}function Fj(e,t){1&e&&Ns(0,"kendo-pager-page-sizes",6),2&e&&Ms("pageSizes",$s(2).settings.pageSizes)}function Mj(e,t){if(1&e&&(Bs(0),Rs(1,Ej,1,0,"kendo-pager-prev-buttons",1),Rs(2,Aj,1,1,"kendo-pager-numeric-buttons",3),Rs(3,Rj,1,0,"kendo-pager-input",1),Rs(4,Pj,1,0,"kendo-pager-next-buttons",1),Rs(5,Dj,1,0,"kendo-pager-info",1),Rs(6,Fj,1,1,"kendo-pager-page-sizes",4),js()),2&e){var n=$s();wr(1),Ms("ngIf",n.settings.previousNext),wr(1),Ms("ngIf","numeric"===n.settings.type),wr(1),Ms("ngIf","input"===n.settings.type),wr(1),Ms("ngIf",n.settings.previousNext),wr(1),Ms("ngIf",n.settings.info),wr(1),Ms("ngIf",n.settings.pageSizes)}}var zj=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"k-pager-first":!0}},Lj=function(){return{"k-icon":!0,"k-i-seek-w":!0}},Vj=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"":!0}},Nj=function(){return{"k-icon":!0,"k-i-arrow-w":!0}},Bj=function(){return{"k-icon":!0,"k-i-arrow-e":!0}},jj=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"k-pager-last":!0}},Hj=function(){return{"k-icon":!0,"k-i-seek-e":!0}};function Gj(e,t){if(1&e){var n=Gs();Ls(0,"li"),Ls(1,"a",3),Ws("click",(function(){Xt(n);var e=$s();return e.changePage(e.start-2)})),ya(2,"..."),Vs(),Vs()}if(2&e){var i=$s();wr(1),As("aria-label",i.pageLabel(i.start-1))}}var Uj=function(e){return{"k-link":!0,"k-state-selected":e}};function Wj(e,t){if(1&e){var n=Gs();Ls(0,"li"),Ls(1,"a",4),Ws("click",(function(){Xt(n);var e=t.$implicit;return $s().changePage(e-1)})),ya(2),Vs(),Vs()}if(2&e){var i=t.$implicit,r=$s();wr(1),Ms("ngClass",jl(3,Uj,r.currentPage==i)),As("aria-label",r.pageLabel(i)),wr(1),ba(" ",i," ")}}function qj(e,t){if(1&e){var n=Gs();Ls(0,"li"),Ls(1,"a",3),Ws("click",(function(){Xt(n);var e=$s();return e.changePage(e.end)})),ya(2,"..."),Vs(),Vs()}if(2&e){var i=$s();wr(1),As("aria-label",i.pageLabel(i.end+1))}}var Zj=function(){return{"k-pager-numbers":!0,"k-reset":!0}},$j=function(){return{"k-pager-input":!0,"k-label":!0}},Kj=function(e,t){return{keydown:e,focusout:t}};function Yj(e,t){if(1&e&&(Ls(0,"option",4),ya(1),Vs()),2&e){var n=$s();Ms("value",n.pageSize),wr(1),ka(n.pageSize)}}function Xj(e,t){if(1&e&&(Ls(0,"option",5),ya(1),Vs()),2&e){var n=t.$implicit,i=$s();Ms("value",i.getValue(n))("selected",i.getSelectedState(n)),wr(1),ba(" ",n.text," ")}}var Qj=["kendoGridGroupHeader",""];function Jj(e,t){1&e&&Ns(0,"td",4)}function eH(e,t){if(1&e&&Rs(0,Jj,1,0,"td",3),2&e){var n=$s();Ms("ngForOf",n.prefixGroupCell(n.item))}}function tH(e,t){if(1&e&&(ya(0),Yl(1,"valueOf")),2&e){var n=$s(3);_a(" ",n.groupTitle(n.item),": ",Ql(1,2,n.item.data,"value",n.formatForGroup(n.item))," ")}}function nH(e,t){}var iH=function(e,t){return{"k-i-collapse":e,"k-i-expand":t}},rH=function(e,t,n,i,r,o,s,a){return{templateRef:e,group:t,aggregates:n,value:i,field:r,index:o,expanded:s,$implicit:a}};function oH(e,t){if(1&e){var n=Gs();Ls(0,"a",7),Ws("click",(function(){Xt(n);var e=$s(2);return e.toggleGroup(e.item)})),Vs(),Rs(1,tH,2,6,"ng-template",0),Rs(2,nH,0,0,"ng-template",8)}if(2&e){var i=$s(2);Ms("ngClass",Hl(3,iH,i.isExpanded,!i.isExpanded)),wr(1),Ms("ngIf",!i.groupHeaderTemplate(i.item)),wr(1),Ms("templateContext",(r=rH,o=i.groupHeaderTemplate(i.item),s=i.item.data,a=null==i.item.data?null:i.item.data.aggregates,l=null==i.item.data?null:i.item.data.value,u=null==i.item.data?null:i.item.data.field,c=i.item.index,h=i.isExpanded,f=i.item.data,d=on()+6,p=Kt(),v=Es(p,d,o,s,a,l),Es(p,d+4,u,c,h,f)||v?xs(p,d+8,r(o,s,a,l,u,c,h,f)):Ss(p,d+8)))}var r,o,s,a,l,u,c,h,f,d,p,v}function sH(e,t){if(1&e&&(Ls(0,"td",5),Ls(1,"p",6),Rs(2,oH,3,15,"ng-template",0),Vs(),Vs()),2&e){var n=$s();Ms("logicalRowIndex",n.logicalRowIndex)("logicalColIndex",0)("logicalSlaveCell",n.skipGroupDecoration)("groupItem",n.item)("colSpan",n.logicalColSpan()),As("colspan",n.groupSpan(n.item))("role",n.ariaRole())("aria-expanded",n.isExpanded),wr(2),Ms("ngIf",!n.skipGroupDecoration)}}var aH=function(e,t,n,i,r,o){return{group:e,aggregates:t,value:n,field:i,index:r,$implicit:o}};function lH(e,t){if(1&e&&Hs(0,12),2&e){var n=$s().$implicit,i=$s(2);Ms("ngTemplateOutlet",n.groupHeaderColumnTemplateRef)("ngTemplateOutletContext",Wl(2,aH,i.item.data,null==i.item.data?null:i.item.data.aggregates,null==i.item.data?null:i.item.data.value,null==i.item.data?null:i.item.data.field,i.item.index,i.item.data))}}function uH(e,t){if(1&e&&(Ls(0,"td",10),Rs(1,lH,1,9,"ng-container",11),Vs()),2&e){var n=t.$implicit,i=t.index,r=$s(2);Ms("logicalRowIndex",r.logicalRowIndex)("logicalColIndex",i+1)("logicalSlaveCell",!1)("groupItem",r.item)("colSpan",1),wr(1),Ms("ngIf",n.groupHeaderColumnTemplateRef)}}function cH(e,t){if(1&e&&(Bs(0),Rs(1,uH,2,6,"td",9),js()),2&e){var n=$s();wr(1),Ms("ngForOf",n.groupHeaderColumns)}}var hH=function(){return{lastTarget:!0}};function fH(e,t){if(1&e&&(Ls(0,"div",3),ya(1),Vs()),2&e){var n=$s();Ms("context",Bl(2,hH)),wr(1),ba(" ",n.text," ")}}var dH=function(e){return{field:e}},pH=function(e,t){return{field:e,type:"groupIndicator",hint:t}};function vH(e,t){if(1&e){var n=Gs();Ls(0,"div",3),Ls(1,"div",4),Ws("directionChange",(function(e){return Xt(n),$s().directionChange(e)}))("remove",(function(e){return Xt(n),$s().remove(e)})),Vs(),Vs()}if(2&e){var i=t.$implicit,r=t.index,o=$s();Ms("context",jl(5,dH,i.field)),wr(1),Ms("enableDrag",!0)("context",Hl(7,pH,i.field,o.groupTitles[r]))("group",i)("groupTitle",o.groupTitles[r])}}function gH(e,t){1&e&&(Ls(0,"div",3),ya(1,"\xa0"),Vs()),2&e&&Ms("context",Bl(1,hH))}var mH=["kendoGroupIndicator",""],yH=["kendoGridHeader",""];function kH(e,t){1&e&&Ns(0,"th",7)}function bH(e,t){1&e&&Ns(0,"th",8),2&e&&Ms("logicalRowIndex",$s().index)("logicalColIndex",0)}function _H(e,t){if(1&e&&Ns(0,"kendo-grid-filter-menu",15),2&e){var n=$s(2).$implicit,i=$s(3);Ms("column",n)("filter",i.filter)}}function CH(e,t){if(1&e&&Ns(0,"kendo-grid-column-menu",16),2&e){var n=$s(2).$implicit,i=$s(3);Ms("standalone",!1)("settings",i.columnMenu)("column",n)("columnMenuTemplate",i.columnMenuTemplate)("sort",i.sort)("filter",i.filter)("sortable",i.sortable)}}function wH(e,t){}function xH(e,t){1&e&&ya(0),2&e&&ka($s(3).$implicit.displayTitle)}var SH=function(e,t,n,i){return{templateRef:e,columnIndex:t,column:n,$implicit:i}};function TH(e,t){if(1&e&&(Rs(0,wH,0,0,"ng-template",17),Rs(1,xH,1,1,"ng-template",0)),2&e){var n=$s(2).$implicit;Ms("templateContext",Ul(2,SH,n.headerTemplateRef,n.leafIndex,n,n)),wr(1),Ms("ngIf",!n.headerTemplateRef)}}function OH(e,t){}function IH(e,t){1&e&&ya(0),2&e&&ka($s(3).$implicit.displayTitle)}function EH(e,t){if(1&e&&(Ls(0,"span",23),ya(1),Vs()),2&e){var n=$s(3).$implicit,i=$s(3);wr(1),ka(i.sortOrder(n.field))}}function AH(e,t){if(1&e){var n=Gs();Ls(0,"a",18,19),Ws("click",(function(e){Xt(n);var t=Ps(1),i=$s(2).$implicit;return $s(3).sortColumn(i,e,t)})),Rs(2,OH,0,0,"ng-template",17),Rs(3,IH,1,1,"ng-template",0),Ns(4,"span",20),Rs(5,EH,2,1,"span",21),Vs(),Ns(6,"span",22)}if(2&e){var i=$s(2).$implicit,r=$s(3);wr(2),Ms("templateContext",Ul(6,SH,i.headerTemplateRef,i.leafIndex,i,i)),wr(1),Ms("ngIf",!i.headerTemplateRef),wr(1),Ms("ngClass",r.sortIcon(i.field)),As("aria-label",r.sortableLabel),wr(1),Ms("ngIf",r.showSortNumbering(i)),wr(1),Ms("innerHtml",r.sortStatus(i),$i)}}function RH(e,t){if(1&e&&(Ns(0,"input",24),Ns(1,"label",25)),2&e){var n=$s(5);As("id",n.selectAllCheckboxId()),wr(1),As("for",n.selectAllCheckboxId())}}function PH(e,t){if(1&e&&Ns(0,"span",26),2&e){var n=$s(2).$implicit,i=$s(3);Ms("column",n)("columns",i.columns)}}var DH=function(e,t,n,i){return{field:e,type:"column",column:t,hint:n,lastColumn:i}};function FH(e,t){if(1&e){var n=Gs();Ls(0,"th",11),Ws("keydown",(function(e){Xt(n);var t=$s().$implicit;return $s(3).onHeaderKeydown(t,e)})),Rs(1,_H,1,2,"kendo-grid-filter-menu",12),Rs(2,CH,1,7,"kendo-grid-column-menu",13),Rs(3,TH,2,7,"ng-template",0),Rs(4,AH,7,11,"ng-template",0),Rs(5,RH,2,2,"ng-template",0),Rs(6,PH,1,2,"span",14),Vs()}if(2&e){var i=$s(),r=i.$implicit,o=i.index,s=i.last,a=$s().index,l=$s(2);sa("k-filterable",l.showFilterMenu&&l.isFilterable(r)||l.showColumnMenu(r))("k-first",l.isFirstOnRow(r,o)),Ms("logicalRowIndex",a)("logicalColIndex",l.logicalColumnIndex(r))("colSpan",r.colspan)("rowSpan",r.rowspan(l.totalColumnLevels))("enableDrag",l.shouldActivate(r))("context",Ul(21,DH,r.field,r,r.title||r.field,s&&0===o))("ngClass",r.headerClass)("ngStyle",r.headerStyle),As("aria-sort",l.sortState(r))("rowspan",r.rowspan(l.totalColumnLevels))("colspan",r.colspan),wr(1),Ms("ngIf",l.showFilterMenu&&l.isFilterable(r)),wr(1),Ms("ngIf",l.showColumnMenu(r)),wr(1),Ms("ngIf",!l.isSortable(r)),wr(1),Ms("ngIf",l.isSortable(r)),wr(1),Ms("ngIf",l.isCheckboxColumn(r)&&!r.headerTemplateRef&&r.showSelectAll),wr(1),Ms("ngIf",l.resizable)}}function MH(e,t){if(1&e&&Ns(0,"kendo-grid-column-menu",29),2&e){var n=$s(2).$implicit,i=$s(3);Ms("standalone",!1)("settings",i.columnMenu)("column",n)("columnMenuTemplate",i.columnMenuTemplate)}}function zH(e,t){}function LH(e,t){1&e&&ya(0),2&e&&ka($s(2).$implicit.displayTitle)}function VH(e,t){if(1&e&&Ns(0,"span",26),2&e){var n=$s(2).$implicit,i=$s(3);Ms("column",n)("columns",i.columns)}}var NH=function(e,t,n){return{type:"columnGroup",column:e,hint:t,lastColumn:n}};function BH(e,t){if(1&e&&(Ls(0,"th",27),Rs(1,MH,1,4,"kendo-grid-column-menu",28),Rs(2,zH,0,0,"ng-template",17),Rs(3,LH,1,1,"ng-template",0),Rs(4,VH,1,2,"span",14),Vs()),2&e){var n=$s(),i=n.$implicit,r=n.index,o=n.last,s=$s().index,a=$s(2);sa("k-first",a.isFirstOnRow(i,r))("k-filterable",a.showColumnMenu(i)),Ms("logicalRowIndex",s)("logicalColIndex",a.logicalColumnIndex(i))("rowSpan",i.rowspan(a.totalColumnLevels))("colSpan",i.colspan)("enableDrag",a.shouldActivate(i))("context",Gl(18,NH,i,i.title,o&&0===r))("ngClass",i.headerClass)("ngStyle",i.headerStyle),As("rowspan",i.rowspan(a.totalColumnLevels))("colspan",i.colspan),wr(1),Ms("ngIf",a.showColumnMenu(i)),wr(1),Ms("templateContext",Ul(22,SH,i.headerTemplateRef,a.lockedColumnsCount+r,i,i)),wr(1),Ms("ngIf",!i.headerTemplateRef),wr(1),Ms("ngIf",a.resizable)}}function jH(e,t){if(1&e&&(Rs(0,FH,7,26,"th",9),Rs(1,BH,5,27,"th",10)),2&e){var n=t.$implicit,i=$s(3);Ms("ngIf",!i.isColumnGroupComponent(n)),wr(1),Ms("ngIf",i.isColumnGroupComponent(n))}}function HH(e,t){if(1&e&&(Ls(0,"tr",3),Rs(1,kH,1,0,"th",4),Rs(2,bH,1,2,"th",5),Rs(3,jH,2,2,"ng-template",6),Vs()),2&e){var n=t.index,i=$s(2);Ms("logicalRowIndex",n)("logicalSlaveRow",i.lockedColumnsCount>0)("logicalCellsCount",i.columns.length)("logicalSlaveCellsCount",i.unlockedColumnsCount),wr(1),Ms("ngForOf",i.groups),wr(1),Ms("ngIf",null==i.detailTemplate?null:i.detailTemplate.templateRef),wr(1),Ms("ngForOf",i.columnsForLevel(n))("ngForTrackBy",i.trackByIndex)}}function GH(e,t){if(1&e&&Ns(0,"tr",30),2&e){var n=$s(2);Ms("columns",n.leafColumns)("filter",n.filter)("groups",n.groups)("detailTemplate",n.detailTemplate)("lockedColumnsCount",n.lockedColumnsCount)("logicalRowIndex",n.totalColumnLevels+1)("logicalSlaveRow",n.lockedColumnsCount>0)("logicalCellsCount",n.columns.length)("logicalSlaveCellsCount",n.unlockedColumnsCount)}}function UH(e,t){if(1&e&&(Rs(0,HH,4,8,"tr",1),Rs(1,GH,1,9,"tr",2)),2&e){var n=$s();Ms("ngForOf",n.columnLevels),wr(1),Ms("ngIf",n.showFilterRow)}}function WH(e,t){if(1&e){var n=Gs();Ls(0,"kendo-grid-filter-menu-container",4),Ws("close",(function(){return Xt(n),$s().close()})),Vs()}if(2&e){var i=$s();Ms("column",i.column)("filter",i.filter)}}var qH=function(e){return{"k-grid-filter":!0,"k-state-active":e}};function ZH(e,t){if(1&e&&(Bs(0),Hs(1,7),js()),2&e){var n=$s();wr(1),Ms("filterService",n.childService)("column",n.column)("filter",n.childFilter)}}function $H(e,t){}function KH(e,t){if(1&e&&Rs(0,$H,0,0,"ng-template",9),2&e){var n=$s(2);Ms("ngTemplateOutlet",n.column.filterMenuTemplateRef)("ngTemplateOutletContext",n.templateContext)}}function YH(e,t){if(1&e&&(Bs(0),Rs(1,KH,1,2,void 0,8),js()),2&e){var n=$s();wr(1),Ms("ngIf",n.column.filterMenuTemplateRef)}}function XH(e,t){if(1&e){var n=Gs();Ls(0,"kendo-dropdownlist",3),Ws("valueChange",(function(e){return Xt(n),$s().logicChange(e)})),Vs()}if(2&e){var i=$s();Ms("data",i.logicOperators)("valuePrimitive",!0)("value",null==i.filter?null:i.filter.logic)}}function QH(e,t){if(1&e&&Ns(0,"kendo-grid-string-filter-menu-input",4),2&e){var n=$s();Ms("operators",n.operators)("currentFilter",n.secondFilter)("filterService",n.filterService)("column",n.column)("filter",n.filter)}}function JH(e,t){if(1&e){var n=Gs();Ls(0,"kendo-dropdownlist",3),Ws("valueChange",(function(e){return Xt(n),$s().logicChange(e)})),Vs()}if(2&e){var i=$s();Ms("data",i.logicOperators)("valuePrimitive",!0)("value",null==i.filter?null:i.filter.logic)}}function eG(e,t){if(1&e&&Ns(0,"kendo-grid-numeric-filter-menu-input",4),2&e){var n=$s();Ms("operators",n.operators)("currentFilter",n.secondFilter)("filterService",n.filterService)("column",n.column)("filter",n.filter)("format",n.format)("decimals",n.decimals)("spinners",n.spinners)("min",n.min)("max",n.max)("step",n.step)}}function tG(e,t){if(1&e){var n=Gs();Ls(0,"kendo-dropdownlist",3),Ws("valueChange",(function(e){return Xt(n),$s().logicChange(e)})),Vs()}if(2&e){var i=$s();Ms("data",i.logicOperators)("valuePrimitive",!0)("value",null==i.filter?null:i.filter.logic)}}function nG(e,t){if(1&e&&Ns(0,"kendo-grid-date-filter-menu-input",4),2&e){var n=$s();Ms("operators",n.operators)("currentFilter",n.secondFilter)("filterService",n.filterService)("column",n.column)("filter",n.filter)("activeView",n.activeView)("bottomView",n.bottomView)("topView",n.topView)("format",n.format)("formatPlaceholder",n.formatPlaceholder)("placeholder",n.placeholder)("min",n.min)("max",n.max)("weekNumber",n.weekNumber)}}function iG(e,t){if(1&e){var n=Gs();Ls(0,"li"),Ls(1,"input",2),Ws("change",(function(){Xt(n);var e=t.$implicit;return $s().onChange(e.value)})),Vs(),Ls(2,"label",3),ya(3),Vs(),Vs()}if(2&e){var i=t.$implicit,r=$s();wr(1),Ms("name",r.idPrefix)("checked",r.isSelected(i.value)),As("id",r.radioId(i.value)),wr(1),As("for",r.radioId(i.value)),wr(1),ka(i.text)}}function rG(e,t){if(1&e&&(Ls(0,"label",3),Ns(1,"input",4),Ls(2,"span",5),ya(3),Vs(),Vs()),2&e){var n=t.$implicit,i=t.index,r=$s();wr(1),Ms("checked",!n.hidden)("disabled",r.isDisabled(n)),As("data-index",i),wr(2),ka(n.displayTitle)}}function oG(e,t){if(1&e){var n=Gs();Ls(0,"div",6),Ls(1,"button",7),Ws("click",(function(){return Xt(n),$s().cancelChanges()})),ya(2),Vs(),Ls(3,"button",8),Ws("click",(function(){return Xt(n),$s().applyChanges()})),ya(4),Vs(),Vs()}if(2&e){var i=$s();Ms("ngClass",i.actionsClass),wr(2),ka(i.resetText),wr(2),ka(i.applyText)}}function sG(e,t){if(1&e){var n=Gs();Ls(0,"span",4),ya(1),Vs(),Ls(2,"kendo-grid-columnlist",5),Ws("apply",(function(e){return Xt(n),$s().onApply(e)}))("columnChange",(function(e){return Xt(n),$s().onChange(e)})),Vs()}if(2&e){var i=$s();wr(1),ka(i.localization.get("columns")),wr(1),Ms("columns",i.columns)("applyText",i.localization.get("columnsApply"))("resetText",i.localization.get("columnsReset"))("autoSync",i.autoSync)("allowHideAll",i.allowHideAll)}}function aG(e,t){if(1&e){var n=Gs();Ls(0,"kendo-grid-columnlist",2),Ws("apply",(function(e){return Xt(n),$s().onApply(e)})),Vs()}if(2&e){var i=$s();Ms("applyText",i.localization.get("columnsApply"))("resetText",i.localization.get("columnsReset"))("columns",i.columns)("autoSync",!1)("allowHideAll",!1)("actionsClass",i.actionsClass)}}function lG(e,t){if(1&e){var n=Gs();Ls(0,"kendo-grid-filter-menu-container",2),Ws("close",(function(){return Xt(n),$s().close()})),Vs()}if(2&e){var i=$s();Ms("column",i.service.column)("filter",i.service.filter)("actionsClass",i.actionsClass)}}function uG(e,t){1&e&&Ns(0,"span",3),2&e&&Ms("ngClass",$s().iconClass)}function cG(e,t){if(1&e&&(Ls(0,"div",4),Hs(1,5),Ns(2,"div"),Vs()),2&e){var n=$s();Ms("@state",n.contentState),wr(1),Ms("ngTemplateOutlet",n.contentTemplate.templateRef)}}var hG=function(e,t){return{service:e,column:t}};function fG(e,t){if(1&e&&Hs(0,5),2&e){var n=$s(),i=Ps(6);Ms("ngTemplateOutlet",n.column.columnMenuTemplateRef||n.columnMenuTemplate||i)("ngTemplateOutletContext",Hl(2,hG,n.service,n.column))}}function dG(e,t){1&e&&Ns(0,"kendo-grid-columnmenu-sort",8),2&e&&Ms("service",$s(2).service)}function pG(e,t){1&e&&Ns(0,"kendo-grid-columnmenu-lock",8),2&e&&Ms("service",$s(2).service)}function vG(e,t){if(1&e){var n=Gs();Ls(0,"kendo-grid-columnmenu-chooser",9),Ws("expand",(function(){return Xt(n),$s(2).onColumnsExpand()})),Vs()}if(2&e){var i=$s(2);Ms("service",i.service)("expanded",i.expandedColumns)}}function gG(e,t){if(1&e){var n=Gs();Ls(0,"kendo-grid-columnmenu-filter",9),Ws("expand",(function(){return Xt(n),$s(2).onFilterExpand()})),Vs()}if(2&e){var i=$s(2);Ms("service",i.service)("expanded",i.expandedFilter)}}function mG(e,t){if(1&e&&(Rs(0,dG,1,1,"kendo-grid-columnmenu-sort",6),Rs(1,pG,1,1,"kendo-grid-columnmenu-lock",6),Rs(2,vG,1,2,"kendo-grid-columnmenu-chooser",7),Rs(3,gG,1,2,"kendo-grid-columnmenu-filter",7)),2&e){var n=$s();Ms("ngIf",n.hasSort),wr(1),Ms("ngIf",n.hasLock),wr(1),Ms("ngIf",n.hasColumnChooser),wr(1),Ms("ngIf",n.hasFilter)}}var yG=function(e){return{"k-state-active":e}},kG=["kendoGridTableBody",""];function bG(e,t){1&e&&Ns(0,"td",7)}function _G(e,t){1&e&&Rs(0,bG,1,0,"td",6),2&e&&Ms("ngForOf",$s(2).groups)}function CG(e,t){1&e&&Ns(0,"td",8),2&e&&Ms("logicalRowIndex",$s(2).addRowLogicalIndex())("logicalColIndex",0)}function wG(e,t){if(1&e&&Ns(0,"td",9),2&e){var n=t.$implicit,i=t.index,r=$s(2);Ms("rowIndex",-1)("columnIndex",r.lockedColumnsCount+i)("isNew",!0)("column",n)("dataItem",r.newDataItem)("ngClass",n.cssClass)("ngStyle",n.style)("logicalRowIndex",r.addRowLogicalIndex())("logicalColIndex",r.logicalColIndex(n))("colSpan",n.colspan),As("colspan",n.colspan)}}function xG(e,t){if(1&e&&(Ls(0,"tr",3),Rs(1,_G,1,1,"ng-template",0),Rs(2,CG,1,2,"td",4),Rs(3,wG,1,11,"td",5),Vs()),2&e){var n=$s();Ms("logicalRowIndex",n.addRowLogicalIndex())("logicalSlaveRow",n.lockedColumnsCount>0)("logicalCellsCount",n.columns.length)("logicalSlaveCellsCount",n.unlockedColumnsCount),wr(1),Ms("ngIf",!n.skipGroupDecoration),wr(1),Ms("ngIf",null==n.detailTemplate?null:n.detailTemplate.templateRef),wr(1),Ms("ngForOf",n.columns)("ngForTrackBy",n.trackByColumns)}}function SG(e,t){}function TG(e,t){if(1&e&&(Bs(0),ya(1),js()),2&e){var n=$s(2);wr(1),ba(" ",n.noRecordsText," ")}}var OG=function(e){return{templateRef:e}};function IG(e,t){if(1&e&&(Ls(0,"tr",10),Ls(1,"td"),Rs(2,SG,0,0,"ng-template",11),Rs(3,TG,2,1,"ng-container",12),Vs(),Vs()),2&e){var n=$s();wr(1),As("colspan",n.colSpan),wr(1),Ms("ngIf",null==n.noRecordsTemplate?null:n.noRecordsTemplate.templateRef)("templateContext",jl(4,OG,null==n.noRecordsTemplate?null:n.noRecordsTemplate.templateRef)),wr(1),Ms("ngIf",!(null!=n.noRecordsTemplate&&n.noRecordsTemplate.templateRef))}}function EG(e,t){if(1&e&&Ns(0,"tr",17),2&e){var n=$s(),i=n.$implicit,r=n.index,o=$s();Ms("columns",o.columns)("groups",o.groups)("item",i)("hasDetails",null==o.detailTemplate?null:o.detailTemplate.templateRef)("skipGroupDecoration",o.skipGroupDecoration)("hasGroupHeaderColumn",o.hasGroupHeaderColumn)("groupHeaderColumns",o.groupHeaderColumns)("rowIndex",r+1)("totalColumnsCount",o.totalColumnsCount)("logicalRowIndex",o.logicalRowIndex(r))("logicalSlaveRow",o.lockedColumnsCount>0)("logicalCellsCount",o.columns.length)("logicalSlaveCellsCount",o.groupHeaderSlaveCellsCount)}}function AG(e,t){1&e&&Ns(0,"td",7)}function RG(e,t){1&e&&Rs(0,AG,1,0,"td",6),2&e&&Ms("ngForOf",$s(3).groups)}function PG(e,t){if(1&e){var n=Gs();Ls(0,"a",23),Ws("click",(function(){Xt(n);var e=$s(3).$implicit;return $s().toggleRow(e.index,e.data)})),Vs()}if(2&e){var i=$s(3).$implicit,r=$s();Ms("ngClass",r.detailButtonStyles(i.index)),As("title",r.detailButtonTitle(i.index))}}function DG(e,t){if(1&e&&(Ls(0,"td",21),Rs(1,PG,1,2,"a",22),Vs()),2&e){var n=$s(2),i=n.index,r=n.$implicit,o=$s();Ms("logicalRowIndex",o.logicalRowIndex(i))("logicalColIndex",0)("dataRowIndex",r.index)("dataItem",r.data)("detailExpandCell",!0),wr(1),Ms("ngIf",o.detailTemplate.showIf(r.data,r.index))}}function FG(e,t){if(1&e&&Ns(0,"td",24),2&e){var n=t.$implicit,i=t.index,r=$s(2),o=r.$implicit,s=r.index,a=$s();sa("k-grid-edit-cell",a.isEditingCell(o.index,n)),Ms("rowIndex",o.index)("columnIndex",a.lockedColumnsCount+i)("column",n)("dataItem",o.data)("logicalRowIndex",a.logicalRowIndex(s))("logicalColIndex",a.logicalColIndex(n))("dataRowIndex",o.index)("dataItem",o.data)("colIndex",i)("colSpan",n.colspan)("ngClass",n.cssClass)("ngStyle",n.style),As("colspan",n.colspan)}}var MG=function(e,t){return{dataItem:e,index:t}};function zG(e,t){if(1&e&&(Ls(0,"tr",18),Rs(1,RG,1,1,"ng-template",0),Rs(2,DG,2,6,"td",19),Rs(3,FG,1,15,"td",20),Vs()),2&e){var n=$s(),i=n.$implicit,r=n.index,o=$s();sa("k-alt",o.isOdd(i))("k-master-row",null==o.detailTemplate?null:o.detailTemplate.templateRef)("k-grid-edit-row",o.isEditingRow(i.index))("k-state-selected",o.isSelectable()&&o.isRowSelected(i)),Ms("dataRowIndex",i.index)("dataItem",i.data)("logicalRowIndex",o.logicalRowIndex(r))("logicalSlaveRow",o.lockedColumnsCount>0)("logicalCellsCount",o.columns.length)("logicalSlaveCellsCount",o.unlockedColumnsCount)("ngClass",o.rowClass(Hl(20,MG,i.data,i.index))),As("data-kendo-grid-item-index",i.index),wr(1),Ms("ngIf",!o.skipGroupDecoration),wr(1),Ms("ngIf",null==o.detailTemplate?null:o.detailTemplate.templateRef),wr(1),Ms("ngForOf",o.columns)("ngForTrackBy",o.trackByColumns)}}function LG(e,t){1&e&&Ns(0,"td",30)}function VG(e,t){}var NG=function(e,t,n,i){return{templateRef:e,dataItem:t,rowIndex:n,$implicit:i}};function BG(e,t){if(1&e&&(Ls(0,"tr",25),Rs(1,LG,1,0,"td",26),Ns(2,"td",27),Ls(3,"td",28),Rs(4,VG,0,0,"ng-template",29),Vs(),Vs()),2&e){var n=$s(),i=n.$implicit,r=n.index,o=$s();sa("k-alt",o.isOdd(i)),Ms("dataRowIndex",i.index)("dataItem",i.data)("logicalRowIndex",o.logicalRowIndex(r)+1)("logicalSlaveRow",!1)("logicalCellsCount",1),wr(1),Ms("ngForOf",o.groups),wr(2),Ms("logicalRowIndex",o.logicalRowIndex(r)+1)("logicalColIndex",0)("dataRowIndex",i.index)("dataItem",i.data)("colIndex",0)("colSpan",o.allColumnsSpan+1),As("colspan",o.columnsSpan),wr(1),Ms("templateContext",Ul(16,NG,null==o.detailTemplate?null:o.detailTemplate.templateRef,i.data,i.index,i.data))}}function jG(e,t){1&e&&Ns(0,"td",30)}function HG(e,t){1&e&&Rs(0,jG,1,0,"td",26),2&e&&Ms("ngForOf",$s(3).groups)}function GG(e,t){if(1&e&&Ns(0,"td",8),2&e){var n=$s(2).index;Ms("logicalRowIndex",$s().logicalRowIndex(n))("logicalColIndex",0)}}function UG(e,t){}var WG=function(e,t,n,i,r,o){return{templateRef:e,group:t,field:n,column:i,aggregates:r,$implicit:o}};function qG(e,t){if(1&e&&(Ls(0,"td",33),Rs(1,UG,0,0,"ng-template",29),Vs()),2&e){var n=t.$implicit,i=$s(2),r=i.index,o=i.$implicit,s=$s();Ms("logicalRowIndex",s.logicalRowIndex(r))("logicalColIndex",s.logicalColIndex(n)),As("data-skip",s.skipGroupDecoration),wr(1),Ms("templateContext",Wl(4,WG,n.groupFooterTemplateRef,o.data,n.field,n,null==o.data?null:o.data.aggregates,null==o.data?null:o.data.aggregates))}}function ZG(e,t){if(1&e&&(Ls(0,"tr",31),Rs(1,HG,1,1,"ng-template",0),Rs(2,GG,1,2,"td",4),Rs(3,qG,2,11,"td",32),Vs()),2&e){var n=$s().index,i=$s();Ms("logicalRowIndex",i.logicalRowIndex(n))("logicalSlaveRow",i.lockedColumnsCount>0)("logicalCellsCount",i.columns.length)("logicalSlaveCellsCount",i.unlockedColumnsCount),wr(1),Ms("ngIf",!i.skipGroupDecoration),wr(1),Ms("ngIf",null==i.detailTemplate?null:i.detailTemplate.templateRef),wr(1),Ms("ngForOf",i.footerColumns)("ngForTrackBy",i.trackByColumns)}}function $G(e,t){if(1&e&&(Rs(0,EG,1,13,"tr",13),Rs(1,zG,4,23,"tr",14),Rs(2,BG,5,21,"tr",15),Rs(3,ZG,4,8,"tr",16)),2&e){var n=t.$implicit,i=$s();Ms("ngIf",i.isGroup(n)&&i.isParentGroupExpanded(n)&&i.showGroupHeader(n)),wr(1),Ms("ngIf",i.isDataItem(n)&&i.isInExpandedGroup(n)),wr(1),Ms("ngIf",i.isDataItem(n)&&i.isInExpandedGroup(n)&&(null==i.detailTemplate?null:i.detailTemplate.templateRef)&&i.detailTemplate.showIf(n.data,n.index)&&i.isExpanded(n.index)),wr(1),Ms("ngIf",i.isFooter(n)&&(i.isInExpandedGroup(n)||i.showGroupFooters&&i.isParentGroupExpanded(n))&&!n.data.hideFooter)}}var KG=["kendoGridCell",""];function YG(e,t){}function XG(e,t){if(1&e&&(ya(0),Yl(1,"valueOf")),2&e){var n=t.$implicit;ba(" ",Ql(1,1,$s(3).dataItem,n.field,n.format)," ")}}function QG(e,t){1&e&&Rs(0,XG,2,5,"ng-template",4),2&e&&Ms("ngForOf",$s(2).childColumns)}function JG(e,t){if(1&e&&(ya(0),Yl(1,"valueOf")),2&e){var n=$s(2);ka(Ql(1,1,n.dataItem,n.column.field,n.column.format))}}function eU(e,t){if(1&e&&(Ns(0,"input",5),Ns(1,"label",6)),2&e){var n=$s(2);Ms("kendoGridSelectionCheckbox",n.rowIndex),As("id",n.selectionCheckboxId),wr(1),As("for",n.selectionCheckboxId)}}function tU(e,t){if(1&e&&(Bs(0),Rs(1,YG,0,0,"ng-template",2),Rs(2,QG,1,1,"ng-template",3),Rs(3,JG,2,5,"ng-template",3),Rs(4,eU,2,3,"ng-template",3),js()),2&e){var n=$s();wr(1),Ms("ngIf",n.column.templateRef)("ngTemplateOutlet",n.column.templateRef)("ngTemplateOutletContext",n.templateContext),wr(1),Ms("ngIf",n.isSpanColumn),wr(1),Ms("ngIf",n.isBoundColumn),wr(1),Ms("ngIf",n.isCheckboxColumn&&!n.isNew)}}function nU(e,t){}function iU(e,t){if(1&e&&Rs(0,nU,0,0,"ng-template",9),2&e){var n=$s(2);Ms("ngTemplateOutlet",n.column.editTemplateRef)("ngTemplateOutletContext",n.editTemplateContext)}}function rU(e,t){if(1&e&&Ns(0,"kendo-numerictextbox",13),2&e){var n=$s(3);Ms("format",n.format)("formControl",n.formGroup.get(n.column.field))}}function oU(e,t){if(1&e&&Ns(0,"kendo-datepicker",13),2&e){var n=$s(3);Ms("format",n.format)("formControl",n.formGroup.get(n.column.field))}}function sU(e,t){if(1&e&&Ns(0,"input",14),2&e){var n=$s(3);Ms("formControl",n.formGroup.get(n.column.field))}}function aU(e,t){if(1&e&&Ns(0,"input",15),2&e){var n=$s(3);Ms("formControl",n.formGroup.get(n.column.field))}}function lU(e,t){1&e&&(Bs(0,0),Rs(1,rU,1,2,"kendo-numerictextbox",10),Rs(2,oU,1,2,"kendo-datepicker",10),Rs(3,sU,1,1,"input",11),Rs(4,aU,1,1,"input",12),js()),2&e&&(Ms("ngSwitch",$s(2).column.editor),wr(1),Ms("ngSwitchCase","numeric"),wr(1),Ms("ngSwitchCase","date"),wr(1),Ms("ngSwitchCase","boolean"))}function uU(e,t){if(1&e&&(Bs(0),Rs(1,iU,1,2,void 0,7),Rs(2,lU,5,4,"ng-container",8),js()),2&e){var n=$s();wr(1),Ms("ngIf",n.column.editTemplateRef),wr(1),Ms("ngIf",!n.column.editTemplateRef)}}var cU=["kendoGridFooter",""];function hU(e,t){1&e&&Ns(0,"td"),2&e&&sa("k-group-cell",!0)}function fU(e,t){1&e&&Ns(0,"td"),2&e&&sa("k-hierarchy-cell",!0)}function dU(e,t){}function pU(e,t){if(1&e&&(Ls(0,"td",4),Rs(1,dU,0,0,"ng-template",5),Vs()),2&e){var n=t.$implicit,i=t.index,r=$s(2);Ms("ngClass",n.footerClass)("ngStyle",n.footerStyle),wr(1),Ms("templateContext",Ul(3,SH,n.footerTemplateRef,r.lockedColumnsCount+i,n,n))}}function vU(e,t){if(1&e&&(Ls(0,"tr"),Rs(1,hU,1,2,"td",1),Rs(2,fU,1,2,"td",2),Rs(3,pU,2,8,"td",3),Vs()),2&e){var n=$s();sa("k-footer-template",!0),wr(1),Ms("ngForOf",n.groups),wr(1),Ms("ngIf",null==n.detailTemplate?null:n.detailTemplate.templateRef),wr(1),Ms("ngForOf",n.columnsToRender)}}function gU(e,t){}function mU(e,t){if(1&e&&Rs(0,gU,0,0,"ng-template",1),2&e){var n=$s();Ms("ngTemplateOutlet",n.toolbarTemplateRef)("ngTemplateOutletContext",n.context)}}var yU,kU,bU,_U=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,i))).ngZone=e,n}return _inherits(t,e),_createClass(t,[{key:"subscribe",value:function(e,n,i){var r,o=this,s=function(e){return null},a=function(){return null};return e&&"object"==typeof e?(r=function(t){o.ngZone.run((function(){return e.next(t)}))},e.error&&(s=function(t){o.ngZone.run((function(){return e.error(t)}))}),e.complete&&(a=function(){o.ngZone.run((function(){return e.complete()}))})):(r=function(t){o.ngZone.run((function(){return e(t)}))},n&&(s=function(e){o.ngZone.run((function(){return n(e)}))}),i&&(a=function(){o.ngZone.run((function(){return i()}))})),_get(_getPrototypeOf(t.prototype),"subscribe",this).call(this,r,s,a)}}]),t}(tu),CU=function(){var e=function e(t){_classCallCheck(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(Ds(vl,8))},e.\u0275dir=Mt({type:e,selectors:[["","kendoGridCellTemplate",""]]}),e}(),wU=function(){var e=function e(t){_classCallCheck(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(Ds(vl,8))},e.\u0275dir=Mt({type:e,selectors:[["","kendoGridGroupHeaderTemplate",""]]}),e}(),xU=function(){var e=function e(t){_classCallCheck(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(Ds(vl,8))},e.\u0275dir=Mt({type:e,selectors:[["","kendoGridGroupHeaderColumnTemplate",""]]}),e}(),SU=((kU=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||kU)(Ds(vl,8))},kU.\u0275dir=Mt({type:kU,selectors:[["","kendoGridEditTemplate",""]]}),kU),TU=function(){var e=function e(t){_classCallCheck(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(Ds(vl,8))},e.\u0275dir=Mt({type:e,selectors:[["","kendoGridGroupFooterTemplate",""]]}),e}(),OU=function(){var e=function e(t){_classCallCheck(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(Ds(vl,8))},e.\u0275dir=Mt({type:e,selectors:[["","kendoGridHeaderTemplate",""]]}),e}(),IU=function(){var e=function e(t){_classCallCheck(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(Ds(vl,8))},e.\u0275dir=Mt({type:e,selectors:[["","kendoGridFooterTemplate",""]]}),e}(),EU=((yU=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||yU)(Ds(vl,8))},yU.\u0275dir=Mt({type:yU,selectors:[["","kendoGridColumnMenuTemplate",""]]}),yU),AU=function(e){return e.isSpanColumn},RU=function(e){return e.isCheckboxColumn},PU=((bU=function(){function e(t){if(_classCallCheck(this,e),this.parent=t,this.matchesMedia=!0,this.orderIndex=0,this.isColumnGroup=!1,this.isSpanColumn=!1,this.resizable=!0,this.reorderable=!0,this.minResizableWidth=10,this.locked=!1,this.lockable=!0,this.columnMenu=!0,this.includeInChooser=!0,this.headerTemplates=new iu,this.columnMenuTemplates=new iu,t&&!(n=t).isColumnGroup&&!AU(n))throw new Error("Columns can be nested only inside ColumnGroupComponent");var n}return _createClass(e,[{key:"rowspan",value:function(e){return this.level<e?e-this.level+1:1}},{key:"width",set:function(e){this._width=parseInt(e,10)},get:function(){return this._width}},{key:"level",get:function(){return this.parent&&AU(this.parent)?this.parent.level:this.parent?this.parent.level+1:0}},{key:"isLocked",get:function(){return this.parent?this.parent.isLocked:this.locked}},{key:"colspan",get:function(){return 1}},{key:"headerTemplateRef",get:function(){var e=this.headerTemplates.first;return e?e.templateRef:void 0}},{key:"footerTemplateRef",get:function(){return this.footerTemplate?this.footerTemplate.templateRef:void 0}},{key:"columnMenuTemplateRef",get:function(){var e=this.columnMenuTemplates.first;return e?e.templateRef:null}},{key:"displayTitle",get:function(){return this.title}},{key:"isVisible",get:function(){return!this.hidden&&this.matchesMedia}}]),e}()).\u0275fac=function(e){Fs()},bU.\u0275dir=Mt({type:bU,contentQueries:function(e,t,n){var i;1&e&&(gu(n,IU,!0),gu(n,OU,!1),gu(n,EU,!1)),2&e&&(fu(i=ku())&&(t.footerTemplate=i.first),fu(i=ku())&&(t.headerTemplates=i),fu(i=ku())&&(t.columnMenuTemplates=i))},inputs:{resizable:"resizable",reorderable:"reorderable",minResizableWidth:"minResizableWidth",locked:"locked",lockable:"lockable",columnMenu:"columnMenu",includeInChooser:"includeInChooser",width:"width",title:"title",autoSize:"autoSize",hidden:"hidden",media:"media",style:"style",headerStyle:"headerStyle",footerStyle:"footerStyle",cssClass:["class","cssClass"],headerClass:"headerClass",footerClass:"footerClass"}}),bU),DU=/^\s*$/,FU=function(e){return null!=e},MU=function(e){return null==e},zU=function(e){return Array.isArray(e)},LU=function(e){return!!e},VU=function(e){return MU(e)||DU.test(e)},NU=function(e){return le(ng(e),e.changes)},BU=function(){return"undefined"==typeof document},jU=function(e){return"string"==typeof e},HU=function(e){return"number"==typeof e&&!isNaN(e)},GU=function(e){return jU(e)&&!VU(e)&&e.startsWith("{0:")?e.slice(3,e.length-1):e},UU=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return!e.apply(null,n)}},WU=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),!1)}},qU=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t&&n(e)}),!0)}},ZU=new et("Skip"),$U=function(){if("function"==typeof Symbol&&Symbol.iterator)return Symbol.iterator;for(var e=Object.getOwnPropertyNames(Map.prototype),t=Map.prototype,n=0;n<e.length;++n){var i=e[n];if("entries"!==i&&"size"!==i&&t[i]===t.entries)return i}}();var KU,YU,XU="undefined"!=typeof window?window:{},QU=XU.requestAnimationFrame||XU.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},JU=XU.cancelAnimationFrame||XU.msCancelRequestAnimationFrame||clearTimeout,eW=((YU=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||YU)(Ds(vl,8))},YU.\u0275dir=Mt({type:YU,selectors:[["","kendoGridFilterCellTemplate",""]]}),YU),tW=((KU=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||KU)(Ds(vl,8))},KU.\u0275dir=Mt({type:KU,selectors:[["","kendoGridFilterMenuTemplate",""]]}),KU);function nW(e){return FU(e.field)}var iW=function(){var e=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).sortable=!0,n.groupable=!0,n.editor="text",n.filter="text",n.filterable=!0,n.editable=!0,n}return _inherits(t,e),_createClass(t,[{key:"templateRef",get:function(){return this.template?this.template.templateRef:void 0}},{key:"groupHeaderTemplateRef",get:function(){return this.groupHeaderTemplate?this.groupHeaderTemplate.templateRef:void 0}},{key:"groupHeaderColumnTemplateRef",get:function(){return this.groupHeaderColumnTemplate?this.groupHeaderColumnTemplate.templateRef:void 0}},{key:"groupFooterTemplateRef",get:function(){return this.groupFooterTemplate?this.groupFooterTemplate.templateRef:void 0}},{key:"editTemplateRef",get:function(){return this.editTemplate?this.editTemplate.templateRef:void 0}},{key:"filterCellTemplateRef",get:function(){return this.filterCellTemplate?this.filterCellTemplate.templateRef:void 0}},{key:"filterMenuTemplateRef",get:function(){return this.filterMenuTemplate?this.filterMenuTemplate.templateRef:void 0}},{key:"displayTitle",get:function(){return void 0===this.title?this.field:this.title}}]),t}(PU);return e.\u0275fac=function(t){return new(t||e)(Ds(PU,13))},e.\u0275cmp=Et({type:e,selectors:[["kendo-grid-column"]],contentQueries:function(e,t,n){var i;1&e&&(gu(n,CU,!0),gu(n,wU,!0),gu(n,xU,!0),gu(n,TU,!0),gu(n,SU,!0),gu(n,eW,!0),gu(n,tW,!0)),2&e&&(fu(i=ku())&&(t.template=i.first),fu(i=ku())&&(t.groupHeaderTemplate=i.first),fu(i=ku())&&(t.groupHeaderColumnTemplate=i.first),fu(i=ku())&&(t.groupFooterTemplate=i.first),fu(i=ku())&&(t.editTemplate=i.first),fu(i=ku())&&(t.filterCellTemplate=i.first),fu(i=ku())&&(t.filterMenuTemplate=i.first))},inputs:{sortable:"sortable",groupable:"groupable",editor:"editor",filter:"filter",filterable:"filterable",editable:"editable",field:"field",format:"format"},features:[Ha([{provide:PU,useExisting:Ve((function(){return e}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}();function rW(e){return e.isSpanColumn}var oW,sW=((oW=function(e){function t(e){var n;if(_classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).isSpanColumn=!0,n.template=new iu,n.editTemplate=new iu,n.childColumns=new iu,n.includeInChooser=!1,n._editable=!0,n._locked=!1,e&&e.isSpanColumn)throw new Error("SpanColumn cannot be nested inside another SpanColumn");return _possibleConstructorReturn(n)}return _inherits(t,e),_createClass(t,[{key:"editable",set:function(e){this._editable=e},get:function(){return FU(this.editTemplateRef)&&this._editable}},{key:"width",set:function(e){},get:function(){return this.childColumns.reduce((function(e,t){return e+t.width}),0)}},{key:"leafIndex",get:function(){return this.childColumns.first.leafIndex}},{key:"templateRef",get:function(){var e=this.template.first;return e?e.templateRef:void 0}},{key:"editTemplateRef",get:function(){var e=this.editTemplate.first;return e?e.templateRef:void 0}},{key:"colspan",get:function(){return this.childColumns.filter((function(e){return e.isVisible})).length}},{key:"locked",set:function(e){this._locked=e},get:function(){return this._locked||this.childColumns.some((function(e){return e.locked}))}},{key:"childrenArray",get:function(){return this.childColumns.toArray()}},{key:"hasChildren",get:function(){return this.childColumns.length>0}}]),t}(PU)).\u0275fac=function(e){return new(e||oW)(Ds(PU,13))},oW.\u0275cmp=Et({type:oW,selectors:[["kendo-grid-span-column"]],contentQueries:function(e,t,n){var i;1&e&&(gu(n,CU,!1),gu(n,SU,!1),gu(n,iW,!1)),2&e&&(fu(i=ku())&&(t.template=i),fu(i=ku())&&(t.editTemplate=i),fu(i=ku())&&(t.childColumns=i))},inputs:{editable:"editable",locked:"locked"},features:[Ha([{provide:PU,useExisting:Ve((function(){return oW}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),oW),aW=function(e){return e.reduce((function(e,t){return e.concat(rW(t)?t.childrenArray:[t])}),[])},lW=function(e){return e.reduce((function(e,t){return e.concat(rW(t)?[t].concat(t.childrenArray):[t])}),[])},uW=function(e){return aW(e).filter((function(e){return e.isVisible}))},cW=function(e){return function(t){return(t||[]).reduce((function(t,n){return t+(n[e]||0)}),0)}},hW=cW("width"),fW=cW("colspan"),dW=new RegExp("^[$A-Z_a-z][$A-Z_a-z0-9\\.]*$"),pW=function e(t){return t.reduce((function(t,n){return n.isColumnGroup?t=t.concat(e(function(e){return e.children.filter((function(t){return t!==e}))}(n))):n.isSpanColumn?t=t.concat(n.childrenArray):t.push(n),t}),[]).filter((function(e){return e.isVisible}))},vW=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return pW(n).some(e)},gW=function(e){return Fy(e,[{field:"orderIndex",dir:"asc"}])},mW=function(e){return LU(e.parent)&&rW(e.parent)};function yW(e){return e.isColumnGroup}var kW,bW,_W,CW,wW,xW,SW,TW,OW,IW,EW,AW,RW,PW,DW,FW,MW,zW,LW,VW,NW,BW,jW,HW,GW,UW,WW,qW,ZW,$W,KW,YW,XW,QW=((bW=function(e){function t(e){var n;if(_classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).parent=e,n.includeInChooser=!1,n.isColumnGroup=!0,n.minResizableWidth=10,e&&e.isSpanColumn)throw new Error("ColumnGroupComponent cannot be nested inside SpanColumnComponent");return _possibleConstructorReturn(n)}return _inherits(t,e),_createClass(t,[{key:"rowspan",value:function(){return 1}},{key:"colspan",get:function(){var e=this;return this.children&&1!==this.children.length?fW(this.children.filter((function(t){return t!==e&&t.isVisible}))):1}},{key:"leafIndex",get:function(){return this.children?(this.firstChild||{}).leafIndex:-1}},{key:"childrenArray",get:function(){var e=this;return this.children.filter((function(t){return t!==e}))}},{key:"hasChildren",get:function(){return Boolean(this.firstChild)}},{key:"firstChild",get:function(){var e=this;return this.children.find((function(t){return t!==e}))}}]),t}(PU)).\u0275fac=function(e){return new(e||bW)(Ds(PU,13))},bW.\u0275cmp=Et({type:bW,selectors:[["kendo-grid-column-group"]],contentQueries:function(e,t,n){var i;1&e&&gu(n,PU,!1),2&e&&fu(i=ku())&&(t.children=i)},features:[Ha([{provide:PU,useExisting:Ve((function(){return bW}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),bW),JW=((kW=function(){function e(t){_classCallCheck(this,e),this.templateRef=t,this._condition=function(){return!0}}return _createClass(e,[{key:"showIf",set:function(e){if("function"!=typeof e)throw new Error("showIf must be a function, but received ".concat(JSON.stringify(e),"."));this._condition=e},get:function(){return this._condition}}]),e}()).\u0275fac=function(e){return new(e||kW)(Ds(vl,8))},kW.\u0275dir=Mt({type:kW,selectors:[["","kendoGridDetailTemplate",""]],inputs:{showIf:["kendoGridDetailTemplateShowIf","showIf"]}}),kW),eq=function(){return _m()&&document.createElement},tq=null,nq=null,iq=((CW=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.zone=t,this.changeDetector=n,this.changes=new tu,"undefined"!=typeof window&&this.zone.runOutsideAngular((function(){ig(window,"resize").pipe(bg(100)).subscribe((function(){_W!==window.devicePixelRatio&&t.run((function(){tq=null,i.changes.emit(),i.changeDetector.markForCheck()}))}))}))}return _createClass(e,[{key:"scrollbarWidth",get:function(){return function(){if(null===tq&&eq()){_W=window.devicePixelRatio||1;var e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),tq=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return tq}()}},{key:"rtlScrollLeft",get:function(){return function(){if(null===nq&&eq()){var e=document.createElement("div");e.style.cssText="overflow:scroll;zoom:1;clear:both;display:block;width:100px;visibility:hidden;position:absolute;left:-10000px;direction:rtl;",e.innerHTML="<div style='width:200px;height:1px;'</div>",document.body.appendChild(e);var t=e.scrollLeft;e.scrollLeft=-1,nq=e.scrollLeft<0?e.scrollLeft:t,document.body.removeChild(e)}return nq}()}}]),e}()).\u0275fac=function(e){return new(e||CW)(ut(qu),ut(Xo))},CW.\u0275prov=xe({token:CW,factory:CW.\u0275fac}),CW),rq=function(e){return void 0!==e.items&&void 0!==e.field},oq=function(e,t){var n,i=t.footers,r=t.level,o=t.dataIndex,s=t.parentGroupIndex,a=t.groupIndex,l=e[0];return FU(l)&&rq(l)?(void 0!==(n=l).offset&&void 0!==n.skipHeader&&(a=FU(l.offset)?l.offset:a),new uq(e,i,r,o,s,a)):new lq(e,o,s)},sq=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.arr=t,this.idx=n,this.arr=t||[]}return _createClass(e,[{key:$U,value:function(){return this}},{key:"next",value:function(){return this.idx<this.arr.length?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}}}]),e}(),aq=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};_classCallCheck(this,e),this.dataIndex=n,this.resultMap=i,this._innerIterator=t[$U]?t[$U]():new sq(t)}return _createClass(e,[{key:$U,value:function(){return this}},{key:"next",value:function(){return this.resultMap(this._innerIterator.next(),this.dataIndex++)}}]),e}(),lq=function(e){function t(e,n,i){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,(function(e,t){return{done:e.done,value:{data:e.value,groupIndex:i,index:t,type:"data"}}})))}return _inherits(t,e),_createClass(t,[{key:"index",get:function(){return this.dataIndex}}]),t}(aq),uq=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;_classCallCheck(this,e),this.arr=t,this.outputFooters=n,this.level=i,this.dataIndex=r,this.parentIndex=o,this.groupIndex=s,this.currentGroupIndex="",this.arr=t||[],this._iterator=new aq(this.arr,this.dataIndex)}return _createClass(e,[{key:$U,value:function(){return this}},{key:"nextGroupItem",value:function(){return this.current=this._iterator.next().value,this._innerIterator=null,this.current?(this.currentGroupIndex="".concat((e=this.parentIndex)?e+"_":e).concat(this.groupIndex++),{done:!1,value:{data:this.current,index:this.currentGroupIndex,level:this.level,type:"group"}}):(this.current=null,{done:!0,value:void 0});var e}},{key:"footerItem",value:function(){if(this.current){var e=this.current;return this.current=null,{done:!1,value:{data:e,groupIndex:this.currentGroupIndex,level:this.level,type:"footer"}}}return this.current=null,{done:!0,value:void 0}}},{key:"innerIterator",value:function(e){return this._innerIterator||(this._innerIterator=oq(e.items,{dataIndex:this.dataIndex,footers:this.outputFooters,level:this.level+1,parentGroupIndex:this.currentGroupIndex})),this._innerIterator}},{key:"nextDataItem",value:function(e){var t=this.innerIterator(e).next();return FU(t.value)&&!t.done&&"data"===t.value.type&&(this.dataIndex=t.value.index+1),t.done?void 0:t}},{key:"next",value:function(){return FU(this.current)?this.nextDataItem(this.current)||(this.outputFooters?this.footerItem():this.nextGroupItem()):this.nextGroupItem()}},{key:"index",get:function(){return this.dataIndex+1}}]),e}(),cq=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.source=t,this.skip=n,this.groupFooters=i,this.source=this.source?this.source:[],this.isObject=this.isGridDataResult(this.source)}return _createClass(e,[{key:"isGridDataResult",value:function(e){return void 0!==e.total&&void 0!==e.data}},{key:"map",value:function(e){return this.data.map(e)}},{key:"filter",value:function(e){return this.data.filter(e)}},{key:"reduce",value:function(e,t){return this.data.reduce(e,t)}},{key:"forEach",value:function(e){this.data.forEach(e)}},{key:"some",value:function(e){return this.data.some(e)}},{key:$U,value:function(){return oq(this.data,{dataIndex:this.skip,footers:this.groupFooters,groupIndex:this.skip})}},{key:"toString",value:function(){return this.data.toString()}},{key:"total",get:function(){return this.isObject?this.source.total:this.source.length}},{key:"data",get:function(){return this.isObject?this.source.data:this.source}}]),e}(),hq=function(){function e(t){_classCallCheck(this,e),this.accessor=t}return _createClass(e,[{key:"at",value:function(e){return function(e,t){var n=e[0];return FU(n)&&rq(n)?function e(t){return t.reduce((function(t,n){return rq(n)?t.concat(e(n.items)):t.concat([n])}),[])}(e)[t]:e[t]}(this.accessor().data,e)}},{key:"map",value:function(e){return this.accessor().map(e)}},{key:"filter",value:function(e){return this.accessor().filter(e)}},{key:"reduce",value:function(e,t){return this.accessor().reduce(e,t)}},{key:"forEach",value:function(e){this.accessor().forEach(e)}},{key:"some",value:function(e){return this.accessor().some(e)}},{key:$U,value:function(){return this.accessor()[$U]()}},{key:"toString",value:function(){return this.accessor().toString()}},{key:"total",get:function(){return this.accessor().total}},{key:"length",get:function(){return this.accessor().data.length}},{key:"first",get:function(){return this.accessor().data[0]}},{key:"last",get:function(){return this.accessor().data[this.length-1]}}]),e}(),fq=((SW=function e(){_classCallCheck(this,e),this.cellClick=new tu,this.cellMousedown=new tu,this.click=new tu,this.keydown=new tu,this.focus=new tu,this.focusIn=new tu,this.focusOut=new tu,this.windowBlur=new tu}).\u0275prov=xe({token:SW,factory:SW.\u0275fac=function(e){return new(e||SW)}}),SW),dq=((xW=function e(){_classCallCheck(this,e),this.changes=new tu}).\u0275prov=xe({token:xW,factory:xW.\u0275fac=function(e){return new(e||xW)}}),xW),pq=function(){var e=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.changes=new tu,this.lastSelectionStartIndex=0,this.currentSelection=[],this.selectAllChecked=!1,this.cellClickSubscription=t.cellClick.subscribe((function(e){i.options.enabled&&!i.options.checkboxOnly&&"contextmenu"!==e.type&&i.handleClick({index:e.rowIndex,data:e.dataItem},e.originalEvent)})),this.mousedownSubscription=t.cellMousedown.subscribe((function(e){!i.options.enabled||i.options.mode&&"multiple"!==i.options.mode||i.options.checkboxOnly||!e.originalEvent.shiftKey||e.originalEvent.preventDefault()})),n&&(this.dataChangedSubscription=n.changes.subscribe((function(e){FU(e.action)&&"remove"===e.action&&i.deselect(e.item)})))}return _createClass(e,[{key:"init",value:function(e){if(this.settings=e,this.currentSelection=[],e.selectable&&!1!==e.selectable.enabled){var t=this.getIterator();for(this._selectAllState=!0;;){var n=t.next();if(n.done)break;if(n.value&&"data"===n.value.type){var i={dataItem:n.value.data,index:n.value.index};e.rowSelected(i)?this.currentSelection[n.value.index]=i:this._selectAllState=void 0}}0===this.currentSelection.length&&(this._selectAllState=!1)}}},{key:"isSelected",value:function(e){return this.options.enabled&&FU(this.currentSelection[e])}},{key:"handleClick",value:function(e,t){var n,i=t.ctrlKey||t.metaKey;"single"===this.options.mode&&i&&this.isSelected(e.index)?n=this.toggle(e):"multiple"===this.options.mode&&(i&&!t.shiftKey?n=this.toggle(e):t.shiftKey&&(n=this.addAllTo(e,i))),FU(n)||(n=this.select(e),this.currentSelection[e.index]={dataItem:e.data,index:e.index}),(n.selectedRows.length||n.deselectedRows.length)&&(n.ctrlKey=t.ctrlKey||t.metaKey,n.shiftKey=t.shiftKey,this.changes.emit(n))}},{key:"toggle",value:function(e){var t=[],n=[];return this.lastSelectionStartIndex=e.index,this.isSelected(e.index)?n.push({dataItem:e.data,index:e.index}):t.push({dataItem:e.data,index:e.index}),{deselectedRows:n,selectedRows:t}}},{key:"toggleByIndex",value:function(e){var t=this.getIterator();for(this.selectAllChecked&&this.isSelected(e)&&(this.selectAllChecked=!1);;){var n=t.next();if(n.done)break;if(n.value&&"data"===n.value.type&&n.value.index===e){var i={data:n.value.data,index:n.value.index};return this.isSelected(e)||"multiple"===this.options.mode?this.toggle(i):this.select(i)}}}},{key:"select",value:function(e){var t=[],n=[];return this.lastSelectionStartIndex=e.index,this.isSelected(e.index)||n.push({dataItem:e.data,index:e.index}),this.currentSelection.forEach((function(n){n.index!==e.index&&t.push(n)})),{deselectedRows:t,selectedRows:n}}},{key:"deselect",value:function(e){for(var t=this.getIterator();;){var n=t.next();if(n.done)break;if(n.value&&"data"===n.value.type&&n.value.data===e){var i={dataItem:n.value.data,index:n.value.index};this.isSelected(i.index)&&this.changes.emit({ctrlKey:!1,deselectedRows:[i],selectedRows:[]})}}}},{key:"addAllTo",value:function(e,t){for(var n=[],i=[],r=Math.min(this.lastSelectionStartIndex,e.index),o=Math.max(this.lastSelectionStartIndex,e.index),s=this.getIterator();;){var a=s.next();if(a.done)break;if(a.value&&"data"===a.value.type){var l=a.value.index;(l<r||l>o)&&this.isSelected(l)&&!t&&i.push({dataItem:a.value.data,index:l}),l>=r&&l<=o&&!this.isSelected(l)&&n.push({dataItem:a.value.data,index:l})}}return{deselectedRows:i,selectedRows:n}}},{key:"updateAll",value:function(e){this.selectAllChecked=e;for(var t=[],n=[],i=this.getIterator();;){var r=i.next();if(r.done)break;if(r.value&&"data"===r.value.type){var o=r.value.index;this.isSelected(o)&&!e&&n.push({dataItem:r.value.data,index:o}),!this.isSelected(o)&&e&&t.push({dataItem:r.value.data,index:o})}}(t.length||n.length)&&this.changes.emit({ctrlKey:!0,deselectedRows:n,selectedRows:t,shiftKey:!0})}},{key:"ngOnDestroy",value:function(){this.cellClickSubscription&&(this.cellClickSubscription.unsubscribe(),this.cellClickSubscription=null),this.mousedownSubscription&&(this.mousedownSubscription.unsubscribe(),this.mousedownSubscription=null),this.dataChangedSubscription&&(this.dataChangedSubscription.unsubscribe(),this.dataChangedSubscription=null)}},{key:"getIterator",value:function(){var e=this.settings.view.accessor();if(e)return e[$U]()}},{key:"selectAllState",get:function(){return this._selectAllState}},{key:"selected",get:function(){return this.currentSelection.map((function(e){return e.index})).filter((function(e){return"number"==typeof e}))}},{key:"options",get:function(){var e={checkboxOnly:!1,enabled:!0,mode:"multiple"};return FU(this.settings)?"boolean"==typeof this.settings.selectable?{checkboxOnly:!1,enabled:this.settings.selectable,mode:"multiple"}:Object.assign(e,this.settings.selectable):e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ut(fq),ut(dq))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),vq=((wW=function(){function e(t,n){_classCallCheck(this,e),this.grid=t,this.cd=n,this.selectedKeys=[],this.selectedKeysChange=new tu,this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;FU(this.grid.rowSelected)||(this.grid.rowSelected=function(t){return e.selectedKeys.indexOf(e.getItemKey(t))>=0}),this.selectionChangeSubscription=this.grid.selectionChange.subscribe(this.onSelectionChange.bind(this))}},{key:"destroy",value:function(){this.selectionChangeSubscription.unsubscribe()}},{key:"reset",value:function(){this.selectedKeys.splice(0,this.selectedKeys.length)}},{key:"getItemKey",value:function(e){if(this.selectionKey){if("string"==typeof this.selectionKey)return e.dataItem[this.selectionKey];if("function"==typeof this.selectionKey)return this.selectionKey(e)}return e.index}},{key:"onSelectionChange",value:function(e){var t=this;e.deselectedRows.forEach((function(e){var n=t.getItemKey(e),i=t.selectedKeys.indexOf(n);i>=0&&t.selectedKeys.splice(i,1)})),"single"===this.grid.selectableSettings.mode&&this.selectedKeys.length>0&&this.reset(),e.selectedRows.forEach((function(e){var n=t.getItemKey(e);t.selectedKeys.indexOf(n)<0&&t.selectedKeys.push(n)})),this.cd.markForCheck(),this.selectedKeysChange.emit(this.selectedKeys)}}]),e}()).\u0275fac=function(e){Fs()},wW.\u0275dir=Mt({type:wW,inputs:{selectedKeys:"selectedKeys",selectionKey:["kendoGridSelectBy","selectionKey"]},outputs:{selectedKeysChange:"selectedKeysChange"}}),wW),gq=function(){function e(){_classCallCheck(this,e),this.prevented=!1}return _createClass(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),mq=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).action="cellClose",Object.assign(_assertThisInitialized(n),e),n}return _inherits(t,e),t}(gq),yq=function(e){return-1===e||void 0===e},kq=((TW=function(){function e(t){var n=this;_classCallCheck(this,e),this.ngZone=t,this.changes=new tu,this.editedIndices=[],this.keepEditCell=!1,this.closingCell=!1,this.changedSource=new j,this.changed=this.changedSource.asObservable().pipe(_g((function(){return n.ngZone.onStable.asObservable().pipe(Og(1))})))}return _createClass(e,[{key:"editRow",value:function(e,t){this.editedIndices.push({index:e,group:t}),this.onChanged()}},{key:"addRow",value:function(e){this.newItemGroup={group:e},this.onChanged()}},{key:"editCell",value:function(e,t,n){yq(e)||!1===t.editable||!t.editTemplate&&!t.field||(this.preventCellClose(),this.closeCell()||(this.editRow(e,n),this.column=t,this.onChanged()))}},{key:"isEditing",value:function(){return this.editedIndices.length>0}},{key:"isEditingCell",value:function(){return this.isEditing()&&void 0!==this.column}},{key:"close",value:function(e){yq(e)?this.newItemGroup=void 0:(this.editedIndices=this.editedIndices.filter(function(e){return function(t){return t.index!==e}}(e)),delete this.column,this.onChanged())}},{key:"closeCell",value:function(e){var t=this;if(this.column&&!this.closingCell)return this.ngZone.run((function(){var n=t.editedIndices[0],i=n.index,r=n.group,o=new mq({column:t.column,formGroup:r,originalEvent:e,rowIndex:i});return t.closingCell=!0,t.changes.emit(o),t.closingCell=!1,o.isDefaultPrevented()||t.cancelCell(),o.isDefaultPrevented()}))}},{key:"cancelCell",value:function(){this.column&&(this.editedIndices=[],delete this.column,this.onChanged())}},{key:"shouldCloseCell",value:function(){return this.column&&!this.keepEditCell}},{key:"preventCellClose",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){window.clearTimeout(e.keepCellTimeout),e.keepEditCell=!0,e.keepCellTimeout=window.setTimeout((function(){e.keepEditCell=!1}),0)}))}},{key:"context",value:function(e){return yq(e)?this.newItemGroup:this.findByIndex(e)}},{key:"columnContext",value:function(e,t){return yq(e)?this.newItemGroup:this.column&&t!==this.column?void 0:this.findByIndex(e)}},{key:"isEdited",value:function(e){return!(!yq(e)||!FU(this.newItemGroup))||!this.column&&FU(this.findByIndex(e))}},{key:"hasEdited",value:function(e){return FU(this.context(e))}},{key:"isEditedColumn",value:function(e,t){return!(!this.column||this.column!==t)&&FU(this.findByIndex(e))}},{key:"beginEdit",value:function(e){this.changes.emit({action:"edit",rowIndex:e})}},{key:"beginAdd",value:function(){this.changes.emit({action:"add"})}},{key:"endEdit",value:function(e){var t=this.context(e).group;this.changes.emit({action:"cancel",rowIndex:e,formGroup:t,isNew:yq(e)})}},{key:"save",value:function(e){var t=this.context(e).group;this.changes.emit({action:"save",rowIndex:e,formGroup:t,isNew:yq(e)})}},{key:"remove",value:function(e){this.changes.emit({action:"remove",rowIndex:e})}},{key:"findByIndex",value:function(e){return this.editedIndices.find(function(e){return function(t){return t.index===e}}(e))}},{key:"onChanged",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.changedSource.next()}))}},{key:"hasNewItem",get:function(){return FU(this.newItemGroup)}},{key:"newDataItem",get:function(){return this.hasNewItem?this.newItemGroup.group.value:{}}}]),e}()).\u0275fac=function(e){return new(e||TW)(ut(qu))},TW.\u0275prov=xe({token:TW,factory:TW.\u0275fac}),TW),bq=function(){function e(t){_classCallCheck(this,e),this.isInitiallyCollapsed=t,this.changes=new j,this.rowState=[]}return _createClass(e,[{key:"toggleRow",value:function(e,t){var n=this.rowState.indexOf(e),i=-1===n;this.emitEvent({dataItem:t,expand:this.isInitiallyCollapsed?i:!i,index:e})||(this.rowState=i?[].concat(_toConsumableArray(this.rowState),[e]):[].concat(_toConsumableArray(this.rowState.slice(0,n)),_toConsumableArray(this.rowState.slice(n+1))))}},{key:"isExpanded",value:function(e){var t=this.rowState.indexOf(e)>=0;return this.isInitiallyCollapsed?t:!t}},{key:"reset",value:function(){this.rowState=[]}},{key:"emitEvent",value:function(e){return this.changes.next(e),!1}}]),e}(),_q=function(e){function t(e){var n;return _classCallCheck(this,t),n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)),Object.assign(_assertThisInitialized(n),e),n}return _inherits(t,e),t}(gq),Cq=function(e){function t(e){var n;return _classCallCheck(this,t),n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)),Object.assign(_assertThisInitialized(n),e),n}return _inherits(t,e),t}(gq),wq=((OW=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,!0))}return _inherits(t,e),_createClass(t,[{key:"emitEvent",value:function(e){var t=new(e.expand?_q:Cq)(e);return this.changes.next(t),t.isDefaultPrevented()}}]),t}(bq)).\u0275fac=function(e){return new(e||OW)},OW.\u0275prov=xe({token:OW,factory:OW.\u0275fac}),OW),xq=function(e){return e.lastIndexOf("_")>-1?e.slice(0,e.lastIndexOf("_")):""},Sq=((IW=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),_createClass(t,[{key:"isInExpandedGroup",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&(e=xq(e));for(var n=!0;e&&n;)n=this.isExpanded(e),e=xq(e);return n}},{key:"expandChildren",value:function(e){this.rowState=this.rowState.filter((function(t){return!t.startsWith(e)}))}}]),t}(bq)).\u0275fac=function(e){return new(e||IW)(ut(ZU,8))},IW.\u0275prov=xe({token:IW,factory:IW.\u0275fac}),IW),Tq=function(){function e(t){_classCallCheck(this,e),this.columns=t,this.allColumns=new iu,this.leafColumns=new iu,this.lockedColumns=new iu,this.nonLockedColumns=new iu,this.lockedLeafColumns=new iu,this.nonLockedLeafColumns=new iu,this.totalLevels=0,this.changes=new tu,this.leafColumnsToRender=[],this.lockedColumnsToRender=[],this.nonLockedColumnsToRender=[],this.hasGroupHeaderColumn=!1,this.hasGroupFooter=!1,this.hasFooter=!1,this.unlockedWidth=0}return _createClass(e,[{key:"refresh",value:function(){var e=this,t=this.totalLevels,n=new Array,i=new Array,r=new Array,o=new Array,s=new Array,a=new Array,l=new Array,u=new Array,c=new Array,h=!1,f=!1,d=!1,p=0,v=0;this.totalLevels=0,this.columns().forEach((function(t){var g=!0===t.isLocked?i:r,m=!0===t.isLocked?o:s,y=!0===t.isLocked?u:c;yW(t)||(g.push(t),n.push(t),l.push.apply(l,uW([t])),y.push.apply(y,uW([t])),h=h||vW((function(e){return Boolean(e.groupHeaderColumnTemplateRef)}),t),f=f||vW((function(e){return Boolean(e.groupFooterTemplateRef)}),t),d=d||vW((function(e){return Boolean(e.footerTemplateRef)}),t),t.isLocked||(p+=t.width||0),t.isSpanColumn?t.childColumns.forEach((function(e){e.leafIndex=v++})):t.leafIndex=v++),m.push(t),a.push(t),e.totalLevels=t.level>e.totalLevels?t.level:e.totalLevels})),this.hasGroupHeaderColumn=h,this.hasGroupFooter=f,this.hasFooter=d,this.leafColumnsToRender=l,this.lockedColumnsToRender=u,this.nonLockedColumnsToRender=c,this.unlockedWidth=p;var g=function(){for(var e=!1,t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t],i=_slicedToArray(n,2),r=i[0],o=i[1];e=e||r.length!==o.length,r.reset(o)}return e}([this.leafColumns,n],[this.lockedLeafColumns,i],[this.nonLockedLeafColumns,r],[this.lockedColumns,o],[this.allColumns,a],[this.nonLockedColumns,s])||t!==this.totalLevels;return g&&this.changes.emit(),g}}]),e}(),Oq=function e(t,n){t.forEach((function(t){n(t),t.isColumnGroup&&t.hasChildren&&e(t.childrenArray,n)}))},Iq=function(e,t){var n=[];return gW(e).forEach((function(e){if(t(e))if(e.isColumnGroup){var i=Iq(e.childrenArray,t);i.length&&n.push.apply(n,[e].concat(_toConsumableArray(i)))}else e.isSpanColumn&&!Iq(e.childrenArray,t).length||n.push(e)})),n},Eq=function(){function e(t){_classCallCheck(this,e),this.columns=t}return _createClass(e,[{key:"forEach",value:function(e){Oq(this.columns,e)}},{key:"filter",value:function(e){var t=[];return Oq(this.columns,(function(n){e(n)&&t.push(n)})),t}},{key:"filterHierarchy",value:function(e){return Iq(this.columns.toArray(),e)}},{key:"filterSort",value:function(e){var t=[];return function e(t,n){gW(t).forEach((function(t){n(t),t.isColumnGroup&&t.hasChildren&&e(t.childrenArray,n)}))}(this.columns.toArray(),(function(n){e(n)&&t.push(n)})),t}},{key:"toArray",value:function(){var e=[];return Oq(this.columns,(function(t){e.push(t)})),e}},{key:"rootColumns",value:function(){return this.columns.toArray()}}],[{key:"empty",value:function(){return new e(new iu)}}]),e}(),Aq=((RW=function(){function e(){_classCallCheck(this,e),this._columnList=Eq.empty}return _createClass(e,[{key:"registerColumnsContainer",value:function(e){this._columnList=e}},{key:"formatForGroup",value:function(e){var t=this.columnForGroup(e);return t?t.format:""}},{key:"isGroupable",value:function(e){var t=_slicedToArray(this.columns.filter((function(t){return t.field===e})),1)[0];return!t||t.groupable}},{key:"groupTitle",value:function(e){var t=this.columnForGroup(e);return t?t.title||t.field:this.groupField(e)}},{key:"groupHeaderTemplate",value:function(e){var t=this.columnForGroup(e);return t?t.groupHeaderTemplateRef||t.groupHeaderColumnTemplateRef:void 0}},{key:"groupField",value:function(e){return e.data?e.data.field:e.field}},{key:"columnForGroup",value:function(e){var t=this.groupField(e);return _slicedToArray(this.columns.filter((function(e){return e.field===t})),1)[0]}},{key:"columns",get:function(){return aW(this._columnList().toArray()).filter(nW)}}]),e}()).\u0275fac=function(e){return new(e||RW)},RW.\u0275prov=xe({token:RW,factory:RW.\u0275fac}),RW),Rq=((AW=function(){function e(t){_classCallCheck(this,e),this.ngZone=t,this.changes=new tu}return _createClass(e,[{key:"notify",value:function(){var e=this;this.subscription&&!this.subscription.closed||(this.subscription=this.ngZone.onStable.asObservable().pipe(Og(1)).subscribe((function(){return e.changes.emit()})))}}]),e}()).\u0275fac=function(e){return new(e||AW)(ut(qu))},AW.\u0275prov=xe({token:AW,factory:AW.\u0275fac}),AW),Pq=((EW=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||EW)(Ds(vl,8))},EW.\u0275dir=Mt({type:EW,selectors:[["","kendoGridNoRecordsTemplate",""]]}),EW),Dq=function(e){return function(t){return t.forEach((function(t){return t.style.height=e}))}},Fq=function(e,t){var n=document.activeElement,i=function(e,t){for(var n=[],i=0,r=e.length;i<r&&t[i];i++)n.push([e[i],t[i]]);return n}(e.rows,t.rows);i.filter((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return n.style.height||i.style.height})).forEach(Dq(""));var r=function(e){return e.map((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1],r=n.offsetHeight,o=i.offsetHeight;return r<o?o:r}))}(i);[e,t].forEach((function(e){return e.style.display="none"})),i.forEach(function(e){return function(t,n){return Dq("".concat(e[n]+1,"px"))(t)}}(r)),[e,t].forEach((function(e){return e.style.display=""})),document.activeElement!==n&&(e.contains(n)||t.contains(n))&&n.focus()},Mq=new et("grid-cell-context"),zq=((MW=function(){function e(){_classCallCheck(this,e),this.changes=new j}return _createClass(e,[{key:"filter",value:function(e){this.changes.next(e)}}]),e}()).\u0275fac=function(e){return new(e||MW)},MW.\u0275prov=xe({token:MW,factory:MW.\u0275fac}),MW),Lq=((FW=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||FW)(Ds(vl,8))},FW.\u0275dir=Mt({type:FW,selectors:[["","kendoPagerTemplate",""]]}),FW),Vq=((DW=function(){function e(){_classCallCheck(this,e),this.changes=new j,this.pageChange=new j}return _createClass(e,[{key:"notifyChanges",value:function(e){this.total=e.total,this.pageSize=e.pageSize,this.skip=e.skip,this.changes.next(e)}},{key:"changePage",value:function(e){this.pageChange.next({skip:e*this.pageSize,take:this.pageSize})}},{key:"changePageSize",value:function(e){this.pageChange.next({skip:0,take:e})}},{key:"nextPage",value:function(){var e=this.currentPage+1;e*this.pageSize<=this.total&&this.changePage(e)}},{key:"prevPage",value:function(){var e=this.currentPage-1;e*this.pageSize>=0&&this.changePage(e)}},{key:"currentPage",get:function(){return this.skip/this.pageSize}}]),e}()).\u0275fac=function(e){return new(e||DW)},DW.\u0275prov=xe({token:DW,factory:DW.\u0275fac}),DW),Nq=((PW=function(){function e(){_classCallCheck(this,e),this.savePDF=new tu,this.drawPDF=new tu,this.exportClick=new tu,this.dataChanged=new tu}return _createClass(e,[{key:"save",value:function(e){this.emitEvent(this.savePDF,e)}},{key:"draw",value:function(e,t){this.emitEvent(this.drawPDF,{component:e,promise:t})}},{key:"emitEvent",value:function(e,t){if(0===e.observers.length){if(Ci())throw new Error("Creating PDF requires including the PDFModule and adding the <kendo-grid-pdf> component.")}else e.emit(t)}}]),e}()).\u0275fac=function(e){return new(e||PW)},PW.\u0275prov=xe({token:PW,factory:PW.\u0275fac}),PW),Bq=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(gq),jq=((zW=function e(){_classCallCheck(this,e),this.scroll=!1}).\u0275prov=xe({token:zW,factory:zW.\u0275fac=function(e){return new(e||zW)}}),zW),Hq=function(e){return window.matchMedia(e).matches},Gq=((NW=function(){function e(){_classCallCheck(this,e),this.matchMedia=Hq}return _createClass(e,[{key:"matchesMedia",value:function(e){return!e||this.matchMedia(function(e){return{xs:"(max-width: 576px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"}[e]||e}(e))}}]),e}()).\u0275fac=function(e){return new(e||NW)},NW.\u0275prov=xe({token:NW,factory:NW.\u0275fac}),NW),Uq=((VW=function(){function e(){_classCallCheck(this,e),this.saveToExcel=new tu,this.exportClick=new tu}return _createClass(e,[{key:"save",value:function(e){if(0===this.saveToExcel.observers.length){if(Ci())throw new Error("Saving excel requires including the ExcelModule and adding the <kendo-grid-excel> component.")}else this.saveToExcel.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||VW)},VW.\u0275prov=xe({token:VW,factory:VW.\u0275fac}),VW),Wq=((LW=function(){function e(t){_classCallCheck(this,e),this.templateRef=t,this._position="top"}return _createClass(e,[{key:"position",set:function(e){this._position=e},get:function(){return this._position}}]),e}()).\u0275fac=function(e){return new(e||LW)(Ds(vl,8))},LW.\u0275dir=Mt({type:LW,selectors:[["","kendoGridToolbarTemplate",""]],inputs:{position:"position"}}),LW),qq=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.ngZone=t,this.changes=new j,this.elements=[],this.subscriptions=new O,this.headerSubscription=new O,this.bodySubscription=new O,this.subscriptions.add(this.changes.subscribe((function(e){return n.scrollLeft(e)})))}return _createClass(e,[{key:"registerEmitter",value:function(e,t){var n=this;this.unregister(t),this.elements.push({element:e,sourceType:t}),"body"!==t&&"header"!==t||this.ngZone.runOutsideAngular((function(){var i=ig(e,"scroll").pipe(Q((function(e){return{scrollLeft:e.target.scrollLeft,sourceType:t}}))),r=i.pipe(function(e,t){return function(t){return t.lift(new Ag(e,void 0))}}((function(e,t){return e.scrollLeft===t.scrollLeft})),Pg((function(e){return!n.source||n.source===e.sourceType})),Mg((function(e){return n.source=e.sourceType}))).subscribe((function(e){return n.changes.next(e)}));r.add(i.pipe(Pg((function(e){return n.source&&n.source!==e.sourceType}))).subscribe((function(){return n.source=void 0}))),"body"===t?n.bodySubscription.add(r):n.headerSubscription.add(r)}))}},{key:"destroy",value:function(){this.subscriptions.unsubscribe(),this.headerSubscription.unsubscribe(),this.bodySubscription.unsubscribe()}},{key:"scrollLeft",value:function(e){var t=this,n=e.scrollLeft,i=e.sourceType;this.ngZone.runOutsideAngular((function(){t.elements.filter((function(e){return i!==e.sourceType})).forEach((function(e){return e.element.scrollLeft=n}))}))}},{key:"unregister",value:function(e){var t=this.elements.findIndex((function(t){return t.sourceType===e}));t>-1&&("header"===e?(this.headerSubscription.unsubscribe(),this.headerSubscription=new O):"body"===e&&(this.bodySubscription.unsubscribe(),this.bodySubscription=new O),this.elements.splice(t,1))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ut(qu))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),Zq=function(){var e=function(){function e(){_classCallCheck(this,e),this.resizeSubscription=new O((function(){})),this.dispatcher=new j,this.changes=this.dispatcher.asObservable().pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fg,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vg;return function(i){return i.lift(new Ng(e,t,n.leading,n.trailing))}}(100))}return _createClass(e,[{key:"connect",value:function(e){this.resizeSubscription.add(e.subscribe(this.dispatcher))}},{key:"destroy",value:function(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),$q=/^(?:a|input|select|option|textarea|button|object)$/i,Kq={},Yq=function(e){return String(e).trim().split(" ")},Xq=function(e,t){var n=Yq(t);return Boolean(Yq(e.className).find((function(e){return n.indexOf(e)>=0})))},Qq=function(e){return function(t){return Xq(t,e)}},Jq=function(e){return Kq[e]||(Kq[e]=function(t){return String(t.nodeName).toLowerCase()===e.toLowerCase()}),Kq[e]},eZ=function(e,t){for(;e&&!t(e);)e=e.parentNode;return e},tZ=function(e,t,n){for(;e&&e!==n&&!t(e);)e=e.parentNode;if(e!==n)return e},nZ=function(e){var t=e.getBoundingClientRect();return(t.width>0&&t.height>0||0!==t.x&&0!==t.y)&&"hidden"!==window.getComputedStyle(e).visibility},iZ=function(e){if(!e.tagName)return!1;var t=e.tagName.toLowerCase(),n=Boolean(e.getAttribute("tabIndex"));return!e.disabled&&$q.test(t)||n},rZ=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!iZ(e))return!1;var n=e.getAttribute("tabIndex");return(!t||nZ(e))&&"-1"!==n},oZ=function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t){if(i&&n(t))return t;for(t=t.firstChild;t;){if(1===t.nodeType){var r=e(t,n);if(r)return r}t=t.nextSibling}}},sZ=function e(t){return t.parent?e(t.parent):!!t.locked},aZ=function(e,t){return Object.assign({columns:pW([e]),locked:sZ(e)},t)},lZ=((BW=function(){function e(){_classCallCheck(this,e),this.changes=new tu,this.tables=[],this.batch=null}return _createClass(e,[{key:"start",value:function(e){this.trackColumns(e);var t=(this.column.isColumnGroup?[e]:[]).concat(pW([e]));this.changes.emit({columns:t,locked:sZ(this.column),type:"start"})}},{key:"resizeColumns",value:function(e){var t=aZ(this.column,{deltaPercent:e,type:"resizeColumn"});this.changes.emit(t)}},{key:"resizeTable",value:function(e,t){var n=aZ(e,{delta:t,type:"resizeTable"});this.changes.emit(n)}},{key:"resizedColumn",value:function(e){this.resizedColumns.push(e)}},{key:"end",value:function(){this.changes.emit({columns:[],resizedColumns:this.resizedColumns,type:"end"})}},{key:"registerTable",value:function(e){var t=this;return this.tables.push(e),function(){t.tables.splice(t.tables.indexOf(e),1)}}},{key:"measureColumns",value:function(e){var t,n=this;null!==this.batch?(t=this.batch).push.apply(t,_toConsumableArray(e)):this.autoFitBatch(e,(function(){return n.end()}))}},{key:"autoFit",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=n.filter((function(e){return!e.isLocked}));this.autoFitStart(r),this.autoFitBatch(this.batch,(function(){if(r.length<n.length){var t=n.filter((function(e){return e.isLocked}));e.autoFitStart(t),e.autoFitBatch(e.batch,(function(){return e.end()}))}else e.end()}))}},{key:"trackColumns",value:function(e){this.resizedColumns=[],this.column=e}},{key:"autoFitStart",value:function(e){if(this.batch=[],this.resizedColumns=[],0!==e.length){var t=e[0].isLocked;this.changes.emit({type:"start",columns:e,locked:t}),this.changes.emit({type:"triggerAutoFit",columns:e,locked:t})}}},{key:"autoFitBatch",value:function(e,t){var n=this,i=e.length>0&&e[0].column.isLocked;(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];return"function"==typeof i&&t.pop(),ae(t,void 0).lift(new rg(i))}).apply(void 0,_toConsumableArray(this.tables.filter((function(e){return e.locked===i})).map((function(t){return t.autoFit(e)})))).pipe(Og(1)).subscribe((function(r){n.changes.emit({columns:e.map((function(e){return e.column})),type:"autoFitComplete",widths:r,locked:i}),t&&t()})),this.batch=null}}]),e}()).\u0275fac=function(e){return new(e||BW)},BW.\u0275prov=xe({token:BW,factory:BW.\u0275fac}),BW),uZ=function(e){return!0===e||"string"==typeof e&&e.indexOf("row")>-1},cZ=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).originalEvent=e,n}return _inherits(t,e),t}(gq),hZ=((jW=function(){function e(t,n,i,r,o){var s=this;_classCallCheck(this,e),this.popupService=t,this.renderer=n,this.ngZone=i,this.localization=o,this.onClose=new j,this.scrollSubscription=r.changes.subscribe((function(){return s.destroy()}))}return _createClass(e,[{key:"open",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"k-grid-filter-popup",r=FU(n)&&this.popupRef===n;if(this.destroy(),!r){var o=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchorAlign:{vertical:"bottom",horizontal:o},popupAlign:{vertical:"top",horizontal:o},anchor:e,popupClass:i,content:t,positionMode:"absolute"}),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.localization.rtl?"rtl":"ltr"),this.attachClose(e)}return this.popupRef}},{key:"destroy",value:function(){this.popupRef&&(this.detachClose(),this.popupRef.close(),this.popupRef=null)}},{key:"ngOnDestroy",value:function(){this.destroy(),this.scrollSubscription.unsubscribe()}},{key:"detachClose",value:function(){this.removeClick&&this.removeClick()}},{key:"attachClose",value:function(e){var t=this;this.detachClose(),this.ngZone.runOutsideAngular((function(){return t.removeClick=t.renderer.listen("document","click",(function(n){if(!function(n,i){for(;n;){if(r=n,t.popupRef.popupElement===r||r===e)return!0;n=n.parentNode}var r;return!1}(n.target)){var i=new cZ(n);t.onClose.next(i),i.isDefaultPrevented()||t.destroy()}}))}))}}]),e}()).\u0275fac=function(e){return new(e||jW)(ut(zk),ut(Ya),ut(qu),ut(qq),ut(jy))},jW.\u0275prov=xe({token:jW,factory:jW.\u0275fac}),jW),fZ=function(e){var t=!1;return function(){return t||(document.body.appendChild(e),t=!0),e}},dZ=function(e){var t=function(e){return e.ownerDocument.documentElement}(e),n=t.clientTop,i=t.clientLeft,r=function(e){return e.ownerDocument.defaultView}(e),o=r.pageYOffset,s=r.pageXOffset,a=e.getBoundingClientRect();return{top:a.top+o-n,left:a.left+s-i}},pZ=function(e,t){return 0!=(4&t.compareDocumentPosition(e))},vZ=function(e,t){return e===t||0!=(16&t.compareDocumentPosition(e))},gZ=function(e,t){var n=dZ(e),i=e.offsetWidth,r=e.offsetHeight;return{left:n.left+(t?0:i),top:n.top,height:r}},mZ=((HW=function(){function e(){_classCallCheck(this,e),this.changes=new tu,this.register=[],this.lastTarget=null}return _createClass(e,[{key:"add",value:function(e){this.register.push(e)}},{key:"remove",value:function(e){this.register=this.register.filter((function(t){return t!==e}))}},{key:"notifyDrag",value:function(e,t,n){var i=this.targetFor(t);this.lastTarget!==i&&(this.changes.next({draggable:e,mouseEvent:n,target:this.lastTarget,type:"leave"}),i&&this.changes.next({draggable:e,mouseEvent:n,target:i,type:"enter"}),this.lastTarget=i)}},{key:"notifyDrop",value:function(e,t){this.changes.next({draggable:e,mouseEvent:t,target:this.lastTarget,type:"drop"}),this.lastTarget=null}},{key:"targetFor",value:function(e){var t=vZ.bind(null,e);return this.register.find((function(e){var n=e.element.nativeElement;return t(n)}))}}]),e}()).\u0275fac=function(e){return new(e||HW)},HW.\u0275prov=xe({token:HW,factory:HW.\u0275fac}),HW),yZ=function(e,t){var n=e.querySelector(".k-icon");n.className=n.className.replace(/(plus|cancel)/,t?"plus":"cancel")},kZ=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.querySelectorAll(".k-icon")[1],i=null==t?"":t?"k-i-lock":"k-i-unlock";n.className=n.className.replace(/(k-i-unlock|k-i-lock)/,"")+" ".concat(i)},bZ=((WW=function(){function e(t){_classCallCheck(this,e),this.santizer=t}return _createClass(e,[{key:"create",value:function(e,t,n){this.initCoords(e),this.dom=document.createElement("div"),function(e,t){var n=getComputedStyle(t);e.className="k-header k-drag-clue",e.style.position="absolute",e.style.zIndex="20000",e.style.paddingLeft=n.paddingLeft,e.style.paddingTop=n.paddingTop,e.style.paddingBottom=n.paddingBottom,e.style.paddingRight=n.paddingRight,e.style.width=n.width,e.style.height=n.height}(this.dom,t);var i=this.santizer.sanitize(Wi.HTML,n);this.dom.innerHTML='\n            <span class="k-icon k-drag-status k-i-cancel k-icon-with-modifier">\n                <span class="k-icon k-icon-modifier"></span>\n            </span>\n            '.concat(i,"\n        ")}},{key:"attach",value:function(){return fZ(this.dom)}},{key:"remove",value:function(){var e;this.dom&&this.dom.parentNode&&(e=this.dom,setTimeout((function(){return document.body.removeChild(e)})),this.dom=null)}},{key:"show",value:function(){this.dom.style.display=""}},{key:"hide",value:function(){this.dom.style.display="none"}},{key:"enable",value:function(){yZ(this.dom,!0)}},{key:"disable",value:function(){yZ(this.dom,!1)}},{key:"removeLock",value:function(){kZ(this.dom)}},{key:"toggleLock",value:function(e){kZ(this.dom,e)}},{key:"move",value:function(e){this.dom.style.top=this.initialTop+e.pageY+"px",this.dom.style.left=this.initialLeft+e.pageX+"px"}},{key:"initCoords",value:function(e){var t=dZ(e.originalEvent.target),n=t.top,i=t.left;this.initialTop=n-e.pageY,this.initialLeft=i-e.pageX}}]),e}()).\u0275fac=function(e){return new(e||WW)(ut(Fh))},WW.\u0275prov=xe({token:WW,factory:WW.\u0275fac}),WW),_Z=((UW=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"create",value:function(){this.dom=document.createElement("div"),this.dom.className="k-grouping-dropclue",this.hide()}},{key:"attach",value:function(){return fZ(this.dom)}},{key:"remove",value:function(){this.dom&&this.dom.parentElement&&(document.body.removeChild(this.dom),this.dom=null)}},{key:"hide",value:function(){this.dom.style.display="none"}},{key:"position",value:function(e){var t=e.left,n=e.top,i=e.height;this.dom.style.display="block",this.dom.style.height=i+"px",this.dom.style.top=n+"px",this.dom.style.left=t-this.dom.offsetWidth/2+"px"}}]),e}()).\u0275fac=function(e){return new(e||UW)},UW.\u0275prov=xe({token:UW,factory:UW.\u0275fac}),UW),CZ=((GW=function(){function e(){_classCallCheck(this,e),this.changes=new tu}return _createClass(e,[{key:"reorder",value:function(e){this.changes.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||GW)},GW.\u0275prov=xe({token:GW,factory:GW.\u0275fac}),GW),wZ=function(e){function t(e){var n,i=e.column,r=e.newIndex,o=e.oldIndex;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).column=i,n.newIndex=r,n.oldIndex=o,n}return _inherits(t,e),t}(gq),xZ=((qW=function(){function e(){_classCallCheck(this,e),this.groups=new Set}return _createClass(e,[{key:"registerGroup",value:function(e){this.alive&&this.groups.add(e)}},{key:"unregisterGroup",value:function(e){this.alive&&this.groups.delete(e)}},{key:"activate",value:function(){this.alive&&this.groups.forEach((function(e){return e.activate()}))}},{key:"deactivate",value:function(){this.alive&&this.groups.forEach((function(e){return e.deactivate()}))}}]),e}()).\u0275fac=function(e){return new(e||qW)},qW.\u0275prov=xe({token:qW,factory:qW.\u0275fac}),qW),SZ=Jq("button"),TZ=Jq("input"),OZ=/(button|checkbox|color|file|radio|reset|submit)/i,IZ=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.renderer=n,this.element=t.nativeElement,this.focusable=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return oZ(i.element,(function(e){return rZ(e,t)}))}(0,!1)||this.element}return _createClass(e,[{key:"isNavigable",value:function(){return this.canFocus()&&!(e=this.element).disabled&&(SZ(e)||function(e){return TZ(e)&&OZ.test(e.type)}(e));var e}},{key:"toggle",value:function(e){this.renderer.setAttribute(this.focusable,"tabIndex",e?"0":"-1")}},{key:"focus",value:function(){this.focusable&&this.focusable.focus()}},{key:"canFocus",value:function(){return this.visible&&this.enabled}},{key:"hasFocus",value:function(){var e=this;return document.activeElement!==this.element&&eZ(document.activeElement,(function(t){return t===e.element}))}},{key:"enabled",get:function(){return this.focusable&&!this.focusable.disabled}},{key:"visible",get:function(){return this.focusable&&nZ(this.focusable)}}]),e}(),EZ=((ZW=function(){function e(t,n,i){_classCallCheck(this,e),this.cellContext=t,this.hostElement=n,this.renderer=i,this.active=!0,this.cellContext&&(this.group=this.cellContext.focusGroup),this.group&&this.group.registerElement(this)}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.element||(this.element=new IZ(this.hostElement,this.renderer)),this.group&&this.toggle(this.group.isActive)}},{key:"ngOnDestroy",value:function(){this.group&&this.group.unregisterElement(this)}},{key:"toggle",value:function(e){this.element&&e!==this.active&&(this.active=e,this.element.toggle(e))}},{key:"canFocus",value:function(){return this.element&&this.element.canFocus()}},{key:"isNavigable",value:function(){return this.element&&this.element.isNavigable()}},{key:"focus",value:function(){this.element&&this.element.focus()}},{key:"hasFocus",value:function(){return this.element&&this.element.hasFocus()}},{key:"registerElement",value:function(e){this.element=e}}]),e}()).\u0275fac=function(e){return new(e||ZW)(Ds(Mq,12),Ds(qa),Ds(Ya))},ZW.\u0275dir=Mt({type:ZW,selectors:[["","kendoGridFocusable",""],["","kendoGridEditCommand",""],["","kendoGridRemoveCommand",""],["","kendoGridSaveCommand",""],["","kendoGridCancelCommand",""],["","kendoGridSelectionCheckbox",""]]}),ZW),AZ=function(){function e(t){_classCallCheck(this,e),this.navigationService=t}return _createClass(e,[{key:"focus",value:function(){this.navigationService.focusCell()}},{key:"toggle",value:function(e){this.navigationService.toggle(e)}},{key:"canFocus",value:function(){return!0}},{key:"hasFocus",value:function(){return this.navigationService.hasFocus()}},{key:"isNavigable",value:function(){return!1}}]),e}(),RZ=function(){function e(t){_classCallCheck(this,e),this.model=t,this.changes=new j,this.activeRow=0,this.activeCol=0,this.virtualCol=0,this.virtualRow=0}return _createClass(e,[{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.activeRow,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.activeCol,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.activate(e,t,n)&&(this.virtualRow=e,this.virtualCol=t)}},{key:"activate",value:function(e,t,n){if(!n&&this.isActiveRange(e,t))return!1;var i=this.activeCol,r=this.activeRow;return this.activeCol=t,this.activeRow=e,this.changes.next({colIndex:t,prevColIndex:i,prevRowIndex:r,rowIndex:e}),!0}},{key:"isActiveRange",value:function(e,t){if(this.activeRow!==e)return!1;var n=this.cell,i=this.model.cellRange(n),r=i.start,o=i.end;return!Boolean(n)||r<=t&&t<=o}},{key:"assume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.activeRow,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.activeCol;this.virtualRow=e,this.virtualCol=t,this.activeCol=t,this.activeRow=e}},{key:"announce",value:function(){this.changes.next({colIndex:this.activeCol,prevColIndex:this.activeCol,prevRowIndex:this.activeRow,rowIndex:this.activeRow})}},{key:"activateVirtualCell",value:function(e){var t=this.model.rowRange(e),n=this.model.cellRange(e),i=this.activeCol,r=this.activeRow;if(t.start<=r&&r<=t.end&&n.start<=i&&i<=n.end)return this.activeRow=e.rowIndex,this.activeCol=e.colIndex,!0}},{key:"isActive",value:function(e,t){return this.activeCol===t&&this.activeRow===e}},{key:"moveUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offsetRow(-e)}},{key:"moveDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offsetRow(e)}},{key:"moveLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offsetCol(-e)}},{key:"moveRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offsetCol(e)}},{key:"lastCellIndex",value:function(e){return this.metadata.columns.leafColumnsToRender.length-1+(!this.metadata.hasDetailTemplate||e&&e.groupItem?0:1)}},{key:"offsetCol",value:function(e){var t=this.model.findRow(this.virtualRow),n=this.lastCellIndex(t),i=this.virtualCol;this.virtualCol=Math.max(0,Math.min(i+e,n));var r=this.virtualCol,o=this.virtualRow,s=this.model.findCell(this.virtualCol,t);if(!s&&this.metadata.virtualColumns)return this.activate(o,r);if(s.colSpan>1&&s.colIndex<=i&&i<s.colIndex+s.colSpan){r=e>0?Math.min(s.colIndex+s.colSpan,n):Math.max(0,s.colIndex+e);var a=this.model.findCell(r,t);s!==a?(s=a,this.virtualCol=s.colIndex):this.virtualCol=i}return this.activate(s.rowIndex,s.colIndex)}},{key:"offsetRow",value:function(e){var t=this.virtualCol;if(this.metadata&&this.metadata.isVirtual){var n=this.metadata.maxLogicalRowIndex,i=Math.max(0,Math.min(this.activeRow+e,n));this.metadata.hasDetailTemplate&&!this.model.findRow(i)&&(i=e>0?i+1:i-1,i=Math.max(0,Math.min(i,n))),this.metadata.hasDetailTemplate&&i===n&&this.model.lastRow.index!==n&&i--;var r=this.model.findRow(i);if(r){var o=this.model.findCell(this.virtualCol,r);o.rowIndex<=this.virtualRow&&e>0&&o.rowSpan>1&&(o=this.model.findCell(this.virtualCol,this.model.findRow(o.rowIndex+o.rowSpan-1+e))),i=o.rowIndex,t=o.colIndex}return this.virtualRow=i,this.activate(i,t)}var s=this.model.findRow(this.virtualRow+e)||this.model.nextRow(this.virtualRow,e);if(!s)return!1;var a=this.model.findCell(this.virtualCol,s);return a&&a.rowIndex<=this.virtualRow&&e>0&&a.rowSpan>1&&(a=this.model.findCell(this.virtualCol,this.model.findRow(a.rowIndex+a.rowSpan-1+e))),!a&&this.metadata.virtualColumns?this.activate(this.virtualRow+e,this.virtualCol):(this.virtualRow=a.rowIndex,this.activate(this.virtualRow,a.colIndex))}},{key:"row",get:function(){return this.model.findRow(this.activeRow)}},{key:"cell",get:function(){var e=this.row;if(e)return this.model.findCell(this.activeCol,e)}},{key:"dataRowIndex",get:function(){var e=this.row;return e?e.dataRowIndex:-1}}]),e}(),PZ=function(){function e(){_classCallCheck(this,e),this.count=0,this.items={}}return _createClass(e,[{key:"removeItem",value:function(e){this.items[e]&&(delete this.items[e],this.count--)}},{key:"setItem",value:function(e,t){this.items[e]||this.count++,this.items[e]=t}},{key:"getItem",value:function(e){return this.items[e]}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"forEach",value:function(e){for(var t in this.items)if(this.items.hasOwnProperty(t)&&e(this.items[t]))return this.items[t]}},{key:"find",value:function(e){return this.forEach(e)}},{key:"first",get:function(){var e;if(this.count>0)return this.forEach((function(t){return e=t,!0})),e}},{key:"last",get:function(){if(this.count>0){var e=Object.keys(this.items);return this.items[e[e.length-1]]}}}]),e}(),DZ=function(){function e(){_classCallCheck(this,e),this.rows=new PZ}return _createClass(e,[{key:"registerCell",value:function(e){var t=this.rows.getItem(e.logicalRowIndex);if(t){var n=e.logicalColIndex,i={uid:e.uid,colIndex:n,rowIndex:t.index,colSpan:e.colSpan,rowSpan:e.rowSpan,detailExpandCell:e.detailExpandCell,dataItem:t.dataItem,dataRowIndex:t.dataRowIndex,focusGroup:e.focusGroup};return t.cells.setItem(n,i),e.groupItem&&(t.groupItem=e.groupItem),i}}},{key:"unregisterCell",value:function(e,t,n){var i=this.rows.getItem(t);if(i){var r=i.cells.getItem(e);r&&r.uid===n.uid&&i.cells.removeItem(e)}}},{key:"registerRow",value:function(e){var t={uid:e.uid,index:e.logicalRowIndex,dataItem:e.dataItem,dataRowIndex:e.dataRowIndex,cells:new PZ};this.rows.setItem(e.logicalRowIndex,t)}},{key:"updateRow",value:function(e){var t=this.rows.getItem(e.logicalRowIndex);t&&Object.assign(t,{dataItem:e.dataItem,dataRowIndex:e.dataRowIndex})}},{key:"unregisterRow",value:function(e,t){var n=this.rows.getItem(e);n&&n.uid===t.uid&&this.rows.removeItem(e)}},{key:"cellRange",value:function(e){return e?{start:e.colIndex,end:e.colIndex+(e.colSpan||1)-1}:{}}},{key:"rowRange",value:function(e){return e?{start:e.rowIndex,end:e.rowIndex+(e.rowSpan||1)-1}:{}}},{key:"nextRow",value:function(e,t){var n=this.rows.toArray(),i=this.rows.getItem(e),r=n.indexOf(i);return n[r+t]}},{key:"findRow",value:function(e){return this.rows.getItem(e)}},{key:"findCell",value:function(e,t){if(t){for(var n=t.index,i=t.cells.getItem(e),r=n;!i&&t;)t=this.rows.getItem(r),i=this.rowCell(e,t),r--;return i&&n<=t.index+(i.rowSpan||1)-1?i:void 0}}},{key:"rowCell",value:function(e,t){if(t&&t.cells.count){for(var n,i=t.cells.first,r=e;!n&&r>=i.colIndex;)n=t.cells.getItem(r),r--;return n&&e<=n.colIndex+(n.colSpan||1)-1?n:void 0}}},{key:"firstRow",get:function(){return this.rows.first}},{key:"lastRow",get:function(){return this.rows.last}}]),e}(),FZ=(($W=function(){function e(){_classCallCheck(this,e),this.requests=new j}return _createClass(e,[{key:"scrollTo",value:function(e){this.requests.next(e)}}]),e}()).\u0275fac=function(e){return new(e||$W)},$W.\u0275prov=xe({token:$W,factory:$W.\u0275fac}),$W),MZ=function(e,t){return eZ(e,Jq("kendo-grid"))===t},zZ=Jq("th"),LZ=Jq("td"),VZ=function(e){return LZ(e)||zZ(e)},NZ=function(e,t){var n=function(e,t){for(var n=eZ(e,VZ);n&&!MZ(n,t);)n=eZ(n.parentElement,VZ);return n}(e,t),i=eZ(n,Jq("tr"));if(n&&i){var r=i.getAttribute("aria-rowindex");r=r?parseInt(r,10)-1:null;var o=n.getAttribute("aria-colindex");if(o=o?parseInt(o,10)-1:null,null!==r&&null!==o)return{colIndex:o,rowIndex:r,element:n}}},BZ=function(e){return function(e){return e===Bm.ArrowLeft||e===Bm.ArrowRight||e===Bm.ArrowUp||e===Bm.ArrowDown}(e)||e===Bm.PageUp||e===Bm.PageDown||e===Bm.Home||e===Bm.End},jZ=Jq("input"),HZ=function(){function e(t,n){_classCallCheck(this,e),this.firstItemIndex=t,this.lastItemIndex=n}return _createClass(e,[{key:"containsRow",value:function(e){return e<0||e>=this.firstItemIndex&&e<=this.lastItemIndex}},{key:"intersects",value:function(e,t){return e<=this.firstItemIndex&&this.lastItemIndex<=t||this.firstItemIndex<=e&&e<=this.lastItemIndex||this.firstItemIndex<=t&&t<=this.lastItemIndex}}]),e}(),GZ=function(){var e=function(){function e(t,n,i,r,o,s,a,l,u,c,h){_classCallCheck(this,e),this.zone=t,this.domEvents=n,this.pagerContextService=i,this.scrollRequestService=r,this.groupsService=o,this.detailsService=s,this.focusRoot=a,this.editService=l,this.cd=u,this.localization=c,this.focusableParent=h,this.cellKeydown=new tu,this.activeRowIndex=0,this.alive=!1,this.active=!0,this.mode=0,this.model=new DZ,this.cursor=new RZ(this.model),this.changes=this.cursor.changes}return _createClass(e,[{key:"init",value:function(e){var t=this;this.alive=!0,this.focusRoot.alive=!0,this.metadata=e;var n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(e){var i;return t.zone.isStable?ne([!0]).pipe(Q((function(){return e}))):(i=t.zone.onStable).pipe.apply(i,[Og(1),Q((function(){return e}))].concat(n))}},i=n();if(this.subs=new O,this.subs.add(this.cursor.changes.subscribe((function(e){return t.onCursorChanges(e)}))),this.subs.add(this.domEvents.focus.pipe(_g(i)).subscribe((function(e){return t.navigateTo(e.target)}))),this.subs.add(this.domEvents.focusOut.pipe(Pg((function(){return 0!==t.mode})),_g(n(Hg(this.domEvents.focus)))).subscribe((function(e){return t.onFocusOut(e)}))),this.subs.add(this.domEvents.windowBlur.pipe(Pg((function(){return 0!==t.mode}))).subscribe((function(){return t.onWindowBlur()}))),this.subs.add(this.editService.changes.pipe(Pg((function(e){return"edit"!==e.action&&2===t.mode})),Pg((function(e){return"cellClose"===e.action&&!e.prevented})),_g(i)).subscribe((function(){return t.leaveCell()}))),this.subs.add(this.pagerContextService.pageChange.subscribe((function(){return t.cursor.reset(0,0)}))),this.subs.add(this.domEvents.keydown.subscribe((function(e){return t.onKeydown(e)}))),this.subs.add(this.domEvents.keydown.pipe(Pg((function(e){return e.keyCode===Bm.Tab&&2===t.mode})),Wg(this.domEvents.focusOut.pipe(Hg(pg(0).pipe(Og(1)))))).subscribe((function(){return t.onTabout()}))),this.focusableParent){var r=new AZ(this);this.focusableParent.registerElement(r)}this.deactivateElements()}},{key:"ngOnDestroy",value:function(){this.subs&&this.subs.unsubscribe(),this.alive=!1}},{key:"registerCell",value:function(e){if(e.logicalRowIndex!==this.pendingRowIndex){var t=this.model.registerCell(e);this.virtualCell&&this.cursor.activateVirtualCell(t)&&(this.virtualCell=!1)}}},{key:"registerCellOnCurrentRow",value:function(e){e.logicalRowIndex===this.pendingRowIndex&&this.model.registerCell(e)}},{key:"unregisterCell",value:function(e,t,n){this.model.unregisterCell(e,t,n)}},{key:"registerRow",value:function(e){this.model.registerRow(e),this.pendingRowIndex=e.logicalRowIndex}},{key:"updateRow",value:function(e){this.model.updateRow(e)}},{key:"unregisterRow",value:function(e,t){this.model.unregisterRow(e,t)}},{key:"isCellFocusable",value:function(e){return this.alive&&this.active&&2!==this.mode&&this.cursor.isActive(e.logicalRowIndex,e.logicalColIndex)}},{key:"isCellFocused",value:function(e){return 1===this.mode&&this.isCellFocusable(e)}},{key:"navigateTo",value:function(e){if(this.alive){var t=NZ(e,this.meta.gridElement.nativeElement);if(t){var n=this.mode,i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!eZ(t,(function(t){return t===e})))return!1;var i=eZ(t,(function(e){return e===t}));return i&&(n||i!==e)}(t.element,document.activeElement),r=2===this.mode&&this.activeRowIndex===t.rowIndex&&e!==t.element;if(i)this.mode=2,this.cursor.reset(t.rowIndex,t.colIndex),this.activateRow();else if(!r){this.mode=1,this.deactivateElements();var o=this.cursor.isActive(t.rowIndex,t.colIndex);1===n&&o||this.cursor.reset(t.rowIndex,t.colIndex)}}}}},{key:"tryFocus",value:function(e){this.activateElements();var t=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return oZ(e,(function(e){return rZ(e,t)}),!1)}(e);if(t){var n=NZ(t,this.meta.gridElement.nativeElement);n&&(this.cursor.reset(n.rowIndex,n.colIndex),this.deactivateElements(),this.enterCell()),t.focus()}else this.deactivateElements();return!!t}},{key:"needsViewport",value:function(){return this.meta&&this.meta.isVirtual}},{key:"setViewport",value:function(e,t){if(this.viewport=new HZ(e,t),this.meta&&this.meta.isVirtual&&this.activeDataRow>-1){var n=this.activeDataRow,i=n-t;e-n>0?this.cursor.reset(e+this.meta.headerRows):i>0&&this.cursor.reset(t-this.meta.headerRows)}}},{key:"setColumnViewport",value:function(e,t){this.columnViewport=new HZ(e,t)}},{key:"focusCell",value:function(e,t){return this.mode=1,this.cursor.reset(e,t),this.activeCell}},{key:"focusNextCell",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.focusAdjacentCell(!0,e)}},{key:"focusPrevCell",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.focusAdjacentCell(!1,e)}},{key:"toggle",value:function(e){this.active=e,this.cursor.announce()}},{key:"hasFocus",value:function(){return 1===this.mode||2===this.mode}},{key:"autoFocusCell",value:function(e,t){return!this.meta.virtualColumns||t<this.meta.columns.lockedLeafColumns.length||this.columnViewport.intersects(e,t)}},{key:"focusAdjacentCell",value:function(e,t){this.focusCell();var n=e?this.moveCursorFwd():this.moveCursorBwd();if(t&&!n&&(n=e?this.cursor.moveDown(1):this.cursor.moveUp(1))){var i=this.cursor.row,r=e?0:this.cursor.lastCellIndex(i);this.cursor.reset(i.index,r)}return n?this.activeCell:(this.mode=0,this.cursor.announce(),null)}},{key:"enterCell",value:function(){var e=this.cursor.cell;if(e){var t=e.focusGroup,n=t&&t.canFocus();this.mode=n?2:1,this.cursor.announce(),n&&(this.activateRow(),t.focus())}}},{key:"leaveCell",value:function(){var e=this.cursor.cell;if(e){var t=e.focusGroup;t&&t.canFocus()||this.deactivateElements(),this.mode=1,this.cursor.announce()}}},{key:"activateElements",value:function(){this.focusRoot.activate()}},{key:"deactivateElements",value:function(){this.focusRoot.deactivate()}},{key:"activateRow",value:function(){this.cursor.row.cells.forEach((function(e){return e.focusGroup&&e.focusGroup.activate()}))}},{key:"moveCursorFwd",value:function(){return this.localization.rtl?this.cursor.moveLeft():this.cursor.moveRight()}},{key:"moveCursorBwd",value:function(){return this.localization.rtl?this.cursor.moveRight():this.cursor.moveLeft()}},{key:"onCursorKeydown",value:function(e){var t=this,n=!1,i=e.ctrlKey||e.metaKey,r=i?5:1;if(this.onCellKeydown(e)){var o,s=this.cursor.row;switch(e.keyCode){case Bm.ArrowDown:n=this.cursor.moveDown(r);break;case Bm.ArrowUp:n=this.cursor.moveUp(r);break;case Bm.ArrowRight:n=this.moveCursorFwd();break;case Bm.ArrowLeft:n=this.moveCursorBwd();break;case Bm.PageDown:if(this.metadata.isVirtual&&this.viewport){var a=this.meta.headerRows+this.viewport.lastItemIndex+1;this.metadata.hasDetailTemplate&&a++,a=Math.min(this.meta.maxLogicalRowIndex,a),this.cursor.reset(a),n=!0}else this.metadata.hasPager&&(this.zone.run((function(){return t.pagerContextService.nextPage()})),n=!0);break;case Bm.PageUp:if(this.metadata.isVirtual&&this.viewport){var l=Math.max(this.meta.headerRows,this.viewport.firstItemIndex-(this.viewport.lastItemIndex-this.viewport.firstItemIndex)-1);this.cursor.reset(l),n=!0}else this.metadata.hasPager&&(this.zone.run((function(){return t.pagerContextService.prevPage()})),n=!0);break;case Bm.Home:this.cursor.reset(i?this.meta.isVirtual?this.meta.headerRows:this.model.firstRow.index:s.index,0,!1),n=!0;break;case Bm.End:if(i)if(this.meta.isVirtual){var u=this.meta.maxLogicalRowIndex;this.meta.hasDetailTemplate&&u--,this.cursor.reset(u,this.cursor.lastCellIndex(),!1)}else this.cursor.reset(this.model.lastRow.index,this.cursor.lastCellIndex(this.model.lastRow),!1);else{var c=this.cursor.lastCellIndex(s),h=this.model.findCell(c,s);h?this.cursor.reset(h.rowIndex,h.colIndex):this.cursor.reset(s.index,c)}n=!0;break;case Bm.Enter:case Bm.F2:var f=s.groupItem;f?this.zone.run((function(){return t.groupsService.toggleRow(f.index,f.data)})):this.cursor.cell.detailExpandCell?this.zone.run((function(){return t.detailsService.toggleRow(s.dataRowIndex,s.dataItem)})):(this.enterCell(),this.cursor.cell.focusGroup.isNavigable()||(n=!0));break;default:e.ctrlKey||e.altKey||1!==(o=e.key).length||!o.match(/\S/)||this.enterCell()}n&&e.preventDefault()}}},{key:"onContentKeydown",value:function(e){if(this.onCellKeydown(e)){var t,n=!e.defaultPrevented&&e.keyCode===Bm.Enter&&(t=e.srcElement)&&jZ(t)&&"text"===t.type.toLowerCase();e.keyCode===Bm.Escape||e.keyCode===Bm.F2||n?(this.leaveCell(),this.cursor.reset(),e.stopPropagation()):BZ(e.keyCode)&&this.cursor.cell.focusGroup.isNavigable()&&(this.onCursorKeydown(e),e.defaultPrevented&&this.leaveCell())}}},{key:"onCellKeydown",value:function(e){if(this.editService.isEditingCell()){var t=e.keyCode===Bm.Enter,n=e.keyCode===Bm.Escape,i=BZ(e.keyCode);if(t)this.editService.closeCell(e);else if(n)this.editService.cancelCell(),this.cd.detectChanges();else if(i)return!1}return this.cellKeydown.emit(e),!0}},{key:"onCursorChanges",value:function(e){this.activeRowIndex=e.rowIndex;var t=this.activeDataRow;if(this.meta&&this.meta.isVirtual&&this.viewport&&!this.viewport.containsRow(t)&&t>-1&&this.scrollRequestService.scrollTo({row:t}),this.meta.virtualColumns&&e.colIndex>=this.meta.columns.lockedLeafColumns.length){var n=this.activeCell,i=this.model.cellRange(n),r=i.start,o=i.end;n||(this.virtualCell=!0),(!n&&0!==this.mode||n&&!this.columnViewport.intersects(r,o))&&this.scrollRequestService.scrollTo({column:e.colIndex-(this.metadata.hasDetailTemplate?1:0)})}}},{key:"onFocusOut",value:function(e){this.mode=nZ(e.target)?0:1,this.deactivateElements(),this.cursor.announce()}},{key:"onWindowBlur",value:function(){this.mode=0,this.deactivateElements(),this.cursor.announce()}},{key:"onKeydown",value:function(e){1===this.mode?this.onCursorKeydown(e):2===this.mode&&this.onContentKeydown(e)}},{key:"onTabout",value:function(){this.cursor.cell.focusGroup.isNavigable()||(this.leaveCell(),this.cursor.reset())}},{key:"metadata",set:function(e){this.meta=e,this.cursor.metadata=e},get:function(){return this.meta}},{key:"enabled",get:function(){return this.alive}},{key:"activeCell",get:function(){if(0!==this.mode)return this.cursor.cell}},{key:"activeRow",get:function(){if(0!==this.mode)return Object.assign({},this.cursor.row,{cells:this.cursor.row.cells.toArray()})}},{key:"activeDataRow",get:function(){return Math.max(0,this.activeRowIndex-this.meta.headerRows)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ut(qu),ut(fq),ut(Vq),ut(FZ),ut(Sq),ut(wq),ut(xZ),ut(kq),ut(Xo),ut(jy),ut(EZ,8))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),UZ=function(){function e(t,n,i,r,o,s,a,l){_classCallCheck(this,e),this.dataRows=t,this.headerRows=n,this.isVirtual=i,this.hasPager=r,this.hasDetailTemplate=o,this.gridElement=s,this.virtualColumns=a,this.columns=l}return _createClass(e,[{key:"maxLogicalRowIndex",get:function(){return this.headerRows+(this.hasDetailTemplate?2*this.dataRows:this.dataRows)-1}}]),e}(),WZ=0,qZ=((XW=function(){function e(){_classCallCheck(this,e),this.prefix="k-grid".concat(WZ++)}return _createClass(e,[{key:"cellId",value:function(e,t){return"".concat(this.prefix,"-r").concat(e,"c").concat(t)}},{key:"selectionCheckboxId",value:function(e){return"".concat(this.prefix,"-checkbox").concat(e)}},{key:"selectAllCheckboxId",value:function(){return"".concat(this.prefix,"-select-all")}}]),e}()).\u0275fac=function(e){return new(e||XW)},XW.\u0275prov=xe({token:XW,factory:XW.\u0275fac}),XW),ZZ=((YW=function(){function e(){_classCallCheck(this,e),this.visibilityChange=new tu,this.lockedChange=new tu,this.columnRangeChange=new tu,this.columnsContainer=new Tq((function(){return[]}))}return _createClass(e,[{key:"init",value:function(e,t){this.columnsContainer=e,this.list=t}},{key:"changeVisibility",value:function(e){this.visibilityChange.emit(e)}},{key:"changeLocked",value:function(e){this.lockedChange.emit(e)}},{key:"lockedLeafColumns",get:function(){return this.columnsContainer.lockedLeafColumns}},{key:"nonLockedLeafColumns",get:function(){return this.columnsContainer.nonLockedLeafColumns}},{key:"isLocked",get:function(){return this.lockedLeafColumns.length>0}},{key:"totalLevels",get:function(){return this.columnsContainer.totalLevels}},{key:"leafNamedColumns",get:function(){var e=aW(this.list().filterSort((function(e){return!e.isColumnGroup}))).filter((function(e){return e.matchesMedia&&e.displayTitle}));return Fy(e,[{field:"locked",dir:"desc"}])}},{key:"unlockedRootCount",get:function(){return this.list().rootColumns().filter((function(e){return!e.locked&&e.isVisible})).length}}]),e}()).\u0275fac=function(e){return new(e||YW)},YW.\u0275prov=xe({token:YW,factory:YW.\u0275fac}),YW),$Z=((KW=function(){function e(){_classCallCheck(this,e),this.changes=new j}return _createClass(e,[{key:"sort",value:function(e){this.changes.next(e)}}]),e}()).\u0275fac=function(e){return new(e||KW)},KW.\u0275prov=xe({token:KW,factory:KW.\u0275fac}),KW),KZ=function e(t){_classCallCheck(this,e),this.columns=t},YZ=function e(t){_classCallCheck(this,e),this.columns=t};function XZ(e,t){return"data"===t.type&&t.isEditing?t.data:e}var QZ,JZ=function(e,t,n,i){return e.changes.pipe(Pg((function(e){var t=e.dataItem;return FU(t)}))).subscribe((function(e){return e.expand?t.emit(i(e)):n.emit(i(e))}))},e$=function(e,t){return eZ(e,Qq("k-grid-edit-cell"))&&eZ(e,Jq("kendo-grid"))===t},t$={},n$=((QZ=function(){function e(t,n,i,r,o,s,a,l,u,c,h,f,d,p,v,g,m,y,k,b,_,C,w,x){var S=this;_classCallCheck(this,e),this.supportService=t,this.selectionService=n,this.wrapper=i,this.groupInfoService=r,this.groupsService=o,this.changeNotification=s,this.detailsService=a,this.editService=l,this.filterService=u,this.pdfService=c,this.responsiveService=h,this.renderer=f,this.excelService=d,this.ngZone=p,this.scrollSyncService=v,this.domEvents=g,this.columnResizingService=m,this.changeDetectorRef=y,this.columnReorderService=k,this.columnInfoService=b,this.navigationService=_,this.sortService=C,this.scrollRequestService=w,this.data=[],this.scrollable="scrollable",this.selectable=!1,this.trackBy=XZ,this.virtualColumns=!1,this.filterable=!1,this.sortable=!1,this.pageable=!1,this.groupable=!1,this.navigable=!1,this.autoSize=!1,this.resizable=!1,this.reorderable=!1,this.loading=!1,this.columnMenu=!1,this.hideHeader=!1,this.filterChange=new tu,this.pageChange=new tu,this.groupChange=new _U(this.ngZone),this.sortChange=new tu,this.selectionChange=new tu,this.dataStateChange=new tu,this.groupExpand=new tu,this.groupCollapse=new tu,this.detailExpand=new tu,this.detailCollapse=new tu,this.edit=new tu,this.cancel=new tu,this.save=new tu,this.remove=new tu,this.add=new tu,this.cellClose=new tu,this.cellClick=new _U(this.ngZone),this.pdfExport=new tu,this.excelExport=new tu,this.columnResize=new _U(this.ngZone),this.columnReorder=new tu,this.columnVisibilityChange=new tu,this.columnLockedChange=new tu,this.scrollBottom=new tu,this.contentScroll=new tu,this.columns=new iu,this.footer=new iu,this.selectionDirective=!1,this.columnsContainer=new Tq((function(){return S.columnList.filterHierarchy((function(e){return e.matchesMedia=S.matchesMedia(e),e.isVisible}))})),this.view=new hq((function(){return new cq(S.data,S.skip,S.hasGroupFooters)})),this.shouldGenerateColumns=!0,this._sort=new Array,this._group=new Array,this._skip=0,this.cachedWindowWidth=0,this._rowSelected=null,this.rtl=!1,this._rowClass=function(){return null},this.localizationSubscription=x.changes.subscribe((function(e){var t=e.rtl;S.rtl=t,S.direction=S.rtl?"rtl":"ltr"})),this.groupInfoService.registerColumnsContainer((function(){return S.columnList})),this.columnInfoService.init(this.columnsContainer,(function(){return S.columnList})),this.columnVisibilityChangeSubscription=this.columnInfoService.visibilityChange.subscribe((function(e){S.columnVisibilityChange.emit(new KZ(e))})),this.columnLockedChangeSubscription=this.columnInfoService.lockedChange.subscribe((function(e){S.columnLockedChange.emit(new YZ(e))})),n&&(this.selectionSubscription=n.changes.subscribe((function(e){S.ngZone.run((function(){return S.selectionChange.emit(e)}))}))),this.groupExpandCollapseSubscription=JZ(o,this.groupExpand,this.groupCollapse,(function(e){return{group:e.dataItem,groupIndex:e.index}})),this.detailsServiceSubscription=JZ(a,this.detailExpand,this.detailCollapse,(function(e){return e})),this.filterSubscription=this.filterService.changes.subscribe((function(e){S.filterChange.emit(e)})),this.sortSubscription=this.sortService.changes.subscribe((function(e){S.sortChange.emit(e)})),this.attachStateChangesEmitter(),this.attachEditHandlers(),this.attachDomEventHandlers(),this.pdfSubscription=this.pdfService.exportClick.subscribe(this.emitPDFExportEvent.bind(this)),this.excelSubscription=this.excelService.exportClick.subscribe(this.saveAsExcel.bind(this)),this.columnsContainerChange(),this.handleColumnResize(),this.columnList=new Eq(this.columns),this.columnReorderSubscription=this.columnReorderService.changes.subscribe(this.reorder.bind(this)),this.columnRangeChangeSubscription=this.columnInfoService.columnRangeChange.subscribe(this.onColumnRangeChange.bind(this))}return _createClass(e,[{key:"expandRow",value:function(e){this.detailsService.isExpanded(e)||this.detailsService.toggleRow(e,null)}},{key:"collapseRow",value:function(e){this.detailsService.isExpanded(e)&&this.detailsService.toggleRow(e,null)}},{key:"expandGroup",value:function(e){this.groupsService.isExpanded(e)||this.groupsService.toggleRow(e,null)}},{key:"collapseGroup",value:function(e){this.groupsService.isExpanded(e)&&this.groupsService.toggleRow(e,null)}},{key:"resetGroupsState",value:function(){this.groupsService.reset()}},{key:"expandGroupChildren",value:function(e){this.groupsService.expandChildren(e)}},{key:"onDataChange",value:function(){this.autoGenerateColumns(),this.changeNotification.notify(),this.pdfService.dataChanged.emit(),FU(this.defaultSelection)&&this.defaultSelection.reset(),this.initSelectionService(),this.updateNavigationMetadata()}},{key:"ngOnChanges",value:function(e){var t=this;Cm("data",e)&&this.onDataChange(),this.lockedLeafColumns.length&&wm(["pageSize","skip","sort","group"],e)&&this.changeNotification.notify(),wm(["pageSize","scrollable","virtualColumns"],e)&&this.updateNavigationMetadata(),Cm("virtualColumns",e)&&(this.viewportColumns=this.leafViewportColumns=null),Cm("height",e,!1)&&this.renderer.setStyle(this.wrapper.nativeElement,"height","".concat(this.height,"px")),Cm("filterable",e)&&this.lockedColumns.length&&this.syncHeaderHeight(this.ngZone.onStable.asObservable().pipe(Og(1))),wm(["columnMenu","sortable","filterable"],e,!1)&&(this.columnMenuOptions=this.columnMenu&&Object.assign({filter:Boolean(this.filterable),sort:Boolean(this.sortable)},this.columnMenu)),Cm("scrollable",e)&&this.isScrollable&&this.ngZone.onStable.pipe(Og(1)).subscribe((function(){return t.attachScrollSync()}))}},{key:"ngAfterViewInit",value:function(){this.attachScrollSync(),this.attachElementEventHandlers(),this.updateNavigationMetadata(),this.applyAutoSize()}},{key:"ngAfterContentChecked",value:function(){this.columnsContainer.refresh(),this.verifySettings(),this.initSelectionService()}},{key:"ngAfterContentInit",value:function(){var e=this;this.shouldGenerateColumns=!this.columns.length,this.autoGenerateColumns(),this.columnList=new Eq(this.columns),this.columnsChangeSubscription=this.columns.changes.subscribe((function(){return e.verifySettings()}))}},{key:"ngOnInit",value:function(){this.navigable&&this.navigationService.init(this.navigationMetadata())}},{key:"ngOnDestroy",value:function(){this.selectionSubscription&&this.selectionSubscription.unsubscribe(),this.stateChangeSubscription&&this.stateChangeSubscription.unsubscribe(),this.groupExpandCollapseSubscription&&this.groupExpandCollapseSubscription.unsubscribe(),this.detailsServiceSubscription&&this.detailsServiceSubscription.unsubscribe(),this.editServiceSubscription&&this.editServiceSubscription.unsubscribe(),this.pdfSubscription&&this.pdfSubscription.unsubscribe(),this.filterSubscription&&this.filterSubscription.unsubscribe(),this.sortSubscription&&this.sortSubscription.unsubscribe(),this.columnsChangeSubscription&&this.columnsChangeSubscription.unsubscribe(),this.excelSubscription&&this.excelSubscription.unsubscribe(),this.columnsContainerChangeSubscription&&this.columnsContainerChangeSubscription.unsubscribe(),this.scrollSyncService&&this.scrollSyncService.destroy(),this.detachElementEventHandlers&&this.detachElementEventHandlers(),this.defaultSelection&&this.defaultSelection.destroy(),this.cellClickSubscription&&this.cellClickSubscription.unsubscribe(),this.footerChangeSubscription&&this.footerChangeSubscription.unsubscribe(),this.ngZone=null,this.columnResizingSubscription&&this.columnResizingSubscription.unsubscribe(),this.columnReorderSubscription&&this.columnReorderSubscription.unsubscribe(),this.localizationSubscription&&this.localizationSubscription.unsubscribe(),this.columnVisibilityChangeSubscription&&this.columnVisibilityChangeSubscription.unsubscribe(),this.columnLockedChangeSubscription&&this.columnLockedChangeSubscription.unsubscribe(),this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.columnRangeChangeSubscription.unsubscribe()}},{key:"attachScrollSync",value:function(){var e=this;BU()||(this.header&&this.scrollSyncService.registerEmitter(this.header.nativeElement,"header"),this.footer&&(this.footerChangeSubscription=NU(this.footer).subscribe((function(t){return t.map((function(e){return e.nativeElement})).filter(FU).forEach((function(t){return e.scrollSyncService.registerEmitter(t,"footer")}))}))))}},{key:"editRow",value:function(e,t,n){this.editService.editRow(e,t),n&&n.skipFocus||this.focusEditElement('tr[data-kendo-grid-item-index="'.concat(e,'"]'))}},{key:"closeRow",value:function(e){this.editService.close(e)}},{key:"addRow",value:function(e){if(!(e instanceof Mv)){var t=Object.keys(e).reduce((n=e,function(e,t){return e[t]=new Fv(n[t]),e}),{});e=new Mv(t)}var n;this.editService.addRow(e),this.focusEditElement(".k-grid-add-row")}},{key:"editCell",value:function(e,t,n){var i=this.columnInstance(t);this.editService.editCell(e,i,n),this.focusEditElement(".k-grid-edit-cell")}},{key:"closeCell",value:function(){return!this.editService.closeCell()}},{key:"cancelCell",value:function(){this.editService.cancelCell()}},{key:"isEditing",value:function(){return this.editService.isEditing()}},{key:"isEditingCell",value:function(){return this.editService.isEditingCell()}},{key:"saveAsPDF",value:function(){this.pdfService.save(this)}},{key:"drawPDF",value:function(){var e=function(){var e,t,n=new Promise((function(i,r){e=function(e){return i(e),n},t=function(e){return r(e),n}}));return n.resolve=e,n.reject=t,n}();return this.pdfService.draw(this,e),e}},{key:"saveAsExcel",value:function(){this.excelService.save(this)}},{key:"autoFitColumn",value:function(e){this.columnResizingService.autoFit(e)}},{key:"autoFitColumns",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.columns;t=n instanceof iu?n.toArray():n,(e=this.columnResizingService).autoFit.apply(e,_toConsumableArray(t))}},{key:"notifyPageChange",value:function(e,t){("list"!==e||this.isVirtual)&&this.pageChange.emit(t)}},{key:"notifyScrollBottom",value:function(){var e=this;"none"!==this.scrollable&&xm(this.scrollBottom)&&this.ngZone.run((function(){return e.scrollBottom.emit({sender:e})}))}},{key:"focusEditElement",value:function(e){var t=this;this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.ngZone.runOutsideAngular((function(){t.focusElementSubscription=t.ngZone.onStable.asObservable().pipe(Og(1)).subscribe((function(){var n=t.wrapper.nativeElement;!t.setEditFocus(n.querySelector(e))&&t.isLocked&&t.setEditFocus(n.querySelector(".k-grid-content ".concat(e))),t.focusElementSubscription=null}))}))}},{key:"focus",value:function(){return this.assertNavigable(),this.navigationService.focusCell()}},{key:"focusCell",value:function(e,t){return this.assertNavigable(),this.navigationService.focusCell(e,t)}},{key:"focusNextCell",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertNavigable(),this.navigationService.focusNextCell(e)}},{key:"focusPrevCell",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertNavigable(),this.navigationService.focusPrevCell(e)}},{key:"scrollTo",value:function(e){this.scrollRequestService.scrollTo(e)}},{key:"reorderColumn",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{before:!1},i=this.columnsForLevel(e.level)[t];i&&(i.isLocked&&!e.isLocked&&1===this.columnsContainer.nonLockedColumns.length||(rW(i)&&!n.before&&(i=i.childColumns.last),this.reorder({before:n.before,source:e,target:i})))}},{key:"reorder",value:function(e){var t=this,n=e.target,i=e.source,r=e.before,o=e.changeContainer;this.ngZone.run((function(){var e=t.columnsForLevel(i.level),s=e.indexOf(n);n.parent&&n.parent.isSpanColumn&&(s=e.indexOf(n.parent),r&&(n=n.parent));var a=e.indexOf(i);o&&(r&&0<s&&a<s?s--:!r&&a>s&&s++);var l=new wZ({column:i,oldIndex:a,newIndex:s});t.columnReorder.emit(l),l.isDefaultPrevented()||(o&&t.columnLockedChange.emit(new YZ([i])),t.updateColumnIndices({source:i,target:n,before:r}),i.locked!==n.locked&&(i.locked=n.locked),t.columnsContainer.refresh(),t.changeDetectorRef.markForCheck())}))}},{key:"updateColumnIndices",value:function(e){var t=e.source,n=e.target,i=e.before,r=lW(this.columnsForLevel(t.level)),o=r.indexOf(t),s=0,a=0,l=1;t.isSpanColumn&&(l+=t.childColumns.length);for(var u=0;u<r.length;){var c=r[u];if(c===n)s=i?a:a+1,a=i?a+l:a,c.orderIndex=a,s===a+1&&(a+=l);else{if(c===t){u+=l;continue}c.orderIndex=a}a++,u++}for(u=o;u<o+l;u++)r[u].orderIndex=s++;this.updateIndicesForLevel(t.level+1)}},{key:"updateIndicesForLevel",value:function(e){var t=this.columnsForLevel(e-1),n=[];gW(t).forEach((function(e){e.isColumnGroup&&n.push.apply(n,_toConsumableArray(e.childrenArray.sort((function(e,t){return e.orderIndex-t.orderIndex}))))})),lW(n).map((function(e,t){return e.orderIndex=t})),e<this.columnsContainer.totalLevels&&this.updateIndicesForLevel(e+1)}},{key:"columnsForLevel",value:function(e){return this.columnsContainer.allColumns.filter((function(t){return t.level===e}))}},{key:"initSelectionService",value:function(){this.selectionDirective||FU(this.defaultSelection)||(this.defaultSelection=new vq(this,this.changeDetectorRef)),this.selectionService.init({rowSelected:this.rowSelected,selectable:this.selectable,view:this.view}),this.selectionDirective||this.selectableSettings.enabled||this.defaultSelection.reset()}},{key:"setEditFocus",value:function(e){if(e)return this.navigationService.tryFocus(e)}},{key:"columnInstance",value:function(e){var t;if(!(t="number"==typeof e?this.columnsContainer.lockedLeafColumns.toArray().concat(this.columnsContainer.nonLockedLeafColumns.toArray())[e]:"string"==typeof e?this.columnList.filter((function(t){return t.field===e}))[0]:e)&&Ci())throw new Error("Invalid column ".concat(e));return t}},{key:"verifySettings",value:function(){if(Ci()){var e=this.lockedLeafColumns.length||this.columnMenu&&this.columnMenu.lock;if(e&&this.detailTemplate)throw new Error("Having both detail template and locked columns is not supported.");if(this.lockedLeafColumns.length&&!this.nonLockedLeafColumns.length)throw new Error("There should be at least one non-locked column");if((e||this.virtualColumns)&&aW(this.columnList.toArray()).filter((function(e){return!e.width&&!yW(e)})).length)throw new Error((e?"Locked":"Virtual")+" columns feature requires all columns to have set width.");if(e&&!this.isScrollable)throw new Error("Locked columns are only supported when scrolling is enabled.");if(this.columnList.filter(yW).filter((function(e){return!e.hasChildren})).length)throw new Error("ColumnGroupComponent should contain ColumnComponent or CommandColumnComponent.");if(this.columnList.filter((function(e){return e.locked&&e.parent&&!e.parent.isLocked})).length)throw new Error("Locked child columns require their parent columns to be locked.");if((this.rowHeight||this.detailRowHeight)&&!this.isVirtual)throw new Error("Row height and detail row height settings require virtual scrolling mode to be enabled.");aW(this.columnList.toArray()).filter(nW).filter((function(e){var t,n=e.field;return!(!VU(t=n)&&dW.test(t)&&"."!==t[0]&&"."!==t[t.length-1])})).forEach((function(e){var t=e.field;return console.warn("\n                Grid column field name '".concat(t,'\' does not look like a valid JavaScript identifier.\n                Identifiers can contain only alphanumeric characters (including "$" or "_"), and may not start with a digit.\n                Please use only valid identifier names to ensure error-free operation.\n            '))}))}}},{key:"autoGenerateColumns",value:function(){this.shouldGenerateColumns&&!this.columns.length&&this.view.length&&this.columns.reset(Object.keys(this.view.at(0)).map((function(e){var t=new iW;return t.field=e,t})))}},{key:"attachStateChangesEmitter",value:function(){var e=this;this.stateChangeSubscription=le(this.pageChange.pipe(Q((function(t){return{filter:e.filter,group:e.group,skip:t.skip,sort:e.sort,take:t.take}}))),this.sortChange.pipe(Q((function(t){return{filter:e.filter,group:e.group,skip:e.skip,sort:t,take:e.pageSize}}))),this.groupChange.pipe(Q((function(t){return{filter:e.filter,group:t,skip:e.skip,sort:e.sort,take:e.pageSize}}))),this.filterChange.pipe(Q((function(t){return{filter:t,group:e.group,skip:0,sort:e.sort,take:e.pageSize}})))).subscribe((function(t){e.closeCell(),e.cancelCell(),e.dataStateChange.emit(t)}))}},{key:"attachEditHandlers",value:function(){this.editService&&(this.editServiceSubscription=this.editService.changes.subscribe(this.emitCRUDEvent.bind(this)))}},{key:"emitCRUDEvent",value:function(e){var t=e.action,n=e.rowIndex,i=e.formGroup,r=this.view.at(n-this.skip);switch("add"===t||r||(r=i.value),this.closeCell(),Object.assign(e,{dataItem:r,sender:this}),t){case"add":this.add.emit(e);break;case"cancel":this.cancel.emit(e);break;case"edit":this.edit.emit(e);break;case"remove":this.remove.emit(e);break;case"save":this.save.emit(e);break;case"cellClose":this.cellClose.emit(e)}}},{key:"attachDomEventHandlers",value:function(){var e=this;this.cellClickSubscription=this.domEvents.cellClick.subscribe((function(t){e.cellClick.emit(Object.assign({sender:e},t))}))}},{key:"attachElementEventHandlers",value:function(){var e=this;if(!BU()){var t=this.wrapper.nativeElement,n=this.ariaRoot.nativeElement;this.ngZone.runOutsideAngular((function(){var i=e.resizeCheck.bind(e),r=e.renderer.listen("window","resize",i),o=e.renderer.listen("window","orientationchange",i),s=e.renderer.listen("document","click",(function(t){var n=document.activeElement;!e.editService.shouldCloseCell()||eZ(t.target,Qq("k-animation-container k-grid-ignore-click"))||n&&(eZ(n,Qq("k-animation-container"))||e$(n,e.wrapper.nativeElement))||e.editService.closeCell(t)})),a=e.renderer.listen("window","blur",(function(t){var n=document.activeElement;!n||Jq("input")(n)&&"file"===n.type&&e$(n,e.wrapper.nativeElement)||e.editService.closeCell(t),e.domEvents.windowBlur.emit(t)})),l=e.renderer.listen(t,"click",(function(t){e.domEvents.click.emit(t)})),u=e.renderer.listen(t,"keydown",(function(t){e.domEvents.keydown.emit(t)})),c=!1,h=e.renderer.listen(n,"focusin",(function(t){e.domEvents.focus.emit(t),c||(e.domEvents.focusIn.emit(t),c=!0)})),f=e.renderer.listen(n,"focusout",(function(t){var i=t.relatedTarget||document.activeElement;!eZ(i,(function(e){return e===n}))&&(e.domEvents.focusOut.emit(t),c=!1)}));e.detachElementEventHandlers=function(){r(),o(),s(),a(),l(),u(),h(),f()}}))}}},{key:"matchesMedia",value:function(e){return this.responsiveService.matchesMedia(e.media)}},{key:"resizeCheck",value:function(){var e=this;if(window.innerWidth!==this.cachedWindowWidth){this.cachedWindowWidth=window.innerWidth;var t=!1;this.columnList.filterHierarchy((function(n){var i=e.matchesMedia(n);return n.matchesMedia!==i&&(t=!0,n.matchesMedia=i),n.isVisible})),t&&this.ngZone.run((function(){e.changeDetectorRef.markForCheck()}))}}},{key:"emitPDFExportEvent",value:function(){var e=new Bq;this.pdfExport.emit(e),e.isDefaultPrevented()||this.saveAsPDF()}},{key:"syncHeaderHeight",value:function(e){var t=this;return e.pipe(Pg((function(){return FU(t.lockedHeader)}))).subscribe((function(){return Fq(t.lockedHeader.nativeElement.children[0],t.header.nativeElement.children[0])}))}},{key:"columnsContainerChange",value:function(){var e=this;this.columnsContainerChangeSubscription=this.syncHeaderHeight(this.columnsContainer.changes.pipe(Pg((function(){return e.lockedColumns.length>0})),_g((function(){return e.ngZone.onStable.asObservable().pipe(Og(1))}))))}},{key:"handleColumnResize",value:function(){var e=this,t=this.columnResizingService.changes;this.columnResizingSubscription=t.pipe(Mg((function(t){"start"===t.type?e.renderer.addClass(e.wrapper.nativeElement,"k-grid-column-resizing"):"end"===t.type&&e.renderer.removeClass(e.wrapper.nativeElement,"k-grid-column-resizing")})),Pg((function(e){return"start"===e.type})),_g((function(){return t.pipe(Hg(t.pipe(Pg((function(e){return"triggerAutoFit"===e.type})))),Pg((function(e){return"end"===e.type})))}))).subscribe(this.notifyResize.bind(this))}},{key:"notifyResize",value:function(e){var t=e.resizedColumns.filter((function(e){return LU(e.column.resizable)&&!e.column.isColumnGroup})).map((function(e){return{column:e.column,newWidth:e.column.width,oldWidth:e.oldWidth}}));this.columnResize.emit(t)}},{key:"assertNavigable",value:function(){if(Ci()&&!this.navigable)throw new Error('The Grid should be configured as [navigable]="true" to control focus')}},{key:"navigationMetadata",value:function(){var e=this.isVirtual,t=e?this.view.total:this.pageSize,n=this.editService.hasNewItem?1:0,i=uZ(this.filterable)?1:0;return new UZ(t,this.totalColumnLevels+1+i+n,e,this.showPager,FU(this.detailTemplate),this.wrapper,this.virtualColumns,this.columnsContainer)}},{key:"updateNavigationMetadata",value:function(){this.navigationService.metadata=this.navigationMetadata()}},{key:"applyAutoSize",value:function(){var e=this,t=this.columns.filter((function(t){return e.autoSize?!1!==t.autoSize:t.autoSize}));t.length>0&&this.ngZone.onStable.pipe(Og(1)).subscribe((function(n){return e.autoFitColumns(t)}))}},{key:"onColumnRangeChange",value:function(e){for(var t=this.viewportColumns=[],n=this.columnsContainer.nonLockedLeafColumns.toArray().slice(e.start,e.end+1),i=0;i<n.length;i++){for(var r=n[i];r.parent;)r=r.parent;for(var o=[r];o.length;)r=o.shift(),t.push(r),r.isColumnGroup&&o.unshift.apply(o,r.childrenArray);var s=t[t.length-1];for(r=n[i];r!==s&&i<n.length;)r=n[++i]}if(e.start>0){for(var a=n[0],l=e.offset,u=t[0],c=0;u!==a;)l-=u.isColumnGroup?0:u.width,u=t[++c];if(l>0)for(var h,f=this.columnsContainer.totalLevels,d=0;d<=f;d++){var p=d<f?new QW(h):new PU(h);h=p,p.title="\xa0",p.width=l,t.unshift(p)}}this.leafViewportColumns=t.filter((function(e){return!e.isColumnGroup}))}},{key:"skip",get:function(){return this._skip},set:function(e){e>=0&&(this._skip=e)}},{key:"sort",set:function(e){zU(e)&&(this._sort=e)},get:function(){return this._sort}},{key:"group",set:function(e){zU(e)&&(this._group=e)},get:function(){return this._group}},{key:"showTopToolbar",get:function(){return this.toolbarTemplate&&["top","both"].indexOf(this.toolbarTemplate.position)>-1}},{key:"showBottomToolbar",get:function(){return this.toolbarTemplate&&["bottom","both"].indexOf(this.toolbarTemplate.position)>-1}},{key:"isLocked",get:function(){return this.lockedLeafColumns.length>0}},{key:"showPager",get:function(){return!this.isVirtual&&!1!==this.pageable}},{key:"showGroupPanel",get:function(){return this.groupable&&!1!==this.groupable.enabled}},{key:"groupableEmptyText",get:function(){return this.groupable.emptyText}},{key:"navigatable",set:function(e){this.navigable=e},get:function(){return this.navigable}},{key:"rowClass",set:function(e){if("function"!=typeof e)throw new Error("rowClass must be a function, but received ".concat(JSON.stringify(e),"."));this._rowClass=e},get:function(){return this._rowClass}},{key:"rowSelected",set:function(e){if("function"!=typeof e)throw new Error("rowSelected must be a function, but received ".concat(JSON.stringify(e),"."));this._rowSelected=e},get:function(){return this._rowSelected}},{key:"activeCell",get:function(){return this.navigationService.activeCell}},{key:"activeRow",get:function(){return this.navigationService.activeRow}},{key:"dir",get:function(){return this.direction}},{key:"hostClasses",get:function(){return!0}},{key:"lockedClasses",get:function(){return this.lockedLeafColumns.length>0}},{key:"virtualClasses",get:function(){return this.isVirtual}},{key:"noScrollbarClass",get:function(){return 0===this.scrollbarWidth}},{key:"detailTemplate",get:function(){return this._customDetailTemplate?this._customDetailTemplate:this.detailTemplateChildren?this.detailTemplateChildren.first:void 0},set:function(e){this._customDetailTemplate=e}},{key:"noRecordsTemplate",get:function(){return this._customNoRecordsTemplate?this._customNoRecordsTemplate:this.noRecordsTemplateChildren?this.noRecordsTemplateChildren.first:void 0},set:function(e){this._customNoRecordsTemplate=e}},{key:"pagerTemplate",get:function(){return this._customPagerTemplate?this._customPagerTemplate:this.pagerTemplateChildren?this.pagerTemplateChildren.first:void 0},set:function(e){this._customPagerTemplate=e}},{key:"toolbarTemplate",get:function(){return this._customToolbarTemplate?this._customToolbarTemplate:this.toolbarTemplateChildren?this.toolbarTemplateChildren.first:void 0},set:function(e){this._customToolbarTemplate=e}},{key:"scrollbarWidth",get:function(){return this.supportService.scrollbarWidth}},{key:"headerPadding",get:function(){if(BU())return"";var e=Math.max(0,this.scrollbarWidth-1)+"px";return"0 ".concat(this.rtl?0:e," 0 ").concat(this.rtl?e:0)}},{key:"hasGroupFooters",get:function(){return this.columnsContainer.hasGroupFooter}},{key:"showFooter",get:function(){return this.columnsContainer.hasFooter}},{key:"showGroupFooters",get:function(){return this.groupable&&this.groupable.showFooter}},{key:"ariaRowCount",get:function(){return this.totalColumnLevels+1+this.view.total}},{key:"ariaColCount",get:function(){return this.columnsContainer.leafColumnsToRender.length}},{key:"isVirtual",get:function(){return"virtual"===this.scrollable}},{key:"isScrollable",get:function(){return"none"!==this.scrollable}},{key:"visibleColumns",get:function(){return this.columnsContainer.allColumns}},{key:"lockedColumns",get:function(){return this.columnsContainer.lockedColumns}},{key:"nonLockedColumns",get:function(){return this.columnsContainer.nonLockedColumns}},{key:"lockedLeafColumns",get:function(){return this.columnsContainer.lockedLeafColumns}},{key:"nonLockedLeafColumns",get:function(){return this.columnsContainer.nonLockedLeafColumns}},{key:"leafColumns",get:function(){return this.columnsContainer.leafColumns}},{key:"totalColumnLevels",get:function(){return this.columnsContainer.totalLevels}},{key:"headerColumns",get:function(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedColumns}},{key:"headerLeafColumns",get:function(){return this.virtualColumns&&!this.pdfService.exporting?this.leafViewportColumns:this.nonLockedLeafColumns}},{key:"lockedWidth",get:function(){var e=32*this.group.length;return aW(this.lockedLeafColumns.toArray()).reduce((function(e,t){return e+(t.width||0)}),e)}},{key:"nonLockedWidth",get:function(){if(!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)return this.virtualColumns?this.leafViewportColumns.reduce((function(e,t){return e+(t.width||0)}),0):this.columnsContainer.unlockedWidth}},{key:"selectableSettings",get:function(){if(this.selectionService)return this.selectionService.options}},{key:"columnMenuTemplate",get:function(){var e=this.columnMenuTemplates.first;return e?e.templateRef:null}},{key:"totalCount",get:function(){return this.isVirtual||!FU(this.pageSize)?this.view.total:this.pageSize}}]),e}()).\u0275fac=function(e){return new(e||QZ)(Ds(iq),Ds(pq),Ds(qa),Ds(Aq),Ds(Sq),Ds(Rq),Ds(wq),Ds(kq),Ds(zq),Ds(Nq),Ds(Gq),Ds(Ya),Ds(Uq),Ds(qu),Ds(qq),Ds(fq),Ds(lZ),Ds(Xo),Ds(CZ),Ds(ZZ),Ds(GZ),Ds($Z),Ds(FZ),Ds(jy))},QZ.\u0275cmp=Et({type:QZ,selectors:[["kendo-grid"]],contentQueries:function(e,t,n){var i;1&e&&(gu(n,PU,!1),gu(n,JW,!1),gu(n,Pq,!1),gu(n,Lq,!1),gu(n,Wq,!1),gu(n,EU,!1)),2&e&&(fu(i=ku())&&(t.columns=i),fu(i=ku())&&(t.detailTemplateChildren=i),fu(i=ku())&&(t.noRecordsTemplateChildren=i),fu(i=ku())&&(t.pagerTemplateChildren=i),fu(i=ku())&&(t.toolbarTemplateChildren=i),fu(i=ku())&&(t.columnMenuTemplates=i))},viewQuery:function(e,t){var n;1&e&&(pu(RB,!0),pu(PB,!0),pu(DB,!0),pu(FB,!0)),2&e&&(fu(n=ku())&&(t.lockedHeader=n.first),fu(n=ku())&&(t.header=n.first),fu(n=ku())&&(t.ariaRoot=n.first),fu(n=ku())&&(t.footer=n))},hostVars:11,hostBindings:function(e,t){2&e&&(As("dir",t.dir),sa("k-widget",t.hostClasses)("k-grid",t.hostClasses)("k-grid-lockedcolumns",t.lockedClasses)("k-grid-virtual",t.virtualClasses)("k-grid-no-scrollbar",t.noScrollbarClass))},inputs:{data:"data",scrollable:"scrollable",selectable:"selectable",trackBy:"trackBy",virtualColumns:"virtualColumns",filterable:"filterable",sortable:"sortable",pageable:"pageable",groupable:"groupable",navigable:"navigable",autoSize:"autoSize",resizable:"resizable",reorderable:"reorderable",loading:"loading",columnMenu:"columnMenu",hideHeader:"hideHeader",skip:"skip",sort:"sort",group:"group",navigatable:"navigatable",rowClass:"rowClass",rowSelected:"rowSelected",pageSize:"pageSize",height:"height",rowHeight:"rowHeight",detailRowHeight:"detailRowHeight",filter:"filter"},outputs:{filterChange:"filterChange",pageChange:"pageChange",groupChange:"groupChange",sortChange:"sortChange",selectionChange:"selectionChange",dataStateChange:"dataStateChange",groupExpand:"groupExpand",groupCollapse:"groupCollapse",detailExpand:"detailExpand",detailCollapse:"detailCollapse",edit:"edit",cancel:"cancel",save:"save",remove:"remove",add:"add",cellClose:"cellClose",cellClick:"cellClick",pdfExport:"pdfExport",excelExport:"excelExport",columnResize:"columnResize",columnReorder:"columnReorder",columnVisibilityChange:"columnVisibilityChange",columnLockedChange:"columnLockedChange",scrollBottom:"scrollBottom",contentScroll:"contentScroll"},exportAs:["kendoGrid"],features:[Ha([iq,jy,ZZ,pq,wq,Sq,Aq,Rq,kq,Nq,jq,{provide:Mq,useValue:t$},{provide:By,useValue:"kendo.grid"},zq,Gq,Vq,Uq,qq,Zq,dq,fq,lZ,hZ,mZ,bZ,_Z,CZ,GZ,xZ,qZ,FZ,$Z]),Ra()],decls:10,vars:8,consts:[["kendoGridLocalizedMessages","",6,"groupPanelEmpty","noRecords","pagerFirstPage","pagerPreviousPage","pagerNextPage","pagerLastPage","pagerPage","pagerOf","pagerItems","pagerItemsPerPage","filter","filterEqOperator","filterNotEqOperator","filterIsNullOperator","filterIsNotNullOperator","filterIsEmptyOperator","filterIsNotEmptyOperator","filterStartsWithOperator","filterContainsOperator","filterNotContainsOperator","filterEndsWithOperator","filterGteOperator","filterGtOperator","filterLteOperator","filterLtOperator","filterIsTrue","filterIsFalse","filterBooleanAll","filterAfterOrEqualOperator","filterAfterOperator","filterBeforeOperator","filterBeforeOrEqualOperator","filterFilterButton","filterClearButton","filterAndLogic","filterOrLogic","loading","columnMenu","columns","lock","unlock","sortable","sortAscending","sortDescending","sortedAscending","sortedDescending","sortedDefault","columnsApply","columnsReset","detailExpand","detailCollapse"],["position","top",4,"ngIf"],[3,"text","groups","change",4,"ngIf"],["role","grid",1,"k-grid-aria-root"],["ariaRoot",""],[3,"ngIf"],[3,"template","pageSize","total","skip","options","pageChange",4,"ngIf"],["position","bottom",4,"ngIf"],["position","top"],[3,"text","groups","change"],["class","k-grid-header","role","presentation",3,"padding",4,"ngIf"],[3,"data","rowHeight","detailRowHeight","total","take","groups","groupable","skip","trackBy","columns","selectable","filterable","detailTemplate","noRecordsTemplate","rowClass","loading","isVirtual","virtualColumns","pageChange","scrollBottom","contentScroll"],["class","k-grid-footer",3,"padding",4,"ngIf"],["role","presentation",1,"k-grid-header"],["role","presentation","class","k-grid-header-locked",3,"width",4,"ngIf"],["role","presentation","data-scrollable","",1,"k-grid-header-wrap",3,"kendoGridResizableContainer","lockedWidth"],["header",""],["role","presentation",3,"virtualColumns"],["kendoGridColGroup","","role","presentation",3,"columns","groups","detailTemplate"],["kendoGridHeader","","role","presentation",3,"resizable","scrollable","columns","totalColumnLevels","sort","filter","filterable","groupable","reorderable","groups","sortable","columnMenu","columnMenuTemplate","lockedColumnsCount","totalColumnsCount","detailTemplate"],["class","k-width-container","role","presentation",4,"ngIf"],["role","presentation",1,"k-grid-header-locked"],["lockedHeader",""],["role","presentation",3,"locked"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","sort","groups","filter","filterable","groupable","reorderable","sortable","columnMenu","columnMenuTemplate","totalColumnsCount","detailTemplate"],["role","presentation",1,"k-width-container"],[1,"k-grid-footer"],["class","k-grid-footer-locked",3,"width",4,"ngIf"],["data-scrollable","",1,"k-grid-footer-wrap",3,"kendoGridResizableContainer","lockedWidth"],["footer",""],["kendoGridColGroup","",3,"columns","groups","detailTemplate"],["kendoGridFooter","",3,"scrollable","groups","columns","lockedColumnsCount","detailTemplate"],[1,"k-grid-footer-locked"],[3,"locked"],["kendoGridFooter","",3,"scrollable","groups","columns","detailTemplate"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","groups","groupable","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate","detailTemplate",4,"ngIf"],["kendoGridTableBody","",3,"groups","data","skip","columns","selectable","filterable","noRecordsTemplate","detailTemplate","showGroupFooters","trackBy","rowClass"],["kendoGridFooter","",3,"scrollable","groups","columns","detailTemplate",4,"ngIf"],["kendoGridLoading","",4,"ngIf"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","groups","groupable","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate","detailTemplate"],["kendoGridLoading",""],[3,"template","pageSize","total","skip","options","pageChange"],["position","bottom"]],template:function(e,t){1&e&&(Bs(0,0),Ml(1,MB),js(),Rs(2,zB,1,0,"kendo-grid-toolbar",1),Rs(3,LB,1,2,"kendo-grid-group-panel",2),Ls(4,"div",3,4),Rs(6,UB,3,20,"ng-template",5),Rs(7,$B,6,19,"ng-template",5),Vs(),Rs(8,KB,1,5,"kendo-pager",6),Rs(9,YB,1,0,"kendo-grid-toolbar",7)),2&e&&(wr(2),Ms("ngIf",t.showTopToolbar),wr(1),Ms("ngIf",t.showGroupPanel),wr(1),As("aria-rowcount",t.ariaRowCount)("aria-colcount",t.ariaColCount),wr(2),Ms("ngIf",t.isScrollable),wr(1),Ms("ngIf",!t.isScrollable),wr(1),Ms("ngIf",t.showPager),wr(1),Ms("ngIf",t.showBottomToolbar))},directives:function(){return[kY,zc,eJ,NX,vY,tX,vX,JY,iQ,XQ,HQ,eX,xX]},styles:["   .k-grid .k-grid-aria-root {\n            display: flex;\n            flex-direction: column;\n            flex: 1 1 auto;\n            overflow: hidden;\n        }\n\n        .k-grid .k-filter-row td {\n            white-space: nowrap;\n        }"],encapsulation:2}),QZ),i$=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,e),this.total=t,this.rowHeight=n,this.detailRowHeight=i,this.offsets=[],this.heights=[];for(var r=0,o=0;o<t;o++)this.offsets.push(r),r+=n,this.heights.push(n)}return _createClass(e,[{key:"height",value:function(e){return this.heights[e]}},{key:"expandDetail",value:function(e){this.height(e)===this.rowHeight&&this.updateRowHeight(e,this.detailRowHeight)}},{key:"collapseDetail",value:function(e){this.height(e)>this.rowHeight&&this.updateRowHeight(e,-1*this.detailRowHeight)}},{key:"isExpanded",value:function(e){return this.height(e)>this.rowHeight}},{key:"index",value:function(e){if(!(e<0)){var t=this.offsets.reduce((function(t,n,i){return void 0!==t?t:n===e?i:n>e?i-1:void 0}),void 0);return void 0===t?this.total-1:t}}},{key:"offset",value:function(e){return this.offsets[e]}},{key:"totalHeight",value:function(){return this.heights.reduce((function(e,t){return e+t}),0)}},{key:"updateRowHeight",value:function(e,t){this.total>0&&(this.heights[e]+=t,this.offsets=function(e,t,n){return[].concat(_toConsumableArray(e.slice(0,t+1)),_toConsumableArray(e.slice(t+1).map((function(e){return e+n}))))}(this.offsets,e,t))}}]),e}(),r$=function e(t){_classCallCheck(this,e),this.offset=t},o$=function e(t,n){_classCallCheck(this,e),this.skip=t,this.take=n},s$=function e(){_classCallCheck(this,e)},a$=function(){function e(t){_classCallCheck(this,e),this.scrollObservable=t,this.firstLoaded=0}return _createClass(e,[{key:"create",value:function(e,t,n,i){var r=this;this.rowHeightService=e,this.firstLoaded=t,this.lastLoaded=t+n,this.take=n,this.total=i,this.lastScrollTop=0;var o=new gg(new r$(this.rowHeightService.offset(t)));return this.subscription=M.create((function(e){r.unsubscribe(),r.scrollSubscription=r.scrollObservable.subscribe((function(t){return r.onScroll(t,e)}))})).subscribe((function(e){return o.next(e)})),o}},{key:"destroy",value:function(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}},{key:"onScroll",value:function(e,t){var n=e.scrollTop,i=e.offsetHeight,r=e.scrollHeight,o=e.clientHeight;if(this.lastScrollTop!==n){var s=this.lastScrollTop>=n;this.lastScrollTop=n;var a=this.rowHeightService.index(n),l=this.rowHeightService.offset(a),u=this.rowHeightService.index(n+i);if(!s)if(u>=this.lastLoaded&&this.lastLoaded<this.total){var c=a+this.take-this.total;c>0&&(a-=c,l=this.rowHeightService.offset(a)),this.firstLoaded=a,t.next(new r$(l));var h=this.firstLoaded+this.take;this.lastLoaded=Math.min(h,this.total),h=h>this.total?this.total-this.firstLoaded:this.take,t.next(new o$(this.firstLoaded,this.take))}else r-o-n<1&&t.next(new s$);if(s&&a<this.firstLoaded){var f=Math.floor(.3*this.take);this.firstLoaded=Math.max(a-f,0),t.next(new r$(this.rowHeightService.offset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),t.next(new o$(this.firstLoaded,this.take))}}}},{key:"unsubscribe",value:function(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=void 0)}}]),e}(),l$=function(e,t,n){for(var i=0,r=0;i<t.length;i++){var o=n(t[i]);if(r<=e&&e<=r+o-1)return t[i];r+=o}},u$=function(e,t){return l$(e,t,(function(e){return e.hasAttribute("data-kendo-grid-item-index")?1:0}))},c$={},h$=new et("grid-scroll-service-factory");function f$(e){return new a$(e)}var d$,p$,v$,g$,m$,y$,k$,b$,_$,C$,w$,x$,S$,T$,O$,I$,E$,A$,R$,P$,D$,F$,M$,z$,L$,V$,N$,B$,j$,H$,G$,U$,W$,q$,Z$,$$,K$,Y$,X$,Q$,J$,eK,tK,nK,iK,rK,oK,sK,aK,lK,uK,cK,hK,fK,dK,pK,vK,gK,mK,yK,kK,bK,_K,CK,wK,xK,SK,TK,OK,IK,EK,AK,RK,PK,DK,FK,MK,zK,LK,VK,NK,BK,jK,HK,GK,UK,WK,qK,ZK,$K,KK,YK,XK,QK,JK,eY,tY,nY,iY,rY,oY,sY,aY,lY,uY,cY,hY,fY,dY=function(e){var t=e.wheelDeltaY;return e.wheelDelta&&(void 0===t||t)?e.wheelDelta:e.detail&&e.axis===e.VERTICAL_AXIS?10*-e.detail:0},pY=function(e){return e?e.nativeElement:null},vY=function(){var e=function(){function e(t,n,i,r,o,s,a,l,u,c,h,f,d,p,v,g,m,y){var k=this;_classCallCheck(this,e),this.changeNotification=i,this.suspendService=r,this.groupsService=o,this.ngZone=s,this.renderer=a,this.scrollSyncService=l,this.resizeService=u,this.editService=c,this.supportService=h,this.navigationService=f,this.localization=p,this.columnResizingService=v,this.changeDetector=g,this.pdfService=m,this.columnInfo=y,this.groups=[],this.skip=0,this.columns=new Tq((function(){return[]})),this.selectable=!1,this.groupable=!1,this.trackBy=XZ,this.contentScroll=new tu,this.pageChange=new tu,this.scrollBottom=new tu,this.columnsStartIdx=0,this.resizeSensors=new iu,this.dispatcher=new j,this.containerScrollTop=0,this.scrollLeft=0,this.rtl=!1,this.scroller=t(this.dispatcher),this.subscriptions=n.changes.subscribe((function(e){return k.detailExpand(e)})).add(d.requests.subscribe((function(e){return k.scrollTo(e)})))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.init(),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowSync.bind(this))),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowNavigationLocked.bind(this))),this.subscriptions.add(le(this.columns.changes,this.resizeService.changes).subscribe((function(){e.virtualColumns&&e.ngZone.run((function(){e.updateViewportColumns(),e.changeDetector.markForCheck()}))}))),this.subscriptions.add(this.localization.changes.subscribe((function(t){var n=t.rtl;return e.rtl=n})))}},{key:"ngOnChanges",value:function(e){Cm("skip",e)&&!this.rebind&&(this.skipScroll=!0,this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),wm(["total","take"],e)&&this.init(),this.rebind=!1}},{key:"ngDoCheck",value:function(){!this.virtualColumns||this.viewportColumns&&!this.viewportWidthChange()||this.updateViewportColumns()}},{key:"ngAfterViewInit",value:function(){this.skip&&this.isVirtual&&(this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),this.resetNavigationViewport(),this.attachContainerScroll(),this.initResizeService()}},{key:"ngAfterViewChecked",value:function(){var e=this.isLocked;e&&!this.hasLockedContainer&&this.syncRowsHeight(),this.hasLockedContainer=e}},{key:"syncRowsHeight",value:function(){this.lockedContainer&&Fq(this.lockedTable.nativeElement,this.table.nativeElement)}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe(),this.resizeService&&this.resizeService.destroy(),this.cleanupScroller()}},{key:"init",value:function(){this.suspendService.scroll||(this.rowHeightService=new i$(this.total,this.rowHeight,this.detailRowHeight),this.totalHeight=this.rowHeightService.totalHeight(),BU()||this.ngZone.runOutsideAngular(this.createScroller.bind(this)))}},{key:"lockedScroll",value:function(){if(!this.suspendService.scroll){var e=this.lockedContainer.nativeElement.scrollTop;e!==this.containerScrollTop&&(this.container.nativeElement.scrollTop=this.containerScrollTop=e)}}},{key:"lockedMousewheel",value:function(e){if(!e.ctrlKey){!function(e,t){var n=dY(e),i=t.scrollTop;0===i&&0<n||t.scrollHeight<=t.offsetHeight+i&&n<0||event.preventDefault()}(e,this.container.nativeElement);var t=dY(e);this.container.nativeElement.scrollTop-=t}}},{key:"lockedKeydown",value:function(e){if(e.keyCode===Bm.PageDown||e.keyCode===Bm.PageUp){var t=this.container.nativeElement;t.scrollTop+=t.offsetHeight*(e.keyCode===Bm.PageDown?1:-1)*.8,e.preventDefault()}}},{key:"detailExpand",value:function(e){var t=e.index;e.expand?this.rowHeightService.expandDetail(t):this.rowHeightService.collapseDetail(t),this.totalHeight=this.rowHeightService.totalHeight(),this.resetNavigationViewport()}},{key:"attachContainerScroll",value:function(){var e=this;BU()||(this.ngZone.runOutsideAngular((function(){e.subscriptions.add(ig(e.container.nativeElement,"scroll").pipe(Q((function(e){return e.target})),Pg((function(){return!e.suspendService.scroll})),Mg((function(t){e.onContainerScroll(t),e.resetNavigationViewport(),e.virtualColumns&&e.handleColumnScroll();var n=e.navigationService.viewport||c$,i=e.navigationService.columnViewport||c$;e.contentScroll.emit({scrollLeft:t.scrollLeft,scrollTop:t.scrollTop,startRow:n.firstItemIndex,endRow:n.lastItemIndex,startColumn:i.firstItemIndex,endColumn:i.lastItemIndex})}))).subscribe(e.dispatcher))})),this.scrollSyncService.registerEmitter(this.container.nativeElement,"body"))}},{key:"createScroller",value:function(){var e=this;this.cleanupScroller();var t=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total);this.skipScroll=!1,this.scrollerSubscription=t.pipe(Pg((function(e){return e instanceof o$})),Pg((function(){var t=e.skipScroll;return e.skipScroll=!1,!t})),Mg((function(){return e.rebind=!0}))).subscribe((function(t){return e.ngZone.run((function(){return e.pageChange.emit(t)}))})),this.scrollerSubscription.add(t.pipe(Pg((function(e){return e instanceof r$}))).subscribe(this.scroll.bind(this))),this.scrollerSubscription.add(t.pipe(Pg((function(e){return e instanceof s$}))).subscribe((function(){return e.scrollBottom.emit()})))}},{key:"scroll",value:function(e){var t,n,i=e.offset,r=void 0===i?0:i;this.isVirtual&&[pY(this.table),pY(this.lockedTable)].filter(FU).forEach((t=this.renderer,n=r,function(e){return t.setStyle(e,"transform","translateY(".concat(n,"px)"))})),this.resetNavigationViewport()}},{key:"onContainerScroll",value:function(e){var t=e.scrollTop;this.containerScrollTop=t,this.lockedContainer&&(this.lockedContainer.nativeElement.scrollTop=t)}},{key:"handleRowSync",value:function(){var e=this,t=function(){return FU(e.lockedContainer)};return le(this.changeNotification.changes,this.groupsService.changes.pipe(Pg(t),Wg(e.ngZone.onStable.asObservable().pipe(Og(1)))),this.editService.changed,this.resizeService.changes,this.columnResizingService.changes.pipe(Pg((function(e){return"end"===e.type}))),this.supportService.changes).pipe(Mg((function(){return e.resetNavigationViewport()})),Pg(t)).subscribe((function(){var t=e.container.nativeElement.scrollTop,n=e.container.nativeElement.scrollLeft;e.syncRowsHeight(),e.syncContainerHeight(),e.lockedContainer.nativeElement.scrollTop=e.container.nativeElement.scrollTop=t,e.container.nativeElement.scrollLeft=n,e.resizeSensors.forEach((function(e){return e.acceptSize()}))}))}},{key:"handleRowNavigationLocked",value:function(){var e=this;return this.navigationService.changes.pipe(Pg((function(){return FU(e.lockedContainer)})),$g(10)).subscribe((function(t){if(e.lockedLeafColumns.length<=t.prevColIndex&&t.colIndex<e.lockedLeafColumns.length){var n=e.navigationService.activeCell;n&&n.colIndex+n.colSpan<t.prevColIndex&&(e.container.nativeElement.scrollLeft=0)}}))}},{key:"scrollToVirtualRow",value:function(e){FU(this.detailTemplate)&&(e=Math.floor(e/2));var t=this.rowHeightService.offset(e);this.container.nativeElement.scrollTop=t,this.resetNavigationViewport()}},{key:"scrollTo",value:function(e){var t=e.row,n=e.column;if(HU(t))if(this.isVirtual)this.scrollToVirtualRow(t);else{var i=u$(t,this.table.nativeElement.rows);i&&(this.container.nativeElement.scrollTop=i.offsetTop)}if(HU(n))if(n-=this.lockedLeafColumns.length,this.virtualColumns){for(var r=this.columns.leafColumnsToRender,o=0,s=0;s<n;s++)o+=r[s].width||0;this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(o+(this.lockedLeafColumns.length?0:32*this.groups.length+(this.detailTemplate&&n>0?32:0)))}else if(0===n&&this.detailTemplate)this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(0);else{var a=u$(0,this.table.nativeElement.rows);if(a){var l=l$(n,a.cells,(function(e){return Xq(e,"k-hierarchy-cell k-detail-cell k-group-cell")?0:parseInt(e.getAttribute("colSpan"),10)||1}));l&&(this.container.nativeElement.scrollLeft=this.elementScrollLeft(l))}}}},{key:"resetNavigationViewport",value:function(){if(this.container&&this.navigationService.enabled&&this.navigationService.needsViewport()&&0!==this.data.length){var e=this.container.nativeElement,t=e.scrollTop,n=t+e.offsetHeight,i=this.rowHeightService.index(t),r=this.rowHeightService.index(n),o=this.rowHeightService.offset(r);r>0&&o+this.rowHeight>n&&r--;var s=i,a=r;if(FU(this.detailTemplate)){s*=2,a*=2,this.rowHeightService.offset(i)+this.rowHeight<t&&s++;var l=o+this.rowHeightService.height(r)>n;this.rowHeightService.isExpanded(r)&&!l&&a++}this.navigationService.setViewport(s,a)}}},{key:"cleanupScroller",value:function(){this.scrollerSubscription&&this.scrollerSubscription.unsubscribe(),this.scroller&&this.scroller.destroy()}},{key:"initResizeService",value:function(){this.resizeService.connect(le.apply(void 0,_toConsumableArray(this.resizeSensors.map((function(e){return e.resize})))))}},{key:"syncContainerHeight",value:function(){var e,t=this;[pY(this.lockedContainer)].filter(FU).map((function(e){e.style.height="";var n=t.container.nativeElement.offsetHeight;return t.table.nativeElement.offsetWidth>t.container.nativeElement.clientWidth&&(n-=t.supportService.scrollbarWidth),{el:e,height:n}})).forEach((e=this.renderer,function(t){var n=t.el,i=t.height;return e.setStyle(n,"height","".concat(i,"px"))}))}},{key:"updateViewportColumns",value:function(e){var t=this.columns.nonLockedLeafColumns.toArray(),n=e||this.calculateViewportColumns(),i=n.startIdx,r=n.endIdx,o=n.offset,s=Math.max(0,i-1),a=Math.min(r+1,t.length-1);if(s<i)for(var l=i-1;l>=s;l--)o-=t[l].width;var u=t.slice(s,a+1);if(this.viewportColumnsWidth=u.reduce((function(e,t){return e+t.width}),0),s>0){var c=new PU;c.width=o,u.unshift(c)}this.viewportColumns=new iu,this.viewportColumns.reset(u),this.columnsStartIdx=s,this.columnsEndIdx=a,this.columnInfo.columnRangeChange.emit({start:s,end:a,offset:o}),e||this.updateColumnViewport(i,r)}},{key:"handleColumnScroll",value:function(){var e=this,t=this.container.nativeElement.scrollLeft;if(this.scrollLeft!==t){this.scrollLeft=t;var n=this.calculateViewportColumns();this.updateColumnViewport(n.startIdx,n.endIdx),(n.startIdx<this.columnsStartIdx||this.columnsEndIdx<n.endIdx)&&(JU(this.columnUpdateFrame),this.columnUpdateFrame=QU((function(){e.ngZone.run((function(){e.updateViewportColumns(n),e.changeDetector.markForCheck()}))})))}}},{key:"updateColumnViewport",value:function(e,t){for(var n=this.lockedLeafColumns.length,i=this.nonLockedLeafColumns.toArray(),r=n+e+(this.detailTemplate&&e>0?1:0),o=n+t+(this.detailTemplate?1:0),s=0;s<i.length;s++){var a=i[s];a.isSpanColumn&&(o+=a.childColumns.length)}this.navigationService.setColumnViewport(r,o)}},{key:"calculateViewportColumns",value:function(){var e,t,n=this.container.nativeElement,i=n.scrollLeft,r=n.clientWidth,o=this.columns.nonLockedLeafColumns.toArray(),s=this.normalizeScrollLeft(i),a=s+r,l=0,u=0,c=0;for(t=0;t<o.length;t++){var h=o[t];if(u+=h.width||0,void 0===e&&u>s&&(e=t,c=u-(h.width||0)),u>=a){l=t;break}}return!l&&t>0&&(l=o.length-1),{startIdx:e,endIdx:l,offset:c}}},{key:"viewportWidthChange",value:function(){return this.viewportColumns.toArray().reduce((function(e,t){return e+t.width}),0)!==this.viewportColumnsWidth}},{key:"normalizeScrollLeft",value:function(e){return this.rtl?function(e,t,n){var i=e;return n<0?i=-e:n>0&&(i=t.scrollWidth-t.offsetWidth-e),i}(e,this.container.nativeElement,this.supportService.rtlScrollLeft):e}},{key:"elementScrollLeft",value:function(e){return this.rtl?this.normalizeScrollLeft(this.container.nativeElement.scrollWidth-e.offsetLeft-e.offsetWidth):e.offsetLeft}},{key:"hostClass",get:function(){return!0}},{key:"hostRole",get:function(){return"presentation"}},{key:"showFooter",get:function(){return this.groupable&&this.groupable.showFooter}},{key:"totalWidth",get:function(){if(this.virtualColumns&&this.columns.unlockedWidth)return this.columns.unlockedWidth}},{key:"lockedLeafColumns",get:function(){return this.columns.lockedLeafColumns}},{key:"nonLockedLeafColumns",get:function(){return this.columns.nonLockedLeafColumns}},{key:"nonLockedColumnsToRender",get:function(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedLeafColumns}},{key:"leafColumns",get:function(){return this.columns.leafColumnsToRender}},{key:"lockedWidth",get:function(){var e=32*this.groups.length;return aW(this.lockedLeafColumns.toArray()).reduce((function(e,t){return e+(t.width||0)}),e)}},{key:"nonLockedWidth",get:function(){if(!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)return hW(aW(this.nonLockedColumnsToRender.toArray()))}},{key:"isLocked",get:function(){return this.lockedLeafColumns.length>0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ds(h$),Ds(wq),Ds(Rq),Ds(jq),Ds(Sq),Ds(qu),Ds(Ya),Ds(qq),Ds(Zq),Ds(kq),Ds(iq),Ds(GZ),Ds(FZ),Ds(jy),Ds(lZ),Ds(Xo),Ds(Nq),Ds(ZZ))},e.\u0275cmp=Et({type:e,selectors:[["kendo-grid-list"]],viewQuery:function(e,t){var n;1&e&&(du(XB,!0),pu(QB,!0),pu(JB,!0),pu(ej,!0),pu(Lm,!0)),2&e&&(fu(n=ku())&&(t.container=n.first),fu(n=ku())&&(t.lockedContainer=n.first),fu(n=ku())&&(t.lockedTable=n.first),fu(n=ku())&&(t.table=n.first),fu(n=ku())&&(t.resizeSensors=n))},hostVars:3,hostBindings:function(e,t){2&e&&(As("role",t.hostRole),sa("k-grid-container",t.hostClass))},inputs:{groups:"groups",skip:"skip",columns:"columns",selectable:"selectable",groupable:"groupable",trackBy:"trackBy",data:"data",total:"total",rowHeight:"rowHeight",detailRowHeight:"detailRowHeight",take:"take",detailTemplate:"detailTemplate",noRecordsTemplate:"noRecordsTemplate",filterable:"filterable",rowClass:"rowClass",loading:"loading",virtualColumns:"virtualColumns",isVirtual:"isVirtual"},outputs:{contentScroll:"contentScroll",pageChange:"pageChange",scrollBottom:"scrollBottom"},features:[Ha([{provide:h$,useValue:f$}]),Ra()],decls:14,vars:32,consts:[["class","k-grid-content-locked","role","presentation",3,"width","kendoEventsOutsideAngular","scope",4,"ngIf"],["role","presentation","tabindex","-1",1,"k-grid-content","k-virtual-content",3,"kendoGridResizableContainer","lockedWidth"],["container",""],["role","presentation",1,"k-grid-table-wrap"],["role","presentation",1,"k-grid-table",3,"virtualColumns"],["table",""],["kendoGridColGroup","","role","presentation",3,"groups","columns","detailTemplate"],["kendoGridTableBody","","role","presentation",3,"skipGroupDecoration","data","groups","showGroupFooters","columns","allColumns","detailTemplate","noRecordsTemplate","lockedColumnsCount","totalColumnsCount","skip","selectable","trackBy","filterable","rowClass","virtualColumns"],[4,"ngIf"],["role","presentation",1,"k-height-container"],["class","k-width-container","role","presentation",4,"ngIf"],["kendoGridLoading","",4,"ngIf"],["role","presentation",1,"k-grid-content-locked",3,"kendoEventsOutsideAngular","scope"],["lockedContainer",""],["role","presentation",1,"k-grid-table",3,"locked"],["lockedTable",""],["kendoGridTableBody","","role","presentation",3,"groups","isLocked","data","noRecordsText","columns","totalColumnsCount","detailTemplate","showGroupFooters","skip","selectable","trackBy","filterable","rowClass"],["role","presentation",1,"k-width-container"],["kendoGridLoading",""]],template:function(e,t){1&e&&(Rs(0,nj,10,30,"div",0),Ls(1,"div",1,2),Ls(3,"div",3),Ls(4,"table",4,5),Ns(6,"colgroup",6),Ns(7,"tbody",7),Vs(),Rs(8,ij,1,0,"kendo-resize-sensor",8),Vs(),Rs(9,rj,1,0,"kendo-resize-sensor",8),Ls(10,"div",9),Ns(11,"div"),Vs(),Rs(12,oj,2,2,"div",10),Vs(),Rs(13,sj,1,0,"div",11)),2&e&&(Ms("ngIf",t.isLocked),wr(1),Ms("kendoGridResizableContainer",t.lockedLeafColumns.length)("lockedWidth",t.lockedWidth+1),wr(3),oa("width",t.nonLockedWidth,"px"),Ms("virtualColumns",t.virtualColumns),wr(2),Ms("groups",t.isLocked?Bl(31,BB):t.groups)("columns",t.nonLockedColumnsToRender)("detailTemplate",t.detailTemplate),wr(1),Ms("skipGroupDecoration",t.isLocked)("data",t.data)("groups",t.groups)("showGroupFooters",t.showFooter)("columns",t.nonLockedColumnsToRender)("allColumns",t.nonLockedLeafColumns)("detailTemplate",t.detailTemplate)("noRecordsTemplate",t.noRecordsTemplate)("lockedColumnsCount",t.lockedLeafColumns.length)("totalColumnsCount",t.leafColumns.length)("skip",t.skip)("selectable",t.selectable)("trackBy",t.trackBy)("filterable",t.filterable)("rowClass",t.rowClass)("virtualColumns",t.virtualColumns),wr(1),Ms("ngIf",t.isLocked),wr(1),Ms("ngIf",t.isLocked||t.virtualColumns),wr(2),oa("height",t.totalHeight,"px"),wr(1),Ms("ngIf",t.virtualColumns),wr(1),Ms("ngIf",t.loading))},directives:function(){return[zc,tX,vX,JY,HQ,Im,Lm,eX]},encapsulation:2}),e}(),gY=(d$=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).grid=e,i}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){!1===this.grid.selectable&&(this.grid.selectable=!0),this.grid.selectionDirective=!0}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(vq),d$.\u0275fac=function(e){return new(e||d$)(Ds(n$),Ds(Xo))},d$.\u0275dir=Mt({type:d$,selectors:[["","kendoGridSelectBy",""]],features:[Sa]}),d$),mY=function(){var e=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(Vy);return e.\u0275fac=function(t){return yY(t||e)},e.\u0275dir=Mt({type:e,inputs:{groupPanelEmpty:"groupPanelEmpty",noRecords:"noRecords",pagerFirstPage:"pagerFirstPage",pagerLastPage:"pagerLastPage",pagerPreviousPage:"pagerPreviousPage",pagerNextPage:"pagerNextPage",pagerPage:"pagerPage",pagerItemsPerPage:"pagerItemsPerPage",pagerOf:"pagerOf",pagerItems:"pagerItems",filter:"filter",filterEqOperator:"filterEqOperator",filterNotEqOperator:"filterNotEqOperator",filterIsNullOperator:"filterIsNullOperator",filterIsNotNullOperator:"filterIsNotNullOperator",filterIsEmptyOperator:"filterIsEmptyOperator",filterIsNotEmptyOperator:"filterIsNotEmptyOperator",filterStartsWithOperator:"filterStartsWithOperator",filterContainsOperator:"filterContainsOperator",filterNotContainsOperator:"filterNotContainsOperator",filterEndsWithOperator:"filterEndsWithOperator",filterGteOperator:"filterGteOperator",filterGtOperator:"filterGtOperator",filterLteOperator:"filterLteOperator",filterLtOperator:"filterLtOperator",filterIsTrue:"filterIsTrue",filterIsFalse:"filterIsFalse",filterBooleanAll:"filterBooleanAll",filterAfterOrEqualOperator:"filterAfterOrEqualOperator",filterAfterOperator:"filterAfterOperator",filterBeforeOperator:"filterBeforeOperator",filterBeforeOrEqualOperator:"filterBeforeOrEqualOperator",filterFilterButton:"filterFilterButton",filterClearButton:"filterClearButton",filterAndLogic:"filterAndLogic",filterOrLogic:"filterOrLogic",loading:"loading",columnMenu:"columnMenu",columns:"columns",lock:"lock",unlock:"unlock",sortable:"sortable",sortAscending:"sortAscending",sortDescending:"sortDescending",sortedAscending:"sortedAscending",sortedDescending:"sortedDescending",sortedDefault:"sortedDefault",columnsApply:"columnsApply",columnsReset:"columnsReset",detailExpand:"detailExpand",detailCollapse:"detailCollapse"},features:[Sa]}),e}(),yY=si(mY),kY=function(){var e=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).service=e,n}return _inherits(t,e),t}(mY);return e.\u0275fac=function(t){return new(t||e)(Ds(jy))},e.\u0275dir=Mt({type:e,selectors:[["","kendoGridLocalizedMessages",""]],features:[Ha([{provide:mY,useExisting:Ve((function(){return e}))}]),Sa]}),e}(),bY=(p$=function e(t){_classCallCheck(this,e),this.localization=t,this.columns=[],this.groups=[],this.filterRowClass=!0,this.filterLabel=this.localization.get("filter")},p$.\u0275fac=function(e){return new(e||p$)(Ds(jy))},p$.\u0275cmp=Et({type:p$,selectors:[["","kendoGridFilterRow",""]],hostVars:2,hostBindings:function(e,t){2&e&&sa("k-filter-row",t.filterRowClass)},inputs:{columns:"columns",groups:"groups",filter:"filter",detailTemplate:"detailTemplate",logicalRowIndex:"logicalRowIndex",lockedColumnsCount:"lockedColumnsCount"},attrs:aj,decls:3,vars:3,consts:[["role","presentation",3,"k-group-cell",4,"ngFor","ngForOf"],["role","presentation",3,"k-hierarchy-cell",4,"ngIf"],["kendoGridFilterCell","","kendoGridLogicalCell","",3,"column","filter","logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf"],["role","presentation"],["kendoGridFilterCell","","kendoGridLogicalCell","",3,"column","filter","logicalRowIndex","logicalColIndex"]],template:function(e,t){1&e&&(Rs(0,lj,1,2,"td",0),Rs(1,uj,1,2,"td",1),Rs(2,cj,1,5,"td",2)),2&e&&(Ms("ngForOf",t.groups),wr(1),Ms("ngIf",null==t.detailTemplate?null:t.detailTemplate.templateRef),wr(1),Ms("ngForOf",t.columns))},directives:function(){return[Fc,zc,CY,oX]},encapsulation:2}),p$),_Y=function e(t){if(t)return Gm(t)?{filters:e(t.filters),logic:t.logic}:Array.isArray(t)?t.map(e):function(e){return function(e){var t={};if(Object.assign(t,e),e.constructor!==Object){var n=e.constructor.prototype;Object.getOwnPropertyNames(n).forEach((function(i){"constructor"!==i&&n.hasOwnProperty(i)&&(t[i]=e[i])}))}return t}(e)}(t)},CY=(v$=function(){function e(){_classCallCheck(this,e),this._templateContext={}}return _createClass(e,[{key:"filter",get:function(){return this._filter},set:function(e){this._filter=_Y(e)}},{key:"templateContext",get:function(){return this._templateContext.column=this.column,this._templateContext.filter=this.filter,this._templateContext.$implicit=this.filter,this._templateContext}},{key:"hasTemplate",get:function(){return FU(this.column.filterCellTemplateRef)}},{key:"isFilterable",get:function(){return FU(this.column)&&!VU(this.column.field)&&this.column.filterable}}]),e}(),v$.\u0275fac=function(e){return new(e||v$)},v$.\u0275cmp=Et({type:v$,selectors:[["","kendoGridFilterCell",""]],inputs:{filter:"filter",column:"column"},attrs:hj,decls:1,vars:1,consts:[[3,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["kendoFilterCellHost","",3,"column","filter"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&Rs(0,gj,3,3,"ng-template",0),2&e&&Ms("ngIf",t.isFilterable)},directives:function(){return[zc,Xc,Qc,_X,th]},encapsulation:2}),v$),wY=(g$={filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterAfterOrEqualOperator:"after-eq",filterAfterOperator:"after",filterBeforeOrEqualOperator:"before-eq",filterBeforeOperator:"before"},function(e){return Object.keys(g$).reduce((function(t,n){return t[g$[n]]=e.get(n),t}),{})}),xY=function(e){return e.map((function(e){return e.toJSON()}))},SY=(m$=function(){function e(t,n){_classCallCheck(this,e),this.operator=t,this.localization=n,this.messages=wY(this.localization),this._text=this.messages[this.operator],this.localization.changes.subscribe(this.refreshText.bind(this))}return _createClass(e,[{key:"toJSON",value:function(){return{text:this.text,value:this.operator}}},{key:"refreshText",value:function(){var e=this._text===this.messages[this.operator];this.messages=wY(this.localization),e&&(this._text=this.messages[this.operator])}},{key:"text",get:function(){return this._text},set:function(e){this._text=VU(e)?this.messages[this.operator]:e}}]),e}(),m$.\u0275fac=function(e){Fs()},m$.\u0275dir=Mt({type:m$,inputs:{text:"text"}}),m$),TY=function(e,t,n,i){return FU(t)&&FU(t.filters)&&t.filters.length>e?t.filters[e]:function(e,t,n){return(t=t||{filters:[],logic:"and"}).filters[e]=n,n}(e,t,{field:n,operator:i})},OY=function(e){return[{text:e.get("filterAndLogic"),value:"and"},{text:e.get("filterOrLogic"),value:"or"}]},IY=function e(t){return FU(t.filters)?t.filters.reduce((function(t,n){return t.concat(Gm(n)?e(n):[n])}),[]):[]},EY=function(e,t){return IY(e||{}).filter((function(e){return e.field===t}))},AY=function(e,t){return function e(t,n){FU(t)&&FU(t.filters)&&(t.filters=t.filters.filter((function(t){return Gm(t)?(e(t,n),t.filters.length):t.field!==n})))}(e,t),e},RY=function(e){return function(t){return Object.keys(e).map((function(n){return{text:t.get(n),value:e[n]}}))}},PY=(y$=function(){function e(t){_classCallCheck(this,e),this.filterService=t,this.operatorList=new iu}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.operationListSubscription=NU(this.operatorList).pipe(Q((function(e){return e.toArray()})),Q(xY)).subscribe((function(t){e.operators=t}))}},{key:"ngOnDestroy",value:function(){this.operationListSubscription&&this.operationListSubscription.unsubscribe()}},{key:"filterByField",value:function(e){return function(e,t){return _slicedToArray(EY(e,t),1)[0]}(this.filter,e)}},{key:"filtersByField",value:function(e){return EY(this.filter,e)}},{key:"removeFilter",value:function(e){return AY(this.filter,e)}},{key:"updateFilter",value:function(e){var t=this.filter||{filters:[],logic:"and"},n=_slicedToArray(IY(t).filter((function(t){return t.field===e.field})),1)[0];return FU(n)?Object.assign(n,e):t.filters.push(e),t}},{key:"applyFilter",value:function(e){this.filterService.filter(e)}},{key:"hostClasses",get:function(){return!0}},{key:"operators",get:function(){return this._operators.length?this._operators:this.defaultOperators},set:function(e){this._operators=e}}]),e}(),y$.\u0275fac=function(e){Fs()},y$.\u0275dir=Mt({type:y$,contentQueries:function(e,t,n){var i;1&e&&gu(n,SY,!1),2&e&&fu(i=ku())&&(t.operatorList=i)},hostVars:2,hostBindings:function(e,t){2&e&&sa("k-filtercell",t.hostClasses)}}),y$),DY=RY({filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"}),FY=(b$=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).localization=n,i.operator="eq",i.step=1,i.spinners=!0,i.defaultOperators=DY(i.localization),i}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),_get(_getPrototypeOf(t.prototype),"ngOnDestroy",this).call(this)}},{key:"localizationChange",value:function(){this.defaultOperators=DY(this.localization),this.operatorList.length&&(this.operators=xY(this.operatorList.toArray()))}},{key:"format",set:function(e){this._format=e},get:function(){return VU(this._format)?this.columnFormat:this._format}},{key:"currentFilter",get:function(){return this.filterByField(this.column.field)}},{key:"currentOperator",get:function(){return this.currentFilter?this.currentFilter.operator:this.operator}},{key:"columnFormat",get:function(){return this.column&&!VU(this.column.format)?GU(this.column.format):"n2"}}]),t}(PY),b$.\u0275fac=function(e){Fs()},b$.\u0275dir=Mt({type:b$,inputs:{operator:"operator",step:"step",spinners:"spinners",format:"format",column:"column",filter:"filter",min:"min",max:"max",decimals:"decimals"},features:[Sa]}),b$),MY=(k$=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).localization=n,i.filterDelay=500,i.showOperators=!0,i}return _inherits(t,e),t}(FY),k$.\u0275fac=function(e){return new(e||k$)(Ds(zq),Ds(jy))},k$.\u0275cmp=Et({type:k$,selectors:[["kendo-grid-numeric-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[Sa],decls:2,vars:14,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoGridFocusable","","kendoFilterInput","",3,"filterDelay","autoCorrect","value","format","decimals","spinners","min","max","step"]],template:function(e,t){1&e&&(Ls(0,"kendo-grid-filter-wrapper-cell",0),Ns(1,"kendo-numerictextbox",1),Vs()),2&e&&(Ms("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),wr(1),Ms("filterDelay",t.filterDelay)("autoCorrect",!0)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step))},directives:function(){return[jY,bD,EZ,zY]},encapsulation:2}),k$),zY=function(){var e=function(){function e(t,n,i,r){var o=this;_classCallCheck(this,e),this.change=new tu,this.composing=!1,this.filterDelay=500,this.changeRequests=new j,this.accessor=t[0],n.runOutsideAngular((function(){var e=r.listen(i.nativeElement,"compositionstart",(function(){return o.composing=!0})),t=r.listen(i.nativeElement,"compositionend",(function(){return o.composing=!1}));o.unsubscribeEvents=function(){e(),t()}}))}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.accessor.registerOnChange((function(t){return e.filterDelay>0?e.changeRequests.next(t):e.change.emit(t)})),this.subscribeChanges()}},{key:"ngOnChanges",value:function(e){Cm("filterDelay",e)&&(this.unsubscribeChanges(),this.subscribeChanges())}},{key:"ngOnDestroy",value:function(){this.unsubscribeChanges(),this.unsubscribeEvents()}},{key:"subscribeChanges",value:function(){var e=this;this.changeRequestsSubscription=this.changeRequests.pipe(Qg(this.filterDelay),Pg((function(){return!e.composing}))).subscribe((function(t){return e.change.emit(t)}))}},{key:"unsubscribeChanges",value:function(){this.changeRequestsSubscription&&this.changeRequestsSubscription.unsubscribe()}},{key:"value",set:function(e){this.accessor.writeValue(e)}},{key:"disabled",set:function(e){this.accessor.setDisabledState(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ds(yp,2),Ds(qu),Ds(qa),Ds(Ya))},e.\u0275dir=Mt({type:e,selectors:[["","kendoFilterInput",""]],inputs:{filterDelay:"filterDelay",value:"value"},features:[Ra()]}),e}(),LY=new Set(["isnull","isnotnull","isempty","isnotempty"]),VY=function(e){return LY.has(e)},NY=(_$=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).operators=[],n}return _inherits(t,e),_createClass(t,[{key:"ngAfterContentInit",value:function(){FU(this.input)&&(this.changeSubscription=this.input.change.subscribe(this.onChange.bind(this)),this.filterInputDisabled=VY(this.currentOperator))}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(t.prototype),"ngOnDestroy",this).call(this),this.changeSubscription&&this.changeSubscription.unsubscribe()}},{key:"onChange",value:function(e){VU(e)&&!this.filterByField(this.column.field)||this.filterChange(VU(e)?this.removeFilter(this.column.field):this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}},{key:"onClear",value:function(){this.onChange(null),this.filterInputDisabled=VY(this.defaultOperator)}},{key:"applyNoValueFilter",value:function(e){this.filterChange(this.updateFilter({field:this.column.field,operator:e,value:null}))}},{key:"ngOnChanges",value:function(e){Cm("filter",e,!1)&&(this._operator=null,this.filterInputDisabled=VY(this.currentOperator))}},{key:"currentFilter",get:function(){return this.filterByField(this.column.field)}},{key:"currentOperator",get:function(){var e=this.currentFilter;return this._operator||(this._operator=e?e.operator:this.defaultOperator),this._operator},set:function(e){this._operator=e;var t=VY(e);this.filterInputDisabled=t,t?this.applyNoValueFilter(e):!MU(e)&&FU(this.currentFilter)&&this.onChange(this.currentFilter.value)}},{key:"defaultOperator",get:function(){return VU(this._defaultOperator)?this.operators&&this.operators.length?this.operators[0].value:"eq":this._defaultOperator},set:function(e){this._defaultOperator=e}},{key:"filterInputDisabled",set:function(e){this.input&&(this.input.disabled=e)}}]),t}(PY),_$.\u0275fac=function(e){Fs()},_$.\u0275dir=Mt({type:_$,contentQueries:function(e,t,n){var i;1&e&&gu(n,zY,!0),2&e&&fu(i=ku())&&(t.input=i.first)},inputs:{operators:"operators",defaultOperator:"defaultOperator",column:"column",filter:"filter"},features:[Sa,Ra()]}),_$),BY=["isnull","isnotnull","isempty","isnotempty"],jY=(C$=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).showOperators=!0,n}return _inherits(t,e),_createClass(t,[{key:"filterChange",value:function(e){this.applyFilter(e)}},{key:"hostClasses",get:function(){return!0}},{key:"overrideBaseClasses",get:function(){return!1}},{key:"showButton",get:function(){var e=this.currentFilter;return FU(e)&&(!VU(e.value)||BY.indexOf(String(e.operator))>=0)}}]),t}(NY),C$.\u0275fac=function(e){return new(e||C$)(Ds(zq))},C$.\u0275cmp=Et({type:C$,selectors:[["kendo-grid-filter-wrapper-cell"]],hostVars:4,hostBindings:function(e,t){2&e&&sa("k-filtercell-wrapper",t.hostClasses)("k-filtercell",t.overrideBaseClasses)},inputs:{showOperators:"showOperators"},features:[Sa],ngContentSelectors:mj,decls:2,vars:4,consts:[[3,"showOperators","operators","showButton","value","clear","valueChange"]],template:function(e,t){1&e&&(Ys(),Xs(0),Ls(1,"kendo-grid-filter-cell-operators",0),Ws("clear",(function(){return t.onClear()}))("valueChange",(function(e){return t.currentOperator=e})),Vs()),2&e&&(wr(1),Ms("showOperators",t.showOperators)("operators",t.operators)("showButton",t.showButton)("value",t.currentOperator))},directives:function(){return[WY]},encapsulation:2}),C$),HY=RY({filterEqOperator:"eq",filterNotEqOperator:"neq",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"}),GY=(S$=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).localization=n,i.operator="contains",i}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),_get(_getPrototypeOf(t.prototype),"ngOnDestroy",this).call(this)}},{key:"localizationChange",value:function(){this.defaultOperators=HY(this.localization),this.operatorList.length&&(this.operators=xY(this.operatorList.toArray()))}},{key:"currentFilter",get:function(){return this.filterByField((this.column||{}).field)}},{key:"currentOperator",get:function(){return this.currentFilter?this.currentFilter.operator:this.operator}}]),t}(PY),S$.\u0275fac=function(e){Fs()},S$.\u0275dir=Mt({type:S$,inputs:{operator:"operator",column:"column",filter:"filter"},features:[Sa]}),S$),UY=(x$=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).filterDelay=500,i.showOperators=!0,i}return _inherits(t,e),t}(GY),x$.\u0275fac=function(e){return new(e||x$)(Ds(zq),Ds(jy))},x$.\u0275cmp=Et({type:x$,selectors:[["kendo-grid-string-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[Sa],decls:2,vars:7,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoGridFocusable","","kendoFilterInput","",1,"k-textbox",3,"filterDelay","ngModel"]],template:function(e,t){1&e&&(Ls(0,"kendo-grid-filter-wrapper-cell",0),Ns(1,"input",1),Vs()),2&e&&(Ms("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),wr(1),Ms("filterDelay",t.filterDelay)("ngModel",null==t.currentFilter?null:t.currentFilter.value))},directives:[jY,wp,EZ,zY,Pp,Zv],encapsulation:2}),x$),WY=(w$=function(){function e(t){_classCallCheck(this,e),this.localization=t,this.clearText="Clear",this.operators=[],this.showOperators=!0,this.valueChange=new tu,this.clear=new tu}return _createClass(e,[{key:"onChange",value:function(e){this.valueChange.emit(e)}},{key:"clearClick",value:function(){return this.clear.emit(),!1}},{key:"clearKeydown",value:function(e){e.keyCode!==Bm.Enter&&e.keyCode!==Bm.Space||this.clear.emit()}},{key:"dropdownKeydown",value:function(e){e.defaultPrevented||e.keyCode!==Bm.Enter||this.dropdown.isOpen||(this.dropdown.toggle(!0),e.preventDefault())}},{key:"ngOnInit",value:function(){var e=this;this.localization.changes.subscribe((function(){return e.clearText=e.localization.get("filterClearButton")}))}},{key:"hostClasses",get:function(){return!0}}]),e}(),w$.\u0275fac=function(e){return new(e||w$)(Ds(jy))},w$.\u0275cmp=Et({type:w$,selectors:[["kendo-grid-filter-cell-operators"]],viewQuery:function(e,t){var n;1&e&&pu(yj,!0),2&e&&fu(n=ku())&&(t.dropdown=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&sa("k-filtercell-operator",t.hostClasses)},inputs:{operators:"operators",showOperators:"showOperators",showButton:"showButton",value:"value"},outputs:{valueChange:"valueChange",clear:"clear"},decls:3,vars:5,consts:[["kendoGridFocusable","","class","k-dropdown-operator","iconClass","k-i-filter","textField","text","valueField","value",3,"data","value","valuePrimitive","popupSettings","valueChange","keydown",4,"ngIf"],["type","button","kendoGridFocusable","",1,"k-button","k-button-icon",3,"ngClass","title","click","keydown"],[1,"k-icon","k-i-filter-clear"],["kendoGridFocusable","","iconClass","k-i-filter","textField","text","valueField","value",1,"k-dropdown-operator",3,"data","value","valuePrimitive","popupSettings","valueChange","keydown"],["dropdown",""]],template:function(e,t){1&e&&(Rs(0,bj,2,5,"kendo-dropdownlist",0),Ls(1,"button",1),Ws("click",(function(){return t.clearClick()}))("keydown",(function(e){return t.clearKeydown(e)})),Ns(2,"span",2),Vs()),2&e&&(Ms("ngIf",t.showOperators),wr(1),Ms("ngClass",jl(3,_j,t.showButton))("title",t.clearText))},directives:[zc,EZ,Pc,GC],encapsulation:2}),w$),qY=RY({filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterEqOperator:"eq",filterNotEqOperator:"neq",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"}),ZY=(I$=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).localization=i,r.showOperators=!0,r.defaultOperators=qY(r.localization),r.column=n,r}return _inherits(t,e),_createClass(t,[{key:"valueField",set:function(e){this._valueField=e},get:function(){return this._valueField?this._valueField:this.column.field}},{key:"currentFilter",get:function(){return this.filterByField(this.column.field)}},{key:"currentOperator",get:function(){return this.currentFilter?this.currentFilter.operator:"contains"}}]),t}(PY),I$.\u0275fac=function(e){return new(e||I$)(Ds(zq),Ds(iW),Ds(jy))},I$.\u0275cmp=Et({type:I$,selectors:[["kendo-grid-autocomplete-filter-cell"]],inputs:{showOperators:"showOperators",column:"column",valueField:"valueField",filter:"filter",data:"data"},features:[Sa],decls:2,vars:7,consts:[[3,"column","filter","operators","showOperators"],["kendoFilterInput","",3,"data","valueField","value"]],template:function(e,t){1&e&&(Ls(0,"kendo-grid-filter-wrapper-cell",0),Ns(1,"kendo-autocomplete",1),Vs()),2&e&&(Ms("column",t.column)("filter",t.filter)("operators",t.operators)("showOperators",t.showOperators),wr(1),Ms("data",t.data)("valueField",t.valueField)("value",null==t.currentFilter?null:t.currentFilter.value))},directives:[jY,NC,zY],encapsulation:2}),I$),$Y=(O$=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).localization=n,i.operator="eq",i.items=[{text:i.localization.get("filterIsTrue"),value:!0},{text:i.localization.get("filterIsFalse"),value:!1}],i.defaultItem={text:i.localization.get("filterBooleanAll"),value:null},i}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),_get(_getPrototypeOf(t.prototype),"ngOnDestroy",this).call(this)}},{key:"localizationChange",value:function(){this.items=[{text:this.localization.get("filterIsTrue"),value:!0},{text:this.localization.get("filterIsFalse"),value:!1}],this.defaultItem={text:this.localization.get("filterBooleanAll"),value:null}}},{key:"hostClasses",get:function(){return!0}},{key:"currentFilter",get:function(){return this.filterByField(this.column.field)}},{key:"currentOperator",get:function(){return this.currentFilter?this.currentFilter.operator:this.operator}}]),t}(PY),O$.\u0275fac=function(e){Fs()},O$.\u0275dir=Mt({type:O$,hostVars:2,hostBindings:function(e,t){2&e&&sa("k-filtercell-boolean",t.hostClasses)},inputs:{column:"column",filter:"filter"},features:[Sa]}),O$),KY=(T$=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).cd=i,r}return _inherits(t,e),_createClass(t,[{key:"localizationChange",value:function(){_get(_getPrototypeOf(t.prototype),"localizationChange",this).call(this),this.cd.markForCheck()}}]),t}($Y),T$.\u0275fac=function(e){return new(e||T$)(Ds(zq),Ds(jy),Ds(Xo))},T$.\u0275cmp=Et({type:T$,selectors:[["kendo-grid-boolean-filter-cell"]],features:[Sa],decls:2,vars:10,consts:[[3,"column","filter","showOperators","defaultOperator"],["kendoFilterInput","","textField","text","valueField","value",3,"defaultItem","data","popupSettings","valuePrimitive","value"]],template:function(e,t){1&e&&(Ls(0,"kendo-grid-filter-wrapper-cell",0),Ns(1,"kendo-dropdownlist",1),Vs()),2&e&&(Ms("column",t.column)("filter",t.filter)("showOperators",!1)("defaultOperator",t.operator),wr(1),Ms("defaultItem",t.defaultItem)("data",t.items)("popupSettings",Bl(9,kj))("valuePrimitive",!0)("value",null==t.currentFilter?null:t.currentFilter.value))},directives:[jY,GC,zY],encapsulation:2}),T$),YY=RY({filterEqOperator:"eq",filterNotEqOperator:"neq",filterAfterOrEqualOperator:"gte",filterAfterOperator:"gt",filterBeforeOrEqualOperator:"lte",filterBeforeOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"}),XY=(z$=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).localization=n,i.operator="gte",i.activeView="month",i.bottomView="month",i.topView="century",i.weekNumber=!1,i.defaultOperators=YY(i.localization),i}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),_get(_getPrototypeOf(t.prototype),"ngOnDestroy",this).call(this)}},{key:"localizationChange",value:function(){this.defaultOperators=YY(this.localization),this.operatorList.length&&(this.operators=xY(this.operatorList.toArray()))}},{key:"currentFilter",get:function(){return this.filterByField(this.column.field)}},{key:"format",set:function(e){this._format=e},get:function(){return VU(this._format)?this.columnFormat:this._format}},{key:"columnFormat",get:function(){return this.column&&!VU(this.column.format)?GU(this.column.format):"d"}},{key:"currentOperator",get:function(){return this.currentFilter?this.currentFilter.operator:this.operator}}]),t}(PY),z$.\u0275fac=function(e){Fs()},z$.\u0275dir=Mt({type:z$,inputs:{operator:"operator",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",format:"format",column:"column",filter:"filter",min:"min",max:"max",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder"},features:[Sa]}),z$),QY=(M$=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).localization=n,i.showOperators=!0,i}return _inherits(t,e),t}(XY),M$.\u0275fac=function(e){return new(e||M$)(Ds(zq),Ds(jy))},M$.\u0275cmp=Et({type:M$,selectors:[["kendo-grid-date-filter-cell"]],inputs:{showOperators:"showOperators"},features:[Sa],decls:2,vars:15,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoFilterInput","",3,"value","format","formatPlaceholder","placeholder","activeView","bottomView","topView","min","max","weekNumber"]],template:function(e,t){1&e&&(Ls(0,"kendo-grid-filter-wrapper-cell",0),Ns(1,"kendo-datepicker",1),Vs()),2&e&&(Ms("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),wr(1),Ms("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("min",t.min)("max",t.max)("weekNumber",t.weekNumber))},directives:[jY,SV,zY],encapsulation:2}),M$),JY=(F$=function(){function e(){_classCallCheck(this,e),this.columns=[],this.groups=[]}return _createClass(e,[{key:"trackBy",value:function(e,t){return e}},{key:"columnsToRender",get:function(){return uW(this.columns)}}]),e}(),F$.\u0275fac=function(e){return new(e||F$)},F$.\u0275cmp=Et({type:F$,selectors:[["","kendoGridColGroup",""]],inputs:{columns:"columns",groups:"groups",detailTemplate:"detailTemplate"},attrs:Cj,decls:1,vars:1,consts:[[3,"ngIf"],[3,"k-group-col",4,"ngFor","ngForOf"],[3,"k-hierarchy-col",4,"ngIf"],[3,"width",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(e,t){1&e&&Rs(0,Tj,3,4,"ng-template",0),2&e&&Ms("ngIf",!0)},directives:[zc,Fc],encapsulation:2}),F$),eX=(D$=function(){function e(t){_classCallCheck(this,e),this.localization=t,this.hostClass=!0}return _createClass(e,[{key:"loadingText",get:function(){return this.localization.get("loading")}}]),e}(),D$.\u0275fac=function(e){return new(e||D$)(Ds(jy))},D$.\u0275cmp=Et({type:D$,selectors:[["","kendoGridLoading",""]],hostVars:2,hostBindings:function(e,t){2&e&&sa("k-loading-mask",t.hostClass)},attrs:Oj,decls:4,vars:1,consts:[[1,"k-loading-text"],[1,"k-loading-image"],[1,"k-loading-color"]],template:function(e,t){1&e&&(Ls(0,"span",0),ya(1),Vs(),Ns(2,"div",1),Ns(3,"div",2)),2&e&&(wr(1),ka(t.loadingText))},encapsulation:2}),D$),tX=(P$=function(){function e(t,n,i,r){_classCallCheck(this,e),this.el=t,this.renderer=n,this.resizeService=i,this.grid=r,this.enabled=!1}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}},{key:"attachResize",value:function(){this.resizeSubscription&&!this.enabled&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=null),!this.resizeSubscription&&this.enabled&&(this.resizeSubscription=this.resizeService.changes.subscribe(this.resize.bind(this)))}},{key:"resize",value:function(){if(this.grid&&this.grid.wrapper){var e=Math.max(this.grid.wrapper.nativeElement.clientWidth-this._lockedWidth,0);this.renderer.setStyle(this.el.nativeElement,"width",this.enabled&&e>0?e+"px":"")}}},{key:"lockedWidth",set:function(e){this._lockedWidth=e,this.enabled&&(this.attachResize(),this.resize())}},{key:"kendoGridResizableContainer",set:function(e){var t=e!==this.enabled;this.enabled=e,t&&(this.attachResize(),this.resize())}}]),e}(),P$.\u0275fac=function(e){return new(e||P$)(Ds(qa),Ds(Ya),Ds(Zq),Ds(n$,8))},P$.\u0275dir=Mt({type:P$,selectors:[["","kendoGridResizableContainer",""]],inputs:{lockedWidth:"lockedWidth",kendoGridResizableContainer:"kendoGridResizableContainer"}}),P$),nX=function(){var e=function(){function e(t){_classCallCheck(this,e),this.viewContainerRef=t}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.removeView()}},{key:"removeView",value:function(){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0)}},{key:"templateContext",set:function(e){this.removeView(),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ds(ml))},e.\u0275dir=Mt({type:e,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),e}(),iX=(R$=function(){function e(t){_classCallCheck(this,e),this.root=t,this.active=!0,this.children=[],this.root.registerGroup(this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.root.unregisterGroup(this)}},{key:"registerElement",value:function(e){this.unregisterElement(e),this.children.push(e)}},{key:"unregisterElement",value:function(e){this.children=this.children.filter((function(t){return t!==e}))}},{key:"isNavigable",value:function(){var e=this.focusableChildren;return 1===e.length&&e[0].isNavigable()}},{key:"canFocus",value:function(){return this.focusableChildren.length>0}},{key:"focus",value:function(){this.canFocus()&&!this.hasFocus()&&this.focusableChildren[0].focus()}},{key:"activate",value:function(){this.toggleState(!0)}},{key:"deactivate",value:function(){this.toggleState(!1)}},{key:"hasFocus",value:function(){return this.children.reduce((function(e,t){return e||t.hasFocus()}),!1)}},{key:"toggleState",value:function(e){this.active!==e&&(this.active=e,this.children.forEach((function(t){return t.toggle(e)})))}},{key:"focusableChildren",get:function(){return this.children.filter((function(e){return e.canFocus()}))}},{key:"isActive",get:function(){return this.active}}]),e}(),R$.\u0275fac=function(e){return new(e||R$)(ut(xZ))},R$.\u0275prov=xe({token:R$,factory:R$.\u0275fac}),R$),rX=0,oX=(A$=function(){function e(t,n,i,r,o,s,a,l){_classCallCheck(this,e),this.focusGroup=t,this.element=n,this.columnInfoService=i,this.idService=r,this.navigationService=o,this.renderer=s,this.zone=a,this.cellContext=l,this.logicalSlaveCell=!1,this.colSpan=1,this.rowSpan=1,this.dataRowIndex=-1,this.detailExpandCell=!1,this.uid=rX++}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.navigationService.enabled&&(this.navigationChange=this.navigationService.changes.subscribe((function(t){return e.onNavigationChange(t)})))}},{key:"ngDoCheck",value:function(){this.navigationService.enabled&&-1!==this.logicalColIndex&&(this.cellContext&&(this.cellContext.focusGroup=this.focusGroup),this.registerNoChanges())}},{key:"ngOnChanges",value:function(e){if(this.navigationService.enabled){var t=Object.keys(e);if((1!==t.length||"groupItem"!==t[0])&&-1!==this.logicalColIndex){var n=e.logicalColIndex,i=e.logicalRowIndex,r=n&&!n.isFirstChange()?n.previousValue:this.logicalColIndex,o=i&&!i.isFirstChange()?i.previousValue:this.logicalRowIndex;this.navigationService.unregisterCell(r,o,this),this.registerChanges(),this.updateElement()}}}},{key:"ngOnDestroy",value:function(){this.navigationChange&&this.navigationChange.unsubscribe(),this.navigationService.unregisterCell(this.logicalColIndex,this.logicalRowIndex,this)}},{key:"onNavigationChange",value:function(e){(this.logicalColIndex===e.colIndex&&this.logicalRowIndex===e.rowIndex||this.logicalColIndex===e.prevColIndex&&this.logicalRowIndex===e.prevRowIndex)&&this.updateElement()}},{key:"updateElement",value:function(){var e=this,t=this.element.nativeElement;this.renderer.setAttribute(t,"tabIndex",this.isFocusable()&&!this.logicalSlaveCell?"0":"-1"),this.isFocused()?this.focusGroup.isNavigable()?this.focusGroup.focus():(!this.logicalSlaveCell&&this.navigationService.autoFocusCell(this.logicalColIndex,this.logicalColIndex+this.colSpan-1)&&this.microtask((function(){return e.isFocused()&&t.focus()})),this.renderer.addClass(t,"k-state-focused")):this.renderer.removeClass(t,"k-state-focused")}},{key:"microtask",value:function(e){this.zone.runOutsideAngular((function(){return Promise.resolve(null).then(e)}))}},{key:"registerChanges",value:function(){this.logicalSlaveCell||this.navigationService.registerCell(this)}},{key:"registerNoChanges",value:function(){this.logicalSlaveCell||this.navigationService.registerCellOnCurrentRow(this)}},{key:"isFocusable",value:function(){return this.navigationService.isCellFocusable(this)}},{key:"isFocused",value:function(){return this.navigationService.isCellFocused(this)}},{key:"id",get:function(){if(!this.logicalSlaveCell&&this.columnInfoService.isLocked)return this.idService.cellId(this.logicalRowIndex,this.logicalColIndex)}},{key:"ariaColIndex",get:function(){if(!this.logicalSlaveCell&&-1!==this.logicalColIndex)return this.logicalColIndex+1}}]),e}(),A$.\u0275fac=function(e){return new(e||A$)(Ds(iX),Ds(qa),Ds(ZZ),Ds(qZ),Ds(GZ),Ds(Ya),Ds(qu),Ds(Mq,8))},A$.\u0275dir=Mt({type:A$,selectors:[["","kendoGridLogicalCell",""]],hostVars:2,hostBindings:function(e,t){2&e&&As("id",t.id)("aria-colindex",t.ariaColIndex)},inputs:{logicalSlaveCell:"logicalSlaveCell",colSpan:"colSpan",rowSpan:"rowSpan",dataRowIndex:"dataRowIndex",detailExpandCell:"detailExpandCell",logicalColIndex:"logicalColIndex",logicalRowIndex:"logicalRowIndex",colIndex:"colIndex",groupItem:"groupItem",dataItem:"dataItem"},features:[Ha([{provide:iX,deps:[xZ],useClass:iX}]),Ra()]}),A$),sX=0,aX=(E$=function(){function e(t,n){_classCallCheck(this,e),this.idService=t,this.navigation=n,this.logicalSlaveRow=!1,this.logicalSlaveCellsCount=0,this.dataRowIndex=-1,this.uid=sX++}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(this.navigation.enabled&&!this.logicalSlaveRow){var t=e.logicalRowIndex;if(t||e.logicalSlaveRow){var n=t&&!t.isFirstChange()?t.previousValue:this.logicalRowIndex;this.navigation.unregisterRow(n,this),this.navigation.registerRow(this)}else wm(["dataRowIndex","dataItem"],e)&&this.navigation.updateRow(this)}}},{key:"ngOnDestroy",value:function(){this.navigation.unregisterRow(this.logicalRowIndex,this)}},{key:"hostRole",get:function(){return this.logicalSlaveRow?"presentation":"row"}},{key:"ariaRowIndex",get:function(){if(this.navigation.enabled)return this.logicalRowIndex+1}},{key:"ariaOwns",get:function(){if(this.navigation.enabled&&!this.logicalSlaveRow&&0!==this.logicalSlaveCellsCount){for(var e=[],t=this.logicalCellsCount+this.logicalSlaveCellsCount,n=this.logicalCellsCount;n<t;n++)e.push(this.idService.cellId(this.logicalRowIndex,n));return e.join(" ")}}}]),e}(),E$.\u0275fac=function(e){return new(e||E$)(Ds(qZ),Ds(GZ))},E$.\u0275dir=Mt({type:E$,selectors:[["","kendoGridLogicalRow",""]],hostVars:3,hostBindings:function(e,t){2&e&&As("role",t.hostRole)("aria-rowindex",t.ariaRowIndex)("aria-owns",t.ariaOwns)},inputs:{logicalSlaveRow:"logicalSlaveRow",logicalSlaveCellsCount:"logicalSlaveCellsCount",dataRowIndex:"dataRowIndex",logicalRowIndex:"logicalRowIndex",logicalCellsCount:"logicalCellsCount",dataItem:"dataItem"},features:[Ra()]}),E$),lX=/\{\d+:?/,uX=(L$=function(){function e(t){_classCallCheck(this,e),this.intlService=t}return _createClass(e,[{key:"transform",value:function(e,t,n){if(!VU(t)){var i=function(e){if(BF[e])return BF[e];var t=function(e){var t=[];return e.replace(NF,(function(e,n,i,r){t.push(void 0!==n?n:i||r)})),t}(e);return BF[e]=function(e){for(var n=e,i=0;i<t.length&&n;i++)n=n[t[i]];return n},BF[e]}(t)(e);return VU(n)?i:this.formatValue(n,i)}return e}},{key:"formatValue",value:function(e,t){var n=this.intlService;return jU(e)&&e.match(lX)?n.format(e,t):n.toString(t,e)}}]),e}(),L$.\u0275fac=function(e){return new(e||L$)(Ds(NP))},L$.\u0275pipe=zt({name:"valueOf",type:L$,pure:!1}),L$),cX=function(e){var t=e.columns;return Math.max(1,function(e){return e.filter((function(e){return LU(e.resizable)&&e.isVisible}))}(t).length)},hX=function(e){return function(t){return t.querySelector(e)}},fX=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"td";return function(n){return n.querySelectorAll("".concat(t,":not(.k-group-cell):not(.k-hierarchy-cell)"))[e]}},dX=function(e){return e.offsetWidth},pX=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return e?t(e):0}),e)}},vX=((V$=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.element=t,this.renderer=n,this.service=i,this.zone=r,this.cdr=o,this.locked=!1,this.firstResize=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.service.changes.pipe(Pg((function(t){return e.locked===t.locked})));this.subscription=t.pipe(Pg((function(e){return"start"===e.type})),Mg(this.initState.bind(this)),Q(cX),_g((function(e){return t.pipe(Pg((function(e){return"resizeTable"===e.type})),Q((function(e){return e.delta})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){return n.lift(new nm(e,t))}}(e))}))).subscribe(this.resize.bind(this)),this.autoFitSubscription=this.service.registerTable({autoFit:this.autoFitObservable.bind(this),locked:this.locked})}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),this.autoFitSubscription&&(this.autoFitSubscription(),this.autoFitSubscription=null)}},{key:"initState",value:function(){this.firstResize=!0,this.virtualColumns&&!this.locked||(this.originalWidth=dX(this.element.nativeElement))}},{key:"resize",value:function(e){if(!this.virtualColumns||this.locked){var t=e.reduce((function(e,t){return e+t}),0);this.renderer.setStyle(this.element.nativeElement,"width",this.originalWidth+t+"px")}this.cdr.detectChanges()}},{key:"autoFitObservable",value:function(e){var t=this;return M.create((function(n){t.zone.runOutsideAngular((function(){t.renderer.addClass(t.element.nativeElement,"k-autofitting"),t.cdr.detectChanges();var i=e.map(t.measureColumn.bind(t));t.renderer.removeClass(t.element.nativeElement,"k-autofitting"),n.next(i)}))}))}},{key:"measureColumn",value:function(e){var t,n=this.element.nativeElement,i=pX((t=e.level,function(e){return e.querySelectorAll("thead>tr")[t]}),fX(e.headerIndex,"th"),dX)(n),r=0;(!e.isParentSpan||e.isParentSpan&&e.isLastInSpan)&&(r=pX(hX("tbody>tr:not(.k-grouping-row):not(.k-grid-norecords)"),fX(e.index),dX)(n));var o=pX(hX("tfoot>tr"),fX(e.index),dX)(n);return Math.max(i,r,o)}},{key:"minWidth",get:function(){return this.firstResize?0:null}}]),e}()).\u0275fac=function(e){return new(e||V$)(Ds(qa),Ds(Ya),Ds(lZ),Ds(qu),Ds(Xo))},V$.\u0275dir=Mt({type:V$,selectors:[["table"]],hostVars:2,hostBindings:function(e,t){2&e&&oa("min-width",t.minWidth)},inputs:{locked:"locked",virtualColumns:"virtualColumns"}}),V$),gX=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[iW,sW,QW,IU,JW,EZ]}}]),e}();return e.\u0275mod=Dt({type:e}),e.\u0275inj=Te({factory:function(t){return new(t||e)},imports:[[ih],Om,Em]}),e}(),mX=[WY,(nK=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"contains",e))}return _inherits(t,e),t}(SY),nK.\u0275fac=function(e){return new(e||nK)(Ds(jy))},nK.\u0275cmp=Et({type:nK,selectors:[["kendo-filter-contains-operator"]],features:[Ha([{provide:SY,useExisting:Ve((function(){return nK}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),nK),(tK=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"doesnotcontain",e))}return _inherits(t,e),t}(SY),tK.\u0275fac=function(e){return new(e||tK)(Ds(jy))},tK.\u0275cmp=Et({type:tK,selectors:[["kendo-filter-not-contains-operator"]],features:[Ha([{provide:SY,useExisting:Ve((function(){return tK}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),tK),(eK=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"endswith",e))}return _inherits(t,e),t}(SY),eK.\u0275fac=function(e){return new(e||eK)(Ds(jy))},eK.\u0275cmp=Et({type:eK,selectors:[["kendo-filter-endswith-operator"]],features:[Ha([{provide:SY,useExisting:Ve((function(){return eK}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),eK),(J$=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"eq",e))}return _inherits(t,e),t}(SY),J$.\u0275fac=function(e){return new(e||J$)(Ds(jy))},J$.\u0275cmp=Et({type:J$,selectors:[["kendo-filter-eq-operator"]],features:[Ha([{provide:SY,useExisting:Ve((function(){return J$}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),J$),(Q$=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"isempty",e))}return _inherits(t,e),t}(SY),Q$.\u0275fac=function(e){return new(e||Q$)(Ds(jy))},Q$.\u0275cmp=Et({type:Q$,selectors:[["kendo-filter-isempty-operator"]],features:[Ha([{provide:SY,useExisting:Ve((function(){return Q$}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),Q$),(X$=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"isnotempty",e))}return _inherits(t,e),t}(SY),X$.\u0275fac=function(e){return new(e||X$)(Ds(jy))},X$.\u0275cmp=Et({type:X$,selectors:[["kendo-filter-isnotempty-operator"]],features:[Ha([{provide:SY,useExisting:Ve((function(){return X$}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),X$),(Y$=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"isnotnull",e))}return _inherits(t,e),t}(SY),Y$.\u0275fac=function(e){return new(e||Y$)(Ds(jy))},Y$.\u0275cmp=Et({type:Y$,selectors:[["kendo-filter-isnotnull-operator"]],features:[Ha([{provide:SY,useExisting:Ve((function(){return Y$}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),Y$),(K$=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"isnull",e))}return _inherits(t,e),t}(SY),K$.\u0275fac=function(e){return new(e||K$)(Ds(jy))},K$.\u0275cmp=Et({type:K$,selectors:[["kendo-filter-isnull-operator"]],features:[Ha([{provide:SY,useExisting:Ve((function(){return K$}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),K$),($$=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"neq",e))}return _inherits(t,e),t}(SY),$$.\u0275fac=function(e){return new(e||$$)(Ds(jy))},$$.\u0275cmp=Et({type:$$,selectors:[["kendo-filter-neq-operator"]],features:[Ha([{provide:SY,useExisting:Ve((function(){return $$}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),$$),(Z$=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"startswith",e))}return _inherits(t,e),t}(SY),Z$.\u0275fac=function(e){return new(e||Z$)(Ds(jy))},Z$.\u0275cmp=Et({type:Z$,selectors:[["kendo-filter-startswith-operator"]],features:[Ha([{provide:SY,useExisting:Ve((function(){return Z$}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),Z$),(q$=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"gt",e))}return _inherits(t,e),t}(SY),q$.\u0275fac=function(e){return new(e||q$)(Ds(jy))},q$.\u0275cmp=Et({type:q$,selectors:[["kendo-filter-gt-operator"]],features:[Ha([{provide:SY,useExisting:Ve((function(){return q$}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),q$),(W$=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"gte",e))}return _inherits(t,e),t}(SY),W$.\u0275fac=function(e){return new(e||W$)(Ds(jy))},W$.\u0275cmp=Et({type:W$,selectors:[["kendo-filter-gte-operator"]],features:[Ha([{provide:SY,useExisting:Ve((function(){return W$}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),W$),(U$=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"lt",e))}return _inherits(t,e),t}(SY),U$.\u0275fac=function(e){return new(e||U$)(Ds(jy))},U$.\u0275cmp=Et({type:U$,selectors:[["kendo-filter-lt-operator"]],features:[Ha([{provide:SY,useExisting:Ve((function(){return U$}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),U$),(G$=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"lte",e))}return _inherits(t,e),t}(SY),G$.\u0275fac=function(e){return new(e||G$)(Ds(jy))},G$.\u0275cmp=Et({type:G$,selectors:[["kendo-filter-lte-operator"]],features:[Ha([{provide:SY,useExisting:Ve((function(){return G$}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),G$),(H$=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"after",e))}return _inherits(t,e),_createClass(t,[{key:"toJSON",value:function(){return{text:this.text,value:"gt"}}}]),t}(SY),H$.\u0275fac=function(e){return new(e||H$)(Ds(jy))},H$.\u0275cmp=Et({type:H$,selectors:[["kendo-filter-after-operator"]],features:[Ha([{provide:SY,useExisting:Ve((function(){return H$}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),H$),(j$=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"after-eq",e))}return _inherits(t,e),_createClass(t,[{key:"toJSON",value:function(){return{text:this.text,value:"gte"}}}]),t}(SY),j$.\u0275fac=function(e){return new(e||j$)(Ds(jy))},j$.\u0275cmp=Et({type:j$,selectors:[["kendo-filter-after-eq-operator"]],features:[Ha([{provide:SY,useExisting:Ve((function(){return j$}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),j$),(B$=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"before-eq",e))}return _inherits(t,e),_createClass(t,[{key:"toJSON",value:function(){return{text:this.text,value:"lte"}}}]),t}(SY),B$.\u0275fac=function(e){return new(e||B$)(Ds(jy))},B$.\u0275cmp=Et({type:B$,selectors:[["kendo-filter-before-eq-operator"]],features:[Ha([{provide:SY,useExisting:Ve((function(){return B$}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),B$),(N$=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"before",e))}return _inherits(t,e),_createClass(t,[{key:"toJSON",value:function(){return{text:this.text,value:"lt"}}}]),t}(SY),N$.\u0275fac=function(e){return new(e||N$)(Ds(jy))},N$.\u0275cmp=Et({type:N$,selectors:[["kendo-filter-before-operator"]],features:[Ha([{provide:SY,useExisting:Ve((function(){return N$}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),N$)],yX=[ih,tg,eg,_w,ow,PD,ZV,Lk,gX],kX=((sK=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[].concat(mX)}}]),e}()).\u0275mod=Dt({type:sK}),sK.\u0275inj=Te({factory:function(e){return new(e||sK)},imports:[[].concat(yX),ih,tg,eg,_w,ow,PD,ZV,Lk,gX]}),sK),bX=((oK=function(){function e(t,n){_classCallCheck(this,e),this.host=t,this.resolver=n}return _createClass(e,[{key:"ngOnInit",value:function(){this.component=this.host.createComponent(this.resolver.resolveComponentFactory(this.componentType())),this.initComponent({column:this.column,filter:this.filter})}},{key:"ngOnDestroy",value:function(){this.component&&(this.component.destroy(),this.component=null)}},{key:"ngOnChanges",value:function(e){wm(["column","filter"],e)&&this.initComponent({column:this.column,filter:this.filter})}},{key:"initComponent",value:function(e){var t=e.column,n=e.filter,i=this.component.instance;i.column=t,i.filter=n}}]),e}()).\u0275fac=function(e){Fs()},oK.\u0275dir=Mt({type:oK,inputs:{column:"column",filter:"filter"},features:[Ra()]}),oK),_X=((rK=function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))}return _inherits(t,e),_createClass(t,[{key:"componentType",value:function(){return VU(this.column.filter)?UY:{boolean:KY,date:QY,numeric:MY,text:UY}[this.column.filter]}}]),t}(bX)).\u0275fac=function(e){return new(e||rK)(Ds(ml),Ds(Wa))},rK.\u0275dir=Mt({type:rK,selectors:[["","kendoFilterCellHost",""]],features:[Sa]}),rK),CX=((iK=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[bY,CY,eW,WY,UY,MY,ZY,KY,QY,kX.exports()]}}]),e}()).\u0275mod=Dt({type:iK}),iK.\u0275inj=Te({factory:function(e){return new(e||iK)},imports:[[kX],kX]}),iK),wX=function(e){return n=(t=!0===e?{}:e).buttonCount,i=void 0===n?10:n,r=t.info,o=void 0===r||r,s=t.type,a=void 0===s?"numeric":s,l=t.pageSizes,u=void 0!==l&&l,c=t.previousNext,{buttonCount:i,info:o,pageSizes:!0===u?[5,10,20]:u,previousNext:void 0===c||c,type:a};var t,n,i,r,o,s,a,l,u,c},xX=((pK=function(){function e(t){_classCallCheck(this,e),this.pagerContext=t,this.total=0,this.skip=1,this.pageChange=new tu,this.settings=wX({}),this._templateContext={}}return _createClass(e,[{key:"ngOnInit",value:function(){this.pageChangeSubscription=this.pagerContext.pageChange.subscribe(this.changePage.bind(this))}},{key:"ngOnChanges",value:function(e){wm(["pageSize","skip","total"],e,!1)&&this.pagerContext.notifyChanges({pageSize:this.pageSize,skip:this.skip,total:this.total})}},{key:"ngOnDestroy",value:function(){this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe()}},{key:"changePage",value:function(e){this.pageChange.emit(e)}},{key:"options",set:function(e){this.settings=wX(e)}},{key:"pagerWrapClass",get:function(){return!0}},{key:"gridPagerClass",get:function(){return!0}},{key:"widgetClass",get:function(){return!0}},{key:"totalPages",get:function(){return Math.ceil((this.total||0)/this.pageSize)}},{key:"currentPage",get:function(){return Math.floor((this.skip||0)/this.pageSize)+1}},{key:"templateContext",get:function(){var e=this._templateContext;return e.totalPages=this.totalPages,e.total=this.total,e.skip=this.skip,e.pageSize=this.pageSize,e.currentPage=this.currentPage,e}}]),e}()).\u0275fac=function(e){return new(e||pK)(Ds(Vq))},pK.\u0275cmp=Et({type:pK,selectors:[["kendo-pager"]],hostVars:6,hostBindings:function(e,t){2&e&&sa("k-pager-wrap",t.pagerWrapClass)("k-grid-pager",t.gridPagerClass)("k-widget",t.widgetClass)},inputs:{total:"total",skip:"skip",options:"options",pageSize:"pageSize",template:"template"},outputs:{pageChange:"pageChange"},features:[Ra()],decls:2,vars:2,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"buttonCount",4,"ngIf"],[3,"pageSizes",4,"ngIf"],[3,"buttonCount"],[3,"pageSizes"]],template:function(e,t){1&e&&(Rs(0,Ij,1,2,"ng-container",0),Rs(1,Mj,7,6,"ng-container",1)),2&e&&(Ms("ngIf",null==t.template?null:t.template.templateRef),wr(1),Ms("ngIf",!(null!=t.template&&t.template.templateRef)))},directives:function(){return[zc,th,TX,IX,EX,OX,AX,RX]},encapsulation:2}),pK),SX=((dK=function(){function e(t,n,i){_classCallCheck(this,e),this.localization=t,this.pagerContext=n,this.cd=i,this.total=this.pagerContext.total,this.skip=this.pagerContext.skip,this.pageSize=this.pagerContext.pageSize}return _createClass(e,[{key:"textFor",value:function(e){return this.localization.get(e)}},{key:"changePage",value:function(e){return this.pagerContext.changePage(e),!1}},{key:"ngOnInit",value:function(){var e=this;this.subscriptions=this.pagerContext.changes.subscribe(this.onChanges.bind(this)),this.subscriptions.add(this.localization.changes.subscribe((function(){return e.cd.markForCheck()})))}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"currentPage",get:function(){return Math.floor((this.skip||0)/this.pageSize)+1}},{key:"totalPages",get:function(){return Math.ceil((this.total||0)/this.pageSize)}}]),e}()).\u0275fac=function(e){Fs()},dK.\u0275dir=Mt({type:dK}),dK),TX=((fK=function(e){function t(e,n,i){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,i))}return _inherits(t,e),_createClass(t,[{key:"onChanges",value:function(e){var t=e.total,n=e.skip,i=e.pageSize;this.total=t,this.skip=n,this.pageSize=i,this.cd.markForCheck()}},{key:"disabled",get:function(){return 1===this.currentPage||!this.total}}]),t}(SX)).\u0275fac=function(e){return new(e||fK)(Ds(jy),Ds(Vq),Ds(Xo))},fK.\u0275cmp=Et({type:fK,selectors:[["kendo-pager-prev-buttons"]],features:[Sa],decls:4,vars:14,consts:[["href","#","tabindex","-1",3,"title","ngClass","click"],[3,"ngClass"]],template:function(e,t){1&e&&(Ls(0,"a",0),Ws("click",(function(){return 1!==t.currentPage&&t.changePage(0)})),Ns(1,"span",1),Vs(),Ls(2,"a",0),Ws("click",(function(){return 1!==t.currentPage&&t.changePage(t.currentPage-2)})),Ns(3,"span",1),Vs()),2&e&&(Ms("title",t.textFor("pagerFirstPage"))("ngClass",jl(8,zj,t.disabled)),wr(1),Ms("ngClass",Bl(10,Lj)),As("aria-label",t.textFor("pagerFirstPage")),wr(1),Ms("title",t.textFor("pagerPreviousPage"))("ngClass",jl(11,Vj,t.disabled)),wr(1),Ms("ngClass",Bl(13,Nj)),As("aria-label",t.textFor("pagerPreviousPage")))},directives:[Pc],encapsulation:2,changeDetection:0}),fK),OX=((hK=function(e){function t(e,n,i){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,i))}return _inherits(t,e),_createClass(t,[{key:"onChanges",value:function(e){var t=e.total,n=e.skip,i=e.pageSize;this.total=t,this.skip=n,this.pageSize=i,this.cd.markForCheck()}},{key:"disabled",get:function(){return this.currentPage===this.totalPages||!this.total}}]),t}(SX)).\u0275fac=function(e){return new(e||hK)(Ds(jy),Ds(Vq),Ds(Xo))},hK.\u0275cmp=Et({type:hK,selectors:[["kendo-pager-next-buttons"]],features:[Sa],decls:4,vars:14,consts:[["href","#","tabindex","-1",3,"title","ngClass","click"],[3,"ngClass"]],template:function(e,t){1&e&&(Ls(0,"a",0),Ws("click",(function(){return t.currentPage!==t.totalPages&&t.changePage(t.currentPage)})),Ns(1,"span",1),Vs(),Ls(2,"a",0),Ws("click",(function(){return t.currentPage!==t.totalPages&&t.changePage(t.totalPages-1)})),Ns(3,"span",1),Vs()),2&e&&(Ms("title",t.textFor("pagerNextPage"))("ngClass",jl(8,Vj,t.disabled)),wr(1),Ms("ngClass",Bl(10,Bj)),As("aria-label",t.textFor("pagerNextPage")),wr(1),Ms("title",t.textFor("pagerLastPage"))("ngClass",jl(11,jj,t.disabled)),wr(1),Ms("ngClass",Bl(13,Hj)),As("aria-label",t.textFor("pagerLastPage")))},directives:[Pc],encapsulation:2,changeDetection:0}),hK),IX=((cK=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,i,n))).pagerContext=i,r}return _inherits(t,e),_createClass(t,[{key:"pageLabel",value:function(e){var t=this.textFor("pagerPage");return t?t+" "+e:e.toString()}},{key:"onChanges",value:function(e){var t=e.total,n=e.skip,i=e.pageSize;this.total=t,this.skip=n,this.pageSize=i,this.cd.markForCheck()}},{key:"buttons",get:function(){for(var e=[],t=this.start;t<=this.end;t++)e.push(t);return e}},{key:"end",get:function(){return Math.min(this.start+this.buttonCount-1,this.totalPages)}},{key:"start",get:function(){var e=this.currentPage,t=this.buttonCount;if(e>t){var n=e%t;return 0===n?e-t+1:e-n+1}return 1}}]),t}(SX)).\u0275fac=function(e){return new(e||cK)(Ds(jy),Ds(Xo),Ds(Vq))},cK.\u0275cmp=Et({type:cK,selectors:[["kendo-pager-numeric-buttons"]],inputs:{buttonCount:"buttonCount"},features:[Sa],decls:4,vars:5,consts:[[3,"ngClass"],[4,"ngIf"],[4,"ngFor","ngForOf"],["href","#","tabindex","-1",1,"k-link",3,"click"],["href","#","tabindex","-1",3,"ngClass","click"]],template:function(e,t){1&e&&(Ls(0,"ul",0),Rs(1,Gj,3,1,"li",1),Rs(2,Wj,3,5,"li",2),Rs(3,qj,3,1,"li",1),Vs()),2&e&&(Ms("ngClass",Bl(4,Zj)),wr(1),Ms("ngIf",t.start>1),wr(1),Ms("ngForOf",t.buttons),wr(1),Ms("ngIf",t.end<t.totalPages))},directives:[Pc,zc,Fc],encapsulation:2,changeDetection:0}),cK),EX=((uK=function(e){function t(e,n,i,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,r))).pagerContext=n,o.zone=i,o.handleKeyDown=function(e){var t=o.numericInput.value||o.current;e.keyCode===Bm.Enter&&(e.preventDefault(),t!==o.current&&o.zone.run((function(){o.changePage(t-1)})))},o.handleBlur=function(){var e=o.numericInput.value;e?e!==o.current&&o.zone.run((function(){o.changePage(e-1)})):o.numericInput.writeValue(o.current)},o}return _inherits(t,e),_createClass(t,[{key:"onChanges",value:function(e){var t=e.total,n=e.skip,i=e.pageSize;this.total=t,this.skip=n,this.pageSize=i,this.cd.markForCheck()}},{key:"current",get:function(){return this.hasPages?this.currentPage:0}},{key:"hasPages",get:function(){return 0!==this.totalPages}}]),t}(SX)).\u0275fac=function(e){return new(e||uK)(Ds(jy),Ds(Vq),Ds(qu),Ds(Xo))},uK.\u0275cmp=Et({type:uK,selectors:[["kendo-pager-input"]],viewQuery:function(e,t){var n;1&e&&pu(bD,!0),2&e&&fu(n=ku())&&(t.numericInput=n.first)},features:[Sa],decls:4,vars:16,consts:[[3,"ngClass"],["format","n0",3,"spinners","decimals","disabled","value","min","max","autoCorrect","kendoEventsOutsideAngular"]],template:function(e,t){1&e&&(Ls(0,"span",0),ya(1),Ns(2,"kendo-numerictextbox",1),ya(3),Vs()),2&e&&(Ms("ngClass",Bl(12,$j)),wr(1),ba(" ",t.textFor("pagerPage")," "),wr(1),Ms("spinners",!1)("decimals",0)("disabled",!t.hasPages)("value",t.current)("min",t.hasPages?1:0)("max",t.totalPages)("autoCorrect",!0)("kendoEventsOutsideAngular",Hl(13,Kj,t.handleKeyDown,t.handleBlur)),wr(1),_a(" ",t.textFor("pagerOf")," ",t.totalPages," "))},directives:[Pc,bD,Im],encapsulation:2}),uK),AX=((lK=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,i,n))).pagerContext=i,r}return _inherits(t,e),_createClass(t,[{key:"onChanges",value:function(e){var t=e.total,n=e.skip,i=e.pageSize;this.total=t,this.skip=n,this.pageSize=i,this.cd.markForCheck()}},{key:"maxItems",get:function(){return Math.min(this.currentPage*this.pageSize,this.total)}},{key:"currentPageText",get:function(){return this.total?(this.currentPage-1)*this.pageSize+1:0}},{key:"classes",get:function(){return!0}}]),t}(SX)).\u0275fac=function(e){return new(e||lK)(Ds(jy),Ds(Xo),Ds(Vq))},lK.\u0275cmp=Et({type:lK,selectors:[["kendo-pager-info"]],hostVars:4,hostBindings:function(e,t){2&e&&sa("k-pager-info",t.classes)("k-label",t.classes)},features:[Sa],decls:1,vars:5,template:function(e,t){1&e&&ya(0),2&e&&wa("",t.currentPageText," - ",t.maxItems," ",t.textFor("pagerOf")," ",t.total," ",t.textFor("pagerItems"),"")},encapsulation:2,changeDetection:0}),lK),RX=((aK=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,i,n))).pagerContext=i,r._pageSizes=[],r}return _inherits(t,e),_createClass(t,[{key:"pageSizeChange",value:function(e){this.pageSize=parseInt(e,10),this.pagerContext.changePageSize(this.pageSize)}},{key:"getValue",value:function(e){return"number"==typeof e.value?e.value:this.total}},{key:"getSelectedState",value:function(e){return"number"==typeof e.value?e.value===this.pageSize||void 0:this.pageSize===this.total}},{key:"onChanges",value:function(e){var t=e.total,n=e.skip,i=e.pageSize;this.total=t,this.skip=n,this.pageSize="number"==typeof i?i:this.total,this.cd.markForCheck()}},{key:"pageSizes",get:function(){return this._pageSizes},set:function(e){var t=[];e.forEach((function(e){t.push("number"==typeof e?{text:e.toString(),value:e}:e)})),this._pageSizes=t}},{key:"classes",get:function(){return!0}},{key:"showInitialPageSize",get:function(){var e=this;return 0===this.pageSizes.filter((function(t){return"number"==typeof t.value?t.value===Number(e.pageSize):e.total===Number(e.pageSize)})).length}}]),t}(SX)).\u0275fac=function(e){return new(e||aK)(Ds(jy),Ds(Xo),Ds(Vq))},aK.\u0275cmp=Et({type:aK,selectors:[["kendo-pager-page-sizes"]],hostVars:4,hostBindings:function(e,t){2&e&&sa("k-pager-sizes",t.classes)("k-label",t.classes)},inputs:{pageSizes:"pageSizes"},features:[Sa],decls:5,vars:4,consts:[[3,"change"],["select",""],[3,"value",4,"ngIf"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value"],[3,"value","selected"]],template:function(e,t){if(1&e){var n=Gs();Ls(0,"select",0,1),Ws("change",(function(){Xt(n);var e=Ps(1);return t.pageSizeChange(e.value)})),Rs(2,Yj,2,2,"option",2),Rs(3,Xj,2,3,"option",3),Vs(),ya(4)}2&e&&(As("aria-label",t.textFor("pagerItemsPerPage")),wr(2),Ms("ngIf",t.showInitialPageSize),wr(1),Ms("ngForOf",t.pageSizes),wr(1),ba(" ",t.textFor("pagerItemsPerPage")," "))},directives:[zc,Fc],encapsulation:2,changeDetection:0}),aK),PX=[ih,PD,gX],DX=((mK=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[xX,TX,OX,IX,EX,AX,RX,Lq]}}]),e}()).\u0275mod=Dt({type:mK}),mK.\u0275inj=Te({factory:function(e){return new(e||mK)},imports:[[].concat(PX)]}),mK),FX=((gK=function(){function e(t,n){_classCallCheck(this,e),this.groupsService=t,this.groupInfoService=n,this.skipGroupDecoration=!1,this.hasDetails=!1,this.totalColumnsCount=0,this.groups=[],this.isExpanded=!1}return _createClass(e,[{key:"ngDoCheck",value:function(){this.isExpanded=this.groupsService.isExpanded(this.item.index)}},{key:"prefixGroupCell",value:function(e){return new Array(e.level)}},{key:"toggleGroup",value:function(e){return this.groupsService.toggleRow(e.index,e.data),!1}},{key:"groupSpan",value:function(e){var t=(this.groups||[]).length,n=this.hasDetails?1:0;if(this.hasGroupHeaderColumn)return t+1+n-e.level;var i=fW(this.columns);return this.skipGroupDecoration?i:t+i+n-e.level}},{key:"logicalColSpan",value:function(){return this.skipGroupDecoration?1:this.totalColumnsCount}},{key:"ariaRole",value:function(){return this.skipGroupDecoration?"presentation":"gridcell"}},{key:"formatForGroup",value:function(e){return this.groupInfoService.formatForGroup(e)}},{key:"groupTitle",value:function(e){return this.groupInfoService.groupTitle(e)}},{key:"groupHeaderTemplate",value:function(e){return this.groupInfoService.groupHeaderTemplate(e)}},{key:"groupItemClass",get:function(){return!0}}]),e}()).\u0275fac=function(e){return new(e||gK)(Ds(Sq),Ds(Aq))},gK.\u0275cmp=Et({type:gK,selectors:[["","kendoGridGroupHeader",""]],hostVars:2,hostBindings:function(e,t){2&e&&sa("k-grouping-row",t.groupItemClass)},inputs:{skipGroupDecoration:"skipGroupDecoration",hasDetails:"hasDetails",totalColumnsCount:"totalColumnsCount",groups:"groups",rowIndex:"rowIndex",logicalRowIndex:"logicalRowIndex",item:"item",hasGroupHeaderColumn:"hasGroupHeaderColumn",groupHeaderColumns:"groupHeaderColumns",columns:"columns"},attrs:Qj,decls:3,vars:3,consts:[[3,"ngIf"],["aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan",4,"ngIf"],[4,"ngIf"],["class","k-group-cell","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell"],["aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan"],[1,"k-reset"],["href","#","tabindex","-1","role","presentation",1,"k-icon",3,"ngClass","click"],[3,"templateContext"],["role","gridcell","aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan",4,"ngFor","ngForOf"],["role","gridcell","aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Rs(0,eH,1,1,"ng-template",0),Rs(1,sH,3,9,"td",1),Rs(2,cH,2,1,"ng-container",2)),2&e&&(Ms("ngIf",!t.skipGroupDecoration),wr(1),Ms("ngIf",!(t.skipGroupDecoration&&t.hasGroupHeaderColumn)),wr(1),Ms("ngIf",t.hasGroupHeaderColumn))},directives:[zc,Fc,oX,Pc,nX,th],pipes:[uX],encapsulation:2}),gK),MX=((vK=function(){function e(t,n){_classCallCheck(this,e),this.element=t,this.service=n,this.context={},this.enter=new tu,this.leave=new tu,this.drop=new tu,this.subscriptions=new O}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.service.add(this);var t=this.service.changes.pipe(Pg((function(t){return t.target===e})));this.subscriptions.add(t.pipe(Pg((function(e){return"leave"===e.type}))).subscribe((function(t){e.leave.next(e.eventArgs(t))}))),this.subscriptions.add(t.pipe(Pg((function(e){return"enter"===e.type}))).subscribe((function(t){e.enter.next(e.eventArgs(t))}))),this.subscriptions.add(t.pipe(Pg((function(e){return"drop"===e.type}))).subscribe((function(t){e.drop.next(e.eventArgs(t))})))}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"eventArgs",value:function(e){return{target:this,mouseEvent:e.mouseEvent,draggable:e.draggable}}}]),e}()).\u0275fac=function(e){return new(e||vK)(Ds(qa),Ds(mZ))},vK.\u0275dir=Mt({type:vK,selectors:[["","kendoDropTarget",""]],inputs:{context:"context"},outputs:{enter:"enter",leave:"leave",drop:"drop"}}),vK),zX=function(e){var t=e.field;return VU(t)},LX=function(e){var t=e.groups,n=e.field;return t.some((function(e){return e.field===n}))},VX=WU((function(e){var t=e.target,n=e.field;return t.field===n}),qU((function(e){return e.target.lastTarget}),(function(e){var t=e.groups,n=e.field;return t.map((function(e){return e.field})).indexOf(n)===t.length-1}))),NX=((kK=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.hint=t,this.cue=n,this.groupInfoService=i,this.localization=r,this.cd=o,this.change=new tu,this.groups=[],this.dropTargets=new iu,this.groupTitles=[],this.subscription=new O}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.subscription.add(NU(this.dropTargets).subscribe(this.attachTargets.bind(this)))}},{key:"ngOnInit",value:function(){var e=this;this.subscription.add(this.localization.changes.subscribe((function(){return e.cd.markForCheck()})))}},{key:"ngDoCheck",value:function(){var e=this,t=this.groups.map((function(t){return e.groupInfoService.groupTitle(t)}));(t.length!==this.groupTitles.length||t.some((function(t,n){return t!==e.groupTitles[n]})))&&(this.groupTitles=t,this.cd.markForCheck())}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),this.targetSubscription&&this.targetSubscription.unsubscribe()}},{key:"directionChange",value:function(e){var t=this.groups.findIndex((function(t){return t.field===e.field})),n=[].concat(_toConsumableArray(this.groups.slice(0,t)),[e],_toConsumableArray(this.groups.slice(t+1)));this.change.emit(n)}},{key:"insert",value:function(e,t){var n=this.groups.filter((function(t){return t.field!==e}));(n.length||0===this.groups.length)&&this.change.emit([].concat(_toConsumableArray(n.slice(0,t)),[{field:e}],_toConsumableArray(n.slice(t))))}},{key:"remove",value:function(e){this.change.emit(this.groups.filter((function(t){return t.field!==e.field})))}},{key:"canDrop",value:function(e,t){var n;return!("groupIndicator"===e.type?VX:WU(zX,LX,(n=this.groupInfoService,function(e){var t=e.field;return!n.isGroupable(t)})))({field:e.field,groups:this.groups,target:t})}},{key:"attachTargets",value:function(){var e=this;this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new O;var t=this.dropTargets.reduce((function(e,t){return le(e,t.enter)}),ne([])),n=this.dropTargets.reduce((function(e,t){return le(e,t.leave)}),ne([])),i=this.dropTargets.reduce((function(e,t){return le(e,t.drop)}),ne([]));this.targetSubscription.add(t.pipe(Mg((function(t){return e.hint.removeLock()})),Pg((function(t){var n=t.draggable,i=t.target;return e.canDrop(n.context,i.context)})),Mg(this.enter.bind(this)),Wg(i.pipe(Hg(n.pipe(Mg(this.leave.bind(this))))))).subscribe(this.drop.bind(this)))}},{key:"enter",value:function(e){var t=e.draggable,n=e.target;this.hint.enable();var i=n.context.lastTarget||pZ(t.element.nativeElement,n.element.nativeElement);this.localization.rtl&&(i=!i),this.cue.position(gZ(n.element.nativeElement,i))}},{key:"leave",value:function(){this.hint.disable(),this.cue.hide()}},{key:"drop",value:function(e){var t=e.target,n=e.draggable.context.field,i=this.dropTargets.toArray().indexOf(t);this.insert(n,i)}},{key:"groupHeaderClass",get:function(){return!0}},{key:"text",set:function(e){this.emptyText=e},get:function(){return this.emptyText?this.emptyText:this.localization.get("groupPanelEmpty")}}]),e}()).\u0275fac=function(e){return new(e||kK)(Ds(bZ),Ds(_Z),Ds(Aq),Ds(jy),Ds(Xo))},kK.\u0275cmp=Et({type:kK,selectors:[["kendo-grid-group-panel"]],viewQuery:function(e,t){var n;1&e&&pu(MX,!0),2&e&&fu(n=ku())&&(t.dropTargets=n)},hostVars:4,hostBindings:function(e,t){2&e&&sa("k-grouping-header",t.groupHeaderClass)("k-grouping-header-flex",t.groupHeaderClass)},inputs:{groups:"groups",text:"text"},outputs:{change:"change"},decls:3,vars:3,consts:[[3,"ngIf"],["class","k-indicator-container","kendoDropTarget","",3,"context",4,"ngFor","ngForOf"],["class","k-indicator-container","kendoDropTarget","",3,"context",4,"ngIf"],["kendoDropTarget","",1,"k-indicator-container",3,"context"],["kendoDraggableColumn","","kendoGroupIndicator","","kendoDraggable","",3,"enableDrag","context","group","groupTitle","directionChange","remove"]],template:function(e,t){1&e&&(Rs(0,fH,2,3,"ng-template",0),Rs(1,vH,2,10,"div",1),Rs(2,gH,2,2,"div",2)),2&e&&(Ms("ngIf",0===t.groups.length),wr(1),Ms("ngForOf",t.groups),wr(1),Ms("ngIf",0!==t.groups.length))},directives:function(){return[zc,Fc,MX,qX,BX,Tm]},encapsulation:2,changeDetection:0}),kK),BX=((yK=function(){function e(){_classCallCheck(this,e),this.directionChange=new tu,this.remove=new tu}return _createClass(e,[{key:"toggleDirection",value:function(){return this.directionChange.emit({dir:"asc"===this.dir?"desc":"asc",field:this.group.field}),!1}},{key:"removeDescriptor",value:function(){return this.remove.emit({dir:this.group.dir,field:this.group.field}),!1}},{key:"groupIndicatorClass",get:function(){return!0}},{key:"dir",get:function(){return this.group.dir?this.group.dir:"asc"}}]),e}()).\u0275fac=function(e){return new(e||yK)},yK.\u0275cmp=Et({type:yK,selectors:[["","kendoGroupIndicator",""]],hostVars:2,hostBindings:function(e,t){2&e&&sa("k-group-indicator",t.groupIndicatorClass)},inputs:{group:"group",groupTitle:"groupTitle"},outputs:{directionChange:"directionChange",remove:"remove"},attrs:mH,decls:5,vars:5,consts:[["href","#","tabindex","-1",1,"k-link",3,"click"],[1,"k-icon"],["tabindex","-1",1,"k-button","k-button-icon","k-bare",3,"click"],[1,"k-icon","k-i-group-delete"]],template:function(e,t){1&e&&(Ls(0,"a",0),Ws("click",(function(){return t.toggleDirection()})),Ns(1,"span",1),ya(2),Vs(),Ls(3,"a",2),Ws("click",(function(){return t.removeDescriptor()})),Ns(4,"span",3),Vs()),2&e&&(wr(1),sa("k-i-sort-asc-sm","asc"===t.dir)("k-i-sort-desc-sm","desc"===t.dir),wr(1),ba(" ",t.groupTitle,""))},encapsulation:2,changeDetection:0}),yK),jX=function(e){return function(t){return new RegExp("(^| )".concat(e,"( |$)")).test(t.className)}},HX=WU(jX("k-i-group-delete"),jX("k-button-icon")),GX=WU(jX("k-i-sort-asc-sm"),jX("k-i-sort-desc-sm")),UX=qU(UU(HX),UU(GX),UU(rZ),UU(Jq("label"))),WX=function(e){var t=e.clientX,n=e.clientY;return document.elementFromPoint(t,n)},qX=((CK=function(){function e(t,n,i,r,o,s,a,l){_classCallCheck(this,e),this.draggable=t,this.element=n,this.zone=i,this.service=r,this.hint=o,this.cue=s,this.nav=a,this.renderer=l,this.context={},this.drag=new tu,this.subscriptions=new O}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscriptions.add(this.zone.runOutsideAngular((function(){return e.draggable.kendoPress.pipe(Pg((function(t){return e.enabled})),Pg((function(t){var n=t.originalEvent.target;return n===e.element.nativeElement||UX(n)})),Mg((function(t){var n=t.originalEvent;t.isTouch||n.preventDefault(),e.nav.navigateTo(n.target)})),_g((t=e.draggable.kendoRelease,function(e){return ng(e).pipe($g(150),Hg(t))})),Mg((function(t){e.hint.create(t,e.element.nativeElement,e.context.hint),e.cue.create()})),_g((function(t){return e.draggable.kendoDrag.pipe(Mg((function(e){e.isTouch&&e.originalEvent.preventDefault()})),Mg(e.hint.attach()),Mg(e.cue.attach()),Hg(e.draggable.kendoRelease),Q((function(e){return{move:e,down:t}})))})),Mg(e.performDrag.bind(e)),Wg(e.draggable.kendoRelease)).subscribe(e.drop.bind(e));var t})))}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"drop",value:function(e){this.hint.remove(),this.cue.remove(),this.service.notifyDrop(this,e)}},{key:"performDrag",value:function(e){var t=e.move;this.hint.move(t);var n=this.elementUnderCursor(t);n&&this.service.notifyDrag(this,n,t),this.drag.emit({draggable:this,mouseEvent:t})}},{key:"elementUnderCursor",value:function(e){this.hint.hide();var t=WX(e);return t&&/k-grouping-dropclue/.test(t.className)&&(t=function(e,t){e.style.display="none";var n=t();return e.style.display="block",n}(t,WX.bind(this,e))),this.hint.show(),t}},{key:"updateTouchAction",value:function(){this.element&&this.renderer.setStyle(this.element.nativeElement,"touch-action",this.enabled?"none":"")}},{key:"enableDrag",set:function(e){this.enabled=e,this.updateTouchAction()}},{key:"hostClass",get:function(){return this.enabled}}]),e}()).\u0275fac=function(e){return new(e||CK)(Ds(Tm,1),Ds(qa),Ds(qu),Ds(mZ),Ds(bZ),Ds(_Z),Ds(GZ),Ds(Ya))},CK.\u0275dir=Mt({type:CK,selectors:[["","kendoDraggableColumn",""]],hostVars:2,hostBindings:function(e,t){2&e&&sa("k-grid-draggable-header",t.hostClass)},inputs:{context:"context",enableDrag:"enableDrag"},outputs:{drag:"drag"}}),CK),ZX=((_K=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:_K}),_K.\u0275inj=Te({factory:function(e){return new(e||_K)}}),_K),$X=((bK=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[wU,xU,TU]}}]),e}()).\u0275mod=Dt({type:bK}),bK.\u0275inj=Te({factory:function(e){return new(e||bK)},imports:[[ih,gX,ZX]]}),bK),KX={allowUnsort:!0,mode:"single",showIndexes:!0,initialDirection:"asc"},YX=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign.apply(Object,[{},KX].concat(t))},XX=function(e,t){return!1!==e.filter&&t.field&&t.filterable},QX=function(e,t){return!1!==e.sort&&t.field&&t.sortable},JX=function(e,t){return e.lock&&t.lockable&&!(t.parent&&!t.parent.isSpanColumn)},eQ=function(e){return!1!==e.columnChooser},tQ=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign.apply(null,[{}].concat(t))},nQ=qU((function(e){var t=e.draggable;return["column","columnGroup"].indexOf(t.context.type)>=0}),(function(e){return e.draggable.context.column.reorderable}),(function(e){var t=e.draggable;return!mW(t.context.column)}),(function(e){var t=e.draggable,n=e.target;return t.element.nativeElement!==n.element.nativeElement}),(function(e){var t=e.draggable,n=e.target;return function e(t,n){return t.parent===n.parent||mW(n)&&e(t,n.parent)}(t.context.column,n.context.column)}),UU((function(e){var t,n,i=e.draggable;return!LU(i.context.column.locked)&&(t=i.context.column,n=t.parent,!LU(n))&&i.context.lastColumn})),(function(e){var t=e.draggable,n=e.target;return!1!==t.context.column.lockable||t.context.column.isLocked===n.context.column.isLocked})),iQ=function(){var e=function(){function e(t,n,i,r,o,s,a,l){_classCallCheck(this,e),this.popupService=t,this.hint=n,this.cue=i,this.reorderService=r,this.idService=o,this.sortService=s,this.localization=a,this.cd=l,this.columns=[],this.groups=[],this.sort=new Array,this.sortable=!1,this.groupable=!1,this.lockedColumnsCount=0,this.resizable=!1,this.reorderable=!1,this.columnMenu=!1,this.totalColumnsCount=0,this.sortedFields={},this.dropTargets=new iu,this.subscription=new O}return _createClass(e,[{key:"sortColumn",value:function(e,t,n){var i=t?t.target:null;return e.headerTemplateRef&&i!==n&&Boolean(tZ(i,iZ,n))?"checkbox"===i.type:(this.sortService.sort(this.toggleSort(e)),!1)}},{key:"onHeaderKeydown",value:function(e,t){this.sortable&&!t.defaultPrevented&&!1!==e.sortable&&t.keyCode===Bm.Enter&&this.sortService.sort(this.toggleSort(e))}},{key:"showSortNumbering",value:function(e){return YX(this.sortable).showIndexes&&this.sort&&this.sort.filter((function(e){var t=e.dir;return FU(t)})).length>1&&this.sortOrder(e.field)>0}},{key:"sortOrder",value:function(e){return this.sort.filter((function(e){var t=e.dir;return FU(t)})).findIndex((function(t){return t.field===e}))+1}},{key:"sortIcon",value:function(e){var t=this.sortDescriptor(e);return{"k-icon":FU(t.dir),"k-i-sort-desc-sm":"desc"===t.dir,"k-i-sort-asc-sm":"asc"===t.dir}}},{key:"sortState",value:function(e){if(this.isSortable(e)){var t=this.sortDescriptor(e.field);return"asc"===t.dir?"ascending":"desc"===t.dir?"descending":void 0}}},{key:"sortStatus",value:function(e){if(this.sortedFields[e.field]&&this.isSortable(e)){var t="sortedDefault",n=this.sortDescriptor(e.field);return"asc"===n.dir?t="sortedAscending":"desc"===n.dir&&(t="sortedDescending"),this.localization.get(t)}}},{key:"toggleSort",value:function(e){var t=YX(this.sortable,e.sortable),n=t.allowUnsort,i=t.mode,r=t.initialDirection,o=this.toggleDirection(e.field,n,r);return"single"===i?[o]:[].concat(_toConsumableArray(this.sort.filter((function(t){return t.field!==e.field}))),[o])}},{key:"ngAfterViewInit",value:function(){this.subscription.add(NU(this.dropTargets).subscribe(this.attachTargets.bind(this)))}},{key:"ngDoCheck",value:function(){this._leafColumns=uW(this.columns||[]).filter((function(e){return!yW(e)}))}},{key:"ngOnChanges",value:function(e){var t=this,n=e.sort;n&&!n.isFirstChange()&&n.currentValue.forEach((function(e){t.sortedFields[e.field]=!0}))}},{key:"ngOnInit",value:function(){var e=this;this.subscription.add(this.localization.changes.subscribe((function(){return e.cd.markForCheck()})))}},{key:"ngOnDestroy",value:function(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.popupService&&this.popupService.destroy(),this.subscription.unsubscribe()}},{key:"selectAllCheckboxId",value:function(){return this.idService.selectAllCheckboxId()}},{key:"isFirstOnRow",value:function(e,t){var n=this;return 0===t&&!this.groups.length&&!this.detailTemplate&&function e(t){return t&&(n.columnsForLevel(t.level).indexOf(t)>0||e(t.parent))}(e.parent)}},{key:"logicalColumnIndex",value:function(e){var t=e.leafIndex;return FU(t)?t+(FU(this.detailTemplate)?1:0):-1}},{key:"showColumnMenu",value:function(e){return this.columnMenu&&e.columnMenu&&(this.columnMenuTemplate||e.columnMenuTemplates.length||function(e,t){return eQ(e)||JX(e,t)||QX(e,t)||XX(e,t)}(this.columnMenu,e))}},{key:"isFilterable",value:function(e){return!VU(e.field)&&!0===e.filterable}},{key:"canDrop",value:function(e,t){return this.reorderable&&nQ({draggable:e,target:t})}},{key:"shouldActivate",value:function(e){var t=this.reorderable&&e.reorderable;return!(!t&&!nW(e))&&(this.groupable&&nW(e)&&!1!==e.groupable||t)}},{key:"isSortable",value:function(e){return!VU(e.field)&&LU(this.sortable)&&LU(e.sortable)}},{key:"isCheckboxColumn",value:function(e){return RU(e)&&!e.templateRef}},{key:"trackByIndex",value:function(e,t){return e}},{key:"toggleDirection",value:function(e,t,n){var i=this.sortDescriptor(e),r=_slicedToArray(function(e){return"asc"===e?["asc","desc"]:["desc","asc"]}(n),2),o=r[0],s=r[1],a=o;return i.dir===o?a=s:i.dir===s&&t&&(a=void 0),{dir:a,field:e}}},{key:"columnsForLevel",value:function(e){var t=this.columns?this.columns.filter((function(t){return t.level===e})):[];return gW(uW(t))}},{key:"isColumnGroupComponent",value:function(e){return yW(e)}},{key:"sortDescriptor",value:function(e){return this.sort.find((function(t){return t.field===e}))||{field:e}}},{key:"attachTargets",value:function(){var e=this;this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new O;var t=le.apply(void 0,_toConsumableArray(this.dropTargets.map((function(e){return e.enter})))),n=le.apply(void 0,_toConsumableArray(this.dropTargets.map((function(e){return e.leave})))),i=le.apply(void 0,_toConsumableArray(this.dropTargets.map((function(e){return e.drop}))));this.targetSubscription.add(t.pipe(Mg((function(t){var n=t.target,i=t.draggable;if("groupIndicator"!==i.context.type){var r=LU(n.context.column.isLocked),o=LU(i.context.column.isLocked);(e.lockedColumnsCount>0||r||o)&&e.hint.toggleLock(r)}})),Pg((function(t){var n=t.draggable,i=t.target;return e.canDrop(n,i)})),_g(this.trackMove.bind(this,n,i)),Q((function(t){return tQ(t,{before:e.calculateBefore(t),changeContainer:t.changeContainer})})),Q(this.normalizeTarget.bind(this)),Mg(this.enter.bind(this)),_g((function(t){return i.pipe(Q((function(){return t})),Hg(n.pipe(Mg(e.leave.bind(e)))))}))).subscribe(this.drop.bind(this)))}},{key:"normalizeTarget",value:function(e){var t=e.target,n=t.context.column.parent;if(n&&n.isSpanColumn){var i=this.dropTargets.toArray(),r=i.find((function(e){return e.context.column.parent===n})),o=i.indexOf(r);t=i[o+(e.before?0:n.childColumns.length-1)]}return tQ(e,{target:t})}},{key:"trackMove",value:function(e,t,n){var i=n.target.context.column,r=this.columnsForLevel(i.level),o=r.indexOf(i),s=n.draggable.context.column.isLocked!==i.isLocked;return s&&(i.locked?o===r.length-1:0===o)?n.draggable.drag.pipe(Hg(e),Hg(t),Q((function(e){var t=e.mouseEvent;return tQ({changeContainer:!0},n,{mouseEvent:t})}))):ng(tQ({changeContainer:s},n))}},{key:"calculateBefore",value:function(e){var t=e.draggable,n=e.target,i=e.mouseEvent,r=e.changeContainer,o=void 0!==r&&r,s=n.element.nativeElement,a=!1;o?(a=dZ(s).left+s.offsetWidth/2>i.pageX,this.localization.rtl&&(a=!a)):a=pZ(t.element.nativeElement,s);return a}},{key:"enter",value:function(e){var t=e.target,n=e.before;this.hint.enable(),this.localization.rtl&&(n=!n),this.cue.position(gZ(t.element.nativeElement,n))}},{key:"leave",value:function(){this.hint.disable(),this.cue.hide()}},{key:"drop",value:function(e){var t=e.draggable,n=e.target,i=e.before,r=e.changeContainer;this.reorderService.reorder({before:i,changeContainer:r,source:t.context.column,target:n.context.column})}},{key:"headerClass",get:function(){return!this.scrollable}},{key:"sortableLabel",get:function(){return this.localization.get("sortable")}},{key:"unlockedColumnsCount",get:function(){return this.totalColumnsCount-this.lockedColumnsCount-this.columns.length}},{key:"showFilterMenu",get:function(){return!this.columnMenu&&"string"==typeof(e=this.filterable)&&e.indexOf("menu")>-1;var e}},{key:"showFilterRow",get:function(){return uZ(this.filterable)}},{key:"columnLevels",get:function(){return new Array((this.totalColumnLevels||0)+1)}},{key:"leafColumns",get:function(){return this._leafColumns}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ds(hZ),Ds(bZ),Ds(_Z),Ds(CZ),Ds(qZ),Ds($Z),Ds(jy),Ds(Xo))},e.\u0275cmp=Et({type:e,selectors:[["","kendoGridHeader",""]],viewQuery:function(e,t){var n;1&e&&pu(MX,!0),2&e&&fu(n=ku())&&(t.dropTargets=n)},hostVars:2,hostBindings:function(e,t){2&e&&sa("k-grid-header",t.headerClass)},inputs:{columns:"columns",groups:"groups",sort:"sort",sortable:"sortable",groupable:"groupable",lockedColumnsCount:"lockedColumnsCount",resizable:"resizable",reorderable:"reorderable",columnMenu:"columnMenu",totalColumnsCount:"totalColumnsCount",totalColumnLevels:"totalColumnLevels",detailTemplate:"detailTemplate",scrollable:"scrollable",filterable:"filterable",filter:"filter",columnMenuTemplate:"columnMenuTemplate"},features:[Ra()],attrs:yH,decls:1,vars:1,consts:[[3,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngFor","ngForOf"],["kendoGridFilterRow","","kendoGridLogicalRow","",3,"columns","filter","groups","detailTemplate","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["class","k-group-cell k-header","role","presentation",4,"ngFor","ngForOf"],["class","k-hierarchy-cell k-header","role","presentation","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex",4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","presentation",1,"k-group-cell","k-header"],["role","presentation","kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell","k-header",3,"logicalRowIndex","logicalColIndex"],["kendoGridLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header",3,"logicalRowIndex","logicalColIndex","colSpan","rowSpan","enableDrag","context","k-filterable","k-first","ngClass","ngStyle","keydown",4,"ngIf"],["kendoGridLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","enableDrag","context","k-first","k-filterable","ngClass","ngStyle",4,"ngIf"],["kendoGridLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header",3,"logicalRowIndex","logicalColIndex","colSpan","rowSpan","enableDrag","context","ngClass","ngStyle","keydown"],[3,"column","filter",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable",4,"ngIf"],["kendoGridColumnHandle","","kendoDraggable","","class","k-column-resizer",3,"column","columns",4,"ngIf"],[3,"column","filter"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable"],[3,"templateContext"],["href","#","tabindex","-1",1,"k-link",3,"click"],["link",""],[3,"ngClass"],["class","k-sort-order",4,"ngIf"],["role","status",1,"k-sort-status",2,"position","absolute","left","-10000px",3,"innerHtml"],[1,"k-sort-order"],["kendoGridSelectAllCheckbox","","kendoGridFocusable","",1,"k-checkbox"],[1,"k-checkbox-label"],["kendoGridColumnHandle","","kendoDraggable","",1,"k-column-resizer",3,"column","columns"],["kendoGridLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","enableDrag","context","ngClass","ngStyle"],[3,"standalone","settings","column","columnMenuTemplate",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate"],["kendoGridFilterRow","","kendoGridLogicalRow","",3,"columns","filter","groups","detailTemplate","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"]],template:function(e,t){1&e&&Rs(0,UH,2,2,"ng-template",0),2&e&&Ms("ngIf",!0)},directives:function(){return[zc,Fc,aX,oX,MX,Tm,qX,Pc,eh,cQ,FQ,nX,uQ,EZ,lQ,bY]},styles:[".k-column-resizer[_ngcontent-%COMP%] {\n            cursor: col-resize;\n            display: block;\n            height: 1000%;\n            position: absolute;\n            top: 0;\n            width: .5em;\n        }"]}),e}(),rQ=function(e){return e.nativeElement.parentElement.offsetWidth},oQ=function(e){return aW(e).filter((function(e){return!e.isColumnGroup}))},sQ=function(e){var t=e.originalEvent;t.stopPropagation(),t.preventDefault()},aQ=function(e){return!(!e.parent||!e.parent.isSpanColumn)},lQ=((SK=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.draggable=t,this.element=n,this.service=i,this.zone=r,this.cdr=o,this.localization=s,this.columns=[],this.subscriptions=new O,this.rtl=!1}return _createClass(e,[{key:"autoFit",value:function(){var e=this,t=oQ(this.columns),n=pW([this.column]).filter((function(e){return LU(e.resizable)})),i=n.map((function(n){var i=aQ(n),r=!!i&&n.parent.childColumns.last===n,o=function(e,t){for(var n=0,i=0,r=0;n<t.length;){var o=t[n],s=aQ(o);if(o===e)break;i--<=0&&s&&(r+=i=o.parent.childColumns.length-1),n++}return n-r}(n,t);return{column:n,headerIndex:e.columnsForLevel(n.level).indexOf(n),index:o,isLastInSpan:r,isParentSpan:i,level:n.level}}));n.forEach((function(e){return e.width=0})),this.service.measureColumns(i)}},{key:"ngOnInit",value:function(){var e=this,t=this.service.changes.pipe(Pg((function(){return e.column.resizable})),Pg((function(t){return FU(t.columns.find((function(t){return t===e.column})))})));this.subscriptions.add(t.pipe(Pg((function(e){return"start"===e.type}))).subscribe(this.initState.bind(this))),this.subscriptions.add(t.pipe(Pg((function(e){return"resizeColumn"===e.type}))).subscribe(this.resize.bind(this))),this.subscriptions.add(this.service.changes.pipe(Pg((function(e){return"start"===e.type})),Pg(this.shouldUpdate.bind(this)),Og(1)).subscribe(this.initColumnWidth.bind(this))),this.subscriptions.add(this.zone.runOutsideAngular((function(){return e.draggable.kendoPress.pipe(Mg(sQ),Mg((function(){return e.service.start(e.column)})),_g((t=e.draggable.kendoRelease,function(e){return ng(e).pipe($g(150),Hg(t))})),_g(function(e,t){return function(n){return t.kendoDrag.pipe(Hg(t.kendoRelease.pipe(Mg((function(){return e.end()})))),Q((function(e){var t=e.pageX;return{originalX:n.pageX,pageX:t}})))}}(e.service,e.draggable))).subscribe((function(t){var n=t.pageX,i=t.originalX;e.service.resizeColumns((n-i)/(e.column.resizeStartWidth||e.column.width)*100)}));var t}))),this.subscriptions.add(t.pipe(Pg((function(e){return"autoFitComplete"===e.type}))).subscribe(this.sizeToFit.bind(this))),this.subscriptions.add(t.pipe(Pg((function(e){return"triggerAutoFit"===e.type}))).subscribe(this.autoFit.bind(this))),this.subscriptions.add(this.localization.changes.subscribe((function(t){var n=t.rtl;return e.rtl=n})))}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"shouldUpdate",value:function(){return!oQ(this.columns).map((function(e){return e.width})).some(MU)}},{key:"initColumnWidth",value:function(){this.column.width=rQ(this.element)}},{key:"initState",value:function(){this.column.resizeStartWidth=rQ(this.element),this.service.resizedColumn({column:this.column,oldWidth:this.column.resizeStartWidth})}},{key:"resize",value:function(e){var t,n,i,r=e.deltaPercent,o=(t=this.column.resizeStartWidth,i=(n=r)<0?-1:1,Math.ceil(Math.abs(n)/100*t)*i);LU(this.rtl)&&(o*=-1);var s=Math.max(this.column.resizeStartWidth+o,this.column.minResizableWidth),a=s>this.column.minResizableWidth?o:this.column.minResizableWidth-this.column.resizeStartWidth;this.updateWidth(this.column,s),this.service.resizeTable(this.column,a)}},{key:"sizeToFit",value:function(e){var t=e.columns,n=e.widths,i=t.indexOf(this.column),r=Math.max.apply(Math,_toConsumableArray(n.map((function(e){return e[i]}))))+1,o=r-this.column.resizeStartWidth;this.updateWidth(this.column,r),this.service.resizeTable(this.column,o)}},{key:"updateWidth",value:function(e,t){e.width=t,this.cdr.markForCheck()}},{key:"columnsForLevel",value:function(e){return uW(this.columns?this.columns.filter((function(t){return t.level===e})):[])}},{key:"visible",get:function(){return this.column.resizable?"block":"none"}},{key:"leftStyle",get:function(){return LU(this.rtl)?0:null}},{key:"rightStyle",get:function(){return LU(this.rtl)?null:0}}]),e}()).\u0275fac=function(e){return new(e||SK)(Ds(Tm,1),Ds(qa),Ds(lZ),Ds(qu),Ds(Xo),Ds(jy))},SK.\u0275dir=Mt({type:SK,selectors:[["","kendoGridColumnHandle",""]],hostVars:6,hostBindings:function(e,t){1&e&&Ws("dblclick",(function(){return t.autoFit()})),2&e&&oa("display",t.visible)("left",t.leftStyle)("right",t.rightStyle)},inputs:{columns:"columns",column:"column"}}),SK),uQ=((xK=function(){function e(t,n,i,r){var o=this;_classCallCheck(this,e),this.selectionService=t,this.el=n,this.renderer=i,this.ngZone=r,this.selectAllChange=new tu,this.type="checkbox",this.stateSet=!1,this.ngZone.runOutsideAngular((function(){o.destroyClick=o.renderer.listen(o.el.nativeElement,"click",o.onClick.bind(o))}))}return _createClass(e,[{key:"ngAfterContentChecked",value:function(){this.setState()}},{key:"ngOnChanges",value:function(){this.stateSet=!0}},{key:"ngOnDestroy",value:function(){this.destroyClick&&this.destroyClick()}},{key:"onClick",value:function(){var e=this,t=this.el.nativeElement.checked,n=this.selectionService.options;this.selectAllChange.emit(t?"checked":"unchecked"),n.enabled&&"multiple"===n.mode&&this.ngZone.run((function(){e.selectionService.updateAll(t)}))}},{key:"setState",value:function(){var e=this.stateSet?this.stateToBool():this.selectionService.selectAllState,t=this.el.nativeElement;this.renderer.setProperty(t,"indeterminate",!FU(e)),this.renderer.setProperty(t,"checked",!!FU(e)&&e)}},{key:"stateToBool",value:function(){switch(this.state){case"checked":return!0;case"unchecked":return!1;default:return}}}]),e}()).\u0275fac=function(e){return new(e||xK)(Ds(pq),Ds(qa),Ds(Ya),Ds(qu))},xK.\u0275dir=Mt({type:xK,selectors:[["","kendoGridSelectAllCheckbox",""]],hostVars:1,hostBindings:function(e,t){2&e&&As("type",t.type)},inputs:{state:"state"},outputs:{selectAllChange:"selectAllChange"},features:[Ra()]}),xK),cQ=((wK=function(){function e(t,n,i){_classCallCheck(this,e),this.filterService=t,this.popupService=n,this.localization=i,this.filterLabel=this.localization.get("filter")}return _createClass(e,[{key:"toggle",value:function(e,t){return this.popupRef=this.popupService.open(e,t,this.popupRef),!1}},{key:"close",value:function(){this.popupService.destroy()}},{key:"hasFilters",get:function(){return EY(this.filter,(this.column||{}).field).length>0}}]),e}()).\u0275fac=function(e){return new(e||wK)(Ds(zq),Ds(hZ),Ds(jy))},wK.\u0275cmp=Et({type:wK,selectors:[["kendo-grid-filter-menu"]],inputs:{column:"column",filter:"filter"},decls:5,vars:4,consts:[["href","#",3,"ngClass","click"],["anchor",""],[1,"k-icon","k-i-filter"],["template",""],[3,"column","filter","close"]],template:function(e,t){if(1&e){var n=Gs();Ls(0,"a",0,1),Ws("click",(function(){Xt(n);var e=Ps(1),i=Ps(4);return t.toggle(e,i)})),Ns(2,"span",2),Vs(),Rs(3,WH,1,2,"ng-template",null,3,wu)}2&e&&(Ms("ngClass",jl(2,qH,t.hasFilters)),As("title",t.filterLabel))},directives:function(){return[Pc,pQ]},encapsulation:2}),wK),hQ=function(e){var t=e.value,n=e.operator;return!VU(t)||function(e){return"isnull"===e||"isnotnull"===e||"isempty"===e||"isnotempty"===e}(n)},fQ=function e(t,n,i){return t.reduce((function(t,r){return t||(r.filters?e(r.filters,n,r):r.field===n?i:t)}),void 0)},dQ=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"and",i=fQ((e||{}).filters||[],t);return FU(i)?i.logic:n},pQ=(($K=function(){function e(t,n,i,r){_classCallCheck(this,e),this.parentService=t,this.childService=n,this.localization=i,this.cd=r,this.close=new tu,this.actionsClass="k-action-buttons k-button-group",this._templateContext={}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscription=this.childService.changes.subscribe((function(t){return e._childFilter=t})),this.subscription.add(this.localization.changes.subscribe((function(){return e.cd.markForCheck()})))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"submit",value:function(){var e=function(e){return e.filters=e.filters.filter(hQ),e}(this.childFilter);if(e.filters.length){var t=this.filter||{filters:[],logic:"and"};AY(t,this.column.field),t.filters.push(e),this.parentService.filter(t)}return this.close.emit(),!1}},{key:"reset",value:function(){var e=this.filter||{filters:[],logic:"and"};AY(e,this.column.field),this.parentService.filter(e),this.close.emit()}},{key:"filter",get:function(){return this._filter},set:function(e){this._filter=_Y(e)}},{key:"childFilter",get:function(){return FU(this._childFilter)||(this._childFilter={filters:EY(this.filter,(this.column||{}).field),logic:dQ(this.filter,(this.column||{}).field)}),this._childFilter}},{key:"disabled",get:function(){return!this.childFilter.filters.some(hQ)}},{key:"templateContext",get:function(){return this._templateContext.column=this.column,this._templateContext.filter=this.childFilter,this._templateContext.filterService=this.childService,this._templateContext.$implicit=this.childFilter,this._templateContext}},{key:"hasTemplate",get:function(){return FU(this.column)&&FU(this.column.filterMenuTemplateRef)}},{key:"clearText",get:function(){return this.localization.get("filterClearButton")}},{key:"filterText",get:function(){return this.localization.get("filterFilterButton")}}]),e}()).\u0275fac=function(e){return new(e||$K)(Ds(zq,4),Ds(zq),Ds(jy),Ds(Xo))},$K.\u0275cmp=Et({type:$K,selectors:[["kendo-grid-filter-menu-container"]],inputs:{actionsClass:"actionsClass",filter:"filter",column:"column"},outputs:{close:"close"},features:[Ha([zq])],decls:10,vars:7,consts:[[1,"k-filter-menu","k-group","k-reset","k-state-border-up",3,"submit","reset"],[1,"k-filter-menu-container"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngClass"],["type","reset",1,"k-button"],["type","submit",1,"k-button","k-primary",3,"disabled"],["kendoFilterMenuHost","",3,"filterService","column","filter"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Ls(0,"form",0),Ws("submit",(function(){return t.submit()}))("reset",(function(){return t.reset()})),Ls(1,"div",1),Bs(2,2),Rs(3,ZH,2,3,"ng-container",3),Rs(4,YH,2,1,"ng-container",3),js(),Ls(5,"div",4),Ls(6,"button",5),ya(7),Vs(),Ls(8,"button",6),ya(9),Vs(),Vs(),Vs(),Vs()),2&e&&(wr(2),Ms("ngSwitch",t.hasTemplate),wr(1),Ms("ngSwitchCase",!1),wr(1),Ms("ngSwitchCase",!0),wr(1),Ms("ngClass",t.actionsClass),wr(2),ka(t.clearText),wr(1),Ms("disabled",t.disabled),wr(1),ka(t.filterText))},directives:function(){return[$v,Dp,Nv,Xc,Qc,Pc,CQ,zc,th]},encapsulation:2}),$K),vQ=((ZK=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,null))}return _inherits(t,e),_createClass(t,[{key:"operatorChange",value:function(e){this.currentOperator=e}},{key:"filterChange",value:function(e){this.applyFilter(e)}},{key:"updateFilter",value:function(e){return Object.assign(this.currentFilter,e),this.filter}},{key:"onChange",value:function(e){this.filterChange(this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}},{key:"hostClasses",get:function(){return!1}},{key:"currentFilter",get:function(){return this._currentFilter},set:function(e){this._currentFilter=e}}]),t}(NY)).\u0275fac=function(e){return new(e||ZK)},ZK.\u0275cmp=Et({type:ZK,selectors:[["kendo-grid-filter-menu-input-wrapper"]],inputs:{currentFilter:"currentFilter",filterService:"filterService"},features:[Sa],ngContentSelectors:mj,decls:2,vars:3,consts:[["textField","text","valueField","value",3,"data","value","valuePrimitive","valueChange"]],template:function(e,t){1&e&&(Ys(),Ls(0,"kendo-dropdownlist",0),Ws("valueChange",(function(e){return t.operatorChange(e)})),Vs(),Xs(1)),2&e&&Ms("data",t.operators)("value",t.currentOperator)("valuePrimitive",!0)},directives:[GC],encapsulation:2}),ZK),gQ=((qK=function e(){_classCallCheck(this,e),this.operators=[]}).\u0275fac=function(e){return new(e||qK)},qK.\u0275cmp=Et({type:qK,selectors:[["kendo-grid-string-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService"},decls:2,vars:8,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService"],["kendoFilterInput","",1,"k-textbox",3,"filterDelay","ngModel"]],template:function(e,t){1&e&&(Ls(0,"kendo-grid-filter-menu-input-wrapper",0),Ns(1,"input",1),Vs()),2&e&&(Ms("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService),wr(1),Ms("filterDelay",0)("ngModel",null==t.currentFilter?null:t.currentFilter.value))},directives:[vQ,wp,zY,Pp,Zv],encapsulation:2}),qK),mQ=((WK=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,null,e))).logicOperators=OY(n.localization),n.filter={filters:[],logic:"and"},n.extra=!0,n}return _inherits(t,e),_createClass(t,[{key:"logicChange",value:function(e){this.filter.logic=e}},{key:"localizationChange",value:function(){this.logicOperators=OY(this.localization),_get(_getPrototypeOf(t.prototype),"localizationChange",this).call(this)}},{key:"hostClasses",get:function(){return!1}},{key:"firstFilter",get:function(){return TY(0,this.filter,(this.column||{}).field,this.operator)}},{key:"secondFilter",get:function(){return TY(1,this.filter,(this.column||{}).field,this.operator)}}]),t}(GY)).\u0275fac=function(e){return new(e||WK)(Ds(jy))},WK.\u0275cmp=Et({type:WK,selectors:[["kendo-grid-string-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&sa("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService"},features:[Sa],decls:3,vars:7,consts:[[3,"currentFilter","operators","filterService","column","filter"],["class","k-filter-and","textField","text","valueField","value",3,"data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter",4,"ngIf"],["textField","text","valueField","value",1,"k-filter-and",3,"data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter"]],template:function(e,t){1&e&&(Ns(0,"kendo-grid-string-filter-menu-input",0),Rs(1,XH,1,3,"kendo-dropdownlist",1),Rs(2,QH,1,5,"kendo-grid-string-filter-menu-input",2)),2&e&&(Ms("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter),wr(1),Ms("ngIf",t.extra),wr(1),Ms("ngIf",t.extra))},directives:[gQ,zc,GC],encapsulation:2}),WK),yQ=((UK=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,null,e))).logicOperators=OY(n.localization),n.filter={filters:[],logic:"and"},n.extra=!0,n}return _inherits(t,e),_createClass(t,[{key:"logicChange",value:function(e){this.filter.logic=e}},{key:"localizationChange",value:function(){this.logicOperators=OY(this.localization),_get(_getPrototypeOf(t.prototype),"localizationChange",this).call(this)}},{key:"hostClasses",get:function(){return!1}},{key:"firstFilter",get:function(){return TY(0,this.filter,(this.column||{}).field,this.operator)}},{key:"secondFilter",get:function(){return TY(1,this.filter,(this.column||{}).field,this.operator)}}]),t}(FY)).\u0275fac=function(e){return new(e||UK)(Ds(jy))},UK.\u0275cmp=Et({type:UK,selectors:[["kendo-grid-numeric-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&sa("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService"},features:[Sa],decls:3,vars:13,consts:[[3,"currentFilter","operators","filterService","column","filter","format","decimals","spinners","min","max","step"],["class","k-filter-and","textField","text","valueField","value",3,"data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step",4,"ngIf"],["textField","text","valueField","value",1,"k-filter-and",3,"data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step"]],template:function(e,t){1&e&&(Ns(0,"kendo-grid-numeric-filter-menu-input",0),Rs(1,JH,1,3,"kendo-dropdownlist",1),Rs(2,eG,1,11,"kendo-grid-numeric-filter-menu-input",2)),2&e&&(Ms("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step),wr(1),Ms("ngIf",t.extra),wr(1),Ms("ngIf",t.extra))},directives:function(){return[kQ,zc,GC]},encapsulation:2}),UK),kQ=((GK=function e(){_classCallCheck(this,e),this.operators=[],this.step=1,this.spinners=!0}).\u0275fac=function(e){return new(e||GK)},GK.\u0275cmp=Et({type:GK,selectors:[["kendo-grid-numeric-filter-menu-input"]],inputs:{operators:"operators",step:"step",spinners:"spinners",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",min:"min",max:"max",decimals:"decimals",format:"format"},decls:2,vars:15,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService"],["kendoFilterInput","",3,"filterDelay","autoCorrect","value","format","decimals","spinners","min","max","step"]],template:function(e,t){1&e&&(Ls(0,"kendo-grid-filter-menu-input-wrapper",0),Ns(1,"kendo-numerictextbox",1),Vs()),2&e&&(Ms("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService),wr(1),Ms("filterDelay",0)("autoCorrect",!0)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step))},directives:[vQ,bD,zY],encapsulation:2}),GK),bQ=((HK=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,null,e))).logicOperators=OY(n.localization),n.filter={filters:[],logic:"and"},n.extra=!0,n}return _inherits(t,e),_createClass(t,[{key:"logicChange",value:function(e){this.filter.logic=e}},{key:"localizationChange",value:function(){this.logicOperators=OY(this.localization),_get(_getPrototypeOf(t.prototype),"localizationChange",this).call(this)}},{key:"hostClasses",get:function(){return!1}},{key:"firstFilter",get:function(){return TY(0,this.filter,(this.column||{}).field,this.operator)}},{key:"secondFilter",get:function(){return TY(1,this.filter,(this.column||{}).field,this.operator)}}]),t}(XY)).\u0275fac=function(e){return new(e||HK)(Ds(jy))},HK.\u0275cmp=Et({type:HK,selectors:[["kendo-grid-date-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&sa("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService"},features:[Sa],decls:3,vars:16,consts:[[3,"currentFilter","operators","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber"],["class","k-filter-and","textField","text","valueField","value",3,"data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber",4,"ngIf"],["textField","text","valueField","value",1,"k-filter-and",3,"data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber"]],template:function(e,t){1&e&&(Ns(0,"kendo-grid-date-filter-menu-input",0),Rs(1,tG,1,3,"kendo-dropdownlist",1),Rs(2,nG,1,14,"kendo-grid-date-filter-menu-input",2)),2&e&&(Ms("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("min",t.min)("max",t.max)("weekNumber",t.weekNumber),wr(1),Ms("ngIf",t.extra),wr(1),Ms("ngIf",t.extra))},directives:function(){return[wQ,zc,GC]},encapsulation:2}),HK),_Q=((jK=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,null,e))).filter={filters:[],logic:"and"},n.idPrefix=Sm(),n}return _inherits(t,e),_createClass(t,[{key:"radioId",value:function(e){return"".concat(this.idPrefix,"_").concat(e)}},{key:"onChange",value:function(e){this.applyFilter(this.updateFilter({field:this.column.field,operator:"eq",value:e}))}},{key:"isSelected",value:function(e){return this.filtersByField(this.column.field).some((function(t){return t.value===e}))}},{key:"hostClasses",get:function(){return!1}}]),t}($Y)).\u0275fac=function(e){return new(e||jK)(Ds(jy))},jK.\u0275cmp=Et({type:jK,selectors:[["kendo-grid-boolean-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&sa("k-filtercell",t.hostClasses)},inputs:{filter:"filter",filterService:"filterService"},features:[Sa],decls:2,vars:1,consts:[[1,"k-radio-list","k-reset"],[4,"ngFor","ngForOf"],["type","radio",1,"k-radio",3,"name","checked","change"],[1,"k-radio-label"]],template:function(e,t){1&e&&(Ls(0,"ul",0),Rs(1,iG,4,5,"li",1),Vs()),2&e&&(wr(1),Ms("ngForOf",t.items))},directives:[Fc],encapsulation:2}),jK),CQ=((BK=function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))}return _inherits(t,e),_createClass(t,[{key:"componentType",value:function(){return FU(this.column)&&!VU(this.column.filter)?{boolean:_Q,date:bQ,numeric:yQ,text:mQ}[this.column.filter]:mQ}},{key:"initComponent",value:function(e){_get(_getPrototypeOf(t.prototype),"initComponent",this).call(this,e),this.component.instance.filterService=this.filterService}}]),t}(bX)).\u0275fac=function(e){return new(e||BK)(Ds(ml),Ds(Wa))},BK.\u0275dir=Mt({type:BK,selectors:[["","kendoFilterMenuHost",""]],inputs:{filterService:"filterService"},features:[Sa]}),BK),wQ=((NK=function(){function e(t){_classCallCheck(this,e),this.popupService=t,this.operators=[]}return _createClass(e,[{key:"open",value:function(e){this.subscription=this.popupService.onClose.pipe(Pg((function(){return e.isActive}))).subscribe((function(e){return e.preventDefault()}))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||NK)(Ds(hZ))},NK.\u0275cmp=Et({type:NK,selectors:[["kendo-grid-date-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",format:"format",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",min:"min",max:"max",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber"},decls:3,vars:17,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService"],["kendoFilterInput","",3,"filterDelay","value","placeholder","formatPlaceholder","format","min","max","activeView","bottomView","topView","weekNumber","open"],["picker",""]],template:function(e,t){if(1&e){var n=Gs();Ls(0,"kendo-grid-filter-menu-input-wrapper",0),Ls(1,"kendo-datepicker",1,2),Ws("open",(function(){Xt(n);var e=Ps(2);return t.open(e)})),Vs(),Vs()}2&e&&(Ms("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService),wr(1),Ms("filterDelay",0)("value",null==t.currentFilter?null:t.currentFilter.value)("placeholder",t.placeholder)("formatPlaceholder",t.formatPlaceholder)("format",t.format)("min",t.min)("max",t.max)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("weekNumber",t.weekNumber))},directives:[vQ,SV,zY],encapsulation:2}),NK),xQ=((VK=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[mQ,tW,yQ,bQ,_Q,kX.exports()]}}]),e}()).\u0275mod=Dt({type:VK}),VK.\u0275inj=Te({factory:function(e){return new(e||VK)},imports:[[kX],kX]}),VK),SQ=((LK=function(){function e(t,n,i){_classCallCheck(this,e),this.element=t,this.ngZone=n,this.renderer=i,this.reset=new tu,this.apply=new tu,this.columnChange=new tu,this.autoSync=!0,this.allowHideAll=!1,this.actionsClass="k-action-buttons",this.unlockedCount=0}return _createClass(e,[{key:"isDisabled",value:function(e){return!(this.allowHideAll||this.hasFiltered||e.hidden||this.columns.find((function(t){return t!==e&&!t.hidden})))||this.hasVisibleLocked&&!this.hasUnlockedFiltered&&1===this.unlockedCount&&!e.locked&&!e.hidden}},{key:"ngOnInit",value:function(){var e=this;this.element&&this.ngZone.runOutsideAngular((function(){e.domSubscriptions=e.renderer.listen(e.element.nativeElement,"click",(function(t){if(Xq(t.target,"k-checkbox"))if(e.autoSync){var n=parseInt(t.target.getAttribute("data-index"),10),i=e.columns[n],r=!t.target.checked;Boolean(i.hidden)!==r&&e.ngZone.run((function(){i.hidden=r,e.columnChange.emit([i])}))}else e.updateDisabled()}))}))}},{key:"ngOnDestroy",value:function(){this.domSubscriptions&&this.domSubscriptions()}},{key:"cancelChanges",value:function(){var e=this;this.forEachCheckBox((function(t,n){t.checked=!e.columns[n].hidden})),this.updateDisabled(),this.reset.emit()}},{key:"applyChanges",value:function(){var e=this,t=[];this.forEachCheckBox((function(n,i){var r=e.columns[i],o=!n.checked;Boolean(r.hidden)!==o&&(r.hidden=o,t.push(r))})),this.updateDisabled(),this.apply.emit(t)}},{key:"forEachCheckBox",value:function(e){for(var t=this.element.nativeElement.getElementsByClassName("k-checkbox"),n=t.length,i=0;i<n;i++)e(t[i],i)}},{key:"updateDisabled",value:function(){if(!this.allowHideAll||this.hasLocked){var e=[];if(this.forEachCheckBox((function(t,n){t.checked&&e.push({checkbox:t,index:n}),t.disabled=!1})),this.allowHideAll||1!==e.length||this.hasFiltered){if(this.hasLocked&&!this.hasUnlockedFiltered){var t=this.columns,n=e.filter((function(e){return!t[e.index].locked}));1===n.length&&(n[0].checkbox.disabled=!0)}}else e[0].checkbox.disabled=!0}}},{key:"updateColumnState",value:function(){this.hasLocked=this.allColumns.filter((function(e){return e.locked&&(!e.hidden||!1!==e.includeInChooser)})).length>0,this.hasVisibleLocked=this.allColumns.filter((function(e){return e.locked&&!e.hidden})).length>0,this.unlockedCount=this.columns.filter((function(e){return!e.locked&&!e.hidden})).length;var e=this.allColumns.filter((function(e){return!1===e.includeInChooser&&!e.hidden}));e.length?(this.hasFiltered=e.length>0,this.hasUnlockedFiltered=e.filter((function(e){return!e.locked})).length>0):(this.hasFiltered=!1,this.hasUnlockedFiltered=!1)}},{key:"className",get:function(){return!0}},{key:"columns",set:function(e){this._columns=e.filter((function(e){return!1!==e.includeInChooser})),this.allColumns=e,this.updateColumnState()},get:function(){return this._columns}}]),e}()).\u0275fac=function(e){return new(e||LK)(Ds(qa),Ds(qu),Ds(Ya))},LK.\u0275cmp=Et({type:LK,selectors:[["kendo-grid-columnlist"]],hostVars:2,hostBindings:function(e,t){2&e&&sa("k-column-list-wrapper",t.className)},inputs:{autoSync:"autoSync",allowHideAll:"allowHideAll",actionsClass:"actionsClass",columns:"columns",applyText:"applyText",resetText:"resetText"},outputs:{reset:"reset",apply:"apply",columnChange:"columnChange"},decls:3,vars:2,consts:[[1,"k-column-list"],["class","k-column-list-item",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],[1,"k-column-list-item"],["type","checkbox",1,"k-checkbox",3,"checked","disabled"],[1,"k-checkbox-label"],[3,"ngClass"],["type","button",1,"k-button",3,"click"],["type","button",1,"k-button","k-primary",3,"click"]],template:function(e,t){1&e&&(Ls(0,"div",0),Rs(1,rG,4,4,"label",1),Vs(),Rs(2,oG,5,3,"div",2)),2&e&&(wr(1),Ms("ngForOf",t.columns),wr(1),Ms("ngIf",!t.autoSync))},directives:[Fc,zc,Pc],encapsulation:2}),LK),TQ=((zK=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.localization=t,this.columnInfoService=n,this.popupService=i,this.ngZone=r,this.renderer=o,this.changeDetector=s,this.autoSync=!1,this.allowHideAll=!0}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.close()}},{key:"toggle",value:function(e,t){var n=this;if(this.popupRef)this.close();else{var i=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:e,content:t,positionMode:"absolute",anchorAlign:{vertical:"bottom",horizontal:i},popupAlign:{vertical:"top",horizontal:i}}),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.localization.rtl?"rtl":"ltr"),this.ngZone.runOutsideAngular((function(){return n.closeClick=n.renderer.listen("document","click",(function(t){var i=t.target;eZ(i,(function(t){return t===n.popupRef.popupElement||t===e}))||n.close()}))}))}}},{key:"onApply",value:function(e){this.close(),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}},{key:"onChange",value:function(e){this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e)}},{key:"close",value:function(){this.popupRef&&(this.popupRef.close(),this.popupRef=null),this.detachClose()}},{key:"detachClose",value:function(){this.closeClick&&(this.closeClick(),this.closeClick=null)}},{key:"columns",get:function(){return this.columnInfoService.leafNamedColumns}}]),e}()).\u0275fac=function(e){return new(e||zK)(Ds(jy),Ds(ZZ),Ds(zk),Ds(qu),Ds(Ya),Ds(Xo))},zK.\u0275cmp=Et({type:zK,selectors:[["kendo-grid-column-chooser"]],inputs:{autoSync:"autoSync",allowHideAll:"allowHideAll"},decls:5,vars:1,consts:[["type","button",1,"k-button","k-bare","k-button-icon",3,"click"],["anchor",""],[1,"k-icon","k-i-columns"],["template",""],[1,"k-column-chooser-title"],[3,"columns","applyText","resetText","autoSync","allowHideAll","apply","columnChange"]],template:function(e,t){if(1&e){var n=Gs();Ls(0,"button",0,1),Ws("click",(function(){Xt(n);var e=Ps(1),i=Ps(4);return t.toggle(e,i)})),Ns(2,"span",2),Vs(),Rs(3,sG,3,6,"ng-template",null,3,wu)}2&e&&As("title",t.localization.get("columns"))},directives:[SQ],encapsulation:2}),zK),OQ=((MK=function(){function e(){_classCallCheck(this,e),this.closeMenu=new tu}return _createClass(e,[{key:"close",value:function(){this.closeMenu.emit()}}]),e}()).\u0275fac=function(e){return new(e||MK)},MK.\u0275prov=xe({token:MK,factory:MK.\u0275fac}),MK),IQ=((FK=function(){function e(){_classCallCheck(this,e),this.hostClass=!0}return _createClass(e,[{key:"ngOnInit",value:function(){if(Ci()&&!this.service)throw new Error("The service input of the predefined column menu components is mandatory.")}},{key:"close",value:function(){this.service.close()}}]),e}()).\u0275fac=function(e){return new(e||FK)},FK.\u0275dir=Mt({type:FK,hostVars:2,hostBindings:function(e,t){2&e&&sa("k-columnmenu-item-wrapper",t.hostClass)},inputs:{service:"service"}}),FK),EQ=((DK=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).localization=e,r.columnInfoService=n,r.changeDetector=i,r.expand=new tu,r.collapse=new tu,r.expanded=!1,r.actionsClass="k-columnmenu-actions",r}return _inherits(t,e),_createClass(t,[{key:"onApply",value:function(e){this.close(),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}},{key:"columns",get:function(){return this.columnInfoService.leafNamedColumns}}]),t}(IQ)).\u0275fac=function(e){return new(e||DK)(Ds(jy),Ds(ZZ),Ds(Xo))},DK.\u0275cmp=Et({type:DK,selectors:[["kendo-grid-columnmenu-chooser"]],inputs:{expanded:"expanded"},outputs:{expand:"expand",collapse:"collapse"},features:[Sa],decls:2,vars:2,consts:[["icon","columns",3,"text","expanded","collapse","expand"],["kendoGridColumnMenuItemContentTemplate",""],[3,"applyText","resetText","columns","autoSync","allowHideAll","actionsClass","apply"]],template:function(e,t){1&e&&(Ls(0,"kendo-grid-columnmenu-item",0),Ws("collapse",(function(){return t.collapse.emit()}))("expand",(function(){return t.expand.emit()})),Rs(1,aG,1,6,"ng-template",1),Vs()),2&e&&Ms("text",t.localization.get("columns"))("expanded",t.expanded)},directives:function(){return[PQ,RQ,SQ]},encapsulation:2}),DK),AQ=((PK=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).localization=e,n.expand=new tu,n.collapse=new tu,n.expanded=!1,n.actionsClass="k-columnmenu-actions",n}return _inherits(t,e),t}(IQ)).\u0275fac=function(e){return new(e||PK)(Ds(jy))},PK.\u0275cmp=Et({type:PK,selectors:[["kendo-grid-columnmenu-filter"]],inputs:{expanded:"expanded"},outputs:{expand:"expand",collapse:"collapse"},features:[Sa],decls:2,vars:2,consts:[["icon","filter",3,"text","expanded","collapse","expand"],["kendoGridColumnMenuItemContentTemplate",""],[3,"column","filter","actionsClass","close"]],template:function(e,t){1&e&&(Ls(0,"kendo-grid-columnmenu-item",0),Ws("collapse",(function(){return t.collapse.emit()}))("expand",(function(){return t.expand.emit()})),Rs(1,lG,1,3,"ng-template",1),Vs()),2&e&&Ms("text",t.localization.get("filter"))("expanded",t.expanded)},directives:function(){return[PQ,RQ,pQ]},encapsulation:2}),PK),RQ=((RK=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||RK)(Ds(vl,8))},RK.\u0275dir=Mt({type:RK,selectors:[["","kendoGridColumnMenuItemContentTemplate",""]]}),RK),PQ=((AK=function(){function e(){_classCallCheck(this,e),this.itemClick=new tu,this.expand=new tu,this.collapse=new tu,this.contentState="collapsed"}return _createClass(e,[{key:"ngOnChanges",value:function(e){e.expanded&&this.updateContentState()}},{key:"onClick",value:function(e){this.itemClick.emit(e),this.contentTemplate&&(this.expanded=!this.expanded,this.updateContentState(),this.expanded?this.expand.emit():this.collapse.emit())}},{key:"updateContentState",value:function(){this.contentState=this.expanded?"expanded":"collapsed"}},{key:"iconClass",get:function(){return"k-i-".concat(this.icon)}}]),e}()).\u0275fac=function(e){return new(e||AK)},AK.\u0275cmp=Et({type:AK,selectors:[["kendo-grid-columnmenu-item"]],contentQueries:function(e,t,n){var i;1&e&&gu(n,RQ,!0),2&e&&fu(i=ku())&&(t.contentTemplate=i.first)},inputs:{expanded:"expanded",icon:"icon",text:"text",selected:"selected",disabled:"disabled"},outputs:{itemClick:"itemClick",expand:"expand",collapse:"collapse"},features:[Ra()],decls:4,vars:7,consts:[[1,"k-columnmenu-item",3,"click"],["class","k-icon",3,"ngClass",4,"ngIf"],["style","overflow:hidden;","class","k-columnmenu-item-content",4,"ngIf"],[1,"k-icon",3,"ngClass"],[1,"k-columnmenu-item-content",2,"overflow","hidden"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&(Ls(0,"div",0),Ws("click",(function(e){return t.onClick(e)})),Rs(1,uG,1,1,"span",1),ya(2),Vs(),Rs(3,cG,3,2,"div",2)),2&e&&(sa("k-state-selected",t.selected)("k-state-disabled",t.disabled),wr(1),Ms("ngIf",t.icon),wr(1),ba(" ",t.text," "),wr(1),Ms("ngIf",t.contentTemplate))},directives:[zc,Pc,th],encapsulation:2,data:{animation:[Bh("state",[Uh("collapsed",Gh({display:"none"})),Uh("expanded",Gh({display:"block"})),Wh("collapsed => expanded",[Gh({height:"0px",display:"block"}),jh("100ms ease-in",Gh({height:"*"}))]),Wh("expanded => collapsed",[Gh({height:"*"}),jh("100ms ease-in",Gh({height:"0px"}))])])]}}),AK),DQ=((EK=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).localization=e,i.sortService=n,i}return _inherits(t,e),_createClass(t,[{key:"toggleSort",value:function(e){var t=this.service.column.field,n=YX(this.service.sortable),i=n.mode,r=n.allowUnsort,o=this.descriptor,s="multiple"===i?this.service.sort.filter((function(e){return e.field!==t})):[];if(o&&o.dir===e){if(!r)return}else s.push({field:t,dir:e});this.sortService.sort(s),this.close()}},{key:"sortedAsc",get:function(){var e=this.descriptor;return e&&(!e.dir||"asc"===e.dir)}},{key:"sortedDesc",get:function(){var e=this.descriptor;return e&&"desc"===e.dir}},{key:"descriptor",get:function(){var e=this;return[].concat(this.service.sort||[]).find((function(t){return t.field===e.service.column.field}))}}]),t}(IQ)).\u0275fac=function(e){return new(e||EK)(Ds(jy),Ds($Z))},EK.\u0275cmp=Et({type:EK,selectors:[["kendo-grid-columnmenu-sort"]],features:[Sa],decls:2,vars:4,consts:[["icon","sort-asc-sm",3,"text","selected","itemClick"],["icon","sort-desc-sm",3,"text","selected","itemClick"]],template:function(e,t){1&e&&(Ls(0,"kendo-grid-columnmenu-item",0),Ws("itemClick",(function(){return t.toggleSort("asc")})),Vs(),Ls(1,"kendo-grid-columnmenu-item",1),Ws("itemClick",(function(){return t.toggleSort("desc")})),Vs()),2&e&&(Ms("text",t.localization.get("sortAscending"))("selected",t.sortedAsc),wr(1),Ms("text",t.localization.get("sortDescending"))("selected",t.sortedDesc))},directives:[PQ],encapsulation:2}),EK),FQ=((IK=function(){function e(t,n,i){_classCallCheck(this,e),this.popupService=t,this.localization=n,this.service=i,this.standalone=!0,this.settings={},this.sortable=!0,this.expandedFilter=!1,this.expandedColumns=!1,this.closeSubscription=i.closeMenu.subscribe(this.close.bind(this))}return _createClass(e,[{key:"ngOnChanges",value:function(){this.service.column=this.column,this.service.sort=this.sort,this.service.filter=this.filter,this.service.sortable=this.sortable}},{key:"ngOnDestroy",value:function(){this.close(),this.closeSubscription.unsubscribe()}},{key:"toggle",value:function(e,t,n){e.preventDefault(),this.expandedFilter=!this.hasColumnChooser,this.expandedColumns=!this.hasFilter,this.popupRef=this.popupService.open(t,n,this.popupRef,"k-grid-columnmenu-popup")}},{key:"close",value:function(){this.popupService.destroy(),this.popupRef=null}},{key:"onColumnsExpand",value:function(){this.expandedColumns=!0,this.expandedFilter=!1}},{key:"onFilterExpand",value:function(){this.expandedFilter=!0,this.expandedColumns=!1}},{key:"isActive",get:function(){var e=this;return this.hasFilter&&EY(this.filter,this.column.field).length>0||!this.sortable&&this.hasSort&&this.sort.find((function(t){return t.field===e.column.field}))}},{key:"hasFilter",get:function(){return XX(this.settings,this.column)}},{key:"hasSort",get:function(){return QX(this.settings,this.column)}},{key:"hasColumnChooser",get:function(){return eQ(this.settings)}},{key:"hasLock",get:function(){return JX(this.settings,this.column)}}]),e}()).\u0275fac=function(e){return new(e||IK)(Ds(hZ),Ds(jy),Ds(OQ))},IK.\u0275cmp=Et({type:IK,selectors:[["kendo-grid-column-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&sa("k-grid-column-menu-standalone",t.standalone)},inputs:{standalone:"standalone",settings:"settings",sortable:"sortable",column:"column",sort:"sort",filter:"filter",columnMenuTemplate:"columnMenuTemplate"},features:[Ha([OQ]),Ra()],decls:7,vars:4,consts:[["href","#","tabindex","-1",1,"k-grid-column-menu","k-grid-filter",3,"ngClass","click"],["anchor",""],[1,"k-icon","k-i-more-vertical"],["template",""],["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"service",4,"ngIf"],[3,"service","expanded","expand",4,"ngIf"],[3,"service"],[3,"service","expanded","expand"]],template:function(e,t){if(1&e){var n=Gs();Ls(0,"a",0,1),Ws("click",(function(e){Xt(n);var i=Ps(1),r=Ps(4);return t.toggle(e,i,r)})),Ns(2,"span",2),Vs(),Rs(3,fG,1,5,"ng-template",null,3,wu),Rs(5,mG,4,4,"ng-template",null,4,wu)}2&e&&(Ms("ngClass",jl(2,yG,t.isActive)),As("title",t.localization.get("columnMenu")))},directives:function(){return[Pc,th,zc,DQ,MQ,EQ,AQ]},encapsulation:2}),IK),MQ=((OK=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).localization=e,r.columnInfoService=n,r.changeDetector=i,r}return _inherits(t,e),_createClass(t,[{key:"toggleColumn",value:function(){this.toggleHierarchy(!this.locked),this.close(),this.changeDetector.markForCheck()}},{key:"toggleHierarchy",value:function(e){for(var t=this.service.column;t.parent;)t=t.parent;for(var n=[t],i=[];n.length;){var r=n.shift();r.locked=e,i.push(r),r.hasChildren&&n.push.apply(n,_toConsumableArray(r.childrenArray))}this.columnInfoService.changeLocked(i)}},{key:"text",get:function(){return this.localization.get(this.locked?"unlock":"lock")}},{key:"icon",get:function(){return this.locked?"unlock":"lock"}},{key:"disabled",get:function(){return!this.locked&&this.columnInfoService.unlockedRootCount<2}},{key:"locked",get:function(){return this.service.column.locked}}]),t}(IQ)).\u0275fac=function(e){return new(e||OK)(Ds(jy),Ds(ZZ),Ds(Xo))},OK.\u0275cmp=Et({type:OK,selectors:[["kendo-grid-columnmenu-lock"]],features:[Sa],decls:1,vars:3,consts:[[3,"text","icon","disabled","itemClick"]],template:function(e,t){1&e&&(Ls(0,"kendo-grid-columnmenu-item",0),Ws("itemClick",(function(){return t.toggleColumn()})),Vs()),2&e&&Ms("text",t.text)("icon",t.icon)("disabled",t.disabled)},directives:[PQ],encapsulation:2}),OK),zQ=((TK=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[TQ,AQ,PQ,RQ,DQ,MQ,EQ,EU,FQ]}}]),e}()).\u0275mod=Dt({type:TK}),TK.\u0275inj=Te({factory:function(e){return new(e||TK)},imports:[[ih,xQ]]}),TK),LQ=[ih,$X,CX,xQ,gX,ZX,zQ],VQ=((oY=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[OU,uQ]}}]),e}()).\u0275mod=Dt({type:oY}),oY.\u0275inj=Te({factory:function(e){return new(e||oY)},imports:[[].concat(LQ)]}),oY),NQ=((rY=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).parent=e,n}return _inherits(t,e),_createClass(t,[{key:"templateRef",get:function(){return this.template?this.template.templateRef:void 0}}]),t}(PU)).\u0275fac=function(e){return new(e||rY)(Ds(PU,13))},rY.\u0275cmp=Et({type:rY,selectors:[["kendo-grid-command-column"]],contentQueries:function(e,t,n){var i;1&e&&gu(n,CU,!0),2&e&&fu(i=ku())&&(t.template=i.first)},features:[Ha([{provide:PU,useExisting:Ve((function(){return rY}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),rY),BQ=((iY=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).parent=e,n.isCheckboxColumn=!0,n}return _inherits(t,e),_createClass(t,[{key:"templateRef",get:function(){return this.template?this.template.templateRef:void 0}}]),t}(PU)).\u0275fac=function(e){return new(e||iY)(Ds(PU,13))},iY.\u0275cmp=Et({type:iY,selectors:[["kendo-grid-checkbox-column"]],contentQueries:function(e,t,n){var i;1&e&&gu(n,CU,!0),2&e&&fu(i=ku())&&(t.template=i.first)},inputs:{showSelectAll:"showSelectAll"},features:[Ha([{provide:PU,useExisting:Ve((function(){return iY}))}]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),iY),jQ=((nY=function(){function e(t,n,i,r){var o=this;_classCallCheck(this,e),this.selectionService=t,this.el=n,this.renderer=i,this.ngZone=r,this.type="checkbox",this.ngZone.runOutsideAngular((function(){o.destroyClick=o.renderer.listen(o.el.nativeElement,"click",o.onClick.bind(o)),o.destroyKeyDown=o.renderer.listen(o.el.nativeElement,"keydown",o.onKeyDown.bind(o))}))}return _createClass(e,[{key:"ngAfterContentChecked",value:function(){this.setCheckedState()}},{key:"ngOnDestroy",value:function(){this.destroyClick&&this.destroyClick(),this.destroyKeyDown&&this.destroyKeyDown()}},{key:"onClick",value:function(){var e=this;this.selectionService.options.enabled&&this.ngZone.run((function(){var t=e.selectionService.toggleByIndex(e.itemIndex);t.ctrlKey=!0,t.shiftKey=!1,e.selectionService.changes.emit(t)}))}},{key:"onKeyDown",value:function(e){e.keyCode===Bm.Enter&&this.onClick()}},{key:"setCheckedState",value:function(){this.renderer.setProperty(this.el.nativeElement,"checked",this.selectionService.isSelected(this.itemIndex))}}]),e}()).\u0275fac=function(e){return new(e||nY)(Ds(pq),Ds(qa),Ds(Ya),Ds(qu))},nY.\u0275dir=Mt({type:nY,selectors:[["","kendoGridSelectionCheckbox",""]],hostVars:1,hostBindings:function(e,t){2&e&&As("type",t.type)},inputs:{itemIndex:["kendoGridSelectionCheckbox","itemIndex"]}}),nY),HQ=((tY=function(){function e(t,n,i,r,o,s,a,l,u,c,h,f){var d=this;_classCallCheck(this,e),this.detailsService=t,this.groupsService=n,this.changeNotification=i,this.editService=r,this.localization=o,this.ngZone=s,this.renderer=a,this.element=l,this.domEvents=u,this.selectionService=c,this.columnInfoService=h,this.navigationService=f,this.columns=[],this.groups=[],this.skip=0,this.noRecordsText=this.localization.get("noRecords"),this.isLocked=!1,this.skipGroupDecoration=!1,this.showGroupFooters=!1,this.lockedColumnsCount=0,this.totalColumnsCount=0,this.trackBy=XZ,this.rowClass=function(){return null},this.cellKeydownSubscription=this.navigationService.cellKeydown.subscribe((function(e){return d.cellKeydownHandler(e)})),this.trackByWrapper=this.trackByWrapper.bind(this),this.trackByColumns=this.trackByColumns.bind(this)}return _createClass(e,[{key:"toggleRow",value:function(e,t){return this.detailsService.toggleRow(e,t),!1}},{key:"isExpanded",value:function(e){return this.detailsService.isExpanded(e)}},{key:"detailButtonStyles",value:function(e){return this.isExpanded(e)?"k-minus":"k-plus"}},{key:"detailButtonTitle",value:function(e){var t=this.isExpanded(e)?"detailCollapse":"detailExpand";return this.localization.get(t)}},{key:"isGroup",value:function(e){return"group"===e.type}},{key:"isDataItem",value:function(e){return!this.isGroup(e)&&!this.isFooter(e)}},{key:"isFooter",value:function(e){return"footer"===e.type}},{key:"isInExpandedGroup",value:function(e){return this.groupsService.isInExpandedGroup(e.groupIndex,!1)}},{key:"isParentGroupExpanded",value:function(e){return this.groupsService.isInExpandedGroup(e.index||e.groupIndex)}},{key:"isOdd",value:function(e){return e.index%2!=0}},{key:"isSelectable",value:function(){return this.selectable&&!1!==this.selectable.enabled}},{key:"isRowSelected",value:function(e){return this.selectionService.isSelected(e.index)}},{key:"trackByWrapper",value:function(e,t){return"data"===t.type&&(t.isEditing=this.editService.hasEdited(t.index)),this.trackBy(e,t)}},{key:"trackByColumns",value:function(e,t){return this.virtualColumns?e:t}},{key:"ngDoCheck",value:function(){this.groupHeaderColumns=this.hasGroupHeaderColumn?uW(this.skipGroupDecoration?this.columns:this.columns.toArray().slice(1)):[],this.groupHeaderSlaveCellsCount=this.isLocked?this.hasGroupHeaderColumn?this.columnsContainer.nonLockedColumnsToRender.length:1:0}},{key:"ngOnChanges",value:function(e){Cm("columns",e,!1)&&this.changeNotification.notify()}},{key:"logicalRowIndex",value:function(e){var t=this.skip+e;this.hasDetailTemplate&&(t*=2);var n=1+t,i=this.editService.hasNewItem?1:0,r=uZ(this.filterable)?1:0;return n+(this.columnInfoService.totalLevels+r+i)}},{key:"addRowLogicalIndex",value:function(){return this.columnInfoService.totalLevels+1}},{key:"logicalColIndex",value:function(e){return FU(e.leafIndex)?e.leafIndex+(this.hasDetailTemplate?1:0):-1}},{key:"ngOnInit",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){var t=e.clickHandler.bind(e),n=e.renderer.listen(e.element.nativeElement,"mousedown",t),i=e.renderer.listen(e.element.nativeElement,"click",t),r=e.renderer.listen(e.element.nativeElement,"contextmenu",t);e.clickSubscription=function(){n(),i(),r()}}));var t=this.localization.get("noRecords");this.localization.changes.subscribe((function(){e.noRecordsText===t&&(e.noRecordsText=e.localization.get("noRecords"),t=e.noRecordsText)}))}},{key:"ngOnDestroy",value:function(){this.clickSubscription&&this.clickSubscription(),this.cellKeydownSubscription.unsubscribe(),clearTimeout(this.clickTimeout)}},{key:"isEditingCell",value:function(e,t){return this.editService.isEditing()&&this.editService.isEditedColumn(e,t)}},{key:"isEditingRow",value:function(e){return this.editService.isEditing()&&this.editService.hasEdited(e)}},{key:"showGroupHeader",value:function(e){return!e.data.skipHeader}},{key:"clickHandler",value:function(e){var t,n,i,r,o=this,s=this.element.nativeElement,a=e.target,l=a;do{t=eZ(l,Jq("td")),n=eZ(t,Jq("tr")),i=eZ(n,Jq("tbody")),r=tZ(l=i,Qq("k-grid"),s)}while(i&&i!==s&&!r);if(t&&!Xq(t,"k-hierarchy-cell k-detail-cell k-group-cell")&&!Xq(n,"k-grouping-row k-group-footer k-detail-row k-grid-norecords")&&i===s&&!r&&(this.editService.preventCellClose(),!(a!==t&&rZ(a,!1)||Jq("label")(a)||Xq(a,"k-icon")||tZ(a,Qq("k-widget k-grid-ignore-click"),t)))){var u=this.cellClickArgs(t,n,e);"mousedown"===e.type?this.domEvents.cellMousedown.emit(u):!u.isEditedColumn&&this.editService.closeCell(e)||("click"===e.type?this.clickTimeout=setTimeout((function(){o.emitCellClick(u)}),0):this.emitCellClick(u))}}},{key:"emitCellClick",value:function(e){this.domEvents.cellClick.emit(Object.assign(e,{isEdited:e.isEditedRow||e.isEditedColumn}))}},{key:"cellKeydownHandler",value:function(e){e.keyCode===Bm.Enter&&this.clickHandler(e)}},{key:"cellClickArgs",value:function(e,t,n){var i=function(e,t){for(var n=0,i=0;i<t.length;i++){if(t[i]===e)return n;Xq(t[i],"k-hierarchy-cell k-group-cell")||n++}}(e,t.cells),r=this.columns.toArray()[i],o=this.lockedColumnsCount+i,s=t.getAttribute("data-kendo-grid-item-index");return{column:r,columnIndex:o,dataItem:-1===(s=s?parseInt(s,10):-1)?this.editService.newDataItem:this.data.at(s-this.skip),isEditedColumn:this.editService.isEditedColumn(s,r),isEditedRow:this.editService.isEdited(s),originalEvent:n,rowIndex:s,type:"keydown"===n.type?"click":n.type}}},{key:"newDataItem",get:function(){return this.editService.newDataItem}},{key:"unlockedColumnsCount",get:function(){return this.totalColumnsCount-this.lockedColumnsCount-(this.allColumns||this.columns).length}},{key:"hasGroupHeaderColumn",get:function(){return this.columnsContainer.hasGroupHeaderColumn}},{key:"columnsContainer",get:function(){return this.columnInfoService.columnsContainer}},{key:"columnsSpan",get:function(){return fW(this.columns)}},{key:"allColumnsSpan",get:function(){return fW(this.allColumns||this.columns)}},{key:"colSpan",get:function(){return this.columnsSpan+this.groups.length+(this.hasDetailTemplate?1:0)}},{key:"footerColumns",get:function(){return this.isLocked?this.columnsContainer.lockedColumnsToRender:this.columnsContainer.nonLockedColumnsToRender}},{key:"hasDetailTemplate",get:function(){return FU(this.detailTemplate)}}]),e}()).\u0275fac=function(e){return new(e||tY)(Ds(wq),Ds(Sq),Ds(Rq),Ds(kq),Ds(jy),Ds(qu),Ds(Ya),Ds(qa),Ds(fq),Ds(pq),Ds(ZZ),Ds(GZ))},tY.\u0275cmp=Et({type:tY,selectors:[["","kendoGridTableBody",""]],inputs:{columns:"columns",groups:"groups",skip:"skip",noRecordsText:"noRecordsText",isLocked:"isLocked",skipGroupDecoration:"skipGroupDecoration",showGroupFooters:"showGroupFooters",lockedColumnsCount:"lockedColumnsCount",totalColumnsCount:"totalColumnsCount",trackBy:"trackBy",rowClass:"rowClass",allColumns:"allColumns",detailTemplate:"detailTemplate",noRecordsTemplate:"noRecordsTemplate",data:"data",selectable:"selectable",filterable:"filterable",virtualColumns:"virtualColumns"},features:[Ra()],attrs:kG,decls:3,vars:4,consts:[[3,"ngIf"],["class","k-grid-norecords",4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["kendoGridLogicalRow","",1,"k-grid-add-row","k-grid-edit-row",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["class","k-hierarchy-cell","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex",4,"ngIf"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","isNew","column","dataItem","ngClass","ngStyle","logicalRowIndex","logicalColIndex","colSpan",4,"ngFor","ngForOf","ngForTrackBy"],["class","k-group-cell","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell"],["kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell",3,"logicalRowIndex","logicalColIndex"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","isNew","column","dataItem","ngClass","ngStyle","logicalRowIndex","logicalColIndex","colSpan"],[1,"k-grid-norecords"],[3,"ngIf","templateContext"],[4,"ngIf"],["kendoGridGroupHeader","","kendoGridLogicalRow","",3,"columns","groups","item","hasDetails","skipGroupDecoration","hasGroupHeaderColumn","groupHeaderColumns","rowIndex","totalColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","ngClass","k-alt","k-master-row","k-grid-edit-row","k-state-selected",4,"ngIf"],["class","k-detail-row","kendoGridLogicalRow","",3,"k-alt","dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount",4,"ngIf"],["class","k-group-footer","kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridGroupHeader","","kendoGridLogicalRow","",3,"columns","groups","item","hasDetails","skipGroupDecoration","hasGroupHeaderColumn","groupHeaderColumns","rowIndex","totalColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","ngClass"],["class","k-hierarchy-cell","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","detailExpandCell",4,"ngIf"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell","aria-selected","false",3,"rowIndex","columnIndex","column","dataItem","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","ngClass","k-grid-edit-cell","ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","detailExpandCell"],["class","k-icon","href","#","tabindex","-1",3,"ngClass","click",4,"ngIf"],["href","#","tabindex","-1",1,"k-icon",3,"ngClass","click"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell","aria-selected","false",3,"rowIndex","columnIndex","column","dataItem","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","ngClass","ngStyle"],["kendoGridLogicalRow","",1,"k-detail-row",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount"],["class","k-group-cell",4,"ngFor","ngForOf"],[1,"k-hierarchy-cell"],["kendoGridLogicalCell","","role","gridcell","aria-selected","false",1,"k-detail-cell",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","colIndex","colSpan"],[3,"templateContext"],[1,"k-group-cell"],["kendoGridLogicalRow","",1,"k-group-footer",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex"]],template:function(e,t){1&e&&(Rs(0,xG,4,8,"ng-template",0),Rs(1,IG,4,6,"tr",1),Rs(2,$G,4,4,"ng-template",2)),2&e&&(Ms("ngIf",t.editService.hasNewItem),wr(1),Ms("ngIf",0===(null==t.data?null:t.data.length)||null==t.data),wr(1),Ms("ngForOf",t.data)("ngForTrackBy",t.trackByWrapper))},directives:function(){return[zc,Fc,aX,oX,GQ,Pc,eh,nX,FX]},encapsulation:2}),tY),GQ=((eY=function(){function e(t,n,i){_classCallCheck(this,e),this.editService=t,this.idService=n,this.cellContext=i,this.isNew=!1,this._templateContext={},this._editTemplateContext={}}return _createClass(e,[{key:"ngDoCheck",value:function(){this.updateCellContext()}},{key:"ngOnChanges",value:function(e){this.updateTemplateContext()}},{key:"isCommand",value:function(e){return e instanceof NQ}},{key:"isFieldEditable",value:function(e,t){return!!FU(e)&&(!!FU(t.editTemplate)||FU(e.group)&&FU(e.group.get(t.field)))}},{key:"updateCellContext",value:function(){this.cellContext&&(this.cellContext.rowIndex=this._rowIndex)}},{key:"updateTemplateContext",value:function(){if(this.column.templateRef){var e=this._templateContext;e.isNew=this.isNew,e.column=this.column,e.dataItem=this.dataItem,e.rowIndex=this.rowIndex,e.columnIndex=this.columnIndex,e.$implicit=this.dataItem}}},{key:"commandCellClass",get:function(){return this.isCommand(this.column)}},{key:"rowIndex",set:function(e){this._rowIndex=e,this.updateCellContext()},get:function(){return this._rowIndex}},{key:"isEdited",get:function(){if(!this.editService.isEditing()&&!this.isNew||!this.isColumnEditable)return!1;var e=this.editService.columnContext(this.rowIndex,this.column);return this.isFieldEditable(e,this.column)}},{key:"formGroup",get:function(){return this.editService.context(this.rowIndex).group}},{key:"templateContext",get:function(){return this._templateContext}},{key:"editTemplateContext",get:function(){return this._editTemplateContext.$implicit=this.formGroup,this._editTemplateContext.isNew=this.isNew,this._editTemplateContext.column=this.column,this._editTemplateContext.dataItem=this.dataItem,this._editTemplateContext.formGroup=this.formGroup,this._editTemplateContext.rowIndex=this.rowIndex,this._editTemplateContext}},{key:"format",get:function(){if(nW(this.column)&&!VU(this.column.format))return GU(this.column.format)}},{key:"isBoundColumn",get:function(){return this.column.field&&!this.column.templateRef}},{key:"isCheckboxColumn",get:function(){return RU(this.column)&&!this.column.templateRef}},{key:"selectionCheckboxId",get:function(){return this.idService.selectionCheckboxId(this.rowIndex)}},{key:"isSpanColumn",get:function(){return AU(this.column)&&!this.column.templateRef}},{key:"childColumns",get:function(){return uW([this.column])}},{key:"isColumnEditable",get:function(){return!(!this.column||this.isCommand(this.column))&&!1!==this.column.editable}}]),e}()).\u0275fac=function(e){return new(e||eY)(Ds(kq),Ds(qZ),Ds(Mq,8))},eY.\u0275cmp=Et({type:eY,selectors:[["","kendoGridCell",""]],hostVars:2,hostBindings:function(e,t){2&e&&sa("k-command-cell",t.commandCellClass)},inputs:{isNew:"isNew",rowIndex:"rowIndex",column:"column",columnIndex:"columnIndex",dataItem:"dataItem"},features:[Ra()],attrs:KG,decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngIf"],["ngFor","",3,"ngForOf"],[1,"k-checkbox",3,"kendoGridSelectionCheckbox"],[1,"k-checkbox-label"],[4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["kendoGridFocusable","",3,"format","formControl",4,"ngSwitchCase"],["type","checkbox","kendoGridFocusable","",3,"formControl",4,"ngSwitchCase"],["type","text","class","k-textbox","kendoGridFocusable","",3,"formControl",4,"ngSwitchDefault"],["kendoGridFocusable","",3,"format","formControl"],["type","checkbox","kendoGridFocusable","",3,"formControl"],["type","text","kendoGridFocusable","",1,"k-textbox",3,"formControl"]],template:function(e,t){1&e&&(Bs(0,0),Rs(1,tU,5,6,"ng-container",1),Rs(2,uU,3,2,"ng-container",1),js()),2&e&&(Ms("ngSwitch",t.isEdited),wr(1),Ms("ngSwitchCase",!1),wr(1),Ms("ngSwitchCase",!0))},directives:[Xc,Qc,zc,th,Fc,jQ,EZ,Jc,bD,Pp,Xv,SV,bp,wp],pipes:[uX],encapsulation:2}),eY),UQ=((JK=function(e){function t(e,n,i,r,o,s){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,i,r,null,o,s))).editService=e,a.cellContext=n,a.commandClass=!0,a}return _inherits(t,e),_createClass(t,[{key:"onClick",value:function(e){e.preventDefault(),this.editService.beginEdit(this.rowIndex)}},{key:"ngDoCheck",value:function(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}},{key:"visible",get:function(){return this.isEdited?"none":""}}]),t}(KV)).\u0275fac=function(e){return new(e||JK)(Ds(kq),Ds(Mq),Ds(qa),Ds(Ya),Ds(jy),Ds(qu))},JK.\u0275dir=Mt({type:JK,selectors:[["","kendoGridEditCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&Ws("click",(function(e){return t.onClick(e)})),2&e&&(oa("display",t.visible),sa("k-grid-edit-command",t.commandClass))},features:[Sa]}),JK),WQ=((QK=function(e){function t(e,n,i,r,o,s){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,i,r,null,o,s))).editService=e,a.cellContext=n,a.commandClass=!0,a}return _inherits(t,e),_createClass(t,[{key:"onClick",value:function(e){e.preventDefault(),this.isEdited&&this.editService.endEdit(this.rowIndex)}},{key:"ngDoCheck",value:function(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}},{key:"visible",get:function(){return this.isEdited?"":"none"}}]),t}(KV)).\u0275fac=function(e){return new(e||QK)(Ds(kq),Ds(Mq),Ds(qa),Ds(Ya),Ds(jy),Ds(qu))},QK.\u0275dir=Mt({type:QK,selectors:[["","kendoGridCancelCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&Ws("click",(function(e){return t.onClick(e)})),2&e&&(oa("display",t.visible),sa("k-grid-cancel-command",t.commandClass))},features:[Sa]}),QK),qQ=((XK=function(e){function t(e,n,i,r,o,s){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,i,r,null,o,s))).editService=e,a.cellContext=n,a.commandClass=!0,a}return _inherits(t,e),_createClass(t,[{key:"onClick",value:function(e){e.preventDefault(),this.isEdited&&this.editService.save(this.rowIndex)}},{key:"ngDoCheck",value:function(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}},{key:"visible",get:function(){return this.isEdited?"":"none"}}]),t}(KV)).\u0275fac=function(e){return new(e||XK)(Ds(kq),Ds(Mq),Ds(qa),Ds(Ya),Ds(jy),Ds(qu))},XK.\u0275dir=Mt({type:XK,selectors:[["","kendoGridSaveCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&Ws("click",(function(e){return t.onClick(e)})),2&e&&(oa("display",t.visible),sa("k-grid-save-command",t.commandClass))},features:[Sa]}),XK),ZQ=((YK=function(e){function t(e,n,i,r,o,s){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,i,r,null,o,s))).editService=e,a.cellContext=n,a.commandClass=!0,a}return _inherits(t,e),_createClass(t,[{key:"onClick",value:function(e){e.preventDefault(),this.editService.remove(this.rowIndex)}},{key:"ngDoCheck",value:function(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}},{key:"visible",get:function(){return this.isEdited?"none":""}}]),t}(KV)).\u0275fac=function(e){return new(e||YK)(Ds(kq),Ds(Mq),Ds(qa),Ds(Ya),Ds(jy),Ds(qu))},YK.\u0275dir=Mt({type:YK,selectors:[["","kendoGridRemoveCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&Ws("click",(function(e){return t.onClick(e)})),2&e&&(oa("display",t.visible),sa("k-grid-remove-command",t.commandClass))},features:[Sa]}),YK),$Q=((KK=function(e){function t(e,n,i,r,o){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n,i,null,r,o))).editService=e,s}return _inherits(t,e),_createClass(t,[{key:"onClick",value:function(e){e.preventDefault(),this.editService.beginAdd()}},{key:"commandClass",get:function(){return!0}}]),t}(KV)).\u0275fac=function(e){return new(e||KK)(Ds(kq),Ds(qa),Ds(Ya),Ds(jy),Ds(qu))},KK.\u0275dir=Mt({type:KK,selectors:[["","kendoGridAddCommand",""]],hostVars:2,hostBindings:function(e,t){1&e&&Ws("click",(function(e){return t.onClick(e)})),2&e&&sa("k-grid-add-command",t.commandClass)},features:[Sa]}),KK),KQ=[ih,tg,eg,gX,$X,TD,ZV],YQ=((aY=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[NQ,BQ,jQ,CU,Pq,SU,UQ,WQ,qQ,ZQ,$Q]}}]),e}()).\u0275mod=Dt({type:aY}),aY.\u0275inj=Te({factory:function(e){return new(e||aY)},imports:[[].concat(KQ)]}),aY),XQ=((sY=function(){function e(){_classCallCheck(this,e),this.columns=[],this.groups=[],this.lockedColumnsCount=0}return _createClass(e,[{key:"footerClass",get:function(){return!this.scrollable}},{key:"columnsToRender",get:function(){return uW(this.columns||[])}}]),e}()).\u0275fac=function(e){return new(e||sY)},sY.\u0275cmp=Et({type:sY,selectors:[["","kendoGridFooter",""]],hostVars:2,hostBindings:function(e,t){2&e&&sa("k-grid-footer",t.footerClass)},inputs:{columns:"columns",groups:"groups",lockedColumnsCount:"lockedColumnsCount",detailTemplate:"detailTemplate",scrollable:"scrollable"},attrs:cU,decls:1,vars:1,consts:[[3,"ngIf"],[3,"k-group-cell",4,"ngFor","ngForOf"],[3,"k-hierarchy-cell",4,"ngIf"],[3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[3,"ngClass","ngStyle"],[3,"templateContext"]],template:function(e,t){1&e&&Rs(0,vU,4,5,"ng-template",0),2&e&&Ms("ngIf",!0)},directives:[zc,Fc,Pc,eh,nX],encapsulation:2}),sY),QQ=[ih,gX],JQ=((cY=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[]}}]),e}()).\u0275mod=Dt({type:cY}),cY.\u0275inj=Te({factory:function(e){return new(e||cY)},imports:[[].concat(QQ)]}),cY),eJ=((uY=function(){function e(t){_classCallCheck(this,e),this.grid=t,this.context={}}return _createClass(e,[{key:"classNames",get:function(){return"k-header k-grid-toolbar"}},{key:"position",set:function(e){this.context.position=e}},{key:"toolbarTemplateRef",get:function(){return this.grid.toolbarTemplate?this.grid.toolbarTemplate.templateRef:void 0}}]),e}()).\u0275fac=function(e){return new(e||uY)(Ds(n$))},uY.\u0275cmp=Et({type:uY,selectors:[["kendo-grid-toolbar"]],hostVars:2,hostBindings:function(e,t){2&e&&aa(t.classNames)},inputs:{position:"position"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&Rs(0,mU,1,2,void 0,0),2&e&&Ms("ngIf",t.toolbarTemplateRef)},directives:[zc,th],encapsulation:2}),uY),tJ=((lY=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:lY}),lY.\u0275inj=Te({factory:function(e){return new(e||lY)},imports:[[ih,$X,gX,YQ,VQ,JQ,DX,CX,xQ,Vm,zQ]]}),lY),nJ=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).workbook=e,n}return _inherits(t,e),t}(gq),iJ=function(e){return{data:e.view.map((function(e){return e})),group:e.group}},rJ=function(e){var t=function e(t){var n=[];return gW(t).forEach((function(t){if(t.isSpanColumn)n.push.apply(n,_toConsumableArray(e(t.childrenArray)));else{var i=function(e){return{title:e.title,field:e.field,locked:Boolean(e.locked),width:e.width,level:e.level,hidden:!e.isVisible,groupHeaderTemplate:e.groupHeaderTemplate,groupHeaderColumnTemplate:e.groupHeaderColumnTemplate,groupFooterTemplate:e.groupFooterTemplate,footerTemplate:e.footerTemplate}}(t);t.isColumnGroup&&(i.children=[i].concat(e(t.childrenArray))),n.push(i)}})),n}(e.columns.toArray());return Fy(t,[{field:"locked",dir:"desc"}])},oJ=((fY=function(){function e(t,n,i){_classCallCheck(this,e),this.localization=n,this.zone=i,this.fileName="Export.xlsx",this.columns=new iu,this.saveSubscription=t.saveToExcel.subscribe(this.save.bind(this))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.saveSubscription.unsubscribe(),this.dataSubscription&&this.dataSubscription.unsubscribe()}},{key:"save",value:function(e){var t=this,n=(this.fetchData||iJ)(e),i=function(n){delete t.dataSubscription,t.exportData(e,n)};n instanceof Promise?n.then(i):n instanceof M?this.dataSubscription=n.pipe(Og(1)).subscribe(i):i(n)}},{key:"exportData",value:function(e,t){var n=this,i=function(e){var t,n,i,r=(t=e.columns,i=0,function e(t,n,r){t.forEach((function(t){if(t.level===r){var o=new mB(t,i);if(n.push(o),t.children&&t.children.some((function(e){return e!==t}))){var s=o.columns=[];e(t.children,s,r+1)}else i++}}))}(t,n=[],0),n),o=new(function(){function e(t){_classCallCheck(this,e),t.columns=this._trimColumns(t.columns||[]),this.allColumns=pN(this._leafColumns(t.columns||[]),this._prepareColumn),this.columns=this.allColumns.filter((function(e){return!e.hidden})),this.options=t,this.data=t.data||[],this.aggregates=t.aggregates||{},this.groups=[].concat(t.groups||[]),this.hasGroups=this.groups.length>0,this.hierarchy=t.hierarchy,this.hasGroupHeaderColumn=this.columns.some((function(e){return e.groupHeaderColumnTemplate})),this.collapsible=this.options.collapsible}return _createClass(e,[{key:"workbook",value:function(){return{sheets:[{columns:this._columns(),rows:this.hierarchy?this._hierarchyRows():this._rows(),freezePane:this._freezePane(),filter:this._filter()}]}}},{key:"_trimColumns",value:function(e){var t=this;return e.filter((function(e){var n=Boolean(e.field);return!n&&e.columns&&(n=t._trimColumns(e.columns).length>0),n}))}},{key:"_leafColumns",value:function(e){for(var t=[],n=0;n<e.length;n++)e[n].columns?t=t.concat(this._leafColumns(e[n].columns)):t.push(e[n]);return t}},{key:"_prepareColumn",value:function(e){if(!e.field)return null;var t=function(t){return dN(e.field)(t)},n=null;return e.values&&(n={},e.values.forEach((function(e){n[e.value]=e.text})),t=function(t){return n[dN(e.field)(t)]}),Object.assign({},e,{value:t,values:n,groupHeaderTemplate:e.groupHeaderTemplate?cN.compile(e.groupHeaderTemplate):vN,groupHeaderColumnTemplate:e.groupHeaderColumnTemplate?cN.compile(e.groupHeaderColumnTemplate):null,groupFooterTemplate:e.groupFooterTemplate?cN.compile(e.groupFooterTemplate):null,footerTemplate:e.footerTemplate?cN.compile(e.footerTemplate):null})}},{key:"_filter",value:function(){if(!this.options.filterable)return null;var e=this._depth();return{from:e,to:e+this.columns.length-1}}},{key:"_createPaddingCells",value:function(e){var t=this;return gN(e,(function(){return Object.assign({background:"#dfdfdf",color:"#333"},t.options.paddingCellOptions)}))}},{key:"_dataRow",value:function(e,t,n){var i=this._createPaddingCells(t);if(this.hasGroups&&n&&e.items){i=i.concat(this._groupHeaderCells(e,t,n));var r=this._dataRows(e.items,t+1);return r.unshift({type:"group-header",cells:i,level:this.collapsible?t:null}),r.concat(this._footer(e,t))}for(var o=[],s=0;s<this.columns.length;s++)o[s]=this._cell(e,this.columns[s]);return this.hierarchy&&(o[0].colSpan=n-t+1),[{type:"data",cells:i.concat(o),level:this.collapsible?t:null}]}},{key:"_groupHeaderCells",value:function(e,t,n){var i=[],r=this.allColumns.filter((function(t){return t.field===e.field}))[0]||{},o=r&&r.title?r.title:e.field,s=r?r.groupHeaderTemplate||r.groupHeaderColumnTemplate:null,a=Object.assign({title:o,field:e.field,value:r&&r.values?r.values[e.value]:e.value,aggregates:e.aggregates,items:e.items},e.aggregates[e.field]),l=s?s(a):"".concat(o,": ").concat(e.value);return i.push(Object.assign({value:l,background:"#dfdfdf",color:"#333",colSpan:(this.hasGroupHeaderColumn?1:this.columns.length)+n-t},r.groupHeaderCellOptions)),this.hasGroupHeaderColumn&&this.columns.forEach((function(t,n){n>0&&i.push(Object.assign({background:"#dfdfdf",color:"#333",value:t.groupHeaderColumnTemplate?t.groupHeaderColumnTemplate(Object.assign({group:a},a,e.aggregates[t.field])):void 0},t.groupHeaderCellOptions))})),i}},{key:"_dataRows",value:function(e,t){for(var n=this._depth(),i=[],r=0;r<e.length;r++)i.push.apply(i,this._dataRow(e[r],t,n));return i}},{key:"_hierarchyRows",value:function(){var e,t=this._depth(),n=this.data,i=this.hierarchy.itemLevel,r=this.hierarchy.itemId||mN,o=this._hasFooterTemplate(),s=[],a=[],l=0;o||(this.collapsible=!1);for(var u=0;u<n.length;u++){var c=n[u],h=i(c,u);o&&(h>l?a.push({id:e,level:l}):h<l&&s.push.apply(s,this._hierarchyFooterRows(a,h,t)),l=h,e=r(c,u)),s.push.apply(s,this._dataRow(c,h+1,t))}return o&&(s.push.apply(s,this._hierarchyFooterRows(a,0,t)),s.push(this._hierarchyFooter(n.length?this.aggregates[n[0].parentId]:{},0,t))),this._prependHeaderRows(s),s}},{key:"_hierarchyFooterRows",value:function(e,t,n){for(var i=[];e.length&&e[e.length-1].level>=t;){var r=e.pop();i.push(this._hierarchyFooter(this.aggregates[r.id],r.level+1,n))}return i}},{key:"_hasFooterTemplate",value:function(){for(var e=this.columns,t=0;t<e.length;t++)if(e[t].footerTemplate)return!0}},{key:"_hierarchyFooter",value:function(e,t,n){var i=this.columns.map((function(i,r){var o=r?1:n-t+1;return Object.assign(i.footerTemplate?{background:"#dfdfdf",color:"#333",colSpan:o,value:i.footerTemplate(Object.assign({aggregates:e},(e||{})[i.field]))}:{background:"#dfdfdf",color:"#333",colSpan:o},i.footerCellOptions)}));return{type:"footer",cells:this._createPaddingCells(t).concat(i),level:this.collapsible?t:null}}},{key:"_footer",value:function(e,t){var n,i,r=[],o=this.columns.some((function(e){return e.groupFooterTemplate}));o&&(i={group:{items:e.items,field:e.field,value:e.value}},n={},Object.keys(e.aggregates).forEach((function(t){n[t]=Object.assign({},e.aggregates[t],i)})));var s=this.columns.map((function(t){if(t.groupFooterTemplate){var r=Object.assign({},n,e.aggregates[t.field],i);return Object.assign({background:"#dfdfdf",color:"#333",value:t.groupFooterTemplate(r)},t.groupFooterCellOptions)}return Object.assign({background:"#dfdfdf",color:"#333"},t.groupFooterCellOptions)}));return o&&r.push({type:"group-footer",cells:this._createPaddingCells(this.groups.length).concat(s),level:this.collapsible?t:null}),r}},{key:"_isColumnVisible",value:function(e){return this._visibleColumns([e]).length>0&&(e.field||e.columns)}},{key:"_visibleColumns",value:function(e){var t=this;return e.filter((function(e){var n=!e.hidden;return n&&e.columns&&(n=t._visibleColumns(e.columns).length>0),n}))}},{key:"_headerRow",value:function(e,t){var n=this,i=e.cells.map((function(t){return Object.assign(t,{colSpan:t.colSpan>1?t.colSpan:1,rowSpan:e.rowSpan>1&&!t.colSpan?e.rowSpan:1})}));return this.hierarchy&&i[0].firstCell&&(i[0].colSpan+=this._depth()),{type:"header",cells:gN(t.length,(function(){return Object.assign({background:"#7a7a7a",color:"#fff"},n.options.headerPaddingCellOptions)})).concat(i)}}},{key:"_prependHeaderRows",value:function(e){var t=this.groups,n=[{rowSpan:1,cells:[],index:0}];this._prepareHeaderRows(n,this.options.columns);for(var i=n.length-1;i>=0;i--)e.unshift(this._headerRow(n[i],t))}},{key:"_prepareHeaderRows",value:function(e,t,n,i){for(var r=i||e[e.length-1],o=e[r.index+1],s=0,a=0;a<t.length;a++){var l=t[a];if(this._isColumnVisible(l)){var u=Object.assign({background:"#7a7a7a",color:"#fff",value:l.title||l.field,colSpan:0,firstCell:0===a&&(!n||n.firstCell)},l.headerCellOptions);r.cells.push(u),l.columns&&l.columns.length&&(o||(o={rowSpan:0,cells:[],index:e.length},e.push(o)),u.colSpan=this._trimColumns(this._visibleColumns(l.columns)).length,this._prepareHeaderRows(e,l.columns,u,o),s+=u.colSpan-1,r.rowSpan=e.length-r.index)}}n&&(n.colSpan+=s)}},{key:"_rows",value:function(){var e=this,t=this._dataRows(this.data,0);if(this.columns.length){this._prependHeaderRows(t);var n=!1,i=this.columns.map((function(t){return t.footerTemplate?(n=!0,Object.assign({background:"#dfdfdf",color:"#333",value:t.footerTemplate(Object.assign({},e.aggregates,e.aggregates[t.field]))},t.footerCellOptions)):Object.assign({background:"#dfdfdf",color:"#333"},t.footerCellOptions)}));n&&t.push({type:"footer",cells:this._createPaddingCells(this.groups.length).concat(i)})}return t}},{key:"_headerDepth",value:function(e){for(var t=0,n=0;n<e.length;n++)if(e[n].columns){var i=this._headerDepth(e[n].columns);i>t&&(t=i)}return 1+t}},{key:"_freezePane",value:function(){var e=this._visibleColumns(this.options.columns||[]),t=this._visibleColumns(this._trimColumns(this._leafColumns(e.filter((function(e){return e.locked}))))).length;return{rowSplit:this._headerDepth(e),colSplit:t?t+this.groups.length:0}}},{key:"_cell",value:function(e,t){return Object.assign({value:t.value(e)},t.cellOptions)}},{key:"_depth",value:function(){return this.hierarchy?this.hierarchy.depth:this.groups.length}},{key:"_columns",value:function(){return gN(this._depth(),(function(){return{width:20}})).concat(this.columns.map((function(e){return{width:parseInt(e.width,10),autoWidth:!e.width}})))}}]),e}())({columns:r,data:e.data,filterable:e.filterable,groups:e.group,paddingCellOptions:e.paddingCellOptions,headerPaddingCellOptions:e.headerPaddingCellOptions,collapsible:e.collapsible,hierarchy:e.hierarchy,aggregates:e.aggregates}).workbook();return o.creator=e.creator,o.date=e.date,o.rtl=e.rtl,gB(r),o}({columns:this.columns.length?this.columns:rJ(e),data:t.data,group:t.group,filterable:this.filterable,creator:this.creator,date:this.date,paddingCellOptions:this.paddingCellOptions,headerPaddingCellOptions:this.headerPaddingCellOptions,rtl:this.localization.rtl,collapsible:this.collapsible}),r=new nJ(i);e.excelExport.emit(r),r.isDefaultPrevented()||this.zone.runOutsideAngular((function(){return n.saveFile(i)}))}},{key:"saveFile",value:function(e){var t=this;(function(e){return new KN(e).toDataURL()})(e).then((function(e){iN(e,t.fileName,{forceProxy:t.forceProxy,proxyURL:t.proxyURL})}))}}]),e}()).\u0275fac=function(e){return new(e||fY)(Ds(Uq),Ds(jy),Ds(qu))},fY.\u0275cmp=Et({type:fY,selectors:[["kendo-grid-excel"]],contentQueries:function(e,t,n){var i;1&e&&gu(n,xB,!0),2&e&&fu(i=ku())&&(t.columns=i)},inputs:{fileName:"fileName",filterable:"filterable",creator:"creator",date:"date",forceProxy:"forceProxy",proxyURL:"proxyURL",fetchData:"fetchData",paddingCellOptions:"paddingCellOptions",headerPaddingCellOptions:"headerPaddingCellOptions",collapsible:"collapsible"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),fY),sJ=((hY=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:hY}),hY.\u0275inj=Te({factory:function(e){return new(e||hY)},imports:[AB]}),hY),aJ="arc",lJ="#000",uJ="bottom",cJ="center",hJ="circle",fJ="date",dJ=/\{\d+:?/,pJ=Number.MAX_VALUE,vJ=-Number.MAX_VALUE,gJ="top",mJ="value",yJ="#fff",kJ="x",bJ="y";function _J(e){return Array.isArray(e)}function CJ(e,t){for(var n=_J(t)?t:[t],i=0;i<n.length;i++){var r=n[i];-1===e.className.indexOf(r)&&(e.className+=" "+r)}}var wJ=/\s+/g;function xJ(e){var t=.5;e.options.stroke&&m.util.defined(e.options.stroke.width)&&e.options.stroke.width%2==0&&(t=0);for(var n=0;n<e.segments.length;n++)e.segments[n].anchor().round(0).translate(t,t);return e}function SJ(e,t){return-e.x*t.y+e.y*t.x<0}function TJ(e){return"number"==typeof e&&!isNaN(e)}function OJ(e){return"string"==typeof e}function IJ(e){return TJ(e)||OJ(e)&&isFinite(e)}function EJ(e){return"function"==typeof e}function AJ(e,t){for(var n in t){var i,r=t[n],o=typeof r;if((i="object"===o&&null!==r?r.constructor:null)&&i!==Array)if(r instanceof Date)e[n]=new Date(r.getTime());else if(EJ(r.clone))e[n]=r.clone();else{var s=e[n];e[n]="object"==typeof s&&s||{},AJ(e[n],r)}else"undefined"!==o&&(e[n]=r)}return e}function RJ(e){for(var t=arguments.length,n=1;n<t;n++)AJ(e,arguments[n]);return e}function PJ(e){return"object"==typeof e}function DJ(e){return TJ(e)?e+"px":e}var FJ=/width|height|top|left|bottom|right/i;function MJ(e){return FJ.test(e)}function zJ(e,t){var n=OJ(t)?[t]:t;if(_J(n)){for(var i={},r=window.getComputedStyle(e),o=0;o<n.length;o++){var s=n[o];i[s]=MJ(s)?parseFloat(r[s]):r[s]}return i}if(PJ(t))for(var a in t)e.style[a]=DJ(t[a])}function LJ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={top:0,right:0,bottom:0,left:0};return"number"==typeof e?n.top=n.right=n.bottom=n.left=e:(n.top=e.top||t,n.right=e.right||t,n.bottom=e.bottom||t,n.left=e.left||t),n}var VJ,NJ={format:function(e,t){return t},toString:function(e){return e},parseDate:function(e){return new Date(e)}},BJ=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"register",value:function(e){NJ=e}},{key:"implementation",get:function(){return NJ}}]),e}(),jJ=/\{(\d+)(:[^\}]+)?\}/g,HJ=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this._intlService=n.intlService,this.sender=n.sender||t,this.format=new(function(){function e(t){_classCallCheck(this,e),this._intlService=t}return _createClass(e,[{key:"auto",value:function(e){for(var t=this.intl,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return OJ(e)&&e.match(dJ)?t.format.apply(t,[e].concat(i)):t.toString(i[0],e)}},{key:"localeAuto",value:function(e,t,n){var i=this.intl;return OJ(e)&&e.match(dJ)?e.replace(jJ,(function(e,r,o){var s=t[parseInt(r,10)];return i.toString(s,o?o.substring(1):"",n)})):i.toString(t[0],e,n)}},{key:"intl",get:function(){return this._intlService||BJ.implementation},set:function(e){this._intlService=e}}]),e}())(n.intlService),this.chart=t,this.rtl=Boolean(n.rtl)}return _createClass(e,[{key:"notify",value:function(e,t){this.chart&&this.chart.trigger(e,t)}},{key:"isPannable",value:function(e){var t=((this.chart||{}).options||{}).pannable;return t&&t.lock!==e}},{key:"intl",get:function(){return this._intlService||BJ.implementation},set:function(e){this._intlService=e,this.format.intl=e}}]),e}(),GJ=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"register",value:function(e){VJ=e}},{key:"create",value:function(e,t){if(VJ)return VJ.create(e,t)}}]),e}(),UJ={compile:function(e){return e}};function WJ(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.template?t.template=e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"register",value:function(e){UJ=e}},{key:"compile",value:function(e){return UJ.compile(e)}}]),e}().compile(t.template):EJ(t.content)&&(e=t.content),e}var qJ=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,ZJ={undefined:function(e){return e}};function $J(e){if(ZJ[e])return ZJ[e];var t=[];return e.replace(qJ,(function(e,n,i,r){t.push(m.util.defined(n)?n:i||r)})),ZJ[e]=function(e){for(var n=e,i=0;i<t.length&&n;i++)n=n[t[i]];return n},ZJ[e]}function KJ(e,t){for(var n=e.length,i=[],r=0;r<n;r++)t(e[r])&&i.push(e[r]);return i}function YJ(e,t){if(e.className)for(var n=t.split(" "),i=0;i<n.length;i++)if(-1!==e.className.indexOf(n[i]))return!0}var XJ=function(){function e(){_classCallCheck(this,e),this._map={}}return _createClass(e,[{key:"get",value:function(e){return this._map[this._key(e)]}},{key:"set",value:function(e,t){this._map[this._key(e)]=t}},{key:"_key",value:function(e){return e instanceof Date?e.getTime():e}}]),e}();function QJ(e,t){if(t)return-1!==t.indexOf(e)}function JJ(e,t,n){return m.util.round(e+(t-e)*n,3)}var e0=function(){function e(t,n){_classCallCheck(this,e),this.observer=t,this.handlerMap=RJ({},this.handlerMap,n)}return _createClass(e,[{key:"trigger",value:function(e,t){var n,i=this.observer,r=this.handlerMap;return r[e]?n=this.callObserver(r[e],t):i.trigger&&(n=this.callObserver("trigger",e,t)),n}},{key:"callObserver",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return this.observer[e].apply(this.observer,n)}},{key:"requiresHandlers",value:function(e){if(this.observer.requiresHandlers)return this.observer.requiresHandlers(e);for(var t=0;t<e.length;t++)if(this.handlerMap[e[t]])return!0}}]),e}();function t0(e,t){for(var n=e.length,i=[],r=0;r<n;r++){var o=t(e[r]);m.util.defined(o)&&i.push(o)}return i}function n0(e){var t=0;return e.wheelDelta&&(t=(t=-e.wheelDelta/120)>0?Math.ceil(t):Math.floor(t)),e.detail&&(t=m.util.round(e.detail/3)),t}var i0=m.util,r0=i0.append,o0=i0.bindEvents,s0=i0.defined,a0=i0.deg,l0=i0.elementOffset,u0=i0.elementSize,c0=i0.eventElement,h0=i0.eventCoordinates,f0=i0.last,d0=i0.limitValue,p0=i0.objectKey,v0=i0.rad,g0=i0.round,m0=i0.unbindEvents,y0=i0.valueOrDefault,k0=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"fetchFonts",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{depth:0};!t||i.depth>5||!document.fonts||Object.keys(t).forEach((function(r){var o=t[r];"dataSource"!==r&&"$"!==r[0]&&o&&("font"===r?n.push(o):"object"==typeof o&&(i.depth++,e.fetchFonts(o,n,i),i.depth--))}))}},{key:"loadFonts",value:function(e,t){var n=[];if(e.length>0&&document.fonts){try{n=e.map((function(e){return document.fonts.load(e)}))}catch(i){Ww(i)}Promise.all(n).then(t,t)}else t()}},{key:"preloadFonts",value:function(t,n){var i=[];e.fetchFonts(t,i),e.loadFonts(i,n)}}]),e}();function b0(e,t){var n=e.prototype;n.options=n.options?RJ({},n.options,t):t}function _0(e){for(var t=pJ,n=vJ,i=0,r=e.length;i<r;i++){var o=e[i];null!==o&&isFinite(o)&&(t=Math.min(t,o),n=Math.max(n,o))}return{min:t===pJ?void 0:t,max:n===vJ?void 0:n}}function C0(e,t){var n=g0(t-e,9);if(0===n){if(0===t)return.1;n=Math.abs(t)}var i=Math.pow(10,Math.floor(Math.log(n)/Math.log(10))),r=g0(n/i,10);return g0(i*(r<1.904762?.2:r<4.761904?.5:r<9.523809?1:2),10)}var w0=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).x=e||0,i.y=n||0,i}return _inherits(t,e),_createClass(t,[{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"equals",value:function(e){return e&&this.x===e.x&&this.y===e.y}},{key:"rotate",value:function(e,t){var n=v0(t),i=Math.cos(n),r=Math.sin(n),o=e.x,s=e.y,a=this.x,l=this.y;return this.x=g0(o+(a-o)*i+(l-s)*r,3),this.y=g0(s+(l-s)*i-(a-o)*r,3),this}},{key:"multiply",value:function(e){return this.x*=e,this.y*=e,this}},{key:"distanceTo",value:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}}],[{key:"onCircle",value:function(e,n,i){var r=v0(n);return new t(e.x-i*Math.cos(r),e.y-i*Math.sin(r))}}]),t}(Vw);function x0(e,t,n,i,r){var o=v0(r);return new w0(n+(e-n)*Math.cos(o)+(t-i)*Math.sin(o),i-(e-n)*Math.sin(o)+(t-i)*Math.cos(o))}var S0=function(e){function t(e,n,i,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).x1=e||0,o.y1=n||0,o.x2=i||0,o.y2=r||0,o}return _inherits(t,e),_createClass(t,[{key:"equals",value:function(e){return this.x1===e.x1&&this.x2===e.x2&&this.y1===e.y1&&this.y2===e.y2}},{key:"width",value:function(){return this.x2-this.x1}},{key:"height",value:function(){return this.y2-this.y1}},{key:"translate",value:function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this}},{key:"move",value:function(e,t){var n=this.height(),i=this.width();return s0(e)&&(this.x1=e,this.x2=this.x1+i),s0(t)&&(this.y1=t,this.y2=this.y1+n),this}},{key:"wrap",value:function(e){return this.x1=Math.min(this.x1,e.x1),this.y1=Math.min(this.y1,e.y1),this.x2=Math.max(this.x2,e.x2),this.y2=Math.max(this.y2,e.y2),this}},{key:"wrapPoint",value:function(e){var n=_J(e),i=n?e[0]:e.x,r=n?e[1]:e.y;return this.wrap(new t(i,r,i,r)),this}},{key:"snapTo",value:function(e,t){return t!==kJ&&t||(this.x1=e.x1,this.x2=e.x2),t!==bJ&&t||(this.y1=e.y1,this.y2=e.y2),this}},{key:"alignTo",value:function(e,t){var n=this.height(),i=this.width(),r=t===gJ||t===uJ?bJ:kJ,o=r===bJ?n:i;if(t===cJ){var s=e.center(),a=this.center();this.x1+=s.x-a.x,this.y1+=s.y-a.y}else this[r+1]=t===gJ||"left"===t?e[r+1]-o:e[r+2];return this.x2=this.x1+i,this.y2=this.y1+n,this}},{key:"shrink",value:function(e,t){return this.x2-=e,this.y2-=t,this}},{key:"expand",value:function(e,t){return this.shrink(-e,-t),this}},{key:"pad",value:function(e){var t=LJ(e);return this.x1-=t.left,this.x2+=t.right,this.y1-=t.top,this.y2+=t.bottom,this}},{key:"unpad",value:function(e){var t=LJ(e);return t.left=-t.left,t.top=-t.top,t.right=-t.right,t.bottom=-t.bottom,this.pad(t)}},{key:"clone",value:function(){return new t(this.x1,this.y1,this.x2,this.y2)}},{key:"center",value:function(){return new w0(this.x1+this.width()/2,this.y1+this.height()/2)}},{key:"containsPoint",value:function(e){return e.x>=this.x1&&e.x<=this.x2&&e.y>=this.y1&&e.y<=this.y2}},{key:"points",value:function(){return[new w0(this.x1,this.y1),new w0(this.x2,this.y1),new w0(this.x2,this.y2),new w0(this.x1,this.y2)]}},{key:"getHash",value:function(){return[this.x1,this.y1,this.x2,this.y2].join(",")}},{key:"overlaps",value:function(e){return!(e.y2<this.y1||this.y2<e.y1||e.x2<this.x1||this.x2<e.x1)}},{key:"rotate",value:function(e){var t=this.width(),n=this.height(),i=this.center(),r=i.x,o=i.y,s=x0(0,0,r,o,e),a=x0(t,0,r,o,e),l=x0(t,n,r,o,e),u=x0(0,n,r,o,e);return t=Math.max(s.x,a.x,l.x,u.x)-Math.min(s.x,a.x,l.x,u.x),n=Math.max(s.y,a.y,l.y,u.y)-Math.min(s.y,a.y,l.y,u.y),this.x2=this.x1+t,this.y2=this.y1+n,this}},{key:"toRect",value:function(){return new p.Rect([this.x1,this.y1],[this.width(),this.height()])}},{key:"hasSize",value:function(){return 0!==this.width()&&0!==this.height()}},{key:"align",value:function(e,t,n){var i=t+1,r=t+2,o=t===kJ?"width":"height",s=this[o]();QJ(n,["left",gJ])?(this[i]=e[i],this[r]=this[i]+s):QJ(n,["right",uJ])?(this[r]=e[r],this[i]=this[r]-s):n===cJ&&(this[i]=e[i]+(e[o]()-s)/2,this[r]=this[i]+s)}}]),t}(Vw);function T0(e,t){return e-t}var O0,I0=function(e){function t(e,n,i,r,o){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).center=e,s.innerRadius=n,s.radius=i,s.startAngle=r,s.angle=o,s}return _inherits(t,e),_createClass(t,[{key:"clone",value:function(){return new t(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)}},{key:"middle",value:function(){return this.startAngle+this.angle/2}},{key:"setRadius",value:function(e,t){return t?this.innerRadius=e:this.radius=e,this}},{key:"point",value:function(e,t){var n=v0(e),i=Math.cos(n),r=Math.sin(n),o=t?this.innerRadius:this.radius,s=g0(this.center.x-i*o,3),a=g0(this.center.y-r*o,3);return new w0(s,a)}},{key:"adjacentBox",value:function(e,t,n){var i=this.clone().expand(e),r=i.middle(),o=i.point(r),s=t/2,a=n/2,l=Math.sin(v0(r)),u=Math.cos(v0(r)),c=o.x-s,h=o.y-a;return Math.abs(l)<.9&&(c+=s*-u/Math.abs(u)),Math.abs(u)<.9&&(h+=a*-l/Math.abs(l)),new S0(c,h,c+t,h+n)}},{key:"containsPoint",value:function(e){var t=this.center,n=this.innerRadius,i=this.radius,r=this.startAngle,o=this.startAngle+this.angle,s=e.x-t.x,a=e.y-t.y,l=new w0(s,a),u=this.point(r),c=new w0(u.x-t.x,u.y-t.y),h=this.point(o),f=new w0(h.x-t.x,h.y-t.y),d=g0(s*s+a*a,3);return(c.equals(l)||SJ(c,l))&&!SJ(f,l)&&d>=n*n&&d<=i*i}},{key:"getBBox",value:function(){var e,t=new S0(pJ,pJ,vJ,vJ),n=g0(this.startAngle%360),i=g0((n+this.angle)%360),r=this.innerRadius,o=[0,90,180,270,n,i].sort(T0),s=o.indexOf(n),a=o.indexOf(i);e=n===i?o:s<a?o.slice(s,a+1):[].concat(o.slice(0,a+1),o.slice(s,o.length));for(var l=0;l<e.length;l++){var u=this.point(e[l]);t.wrapPoint(u),t.wrapPoint(u,r)}return r||t.wrapPoint(this.center),t}},{key:"expand",value:function(e){return this.radius+=e,this}}]),t}(Vw),E0=((O0=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"createRing",value:function(e,t){var n=e.startAngle+180,i=e.angle+n;e.angle>0&&n===i&&(i+=.001);var r=new p.Point(e.center.x,e.center.y),o=Math.max(e.radius,0),s=Math.max(e.innerRadius,0),a=new p.Arc(r,{startAngle:n,endAngle:i,radiusX:o,radiusY:o}),l=m.Path.fromArc(a,t).close();if(s){a.radiusX=a.radiusY=s;var u=a.pointAt(i);l.lineTo(u.x,u.y),l.arc(i,n,s,s,!0)}else l.lineTo(r.x,r.y);return l}}]),t}(Vw)).current=new O0,O0),A0=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).children=[],n.options=RJ({},n.options,n.initUserOptions(e)),n}return _inherits(t,e),_createClass(t,[{key:"initUserOptions",value:function(e){return e}},{key:"reflow",value:function(e){for(var t,n=this.children,i=0;i<n.length;i++){var r=n[i];r.reflow(e),t=t?t.wrap(r.box):r.box.clone()}this.box=t||e}},{key:"destroy",value:function(){var e=this.children;this.animation&&this.animation.destroy();for(var t=0;t<e.length;t++)e[t].destroy()}},{key:"getRoot",value:function(){var e=this.parent;return e?e.getRoot():null}},{key:"getSender",value:function(){var e=this.getService();if(e)return e.sender}},{key:"getService",value:function(){for(var e=this;e;){if(e.chartService)return e.chartService;e=e.parent}}},{key:"translateChildren",value:function(e,t){for(var n=this.children,i=n.length,r=0;r<i;r++)n[r].box.translate(e,t)}},{key:"append",value:function(){for(var e=0;e<arguments.length;e++){var t=arguments[e];this.children.push(t),t.parent=this}}},{key:"renderVisual",value:function(){!1!==this.options.visible&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())}},{key:"addVisual",value:function(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))}},{key:"renderChildren",value:function(){for(var e=this.children,t=e.length,n=0;n<t;n++)e[n].renderVisual()}},{key:"createVisual",value:function(){this.visual=new m.Group({zIndex:this.options.zIndex,visible:y0(this.options.visible,!0)})}},{key:"createAnimation",value:function(){this.visual&&this.options.animation&&(this.animation=m.Animation.create(this.visual,this.options.animation))}},{key:"appendVisual",value:function(e){e.chartElement||(e.chartElement=this),e.options.noclip?this.clipRoot().visual.append(e):s0(e.options.zIndex)?this.stackRoot().stackVisual(e):this.isStackRoot?this.stackVisual(e):this.visual?this.visual.append(e):this.parent.appendVisual(e)}},{key:"clipRoot",value:function(){return this.parent?this.parent.clipRoot():this}},{key:"stackRoot",value:function(){return this.parent?this.parent.stackRoot():this}},{key:"stackVisual",value:function(e){var t,n=e.options.zIndex||0,i=this.visual.children,r=i.length;for(t=0;t<r&&!(y0(i[t].options.zIndex,0)>n);t++);this.visual.insert(t,e)}},{key:"traverse",value:function(e){for(var t=this.children,n=t.length,i=0;i<n;i++){var r=t[i];e(r),r.traverse&&r.traverse(e)}}},{key:"closest",value:function(e){for(var t=this,n=!1;t&&!n;)(n=e(t))||(t=t.parent);if(n)return t}},{key:"renderComplete",value:function(){}},{key:"hasHighlight",value:function(){var e=(this.options||{}).highlight;return!(!this.createHighlight||e&&!1===e.visible)}},{key:"toggleHighlight",value:function(e){var t=this,n=(this.options||{}).highlight||{},i=n.visual,r=this._highlight;if(!r){var o={fill:{color:yJ,opacity:.2},stroke:{color:yJ,width:1,opacity:.2}};if(i){if(!(r=this._highlight=i(Object.assign(this.highlightVisualArgs(),{createVisual:function(){return t.createHighlight(o)},sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total}))))return}else r=this._highlight=this.createHighlight(o);s0(r.options.zIndex)||(r.options.zIndex=y0(n.zIndex,this.options.zIndex)),this.appendVisual(r)}r.visible(e)}},{key:"createGradientOverlay",value:function(e,t,n){var i=new m.Path(Object.assign({stroke:{color:"none"},fill:this.createGradient(n),closed:e.options.closed},t));return i.segments.elements(e.segments.elements()),i}},{key:"createGradient",value:function(e){if(this.parent)return this.parent.createGradient(e)}}]),t}(Vw);A0.prototype.options={};var R0=A0,P0=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).options.margin=LJ(n.options.margin),n.options.padding=LJ(n.options.padding),n}return _inherits(t,e),_createClass(t,[{key:"reflow",value:function(e){var n,i=this,r=this.options,o=r.width,s=r.height,a=r.shrinkToFit,l=o&&s,u=r.margin,c=r.padding,h=r.border.width,f=function(){i.align(e,kJ,r.align),i.align(e,bJ,r.vAlign),i.paddingBox=n.clone().unpad(u).unpad(h)},d=e.clone();l&&(d.x2=d.x1+o,d.y2=d.y1+s),a&&d.unpad(u).unpad(h).unpad(c),_get(_getPrototypeOf(t.prototype),"reflow",this).call(this,d),n=l?this.box=new S0(0,0,o,s):this.box,a&&l?(f(),d=this.contentBox=this.paddingBox.clone().unpad(c)):(d=this.contentBox=n.clone(),n.pad(c).pad(h).pad(u),f()),this.translateChildren(n.x1-d.x1+u.left+h+c.left,n.y1-d.y1+u.top+h+c.top);for(var p=this.children,v=0;v<p.length;v++){var g=p[v];g.reflow(g.box)}}},{key:"align",value:function(e,t,n){this.box.align(e,t,n)}},{key:"hasBox",value:function(){var e=this.options;return e.border.width||e.background}},{key:"createVisual",value:function(){_get(_getPrototypeOf(t.prototype),"createVisual",this).call(this),this.options.visible&&this.hasBox()&&this.visual.append(m.Path.fromRect(this.paddingBox.toRect(),this.visualStyle()))}},{key:"visualStyle",value:function(){var e=this.options,t=e.border||{};return{stroke:{width:t.width,color:t.color,opacity:y0(t.opacity,e.opacity),dashType:t.dashType},fill:{color:e.background,opacity:e.opacity},cursor:e.cursor}}}]),t}(R0);b0(P0,{align:"left",vAlign:gJ,margin:{},padding:{},border:{color:lJ,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});var D0=P0,F0=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).pointData=n,i}return _inherits(t,e),_createClass(t,[{key:"getElement",value:function(){var e=this.options,t=this.paddingBox,n=e.type,i=e.rotation,r=t.center(),o=t.width()/2;if(!e.visible||!this.hasBox())return null;var s,a=this.visualStyle();return n===hJ?s=new m.Circle(new p.Circle([g0(t.x1+o,3),g0(t.y1+t.height()/2,3)],o),a):"triangle"===n?s=m.Path.fromPoints([[t.x1+o,t.y1],[t.x1,t.y2],[t.x2,t.y2]],a).close():"cross"===n?((s=new m.MultiPath(a)).moveTo(t.x1,t.y1).lineTo(t.x2,t.y2),s.moveTo(t.x1,t.y2).lineTo(t.x2,t.y1)):s=m.Path.fromRect(t.toRect(),a),i&&s.transform(p.transform().rotate(-i,[r.x,r.y])),s.options.zIndex=e.zIndex,s}},{key:"createElement",value:function(){var e=this,t=this.options.visual,n=this.pointData||{};return t?t({value:n.value,dataItem:n.dataItem,sender:this.getSender(),series:n.series,category:n.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:function(){return e.getElement()}}):this.getElement()}},{key:"visualOptions",value:function(){var e=this.options;return{background:e.background,border:e.border,margin:e.margin,padding:e.padding,type:e.type,size:e.width,visible:e.visible}}},{key:"createVisual",value:function(){this.visual=this.createElement()}}]),t}(D0);b0(F0,{type:hJ,align:cJ,vAlign:cJ});var M0=F0,z0={glass:{type:"linear",rotation:0,stops:[{offset:0,color:yJ,opacity:0},{offset:.25,color:yJ,opacity:.3},{offset:1,color:yJ,opacity:0}]},sharpBevel:{type:"radial",stops:[{offset:0,color:yJ,opacity:.55},{offset:.65,color:yJ,opacity:0},{offset:.95,color:yJ,opacity:.25}]},roundedBevel:{type:"radial",stops:[{offset:.33,color:yJ,opacity:.06},{offset:.83,color:yJ,opacity:.2},{offset:.95,color:yJ,opacity:0}]},roundedGlass:{type:"radial",supportVML:!1,stops:[{offset:0,color:yJ,opacity:0},{offset:.5,color:yJ,opacity:.3},{offset:.99,color:yJ,opacity:0}]},sharpGlass:{type:"radial",supportVML:!1,stops:[{offset:0,color:yJ,opacity:.2},{offset:.15,color:yJ,opacity:.15},{offset:.17,color:yJ,opacity:.35},{offset:.85,color:yJ,opacity:.05},{offset:.87,color:yJ,opacity:.15},{offset:.99,color:yJ,opacity:0}]},bubbleShadow:{type:"radial",center:[.5,.5],radius:.5}};function L0(e,t){if(e.x1===t.x1&&e.y1===t.y1&&e.x2===t.x2&&e.y2===t.y2)return t;var n=Math.min(e.x1,t.x1),i=Math.max(e.x1,t.x1),r=Math.min(e.x2,t.x2),o=Math.max(e.x2,t.x2),s=Math.min(e.y1,t.y1),a=Math.max(e.y1,t.y1),l=Math.min(e.y2,t.y2),u=Math.max(e.y2,t.y2),c=[];return c[0]=new S0(i,s,r,a),c[1]=new S0(n,a,i,l),c[2]=new S0(r,a,o,l),c[3]=new S0(i,l,r,u),e.x1===n&&e.y1===s||t.x1===n&&t.y1===s?(c[4]=new S0(n,s,i,a),c[5]=new S0(r,l,o,u)):(c[4]=new S0(r,s,o,a),c[5]=new S0(n,l,i,u)),KJ(c,(function(e){return e.height()>0&&e.width()>0}))[0]}var V0=function(e){function t(e){var n;_classCallCheck(this,t);var i=(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).options;return i.width=parseInt(i.width,10),i.height=parseInt(i.height,10),n.gradients={},n}return _inherits(t,e),_createClass(t,[{key:"reflow",value:function(){var e=this.options,t=this.children,n=new S0(0,0,e.width,e.height);this.box=n.unpad(e.margin);for(var i=0;i<t.length;i++)t[i].reflow(n),n=L0(n,t[i].box)||new S0}},{key:"createVisual",value:function(){this.visual=new m.Group,this.createBackground()}},{key:"createBackground",value:function(){var e=this.options,t=e.border||{},n=this.box.clone().pad(e.margin).unpad(t.width),i=m.Path.fromRect(n.toRect(),{stroke:{color:t.width?t.color:"",width:t.width,dashType:t.dashType},fill:{color:e.background,opacity:e.opacity},zIndex:-10});this.visual.append(i)}},{key:"getRoot",value:function(){return this}},{key:"createGradient",value:function(e){var t,n=this.gradients,i=p0(e),r=z0[e.gradient];if(n[i])t=n[i];else{var o=Object.assign({},r,e);"linear"===r.type?t=new m.LinearGradient(o):(e.innerRadius&&(o.stops=function(e){for(var t=e.stops,n=e.innerRadius/e.radius*100,i=t.length,r=[],o=0;o<i;o++){var s=Object.assign({},t[o]);s.offset=(s.offset*(100-n)+n)/100,r.push(s)}return r}(o)),(t=new m.RadialGradient(o)).supportVML=!1!==r.supportVML),n[i]=t}return t}},{key:"cleanGradients",value:function(){var e=this.gradients;for(var t in e)e[t]._observers=[]}},{key:"size",value:function(){var e=this.options;return new S0(0,0,e.width,e.height)}}]),t}(R0);b0(V0,{width:600,height:400,background:yJ,border:{color:lJ,width:0},margin:LJ(5),zIndex:-2});var N0=V0,B0=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e)))._initDirection(),n}return _inherits(t,e),_createClass(t,[{key:"_initDirection",value:function(){var e=this.options;e.vertical?(this.groupAxis=kJ,this.elementAxis=bJ,this.groupSizeField="width",this.elementSizeField="height",this.groupSpacing=e.spacing,this.elementSpacing=e.vSpacing):(this.groupAxis=bJ,this.elementAxis=kJ,this.groupSizeField="height",this.elementSizeField="width",this.groupSpacing=e.vSpacing,this.elementSpacing=e.spacing)}},{key:"reflow",value:function(e){this.box=e.clone(),this.reflowChildren()}},{key:"reflowChildren",value:function(){var e=this.box,t=this.elementAxis,n=this.groupAxis,i=this.elementSizeField,r=this.groupSizeField,o=this.groupOptions(),s=o.groups,a=o.groupsSize,l=o.maxGroupElementsSize,u=s.length,c=e[n+1]+this.alignStart(a,e[r]());if(u){for(var h=c,f=0;f<u;f++){for(var d=s[f],p=d.groupElements,v=e[t+1],g=p.length,m=0;m<g;m++){var y=p[m],k=this.elementSize(y),b=h+this.alignStart(k[r],d.groupSize),_=new S0;_[n+1]=b,_[n+2]=b+k[r],_[t+1]=v,_[t+2]=v+k[i],y.reflow(_),v+=k[i]+this.elementSpacing}h+=d.groupSize+this.groupSpacing}e[n+1]=c,e[n+2]=c+a,e[t+2]=e[t+1]+l}}},{key:"alignStart",value:function(e,t){var n=0,i=this.options.align;return"right"===i||i===uJ?n=t-e:i===cJ&&(n=(t-e)/2),n}},{key:"groupOptions",value:function(){for(var e=this.box,t=this.children,n=this.elementSizeField,i=this.groupSizeField,r=this.elementSpacing,o=this.groupSpacing,s=g0(e[n]()),a=t.length,l=[],u=0,c=0,h=0,f=0,d=[],p=0;p<a;p++){var v=t[p];v.box||v.reflow(e);var g=this.elementSize(v);this.options.wrap&&g0(c+r+g[n])>s&&(l.push({groupElements:d,groupSize:u,groupElementsSize:c}),f=Math.max(f,c),h+=o+u,u=0,c=0,d=[]),u=Math.max(u,g[i]),c>0&&(c+=r),c+=g[n],d.push(v)}return l.push({groupElements:d,groupSize:u,groupElementsSize:c}),{groups:l,groupsSize:h+=u,maxGroupElementsSize:f=Math.max(f,c)}}},{key:"elementSize",value:function(e){return{width:e.box.width(),height:e.box.height()}}},{key:"createVisual",value:function(){}}]),t}(R0);b0(B0,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});var j0=B0,H0=m.Text,G0=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).content=e,i.reflow(new S0),i}return _inherits(t,e),_createClass(t,[{key:"reflow",value:function(e){var t=this.options,n=t.size=m.util.measureText(this.content,{font:t.font});this.baseline=n.baseline,this.box=new S0(e.x1,e.y1,e.x1+n.width,e.y1+n.height)}},{key:"createVisual",value:function(){var e=this.options,t=e.font,n=e.color,i=e.opacity,r=e.cursor;this.visual=new H0(this.content,this.box.toRect().topLeft(),{font:t,fill:{color:n,opacity:i},cursor:r})}}]),t}(R0);b0(G0,{font:"12px sans-serif",color:lJ});var U0=G0;function W0(e){var t=e.origin,n=e.bottomRight();return new S0(t.x,t.y,n.x,n.y)}var q0=/\n/m,Z0=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).content=e,r.data=i,r._initContainer(),!1!==r.options._autoReflow&&r.reflow(new S0),r}return _inherits(t,e),_createClass(t,[{key:"_initContainer",value:function(){var e=this.options,t=String(this.content).split(q0),n=new j0({vertical:!0,align:e.align,wrap:!1}),i=RJ({},e,{opacity:1,animation:null});this.container=n,this.append(n);for(var r=0;r<t.length;r++){var o=new U0(t[r].trim(),i);n.append(o)}}},{key:"reflow",value:function(e){var n=this.options,i=n.visual;if(this.container.options.align=n.align,i&&!this._boxReflow){var r=e;r.hasSize()||(this._boxReflow=!0,this.reflow(r),this._boxReflow=!1,r=this.box);var o=this.visual=i(this.visualContext(r));o&&(r=W0(o.clippedBBox()||new p.Rect),o.options.zIndex=n.zIndex),this.box=this.contentBox=this.paddingBox=r}else if(_get(_getPrototypeOf(t.prototype),"reflow",this).call(this,e),n.rotation){var s=LJ(n.margin),a=this.box.unpad(s);this.targetBox=e,this.normalBox=a.clone(),(a=this.rotate()).translate(s.left-s.right,s.top-s.bottom),this.rotatedBox=a.clone(),a.pad(s)}}},{key:"createVisual",value:function(){var e=this.options;if(this.visual=new m.Group({transform:this.rotationTransform(),zIndex:e.zIndex,noclip:e.noclip}),this.hasBox()){var t=m.Path.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(t)}}},{key:"renderVisual",value:function(){if(this.options.visible)if(this.options.visual){var e=this.visual;e&&!s0(e.options.noclip)&&(e.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else _get(_getPrototypeOf(t.prototype),"renderVisual",this).call(this)}},{key:"visualContext",value:function(e){var t=this,n={text:this.content,rect:e.toRect(),sender:this.getSender(),options:this.options,createVisual:function(){return t._boxReflow=!0,t.reflow(e),t._boxReflow=!1,t.getDefaultVisual()}};return this.data&&Object.assign(n,this.data),n}},{key:"getDefaultVisual",value:function(){this.createVisual(),this.renderChildren();var e=this.visual;return delete this.visual,e}},{key:"rotate",value:function(){var e=this.options;return this.box.rotate(e.rotation),this.align(this.targetBox,kJ,e.align),this.align(this.targetBox,bJ,e.vAlign),this.box}},{key:"rotationTransform",value:function(){var e=this.options.rotation;if(!e)return null;var t=this.normalBox.center(),n=t.x,i=t.y,r=this.rotatedBox.center();return p.transform().translate(r.x-n,r.y-i).rotate(e,[n,i])}}]),t}(D0),$0=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).append(new Z0(n.options.text,Object.assign({},n.options,{vAlign:n.options.position}))),n}return _inherits(t,e),_createClass(t,[{key:"reflow",value:function(e){_get(_getPrototypeOf(t.prototype),"reflow",this).call(this,e),this.box.snapTo(e,kJ)}}],[{key:"buildTitle",value:function(e,n,i){var r,o=e;return"string"==typeof e&&(o={text:e}),(o=Object.assign({visible:!0},i,o))&&o.visible&&o.text&&(r=new t(o),n.append(r)),r}}]),t}(R0);b0($0,{color:lJ,position:gJ,align:cJ,margin:LJ(5),padding:LJ(5)});var K0=$0,Y0=function(e){function t(e,n,i,r,o){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n,o))).text=n,s.value=e,s.index=i,s.dataItem=r,s.reflow(new S0),s}return _inherits(t,e),_createClass(t,[{key:"visualContext",value:function(e){var n=_get(_getPrototypeOf(t.prototype),"visualContext",this).call(this,e);return n.value=this.value,n.dataItem=this.dataItem,n.format=this.options.format,n.culture=this.options.culture,n}},{key:"click",value:function(e,t){e.trigger("axisLabelClick",{element:c0(t),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})}},{key:"rotate",value:function(){if(this.options.alignRotation!==cJ){var e=this.normalBox.toRect(),n=this.rotationTransform();this.box=W0(e.bbox(n.matrix()))}else _get(_getPrototypeOf(t.prototype),"rotate",this).call(this);return this.box}},{key:"rotationTransform",value:function(){var e=this.options,n=e.rotation;if(!n)return null;if(e.alignRotation===cJ)return _get(_getPrototypeOf(t.prototype),"rotationTransform",this).call(this);var i,r,o=p.transform().rotate(n).matrix(),s=this.normalBox.toRect(),a=this.targetBox.toRect(),l=e.rotationOrigin||gJ,u=l===gJ||l===uJ?kJ:bJ,c=l===gJ||l===uJ?bJ:kJ,h=l===gJ||"left"===l?a.origin:a.bottomRight(),f=s.topLeft().transformCopy(o),d=s.topRight().transformCopy(o),v=s.bottomRight().transformCopy(o),g=s.bottomLeft().transformCopy(o),m=p.Rect.fromPoints(f,d,v,g),y=_defineProperty({},c,a.origin[c]-m.origin[c]),k=Math.abs(f[c]+y[c]-h[c]),b=Math.abs(d[c]+y[c]-h[c]);g0(k,10)===g0(b,10)?(i=f,r=d):b<k?(i=d,r=v):(i=f,r=g);var _=i[u]+(r[u]-i[u])/2;return y[u]=a.center()[u]-_,p.transform().translate(y.x,y.y).rotate(n)}}]),t}(Z0);b0(Y0,{_autoReflow:!1});var X0=Y0,Q0=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).fields=e,r.chartService=i,r.render(),r}return _inherits(t,e),_createClass(t,[{key:"hide",value:function(){this.options.visible=!1}},{key:"show",value:function(){this.options.visible=!0}},{key:"render",value:function(){var e=this,t=this.options;if(t.visible){var n,i,r=t.label,o=t.icon,s=new S0,a=function(){return e},l=o.size,u=this.fields.text;if(s0(r)&&r.visible){var c=WJ(r);c?u=c(this.fields):r.format&&(u=this.chartService.format.auto(r.format,u)),r.color||(r.color="inside"===r.position?"#fff":o.background),this.label=new Z0(u,RJ({},r)),this.label.aliasFor=a,"inside"!==r.position||s0(l)||(o.type===hJ?l=Math.max(this.label.box.width(),this.label.box.height()):(n=this.label.box.width(),i=this.label.box.height()),s.wrap(this.label.box))}o.width=n||l||7,o.height=i||l||7;var h=new M0(RJ({},o));h.aliasFor=a,this.marker=h,this.append(h),this.label&&this.append(this.label),h.reflow(new S0),this.wrapperBox=s.wrap(h.box)}}},{key:"reflow",value:function(e){var t,n,i,r=this.options,o=this.label,s=this.marker,a=this.wrapperBox,l=e.center(),u=r.line.length,c=r.position;r.visible&&(QJ(c,["left","right"])?"left"===c?(i=a.alignTo(e,c).translate(-u,e.center().y-a.center().y),r.line.visible&&(t=[e.x1,l.y],this.linePoints=[t,[i.x2,l.y]],n=i.clone().wrapPoint(t))):(i=a.alignTo(e,c).translate(u,e.center().y-a.center().y),r.line.visible&&(t=[e.x2,l.y],this.linePoints=[t,[i.x1,l.y]],n=i.clone().wrapPoint(t))):c===uJ?(i=a.alignTo(e,c).translate(e.center().x-a.center().x,u),r.line.visible&&(t=[l.x,e.y2],this.linePoints=[t,[l.x,i.y1]],n=i.clone().wrapPoint(t))):(i=a.alignTo(e,c).translate(e.center().x-a.center().x,-u),r.line.visible&&(t=[l.x,e.y1],this.linePoints=[t,[l.x,i.y2]],n=i.clone().wrapPoint(t))),s&&s.reflow(i),o&&(o.reflow(i),s&&("outside"===r.label.position&&o.box.alignTo(s.box,c),o.reflow(o.box))),this.contentBox=i,this.targetBox=e,this.box=n||i)}},{key:"createVisual",value:function(){_get(_getPrototypeOf(t.prototype),"createVisual",this).call(this),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()}},{key:"renderVisual",value:function(){var e=this,n=this.options,i=n.visual;n.visible&&i?(this.visual=i(Object.assign(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:n.background,border:n.background,icon:n.icon,label:n.label,line:n.line,position:n.position,visible:n.visible},createVisual:function(){e.createVisual(),e.renderChildren();var t=e.visual;return delete e.visual,t}})),this.addVisual()):_get(_getPrototypeOf(t.prototype),"renderVisual",this).call(this)}},{key:"createLine",value:function(){var e=this.options.line;if(this.linePoints){var t=m.Path.fromPoints(this.linePoints,{stroke:{color:e.color,width:e.width,dashType:e.dashType}});xJ(t),this.visual.append(t)}}},{key:"click",value:function(e,t){var n=this.eventArgs(t);e.trigger("noteClick",n)||t.preventDefault()}},{key:"over",value:function(e,t){var n=this.eventArgs(t);e.trigger("noteHover",n)||t.preventDefault()}},{key:"out",value:function(e,t){var n=this.eventArgs(t);e.trigger("noteLeave",n)}},{key:"eventArgs",value:function(e){var t=this.options;return Object.assign(this.fields,{element:c0(e),text:s0(t.label)?t.label.text:"",visual:this.visual})}}]),t}(D0);b0(Q0,{icon:{visible:!0,type:hJ},label:{position:"inside",visible:!0,align:cJ,vAlign:cJ},line:{visible:!0},visible:!0,position:gJ,zIndex:2});var J0=Q0;function e1(e,t){var n=e.tickX,i=e.tickY,r=e.position,o=new m.Path({stroke:{width:t.width,color:t.color}});return e.vertical?o.moveTo(n,r).lineTo(n+t.size,r):o.moveTo(r,i).lineTo(r,i+t.size),xJ(o),o}function t1(e,t){var n=e.lineStart,i=e.lineEnd,r=e.position,o=new m.Path({stroke:{width:t.width,color:t.color,dashType:t.dashType}});return e.vertical?o.moveTo(n,r).lineTo(i,r):o.moveTo(r,n).lineTo(r,i),xJ(o),o}var n1=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new HJ;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).chartService=i,n.options.visible||(n.options=RJ({},n.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),n.options.minorTicks=RJ({},{color:n.options.line.color,width:n.options.line.width,visible:"none"!==n.options.minorTickType},n.options.minorTicks,{size:n.options.minorTickSize,align:n.options.minorTickType}),n.options.majorTicks=RJ({},{color:n.options.line.color,width:n.options.line.width,visible:"none"!==n.options.majorTickType},n.options.majorTicks,{size:n.options.majorTickSize,align:n.options.majorTickType}),n.initFields(),n.options._deferLabels||n.createLabels(),n.createTitle(),n.createNotes(),n}return _inherits(t,e),_createClass(t,[{key:"initFields",value:function(){}},{key:"labelsRange",value:function(){return{min:this.options.labels.skip,max:this.labelsCount()}}},{key:"createLabels",value:function(){var e=this.options,t=RJ({},e.labels,{align:e.vertical?"right":cJ,zIndex:e.zIndex}),n=Math.max(1,t.step);if(this.clearLabels(),t.visible){var i=this.labelsRange(),r=t.rotation;PJ(r)&&(t.alignRotation=r.align,t.rotation=r.angle),"auto"===t.rotation&&(t.rotation=0,e.autoRotateLabels=!0);for(var o=i.min;o<i.max;o+=n){var s=this.createAxisLabel(o,t);s&&(this.append(s),this.labels.push(s))}}}},{key:"clearLabels",value:function(){this.children=KJ(this.children,(function(e){return!(e instanceof X0)})),this.labels=[]}},{key:"clearTitle",value:function(){var e=this;this.title&&(this.children=KJ(this.children,(function(t){return t!==e.title})),this.title=void 0)}},{key:"clear",value:function(){this.clearLabels(),this.clearTitle()}},{key:"lineBox",value:function(){var e=this.options,t=this.box,n=e.labels.mirror,i=n?t.x1:t.x2,r=n?t.y2:t.y1,o=e.line.width||0;return e.vertical?new S0(i,t.y1,i,t.y2-o):new S0(t.x1,r,t.x2-o,r)}},{key:"createTitle",value:function(){var e=this.options,t=RJ({rotation:e.vertical?-90:0,text:"",zIndex:1,visualSize:!0},e.title);if(t.visible&&t.text){var n=new Z0(t.text,t);this.append(n),this.title=n}}},{key:"createNotes",value:function(){var e=this.options,t=e.notes,n=t.data||[];this.notes=[];for(var i=0;i<n.length;i++){var r=RJ({},t,n[i]);r.value=this.parseNoteValue(r.value);var o=new J0({value:r.value,text:r.label.text,dataItem:r},r,this.chartService);o.options.visible&&(s0(o.options.position)?e.vertical&&!QJ(o.options.position,["left","right"])?o.options.position=e.reverse?"left":"right":e.vertical||QJ(o.options.position,[gJ,uJ])||(o.options.position=e.reverse?uJ:gJ):o.options.position=e.vertical?e.reverse?"left":"right":e.reverse?uJ:gJ,this.append(o),this.notes.push(o))}}},{key:"parseNoteValue",value:function(e){return e}},{key:"renderVisual",value:function(){_get(_getPrototypeOf(t.prototype),"renderVisual",this).call(this),this.createPlotBands()}},{key:"createVisual",value:function(){_get(_getPrototypeOf(t.prototype),"createVisual",this).call(this),this.createBackground(),this.createLine()}},{key:"gridLinesVisual",value:function(){var e=this._gridLines;return e||(e=this._gridLines=new m.Group({zIndex:-2}),this.appendVisual(this._gridLines)),e}},{key:"createTicks",value:function(e){var t=this.options,n=this.lineBox(),i=t.labels.mirror,r=t.majorTicks.visible?t.majorUnit:0,o={vertical:t.vertical};function s(t,r,s){var a=t.length,l=Math.max(1,r.step);if(r.visible)for(var u=r.skip;u<a;u+=l)s0(s)&&u%s==0||(o.tickX=i?n.x2:n.x2-r.size,o.tickY=i?n.y1-r.size:n.y1,o.position=t[u],e.append(e1(o,r)))}s(this.getMajorTickPositions(),t.majorTicks),s(this.getMinorTickPositions(),t.minorTicks,r/t.minorUnit)}},{key:"createLine",value:function(){var e=this.options,t=e.line,n=this.lineBox();if(t.width>0&&t.visible){var i=new m.Path({stroke:{width:t.width,color:t.color,dashType:t.dashType}});i.moveTo(n.x1,n.y1).lineTo(n.x2,n.y2),e._alignLines&&xJ(i);var r=this._lineGroup=new m.Group;r.append(i),this.visual.append(r),this.createTicks(r)}}},{key:"getActualTickSize",value:function(){var e=this.options,t=0;return e.majorTicks.visible&&e.minorTicks.visible?t=Math.max(e.majorTicks.size,e.minorTicks.size):e.majorTicks.visible?t=e.majorTicks.size:e.minorTicks.visible&&(t=e.minorTicks.size),t}},{key:"createBackground",value:function(){var e=this.options,t=this.box,n=e.background;n&&(this._backgroundPath=m.Path.fromRect(t.toRect(),{fill:{color:n},stroke:null}),this.visual.append(this._backgroundPath))}},{key:"createPlotBands",value:function(){var e=this,t=this.options,n=t.plotBands||[],i=t.vertical,r=this.plotArea;if(0!==n.length){for(var o=this._plotbandGroup=new m.Group({zIndex:-1}),s=KJ(this.pane.axes,(function(t){return t.options.vertical!==e.options.vertical}))[0],a=0;a<n.length;a++){var l=void 0,u=void 0,c=n[a];if(i?(l=(s||r.axisX).lineBox(),u=this.getSlot(c.from,c.to,!0)):(l=this.getSlot(c.from,c.to,!0),u=(s||r.axisY).lineBox()),0!==l.width()&&0!==u.height()){var h=new p.Rect([l.x1,u.y1],[l.width(),u.height()]),f=m.Path.fromRect(h,{fill:{color:c.color,opacity:c.opacity},stroke:null});o.append(f)}}this.appendVisual(o)}}},{key:"createGridLines",value:function(e){var t=this.options,n=t.minorGridLines,i=t.majorGridLines,r=t.minorUnit,o=t.vertical,s=e.options.line.visible,a=i.visible?t.majorUnit:0,l=e.lineBox(),u=l[o?"y1":"x1"],c={lineStart:l[o?"x1":"y1"],lineEnd:l[o?"x2":"y2"],vertical:o},h=[],f=this.gridLinesVisual();function d(e,t,n){var i=e.length,r=Math.max(1,t.step);if(t.visible)for(var o=t.skip;o<i;o+=r){var a=g0(e[o]);QJ(a,h)||o%n==0||s&&u===a||(c.position=a,f.append(t1(c,t)),h.push(a))}}return d(this.getMajorTickPositions(),i),d(this.getMinorTickPositions(),n,a/r),f.children}},{key:"reflow",value:function(e){for(var t=this.options,n=this.labels,i=this.title,r=t.vertical,o=n.length,s=r?"width":"height",a=i?i.box[s]():0,l=this.getActualTickSize()+t.margin+a,u=((this.getRoot()||{}).box||e)[s](),c=0,h=0;h<o;h++){var f=n[h].box[s]();f+l<=u&&(c=Math.max(c,f))}this.box=r?new S0(e.x1,e.y1,e.x1+c+l,e.y2):new S0(e.x1,e.y1,e.x2,e.y1+c+l),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()}},{key:"getLabelsTickPositions",value:function(){return this.getMajorTickPositions()}},{key:"labelTickIndex",value:function(e){return e.index}},{key:"arrangeLabels",value:function(){for(var e=this.options,t=this.labels,n=this.labelsBetweenTicks(),i=e.vertical,r=this.lineBox(),o=e.labels.mirror,s=this.getLabelsTickPositions(),a=this.getActualTickSize()+e.margin,l=0;l<t.length;l++){var u=t[l],c=this.labelTickIndex(u),h=i?u.box.height():u.box.width(),f=void 0,d=void 0,p=void 0,v=s[c]-h/2;if(i){n&&(v=(d=s[c])+((p=s[c+1])-d)/2-h/2);var g=r.x2;o?(g+=a,u.options.rotationOrigin="left"):(g-=a+u.box.width(),u.options.rotationOrigin="right"),f=u.box.move(g,v)}else{n?(d=s[c],p=s[c+1]):(d=v,p=v+h);var m=r.y1;o?(m-=a+u.box.height(),u.options.rotationOrigin=uJ):(m+=a,u.options.rotationOrigin=gJ),f=new S0(d,m,p,m+u.box.height())}u.reflow(f)}}},{key:"autoRotateLabels",value:function(){if(this.options.autoRotateLabels&&!this.options.vertical){for(var e,t=this.getMajorTickPositions(),n=this.labels,i=0;i<n.length;i++){var r=Math.abs(t[i+1]-t[i]),o=n[i].box;if(o.width()>r){if(o.height()>r){e=-90;break}e=-45}}if(e){for(var s=0;s<n.length;s++)n[s].options.rotation=e,n[s].reflow(new S0);return!0}}}},{key:"arrangeTitle",value:function(){var e=this.options,t=this.title,n=e.labels.mirror;t&&(e.vertical?(t.options.align=n?"right":"left",t.options.vAlign=t.options.position):(t.options.align=t.options.position,t.options.vAlign=n?gJ:uJ),t.reflow(this.box))}},{key:"arrangeNotes",value:function(){for(var e=0;e<this.notes.length;e++){var t=this.notes[e],n=t.options.value,i=void 0;s0(n)?(this.shouldRenderNote(n)?t.show():t.hide(),i=this.noteSlot(n)):t.hide(),t.reflow(i||this.lineBox())}}},{key:"noteSlot",value:function(e){return this.getSlot(e)}},{key:"alignTo",value:function(e){var t=e.lineBox(),n=this.options.vertical,i=n?bJ:kJ;this.box.snapTo(t,i),n?this.box.shrink(0,this.lineBox().height()-t.height()):this.box.shrink(this.lineBox().width()-t.width(),0),this.box[i+1]-=this.lineBox()[i+1]-t[i+1],this.box[i+2]-=this.lineBox()[i+2]-t[i+2]}},{key:"axisLabelText",value:function(e,t,n){var i=WJ(n),r=e;return i?r=i({value:e,dataItem:t,format:n.format,culture:n.culture}):n.format&&(r=this.chartService.format.localeAuto(n.format,[e],n.culture)),r}},{key:"slot",value:function(e,t,n){var i=this.getSlot(e,t,n);if(i)return i.toRect()}},{key:"contentBox",value:function(){var e=this.box.clone(),t=this.labels;if(t.length){var n=this.options.vertical?bJ:kJ;if(this.chartService.isPannable(n)){var i=this.maxLabelOffset();e[n+1]-=i.start,e[n+2]+=i.end}else{t[0].options.visible&&e.wrap(t[0].box);var r=t[t.length-1];r.options.visible&&e.wrap(r.box)}}return e}},{key:"maxLabelOffset",value:function(){for(var e=this.options,t=e.vertical,n=e.reverse,i=this.labelsBetweenTicks(),r=this.getLabelsTickPositions(),o=t?bJ:kJ,s=this.labels,a=n?1:0,l=n?0:1,u=0,c=0,h=0;h<s.length;h++){var f=s[h],d=this.labelTickIndex(f),p=void 0,v=void 0;i?(p=r[d+a],v=r[d+l]):p=v=r[d],u=Math.max(u,p-f.box[o+1]),c=Math.max(c,f.box[o+2]-v)}return{start:u,end:c}}},{key:"limitRange",value:function(e,t,n,i,r){var o=this.options;if(e<n&&r<0&&(!s0(o.min)||o.min<=n)||i<t&&r>0&&(!s0(o.max)||i<=o.max))return null;if(t<n&&r>0||i<e&&r<0)return{min:e,max:t};var s=t-e,a=e,l=t;return e<n&&r<0?(a=d0(e,n,i),l=d0(e+s,n+s,i)):t>i&&r>0&&(l=d0(t,n,i),a=d0(t-s,n,i-s)),{min:a,max:l}}},{key:"valueRange",value:function(){return{min:this.seriesMin,max:this.seriesMax}}},{key:"labelsBetweenTicks",value:function(){return!this.options.justified}},{key:"prepareUserOptions",value:function(){}}]),t}(R0);b0(n1,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:lJ,visible:!0},title:{visible:!0,position:cJ},majorTicks:{align:"outside",size:4,skip:0,step:1},minorTicks:{align:"outside",size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:"outside",minorTickType:"none",majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:lJ,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});var i1=n1,r1="days",o1="years",s1={years:31536e6,months:26784e5,weeks:6048e5,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1};function a1(e,t){return e.getTime()-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset())}function l1(e,t){return new Date(e.getTime()+t)}function u1(e){var t;return e instanceof Date?t=e:e&&(t=new Date(e)),t}function c1(e,t){return 0===t&&23===e.getHours()&&(e.setHours(e.getHours()+2),!0)}function h1(e,t,n,i){var r=e;if(e){var o=u1(e),s=o.getHours();n===o1?c1(r=new Date(o.getFullYear()+t,0,1),0):"months"===n?c1(r=new Date(o.getFullYear(),o.getMonth()+t,1),s):"weeks"===n?c1(r=h1(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0,i=e.getDay();if(!isNaN(i))for(;i!==t;)0===i?i=6:i--,n++;return l1(e,864e5*-n)}(o,i),7*t,r1),s):n===r1?c1(r=new Date(o.getFullYear(),o.getMonth(),o.getDate()+t),s):"hours"===n?r=function(e,t){var n=new Date(e);n.setMinutes(0,0,0);var i=6e4*(e.getTimezoneOffset()-n.getTimezoneOffset());return l1(n,i+36e5*t)}(o,t):"minutes"===n?(r=l1(o,6e4*t)).getSeconds()>0&&r.setSeconds(0):"seconds"===n?r=l1(o,1e3*t):"milliseconds"===n&&(r=l1(o,t)),"milliseconds"!==n&&r.getMilliseconds()>0&&r.setMilliseconds(0)}return r}function f1(e,t,n){return h1(u1(e),0,t,n)}function d1(e,t,n){var i=u1(e);return i&&f1(i,t,n).getTime()===i.getTime()?i:h1(i,1,t,n)}function p1(e,t){return e&&t?e.getTime()-t.getTime():-1}function v1(e,t){return e.getTime()-t}function g1(e){if(_J(e)){for(var t=[],n=0;n<e.length;n++)t.push(g1(e[n]));return t}if(e)return u1(e).getTime()}function m1(e,t){return e&&t?g1(e)===g1(t):e===t}function y1(e,t,n){return a1(e,t)/s1[n]}function k1(e,t,n,i){var r=u1(e),o=u1(t);return("months"===n?r.getMonth()-o.getMonth()+12*(r.getFullYear()-o.getFullYear())+y1(r,new Date(r.getFullYear(),r.getMonth()),r1)/new Date(r.getFullYear(),r.getMonth()+1,0).getDate():n===o1?r.getFullYear()-o.getFullYear()+k1(r,new Date(r.getFullYear(),0),"months",1)/12:n===r1||"weeks"===n?y1(r,o,n):v1(r,t)/s1[n])/i}function b1(e,t,n){return n===o1?t.getFullYear()-e.getFullYear():"months"===n?12*b1(e,t,o1)+t.getMonth()-e.getMonth():n===r1?Math.floor(v1(t,e)/864e5):Math.floor(v1(t,e)/s1[n])}function _1(e,t){return OJ(t)&&e.parseDate(t)||u1(t)}function C1(e,t){if(_J(t)){for(var n=[],i=0;i<t.length;i++)n.push(_1(e,t[i]));return n}return _1(e,t)}var w1=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"initFields",value:function(){this._ticks={}}},{key:"categoriesHash",value:function(){return""}},{key:"clone",value:function(){var e=new t(Object.assign({},this.options,{categories:this.options.srcCategories}),this.chartService);return e.createLabels(),e}},{key:"initUserOptions",value:function(e){var t=e.categories||[],n=s0(e.min),i=s0(e.max);if(e.srcCategories=e.categories=t,(n||i)&&t.length){var r,o=n?Math.floor(e.min):0;r=i?e.justified?Math.floor(e.max)+1:Math.ceil(e.max):t.length,e.categories=e.categories.slice(o,r)}return e}},{key:"rangeIndices",value:function(){var e=this.options,t=e.categories.length||1;return{min:TJ(e.min)?e.min%1:0,max:TJ(e.max)&&e.max%1!=0&&e.max<this.totalRange().max?t-(1-e.max%1):t-(e.justified?1:0)}}},{key:"totalRangeIndices",value:function(e){var t,n=this.options,i=TJ(n.min)?n.min:0;if(t=TJ(n.max)?n.max:TJ(n.min)?i+n.categories.length:this.totalRange().max||1,e){var r=this.totalRange();i=d0(i,0,r.max),t=d0(t,0,r.max)}return{min:i,max:t}}},{key:"range",value:function(){var e=this.options;return{min:TJ(e.min)?e.min:0,max:TJ(e.max)?e.max:this.totalRange().max}}},{key:"roundedRange",value:function(){return this.range()}},{key:"totalRange",value:function(){var e=this.options;return{min:0,max:Math.max(this._seriesMax||0,e.srcCategories.length)-(e.justified?1:0)}}},{key:"scaleOptions",value:function(){var e=this.rangeIndices(),t=e.min,n=e.max,i=this.lineBox();return{scale:(this.options.vertical?i.height():i.width())/(n-t||1)*(this.options.reverse?-1:1),box:i,min:t,max:n}}},{key:"arrangeLabels",value:function(){_get(_getPrototypeOf(t.prototype),"arrangeLabels",this).call(this),this.hideOutOfRangeLabels()}},{key:"hideOutOfRangeLabels",value:function(){var e=this.box,t=this.labels;if(t.length){var n=this.options.vertical?bJ:kJ,i=e[n+1],r=e[n+2],o=t[0],s=f0(t);(o.box[n+1]>r||o.box[n+2]<i)&&(o.options.visible=!1),(s.box[n+1]>r||s.box[n+2]<i)&&(s.options.visible=!1)}}},{key:"getMajorTickPositions",value:function(){return this.getTicks().majorTicks}},{key:"getMinorTickPositions",value:function(){return this.getTicks().minorTicks}},{key:"getLabelsTickPositions",value:function(){return this.getTicks().labelTicks}},{key:"tickIndices",value:function(e){for(var t=this.rangeIndices(),n=t.min,i=t.max,r=Math.ceil(i),o=Math.floor(n),s=[];o<=r;)s.push(o),o+=e;return s}},{key:"getTickPositions",value:function(e){for(var t=this.options,n=t.vertical,i=t.reverse,r=this.scaleOptions(),o=r.scale,s=r.box,a=r.min,l=s[(n?bJ:kJ)+(i?2:1)],u=this.tickIndices(e),c=[],h=0;h<u.length;h++)c.push(l+g0(o*(u[h]-a),3));return c}},{key:"getTicks",value:function(){var e=this.options,t=this._ticks,n=this.rangeIndices(),i=this.lineBox(),r=i.getHash()+n.min+","+n.max+e.reverse+e.justified;if(t._hash!==r){var o=e.minorTicks.visible||e.minorGridLines.visible;t._hash=r,t.labelTicks=this.getTickPositions(1),t.majorTicks=this.filterOutOfRangePositions(t.labelTicks,i),t.minorTicks=o?this.filterOutOfRangePositions(this.getTickPositions(.5),i):[]}return t}},{key:"filterOutOfRangePositions",value:function(e,t){if(!e.length)return e;for(var n=this.options.vertical?bJ:kJ,i=function(e){return t[n+1]<=e&&e<=t[n+2]},r=e.length-1,o=0;!i(e[o])&&o<=r;)o++;for(var s=r;!i(e[s])&&s>=0;)s--;return e.slice(o,s+1)}},{key:"getSlot",value:function(e,t,n){var i=this.options,r=i.reverse,o=i.justified,s=i.vertical,a=this.scaleOptions(),l=a.scale,u=a.box,c=a.min,h=s?bJ:kJ,f=u[h+(r?2:1)],d=u.clone(),p=!s0(t),v=y0(e,0),g=y0(t,v);g=Math.max(g-1,v);var m=f+(v-c)*l,y=f+((g=Math.max(v,g))+1-c)*l;return p&&o&&(y=m),n&&(m=d0(m,u[h+1],u[h+2]),y=d0(y,u[h+1],u[h+2])),d[h+1]=r?y:m,d[h+2]=r?m:y,d}},{key:"limitSlot",value:function(e){var t=this.options.vertical?bJ:kJ,n=this.lineBox(),i=e.clone();return i[t+1]=d0(e[t+1],n[t+1],n[t+2]),i[t+2]=d0(e[t+2],n[t+1],n[t+2]),i}},{key:"slot",value:function(e,n,i){var r=Math.floor(this.options.min||0),o=e,s=n;return"string"==typeof o?o=this.categoryIndex(o):TJ(o)&&(o-=r),"string"==typeof s?s=this.categoryIndex(s):TJ(s)&&(s-=r),_get(_getPrototypeOf(t.prototype),"slot",this).call(this,o,s,i)}},{key:"pointCategoryIndex",value:function(e){var t=this.options,n=t.reverse,i=t.justified,r=t.vertical?bJ:kJ,o=this.scaleOptions(),s=o.scale,a=o.box,l=o.min,u=o.max,c=a[r+1],h=e[r];if(h<c||h>a[r+2])return null;var f=(n?u:l)+(h-c)/s,d=f%1;return i?f=Math.round(f):0===d&&f>0&&f--,Math.floor(f)}},{key:"getCategory",value:function(e){var t=this.pointCategoryIndex(e);return null===t?null:this.options.categories[t]}},{key:"categoryIndex",value:function(e){return this.totalIndex(e)-Math.floor(this.options.min||0)}},{key:"categoryAt",value:function(e,t){var n=this.options;return(t?n.srcCategories:n.categories)[e]}},{key:"categoriesCount",value:function(){return(this.options.categories||[]).length}},{key:"translateRange",value:function(e){var t=this.options,n=this.lineBox(),i=t.vertical?n.height():n.width(),r=t.categories.length,o=g0(e/(i/r),10);return{min:o,max:r+o}}},{key:"zoomRange",value:function(e){var t=this.totalRangeIndices(),n=this.totalRange(),i=n.min,r=n.max,o=d0(t.min+e,i,r),s=d0(t.max-e,i,r);if(s-o>0)return{min:o,max:s}}},{key:"scaleRange",value:function(e){var t=this.options.categories.length,n=e*t;return{min:-n,max:t+n}}},{key:"labelsCount",value:function(){var e=this.labelsRange();return e.max-e.min}},{key:"labelsRange",value:function(){var e=this.options,t=e.justified,n=e.labels,i=this.totalRangeIndices(!0),r=i.min,o=i.max,s=Math.floor(r);return t?(r=Math.ceil(r),o=Math.floor(o)):(r=Math.floor(r),o=Math.ceil(o)),{min:(r>n.skip?n.skip+n.step*Math.ceil((r-n.skip)/n.step):n.skip)-s,max:(e.categories.length?o+(t?1:0):0)-s}}},{key:"createAxisLabel",value:function(e,t){var n=this.options,i=n.dataItems?n.dataItems[e]:null,r=y0(n.categories[e],""),o=this.axisLabelText(r,i,t);return new X0(r,o,e,i,t)}},{key:"shouldRenderNote",value:function(e){var t=this.totalRangeIndices();return Math.floor(t.min)<=e&&e<=Math.ceil(t.max)}},{key:"noteSlot",value:function(e){var t=e-Math.floor(this.options.min||0);return this.getSlot(t)}},{key:"arrangeNotes",value:function(){_get(_getPrototypeOf(t.prototype),"arrangeNotes",this).call(this),this.hideOutOfRangeNotes()}},{key:"hideOutOfRangeNotes",value:function(){var e=this.notes,t=this.box;if(e&&e.length)for(var n=this.options.vertical?bJ:kJ,i=t[n+1],r=t[n+2],o=0;o<e.length;o++){var s=e[o];s.box&&(r<s.box[n+1]||s.box[n+2]<i)&&s.hide()}}},{key:"pan",value:function(e){var t=this.totalRangeIndices(!0),n=this.scaleOptions().scale,i=g0(e/n,10),r=this.totalRange();return this.limitRange(t.min+i,t.max+i,0,r.max,i)}},{key:"pointsRange",value:function(e,t){var n=this.options,i=n.reverse,r=n.vertical?bJ:kJ,o=this.totalRangeIndices(!0),s=this.scaleOptions(),a=s.scale,l=s.box[r+(i?2:1)],u=o.min+(e[r]-l)/a,c=o.min+(t[r]-l)/a,h=Math.min(u,c),f=Math.max(u,c);if(f-h>=.01)return{min:h,max:f}}},{key:"valueRange",value:function(){return this.range()}},{key:"totalIndex",value:function(e){var t=this.options;return this._categoriesMap?this._categoriesMap.get(e):function(e,t){if(e instanceof Date){for(var n=t.length,i=0;i<n;i++)if(m1(t[i],e))return i;return-1}return t.indexOf(e)}(e,t.srcCategories)}},{key:"currentRangeIndices",value:function(){var e=this.options,t=0;return TJ(e.min)&&(t=Math.floor(e.min)),{min:t,max:TJ(e.max)?e.justified?Math.floor(e.max):Math.ceil(e.max)-1:this.totalCount()-1}}},{key:"mapCategories",value:function(){if(!this._categoriesMap)for(var e=this._categoriesMap=new XJ,t=this.options.srcCategories,n=0;n<t.length;n++)e.set(t[n],n)}},{key:"totalCount",value:function(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)}}]),t}(i1);b0(w1,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:lJ},labels:{zIndex:1},justified:!1,_deferLabels:!0});var x1=w1,S1={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},T1=["milliseconds","seconds","minutes","hours",r1,"weeks","months",o1];function O1(e){var t=e._range;return t||((t=e._range=_0(e)).min=u1(t.min),t.max=u1(t.max)),t}var I1=function(){function e(t){_classCallCheck(this,e),this.options=t}return _createClass(e,[{key:"displayIndices",value:function(){return{min:0,max:1}}},{key:"displayRange",value:function(){return{}}},{key:"total",value:function(){return{}}},{key:"valueRange",value:function(){return{}}},{key:"valueIndex",value:function(){return-1}},{key:"values",value:function(){return[]}},{key:"totalIndex",value:function(){return-1}},{key:"valuesCount",value:function(){return 0}},{key:"totalCount",value:function(){return 0}},{key:"dateAt",value:function(){return null}}]),e}(),E1=function(){function e(t,n,i){_classCallCheck(this,e),this.options=i,i.baseUnitStep=i.baseUnitStep||1;var r=i.roundToBaseUnit,o=i.justified;this.start=h1(t,0,i.baseUnit,i.weekStartDay);var s=this.roundToTotalStep(n),a=!o&&m1(n,s)&&!i.justifyEnd;this.end=this.roundToTotalStep(n,!o,a?1:0);var l=i.min||t;this.valueStart=this.roundToTotalStep(l),this.displayStart=r?this.valueStart:l;var u=i.max;u?(this.valueEnd=this.roundToTotalStep(u,!1,!o&&m1(u,this.roundToTotalStep(u))?-1:0),this.displayEnd=r?this.roundToTotalStep(u,!o):i.max):(this.valueEnd=s,this.displayEnd=r||a?this.end:n),this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))}return _createClass(e,[{key:"displayRange",value:function(){return{min:this.displayStart,max:this.displayEnd}}},{key:"displayIndices",value:function(){if(!this._indices){var e=this.options,t=e.baseUnit,n=e.baseUnitStep,i=k1(this.displayStart,this.valueStart,t,n),r=k1(this.displayEnd,this.valueStart,t,n);this._indices={min:i,max:r}}return this._indices}},{key:"total",value:function(){return{min:this.start,max:this.end}}},{key:"totalCount",value:function(){return this.totalIndex(this.end)+(this.options.justified?1:0)}},{key:"valueRange",value:function(){return{min:this.valueStart,max:this.valueEnd}}},{key:"valueIndex",value:function(e){var t=this.options;return Math.floor(k1(e,this.valueStart,t.baseUnit,t.baseUnitStep))}},{key:"totalIndex",value:function(e){var t=this.options;return Math.floor(k1(e,this.start,t.baseUnit,t.baseUnitStep))}},{key:"dateIndex",value:function(e){var t=this.options;return k1(e,this.valueStart,t.baseUnit,t.baseUnitStep)}},{key:"valuesCount",value:function(){return this.valueIndex(this.valueEnd)+1}},{key:"values",value:function(){var e=this._values;if(!e){var t=this.options,n=this.valueRange();this._values=e=[];for(var i=n.min;i<=n.max;)e.push(i),i=h1(i,t.baseUnitStep,t.baseUnit,t.weekStartDay)}return e}},{key:"dateAt",value:function(e,t){var n=this.options;return h1(t?this.start:this.valueStart,n.baseUnitStep*e,n.baseUnit,n.weekStartDay)}},{key:"roundToTotalStep",value:function(e,t,n){var i=this.options,r=i.baseUnit,o=i.baseUnitStep,s=i.weekStartDay,a=this.start,l=k1(e,a,r,o),u=t?Math.ceil(l):Math.floor(l);return n&&(u+=n),h1(a,u*o,r,s)}}]),e}();function A1(e,t,n){for(var i,r,o,s=O1(e.categories),a=(e.max||s.max)-(e.min||s.min),l=e.autoBaseUnitSteps,u=e.maxDateGroups,c="fit"===e.baseUnit,h=t?T1.indexOf(t):0,f=c?T1[h++]:e.baseUnit,d=a/s1[f],p=d;!r||d>=u;){i=i||l[f].slice(0);do{o=i.shift()}while(o&&t===f&&o<n);if(o)d=p/(r=o);else{if(f===f0(T1)){r=Math.ceil(p/u);break}if(!c){d>u&&(r=Math.ceil(p/u));break}f=T1[h++]||f0(T1),p=a/s1[f],i=null}}e.baseUnitStep=r,e.baseUnit=f}var R1=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"clone",value:function(){var e=new t(Object.assign({},this.options),this.chartService);return e.createLabels(),e}},{key:"categoriesHash",value:function(){var e=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+e}},{key:"initUserOptions",value:function(e){return e}},{key:"initFields",value:function(){_get(_getPrototypeOf(t.prototype),"initFields",this).call(this);var e=this.chartService,n=e.intl,i=this.options,r=i.categories||[];if(r._parsed||((r=C1(n,r))._parsed=!0),i=RJ({roundToBaseUnit:!0},i,{categories:r,min:_1(n,i.min),max:_1(n,i.max)}),e.panning&&e.isPannable(i.vertical?bJ:kJ)&&(i.roundToBaseUnit=!1),i.userSetBaseUnit=i.userSetBaseUnit||i.baseUnit,i.userSetBaseUnitStep=i.userSetBaseUnitStep||i.baseUnitStep,this.options=i,i.srcCategories=r,r.length>0){var o=O1(r),s=i.maxDivisions;if(this.dataRange=new E1(o.min,o.max,function(e){var t=(e.baseUnit||"").toLowerCase();return"fit"!==t&&!QJ(t,T1)&&function(e){for(var t,n,i=e.categories,r=s0(i)?i.length:0,o=pJ,s=0;s<r;s++){var a=i[s];if(a&&t){var l=a1(a,t);l>0&&(n=(o=Math.min(o,l))>=31536e6?o1:o>=24192e5?"months":o>=6048e5?"weeks":o>=864e5?r1:o>=36e5?"hours":o>=6e4?"minutes":"seconds")}t=a}e.baseUnit=n||r1}(e),"fit"!==t&&"auto"!==e.baseUnitStep||A1(e),e}(i)),s){var a=this.dataRange.displayRange(),l=Object.assign({},i,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:a.min,max:a.max,maxDateGroups:s}),u=this.dataRange.options;A1(l,u.baseUnit,u.baseUnitStep),this.divisionRange=new E1(o.min,o.max,l)}else this.divisionRange=this.dataRange}else i.baseUnit=i.baseUnit||r1,this.dataRange=this.divisionRange=new I1(i)}},{key:"tickIndices",value:function(e){var n=this.dataRange,i=this.divisionRange,r=i.valuesCount();if(!this.options.maxDivisions||!r)return _get(_getPrototypeOf(t.prototype),"tickIndices",this).call(this,e);var o=[],s=i.values(),a=0;this.options.justified||(s=s.concat(i.dateAt(r)),a=.5);for(var l=0;l<s.length;l++)if(o.push(n.dateIndex(s[l])+a),1!==e&&l>=1){var u=o.length-1;o.splice(l,0,o[u-1]+(o[u]-o[u-1])*e)}return o}},{key:"shouldRenderNote",value:function(e){var t=this.range(),n=this.options.categories||[];return p1(e,t.min)>=0&&p1(e,t.max)<=0&&n.length}},{key:"parseNoteValue",value:function(e){return _1(this.chartService.intl,e)}},{key:"noteSlot",value:function(e){return this.getSlot(e)}},{key:"translateRange",value:function(e){var t=this.options,n=t.baseUnit,i=t.weekStartDay,r=t.vertical,o=this.lineBox(),s=r?o.height():o.width(),a=this.range(),l=g0(e/(s/(a.max-a.min)),10);if(a.min&&a.max){var u=l1(t.min||a.min,l),c=l1(t.max||a.max,l);a={min:h1(u,0,n,i),max:h1(c,0,n,i)}}return a}},{key:"scaleRange",value:function(e){var t=Math.abs(e),n=this.range(),i=n,r=i.min,o=i.max;if(r&&o){for(;t--;){var s=v1(r,o),a=Math.round(.1*s);e<0?(r=l1(r,a),o=l1(o,-a)):(r=l1(r,-a),o=l1(o,a))}n={min:r,max:o}}return n}},{key:"labelsRange",value:function(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}}},{key:"pan",value:function(e){if(this.isEmpty())return null;var t=this.options,n=this.lineBox(),i=t.vertical?n.height():n.width(),r=this.dataRange.displayRange(),o=r.min,s=r.max,a=this.dataRange.total(),l=g0(e/(i/(s-o)),10)*(t.reverse?-1:1),u=l1(o,l),c=l1(s,l),h=this.limitRange(g1(u),g1(c),g1(a.min),g1(a.max),l);return h?(h.min=u1(h.min),h.max=u1(h.max),h.baseUnit=t.baseUnit,h.baseUnitStep=t.baseUnitStep||1,h.userSetBaseUnit=t.userSetBaseUnit,h.userSetBaseUnitStep=t.userSetBaseUnitStep,h):void 0}},{key:"pointsRange",value:function(e,n){if(this.isEmpty())return null;var i=_get(_getPrototypeOf(t.prototype),"pointsRange",this).call(this,e,n),r=this.dataRange.displayRange(),o=this.dataRange.displayIndices(),s=v1(r.max,r.min)/(o.max-o.min),a=this.options;return{min:l1(r.min,i.min*s),max:l1(r.min,i.max*s),baseUnit:a.userSetBaseUnit||a.baseUnit,baseUnitStep:a.userSetBaseUnitStep||a.baseUnitStep}}},{key:"zoomRange",value:function(e){if(this.isEmpty())return null;var t=this.options,n="fit"===t.userSetBaseUnit,i=this.dataRange.total(),r=this.dataRange.displayRange(),o=r.min,s=r.max,a=this.dataRange.options,l=a.weekStartDay,u=a.baseUnit,c=a.baseUnitStep,h=h1(o,e*c,u,l),f=h1(s,-e*c,u,l);if(n){var d,p,v=t.autoBaseUnitSteps,g=t.maxDateGroups,m=f0(v[u])*g*s1[u],y=v1(s,o),k=v1(f,h),b=T1.indexOf(u);if(k<s1[u]&&"milliseconds"!==u)u=T1[b-1],h=l1(o,p=(y-(g-1)*(d=f0(v[u]))*s1[u])/2),f=l1(s,-p);else if(k>m&&u!==o1){var _=0;do{b++,u=T1[b],_=0,p=2*s1[u];do{d=v[u][_],_++}while(_<v[u].length&&p*d<y)}while(u!==o1&&p*d<y);(p=(p*d-y)/2)>0&&(h=l1(o,-p),f=l1(s,p),h=l1(h,d0(f,i.min,i.max)-f),f=l1(f,d0(h,i.min,i.max)-h))}}return h<i.min&&(h=i.min),f>i.max&&(f=i.max),h&&f&&v1(f,h)>0?{min:h,max:f,baseUnit:t.userSetBaseUnit||t.baseUnit,baseUnitStep:t.userSetBaseUnitStep||t.baseUnitStep}:void 0}},{key:"range",value:function(){return this.dataRange.displayRange()}},{key:"createAxisLabel",value:function(e,t){var n=this.options,i=n.dataItems&&!n.maxDivisions?n.dataItems[e]:null,r=this.divisionRange.dateAt(e);t.format=t.format||t.dateFormats[this.divisionRange.options.baseUnit];var o=this.axisLabelText(r,i,t);if(o)return new X0(r,o,e,i,t)}},{key:"categoryIndex",value:function(e){return this.dataRange.valueIndex(e)}},{key:"slot",value:function(e,t,n){var i=this.dataRange,r=e,o=t;r instanceof Date&&(r=i.dateIndex(r)),o instanceof Date&&(o=i.dateIndex(o));var s=this.getSlot(r,o,n);if(s)return s.toRect()}},{key:"getSlot",value:function(e,n,i){var r=e,o=n;return"object"==typeof r&&(r=this.categoryIndex(r)),"object"==typeof o&&(o=this.categoryIndex(o)),_get(_getPrototypeOf(t.prototype),"getSlot",this).call(this,r,o,i)}},{key:"valueRange",value:function(){var e=O1(this.options.srcCategories);return{min:u1(e.min),max:u1(e.max)}}},{key:"categoryAt",value:function(e,t){return this.dataRange.dateAt(e,t)}},{key:"categoriesCount",value:function(){return this.dataRange.valuesCount()}},{key:"rangeIndices",value:function(){return this.dataRange.displayIndices()}},{key:"labelsBetweenTicks",value:function(){return!this.divisionRange.options.justified}},{key:"prepareUserOptions",value:function(){this.isEmpty()||(this.options.categories=this.dataRange.values())}},{key:"getCategory",value:function(e){var t=this.pointCategoryIndex(e);return null===t?null:this.dataRange.dateAt(t)}},{key:"totalIndex",value:function(e){return this.dataRange.totalIndex(e)}},{key:"currentRangeIndices",value:function(){var e=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(e.min),max:this.dataRange.totalIndex(e.max)}}},{key:"totalRange",value:function(){return this.dataRange.total()}},{key:"totalCount",value:function(){return this.dataRange.totalCount()}},{key:"isEmpty",value:function(){return!this.options.srcCategories.length}},{key:"roundedRange",value:function(){if(!1!==this.options.roundToBaseUnit||this.isEmpty())return this.range();var e=this.options,t=O1(e.srcCategories);return new E1(t.min,t.max,Object.assign({},e,{justified:!1,roundToBaseUnit:!0,justifyEnd:e.justified})).displayRange()}}]),t}(x1);b0(R1,{type:fJ,labels:{dateFormats:S1},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});var P1=R1;function D1(e,t){return g0(Math.floor(e/t)*t,10)}function F1(e,t){return g0(Math.ceil(e/t)*t,10)}function M1(e){return Math.max(Math.min(e,3e5),-3e5)}var z1=Math.pow(10,-9),L1=function(e){function t(e,n,i,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,Object.assign({},i,{seriesMin:e,seriesMax:n}),r))}return _inherits(t,e),_createClass(t,[{key:"initUserOptions",value:function(e){var t=function(e,t,n){var i=n.narrowRange,r=function(e,t,n){if(!e&&!t)return 0;var i;if(e>=0&&t>=0){var r=e===t?0:e;if(!1===n||!n&&(t-r)/t>.2)return 0;i=Math.max(0,r-(t-r)/2)}else i=e;return i}(e,t,i),o=function(e,t,n){if(!e&&!t)return 1;var i;if(e<=0&&t<=0){var r=e===t?0:t,o=Math.abs((r-e)/r);if(!1===n||!n&&o>.2)return 0;i=Math.min(0,r-(e-r)/2)}else i=t;return i}(e,t,i),s=C0(r,o),a={majorUnit:s};return!1!==n.roundToMajorUnit&&(r<0&&V1(r,s,1/3)&&(r-=s),o>0&&V1(o,s,1/3)&&(o+=s)),a.min=D1(r,s),a.max=F1(o,s),a}(e.seriesMin,e.seriesMax,e);return this.totalOptions=function(e,t){return{min:s0(t.min)?Math.min(e.min,t.min):e.min,max:s0(t.max)?Math.max(e.max,t.max):e.max,majorUnit:e.majorUnit}}(t,e),function(e,t){var n,i,r=t;if(t){!function(e,t){for(var n=0;n<t.length;n++){var i=t[n];null===e[i]&&(e[i]=void 0)}}(t,["min","max"]),n=s0(t.min),i=s0(t.max);var o=n||i;o&&t.min===t.max&&(t.min>0?t.min=0:t.max=1),t.majorUnit?(e.min=D1(e.min,t.majorUnit),e.max=F1(e.max,t.majorUnit)):o&&(r=RJ(e,t),e.majorUnit=C0(r.min,r.max))}e.minorUnit=(r.majorUnit||e.majorUnit)/5;var s=RJ(e,r);return s.min>=s.max&&(n&&!i?s.max=s.min+s.majorUnit:!n&&i&&(s.min=s.max-s.majorUnit)),s}(t,e)}},{key:"initFields",value:function(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax}},{key:"clone",value:function(){return new t(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}},{key:"startValue",value:function(){return 0}},{key:"range",value:function(){var e=this.options;return{min:e.min,max:e.max}}},{key:"getDivisions",value:function(e){if(0===e)return 1;var t=this.options;return Math.floor(g0((t.max-t.min)/e,3))+1}},{key:"getTickPositions",value:function(e,t){var n=this.options,i=n.vertical,r=n.reverse,o=this.lineBox(),s=e*((i?o.height():o.width())/(n.max-n.min)),a=this.getDivisions(e),l=(i?-1:1)*(r?-1:1),u=[],c=o[(i?bJ:kJ)+(1===l?1:2)],h=0;t&&(h=t/e);for(var f=0;f<a;f++)f%h!=0&&u.push(g0(c,3)),c+=s*l;return u}},{key:"getMajorTickPositions",value:function(){return this.getTickPositions(this.options.majorUnit)}},{key:"getMinorTickPositions",value:function(){return this.getTickPositions(this.options.minorUnit)}},{key:"getSlot",value:function(e,t){var n,i,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.options,s=o.vertical,a=o.reverse,l=s?bJ:kJ,u=this.lineBox(),c=u[l+(a?2:1)],h=(a?-1:1)*((s?u.height():u.width())/(o.max-o.min)),f=new S0(u.x1,u.y1,u.x1,u.y1),d=e,p=t;return s0(d)||(d=p||0),s0(p)||(p=d||0),r&&(d=Math.max(Math.min(d,o.max),o.min),p=Math.max(Math.min(p,o.max),o.min)),s?(n=o.max-Math.max(d,p),i=o.max-Math.min(d,p)):(n=Math.min(d,p)-o.min,i=Math.max(d,p)-o.min),f[l+1]=M1(c+h*(a?i:n)),f[l+2]=M1(c+h*(a?n:i)),f}},{key:"getValue",value:function(e){var t=this.options,n=t.vertical,i=t.reverse,r=Number(t.max),o=Number(t.min),s=n?bJ:kJ,a=this.lineBox(),l=a[s+(i?2:1)],u=n?a.height():a.width(),c=(i?-1:1)*(e[s]-l),h=c*((r-o)/u);return c<0||c>u?null:g0(n?r-h:o+h,10)}},{key:"translateRange",value:function(e){var t=this.options,n=t.vertical,i=t.reverse,r=t.max,o=t.min,s=this.lineBox(),a=n?s.height():s.width(),l=g0(e/(a/(r-o)),10);return!n&&!i||n&&i||(l=-l),{min:o+l,max:r+l,offset:l}}},{key:"scaleRange",value:function(e){var t=this.options,n=-e*t.majorUnit;return{min:t.min-n,max:t.max+n}}},{key:"labelsCount",value:function(){return this.getDivisions(this.options.majorUnit)}},{key:"createAxisLabel",value:function(e,t){var n=this.options,i=g0(n.min+e*n.majorUnit,10),r=this.axisLabelText(i,null,t);return new X0(i,r,e,null,t)}},{key:"shouldRenderNote",value:function(e){var t=this.range();return t.min<=e&&e<=t.max}},{key:"pan",value:function(e){var t=this.translateRange(e);return this.limitRange(t.min,t.max,this.totalMin,this.totalMax,t.offset)}},{key:"pointsRange",value:function(e,t){var n=this.getValue(e),i=this.getValue(t),r=Math.min(n,i),o=Math.max(n,i);if(this.isValidRange(r,o))return{min:r,max:o}}},{key:"zoomRange",value:function(e){var t=this.totalMin,n=this.totalMax,i=this.scaleRange(e),r=d0(i.min,t,n),o=d0(i.max,t,n);if(this.isValidRange(r,o))return{min:r,max:o}}},{key:"isValidRange",value:function(e,t){return t-e>z1}}]),t}(i1);function V1(e,t,n){var i=g0(Math.abs(e%t),10);return 0===i||i>t*(1-n)}b0(L1,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:lJ},labels:{format:"#.####################"},zIndex:1});var N1=L1,B1=function(e){function t(e,n,i,r){var o;_classCallCheck(this,t);var s=u1(e),a=u1(n),l=r.intl,u=i||{};u=function(e,t,n){var i,r,o=n.min||e,s=n.max||t,a=n.baseUnit||(s&&o?(i=a1(s,o),r="hours",i>=31536e6?r=o1:i>=26784e5?r="months":i>=6048e5?r="weeks":i>=864e5&&(r=r1),r):"hours"),l=s1[a],u=n.weekStartDay||0,c=f1(g1(o)-1,a,u)||u1(s),h=d1(g1(s)+1,a,u),f=(n.majorUnit?n.majorUnit:void 0)||F1(C0(c.getTime(),h.getTime()),l)/l,d=b1(c,h,a),p=F1(d,f)-d,v=Math.floor(p/2),g=p-v;return n.baseUnit||delete n.baseUnit,n.baseUnit=n.baseUnit||a,n.min=n.min||h1(c,-v,a,u),n.max=n.max||h1(h,g,a,u),n.minorUnit=n.minorUnit||f/5,n.majorUnit=f,n}(s,a,u=RJ(u||{},{min:_1(l,u.min),max:_1(l,u.max),axisCrossingValue:C1(l,u.axisCrossingValues||u.axisCrossingValue)})),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,u,r))).intlService=l,o.seriesMin=s,o.seriesMax=a;var c=u.weekStartDay||0;return o.totalMin=g1(f1(g1(s)-1,u.baseUnit,c)),o.totalMax=g1(d1(g1(a)+1,u.baseUnit,c)),o}return _inherits(t,e),_createClass(t,[{key:"clone",value:function(){return new t(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}},{key:"range",value:function(){var e=this.options;return{min:e.min,max:e.max}}},{key:"getDivisions",value:function(e){var t=this.options;return Math.floor(b1(t.min,t.max,t.baseUnit)/e+1)}},{key:"getTickPositions",value:function(e){for(var t=this.options,n=t.vertical,i=this.lineBox(),r=(n?-1:1)*(t.reverse?-1:1),o=i[(n?bJ:kJ)+(1===r?1:2)],s=this.getDivisions(e),a=v1(t.max,t.min),l=(n?i.height():i.width())/a,u=t.weekStartDay||0,c=[o],h=1;h<s;h++){var f=o+v1(h1(t.min,h*e,t.baseUnit,u),t.min)*l*r;c.push(g0(f,3))}return c}},{key:"getMajorTickPositions",value:function(){return this.getTickPositions(this.options.majorUnit)}},{key:"getMinorTickPositions",value:function(){return this.getTickPositions(this.options.minorUnit)}},{key:"getSlot",value:function(e,t,n){return N1.prototype.getSlot.call(this,_1(this.intlService,e),_1(this.intlService,t),n)}},{key:"getValue",value:function(e){var t=N1.prototype.getValue.call(this,e);return null!==t?u1(t):null}},{key:"labelsCount",value:function(){return this.getDivisions(this.options.majorUnit)}},{key:"createAxisLabel",value:function(e,t){var n=this.options,i=e*n.majorUnit,r=n.min;i>0&&(r=h1(r,i,n.baseUnit,n.weekStartDay||0)),t.format=t.format||t.dateFormats[n.baseUnit];var o=this.axisLabelText(r,null,t);return new X0(r,o,e,null,t)}},{key:"translateRange",value:function(e,t){var n=this.options,i=n.baseUnit,r=n.weekStartDay||0,o=this.lineBox(),s=n.vertical?o.height():o.width(),a=this.range(),l=s/v1(a.max,a.min),u=g0(e/l,10)*(n.reverse?-1:1),c=l1(n.min,u),h=l1(n.max,u);return t||(c=h1(c,0,i,r),h=h1(h,0,i,r)),{min:c,max:h,offset:u}}},{key:"scaleRange",value:function(e){for(var t=this.options,n=t.min,i=t.max,r=Math.abs(e);r--;){var o=v1(n,i),s=Math.round(.1*o);e<0?(n=l1(n,s),i=l1(i,-s)):(n=l1(n,-s),i=l1(i,s))}return{min:n,max:i}}},{key:"shouldRenderNote",value:function(e){var t=this.range();return p1(e,t.min)>=0&&p1(e,t.max)<=0}},{key:"pan",value:function(e){var t=this.translateRange(e,!0),n=this.limitRange(g1(t.min),g1(t.max),this.totalMin,this.totalMax,t.offset);if(n)return{min:u1(n.min),max:u1(n.max)}}},{key:"pointsRange",value:function(e,t){var n=this.getValue(e),i=this.getValue(t),r=Math.min(n,i),o=Math.max(n,i);return{min:u1(r),max:u1(o)}}},{key:"zoomRange",value:function(e){var t=this.scaleRange(e);return{min:u1(d0(g1(t.min),this.totalMin,this.totalMax)),max:u1(d0(g1(t.max),this.totalMin,this.totalMax))}}}]),t}(i1);b0(B1,{type:fJ,majorGridLines:{visible:!0,width:1,color:lJ},labels:{dateFormats:S1}});var j1=B1,H1=function(e){function t(e,n,i,r){var o;_classCallCheck(this,t);var s=RJ({majorUnit:10,min:e,max:n},i),a=s.majorUnit,l=function(e,t){var n=g0(U1(e,t),10)%1;return e<=0?t:0!==n&&(n<.3||n>.9)?Math.pow(t,U1(e,t)+.2):Math.pow(t,Math.ceil(U1(e,t)))}(n,a),u=function(e,t,n){var i=n.majorUnit,r=e;return e<=0?r=t<=1?Math.pow(i,-2):1:n.narrowRange||(r=Math.pow(i,Math.floor(U1(e,i)))),r}(e,n,s),c=function(e,t,n,i){var r=n.min,o=n.max;return s0(n.axisCrossingValue)&&n.axisCrossingValue<=0&&G1(),s0(i.max)?i.max<=0&&G1():o=t,s0(i.min)?i.min<=0&&G1():r=e,{min:r,max:o}}(u,l,s,i);return s.max=c.max,s.min=c.min,s.minorUnit=i.minorUnit||g0(a-1,10),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,s,r))).totalMin=s0(i.min)?Math.min(u,i.min):u,o.totalMax=s0(i.max)?Math.max(l,i.max):l,o.logMin=g0(U1(c.min,a),10),o.logMax=g0(U1(c.max,a),10),o.seriesMin=e,o.seriesMax=n,o.createLabels(),o}return _inherits(t,e),_createClass(t,[{key:"clone",value:function(){return new t(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}},{key:"startValue",value:function(){return this.options.min}},{key:"getSlot",value:function(e,t,n){var i,r,o=this.options,s=this.logMin,a=this.logMax,l=o.reverse,u=o.vertical,c=o.majorUnit,h=u?bJ:kJ,f=this.lineBox(),d=f[h+(l?2:1)],p=(l?-1:1)*((u?f.height():f.width())/(a-s)),v=new S0(f.x1,f.y1,f.x1,f.y1),g=e,m=t;return s0(g)||(g=m||1),s0(m)||(m=g||1),g<=0||m<=0?null:(n&&(g=Math.max(Math.min(g,o.max),o.min),m=Math.max(Math.min(m,o.max),o.min)),g=U1(g,c),m=U1(m,c),u?(i=a-Math.max(g,m),r=a-Math.min(g,m)):(i=Math.min(g,m)-s,r=Math.max(g,m)-s),v[h+1]=M1(d+p*(l?r:i)),v[h+2]=M1(d+p*(l?i:r)),v)}},{key:"getValue",value:function(e){var t=this.options,n=this.logMin,i=this.logMax,r=t.reverse,o=t.vertical,s=t.majorUnit,a=this.lineBox(),l=o===r?1:-1,u=1===l?1:2,c=o?a.height():a.width(),h=o?bJ:kJ,f=l*(e[h]-a[h+u]);return f<0||f>c?null:g0(Math.pow(s,n+f*((i-n)/c)),10)}},{key:"range",value:function(){var e=this.options;return{min:e.min,max:e.max}}},{key:"scaleRange",value:function(e){var t=this.options.majorUnit,n=-e;return{min:Math.pow(t,this.logMin-n),max:Math.pow(t,this.logMax+n)}}},{key:"translateRange",value:function(e){var t=this.options,n=this.logMin,i=this.logMax,r=t.reverse,o=t.vertical,s=t.majorUnit,a=this.lineBox(),l=o?a.height():a.width(),u=g0(e/(l/(i-n)),10);return!o&&!r||o&&r||(u=-u),{min:Math.pow(s,n+u),max:Math.pow(s,i+u),offset:u}}},{key:"labelsCount",value:function(){var e=Math.floor(this.logMax);return Math.floor(e-this.logMin)+1}},{key:"getMajorTickPositions",value:function(){var e=[];return this.traverseMajorTicksPositions((function(t){e.push(t)}),{step:1,skip:0}),e}},{key:"createTicks",value:function(e){var t=this.options,n=t.majorTicks,i=t.minorTicks,r=t.vertical,o=t.labels.mirror,s=this.lineBox(),a={vertical:r};function l(t,n){a.tickX=o?s.x2:s.x2-n.size,a.tickY=o?s.y1-n.size:s.y1,a.position=t,e.append(e1(a,n))}return n.visible&&this.traverseMajorTicksPositions(l,n),i.visible&&this.traverseMinorTicksPositions(l,i),[]}},{key:"createGridLines",value:function(e){var t=this.options,n=t.minorGridLines,i=t.majorGridLines,r=t.vertical,o=e.lineBox(),s={lineStart:o[r?"x1":"y1"],lineEnd:o[r?"x2":"y2"],vertical:r},a=[],l=this.gridLinesVisual();function u(e,t){QJ(e,a)||(s.position=e,l.append(t1(s,t)),a.push(e))}return i.visible&&this.traverseMajorTicksPositions(u,i),n.visible&&this.traverseMinorTicksPositions(u,n),l.children}},{key:"traverseMajorTicksPositions",value:function(e,t){for(var n=this._lineOptions(),i=n.lineStart,r=n.step,o=this.logMin,s=this.logMax,a=Math.ceil(o)+t.skip;a<=s;a+=t.step)e(g0(i+r*(a-o),10),t)}},{key:"traverseMinorTicksPositions",value:function(e,t){for(var n=this.options,i=n.min,r=n.max,o=n.minorUnit,s=n.majorUnit,a=this._lineOptions(),l=a.lineStart,u=a.step,c=this.logMin,h=this.logMax,f=Math.floor(c);f<h;f++)for(var d=this._minorIntervalOptions(f),p=t.skip;p<o;p+=t.step){var v=d.value+p*d.minorStep;if(v>r)break;v>=i&&e(g0(l+u*(U1(v,s)-c),10),t)}}},{key:"createAxisLabel",value:function(e,t){var n=Math.ceil(this.logMin+e),i=Math.pow(this.options.majorUnit,n),r=this.axisLabelText(i,null,t);return new X0(i,r,e,null,t)}},{key:"shouldRenderNote",value:function(e){var t=this.range();return t.min<=e&&e<=t.max}},{key:"pan",value:function(e){var t=this.translateRange(e);return this.limitRange(t.min,t.max,this.totalMin,this.totalMax,t.offset)}},{key:"pointsRange",value:function(e,t){var n=this.getValue(e),i=this.getValue(t);return{min:Math.min(n,i),max:Math.max(n,i)}}},{key:"zoomRange",value:function(e){var t=this.options,n=this.totalMin,i=this.totalMax,r=this.scaleRange(e),o=d0(r.min,n,i),s=d0(r.max,n,i),a=t.majorUnit,l=s>o&&t.min&&t.max&&g0(U1(t.max,a)-U1(t.min,a),10)<1,u=!(t.min===n&&t.max===i)&&g0(U1(s,a)-U1(o,a),10)>=1;if(l||u)return{min:o,max:s}}},{key:"_minorIntervalOptions",value:function(e){var t=this.options,n=t.minorUnit,i=t.majorUnit,r=Math.pow(i,e);return{value:r,minorStep:(Math.pow(i,e+1)-r)/n}}},{key:"_lineOptions",value:function(){var e=this.options,t=e.reverse,n=e.vertical,i=n?bJ:kJ,r=this.lineBox(),o=n===t?1:-1,s=1===o?1:2;return{step:o*((n?r.height():r.width())/(this.logMax-this.logMin)),lineStart:r[i+s],lineBox:r}}}]),t}(i1);function G1(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function U1(e,t){return Math.log(e)/Math.log(t)}b0(H1,{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:lJ},zIndex:1,_deferLabels:!0});var W1=H1,q1={createGridLines:function(e){var t,n,i=this.options,r=Math.abs(this.box.center().y-e.lineBox().y1),o=[],s=!1;return i.majorGridLines.visible&&(t=this.majorGridLineAngles(e),s=!0,o=this.renderMajorGridLines(t,r,i.majorGridLines)),i.minorGridLines.visible&&(n=this.minorGridLineAngles(e,s),r0(o,this.renderMinorGridLines(n,r,i.minorGridLines,e,s))),o},renderMajorGridLines:function(e,t,n){return this.renderGridLines(e,t,n)},renderMinorGridLines:function(e,t,n,i,r){var o=this.radiusCallback&&this.radiusCallback(t,i,r);return this.renderGridLines(e,t,n,o)},renderGridLines:function(e,t,n,i){for(var r={stroke:{width:n.width,color:n.color,dashType:n.dashType}},o=this.box.center(),s=new p.Circle([o.x,o.y],t),a=this.gridLinesVisual(),l=0;l<e.length;l++){var u=new m.Path(r);i&&(s.radius=i(e[l])),u.moveTo(s.center).lineTo(s.pointAt(e[l]+180)),a.append(u)}return a.children},gridLineAngles:function(e,t,n,i,r){var o=this,s=this.intervals(t,n,i,r),a=e.options,l=a.visible&&!1!==(a.line||{}).visible;return t0(s,(function(e){var t=o.intervalAngle(e);if(!l||90!==t)return t}))}},Z1=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"range",value:function(){return{min:0,max:this.options.categories.length}}},{key:"reflow",value:function(e){this.box=e,this.reflowLabels()}},{key:"lineBox",value:function(){return this.box}},{key:"reflowLabels",value:function(){for(var e=this.labels,t=this.options.labels,n=t.skip||0,i=t.step||1,r=new S0,o=0;o<e.length;o++){e[o].reflow(r);var s=e[o].box;e[o].reflow(this.getSlot(n+o*i).adjacentBox(0,s.width(),s.height()))}}},{key:"intervals",value:function(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this.options,o=r.categories.length/e||1,s=360/o,a=n||1,l=[],u=0,c=t||0;c<o;c+=a)u=r.reverse?360-c*s:c*s,u=g0(u,3)%360,i&&QJ(u,i)||l.push(u);return l}},{key:"majorIntervals",value:function(){return this.intervals(1)}},{key:"minorIntervals",value:function(){return this.intervals(.5)}},{key:"intervalAngle",value:function(e){return(360+e+this.options.startAngle)%360}},{key:"majorAngles",value:function(){var e=this;return t0(this.majorIntervals(),(function(t){return e.intervalAngle(t)}))}},{key:"createLine",value:function(){return[]}},{key:"majorGridLineAngles",value:function(e){var t=this.options.majorGridLines;return this.gridLineAngles(e,1,t.skip,t.step)}},{key:"minorGridLineAngles",value:function(e,t){var n=this.options,i=n.minorGridLines,r=n.majorGridLines,o=t?this.intervals(1,r.skip,r.step):null;return this.gridLineAngles(e,.5,i.skip,i.step,o)}},{key:"radiusCallback",value:function(e,t,n){if(t.options.type!==aJ){var i=v0(360/(2*this.options.categories.length)),r=Math.cos(i)*e,o=this.majorAngles();return function(t){return!n&&QJ(t,o)?e:r}}}},{key:"createPlotBands",value:function(){for(var e=this.options.plotBands||[],t=this._plotbandGroup=new m.Group({zIndex:-1}),n=0;n<e.length;n++){var i=e[n],r=this.plotBandSlot(i),o=this.getSlot(i.from),s=i.from-Math.floor(i.from);r.startAngle+=s*o.angle;var a=Math.ceil(i.to)-i.to;r.angle-=(a+s)*o.angle;var l=E0.current.createRing(r,{fill:{color:i.color,opacity:i.opacity},stroke:{opacity:i.opacity}});t.append(l)}this.appendVisual(t)}},{key:"plotBandSlot",value:function(e){return this.getSlot(e.from,e.to-1)}},{key:"getSlot",value:function(e,t){var n=this.options,i=n.justified,r=this.box,o=this.majorAngles(),s=o.length,a=360/s,l=e;n.reverse&&!i&&(l=(l+1)%s);var u=o[l=d0(Math.floor(l),0,s-1)];i&&((u-=a/2)<0&&(u+=360));var c=a*(d0(Math.ceil(t||l),l,s-1)-l+1);return new I0(r.center(),0,r.height()/2,u,c)}},{key:"slot",value:function(e,t){var n=this.getSlot(e,t),i=n.startAngle+180;return new p.Arc([n.center.x,n.center.y],{startAngle:i,endAngle:i+n.angle,radiusX:n.radius,radiusY:n.radius})}},{key:"pointCategoryIndex",value:function(e){for(var t=this.options.categories.length,n=null,i=0;i<t;i++)if(this.getSlot(i).containsPoint(e)){n=i;break}return n}}]),t}(x1);b0(Z1,{startAngle:90,labels:{margin:LJ(10)},majorGridLines:{visible:!0},justified:!0}),RJ(Z1.prototype,q1);var $1=Z1,K1=function(e){function t(e,n){var i;_classCallCheck(this,t);var r=(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).options;return r.minorUnit=r.minorUnit||r.majorUnit/2,i}return _inherits(t,e),_createClass(t,[{key:"getDivisions",value:function(e){return N1.prototype.getDivisions.call(this,e)-1}},{key:"reflow",value:function(e){this.box=e,this.reflowLabels()}},{key:"reflowLabels",value:function(){for(var e=this.options,t=this.labels,n=this.options.labels,i=n.skip||0,r=n.step||1,o=new S0,s=this.intervals(e.majorUnit,i,r),a=0;a<t.length;a++){t[a].reflow(o);var l=t[a].box;t[a].reflow(this.getSlot(s[a]).adjacentBox(0,l.width(),l.height()))}}},{key:"lineBox",value:function(){return this.box}},{key:"intervals",value:function(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this.options.min,o=this.getDivisions(e),s=[],a=n||1,l=t||0;l<o;l+=a){var u=(360+r+l*e)%360;i&&QJ(u,i)||s.push(u)}return s}},{key:"majorIntervals",value:function(){return this.intervals(this.options.majorUnit)}},{key:"minorIntervals",value:function(){return this.intervals(this.options.minorUnit)}},{key:"intervalAngle",value:function(e){return(540-e-this.options.startAngle)%360}},{key:"createLine",value:function(){return[]}},{key:"majorGridLineAngles",value:function(e){var t=this.options.majorGridLines;return this.gridLineAngles(e,this.options.majorUnit,t.skip,t.step)}},{key:"minorGridLineAngles",value:function(e,t){var n=this.options,i=n.minorGridLines,r=n.majorGridLines,o=t?this.intervals(n.majorUnit,r.skip,r.step):null;return this.gridLineAngles(e,n.minorUnit,i.skip,i.step,o)}},{key:"plotBandSlot",value:function(e){return this.getSlot(e.from,e.to)}},{key:"getSlot",value:function(e,t){var n=this.options,i=this.box,r=n.startAngle,o=d0(e,n.min,n.max),s=d0(t||o,o,n.max);if(n.reverse&&(o*=-1,s*=-1),(s=(540-s-r)%360)<(o=(540-o-r)%360)){var a=o;o=s,s=a}return new I0(i.center(),0,i.height()/2,o,s-o)}},{key:"slot",value:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=this.options,o=360-r.startAngle,s=this.getSlot(e,i),a=Math.min(e,i),l=Math.max(e,i);return r.reverse?(t=a,n=l):(t=360-l,n=360-a),t=(t+o)%360,n=(n+o)%360,new p.Arc([s.center.x,s.center.y],{startAngle:t,endAngle:n,radiusX:s.radius,radiusY:s.radius})}},{key:"getValue",value:function(e){var t=this.options,n=this.box.center(),i=Math.round(a0(Math.atan2(e.y-n.y,e.x-n.x))),r=t.startAngle;return t.reverse||(i*=-1,r*=-1),(i+r+360)%360}},{key:"valueRange",value:function(){return{min:0,max:2*Math.PI}}}]),t}(i1);b0(K1,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:LJ(10)},majorGridLines:{color:lJ,visible:!0,width:1},minorGridLines:{color:"#aaa"}}),RJ(K1.prototype,q1,{createPlotBands:$1.prototype.createPlotBands,majorAngles:$1.prototype.majorAngles,range:N1.prototype.range,labelsCount:N1.prototype.labelsCount,createAxisLabel:N1.prototype.createAxisLabel});var Y1=K1;function X1(e,t){return 180-Math.abs(Math.abs(e-t)-180)}var Q1={options:{majorGridLines:{visible:!0}},createPlotBands:function(){for(var e=this.options,t=e.majorGridLines.type,n=e.plotBands,i=void 0===n?[]:n,r=this.plotArea.polarAxis,o=r.majorAngles(),s=r.box.center(),a=this._plotbandGroup=new m.Group({zIndex:-1}),l=0;l<i.length;l++){var u,c=i[l],h={fill:{color:c.color,opacity:c.opacity},stroke:{opacity:c.opacity}},f=this.getSlot(c.from,c.to,!0),d=new I0(s,s.y-f.y2,s.y-f.y1,0,360);u=t===aJ?E0.current.createRing(d,h):m.Path.fromPoints(this.plotBandPoints(d,o),h).close(),a.append(u)}this.appendVisual(a)},plotBandPoints:function(e,t){for(var n=[],i=[],r=[e.center.x,e.center.y],o=new p.Circle(r,e.innerRadius),s=new p.Circle(r,e.radius),a=0;a<t.length;a++)n.push(o.pointAt(t[a]+180)),i.push(s.pointAt(t[a]+180));return n.reverse(),n.push(n[0]),i.push(i[0]),i.concat(n)},createGridLines:function(e){var t=this.options,n=this.radarMajorGridLinePositions(),i=e.majorAngles(),r=e.box.center(),o=[];if(t.majorGridLines.visible&&(o=this.renderGridLines(r,n,i,t.majorGridLines)),t.minorGridLines.visible){var s=this.radarMinorGridLinePositions();r0(o,this.renderGridLines(r,s,i,t.minorGridLines))}return o},renderGridLines:function(e,t,n,i){for(var r={stroke:{width:i.width,color:i.color,dashType:i.dashType}},o=i.skip,s=void 0===o?0:o,a=i.step,l=void 0===a?0:a,u=this.gridLinesVisual(),c=s;c<t.length;c+=l){var h=e.y-t[c];if(h>0){var f=new p.Circle([e.x,e.y],h);if(i.type===aJ)u.append(new m.Circle(f,r));else{for(var d=new m.Path(r),v=0;v<n.length;v++)d.lineTo(f.pointAt(n[v]+180));d.close(),u.append(d)}}}return u.children},getValue:function(e){var t=this.lineBox(),n=this.plotArea.polarAxis,i=n.majorAngles(),r=n.box.center(),o=e.distanceTo(r),s=o;if(this.options.majorGridLines.type!==aJ&&i.length>1){var a=(a0(Math.atan2(e.y-r.y,e.x-r.x))+540)%360;i.sort((function(e,t){return X1(e,a)-X1(t,a)}));var l=X1(i[0],i[1])/2,u=X1(a,i[0]),c=90-l;s=o*(Math.sin(v0(180-u-c))/Math.sin(v0(c)))}return this.axisType().prototype.getValue.call(this,new w0(t.x1,t.y2-s))}},J1=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"radarMajorGridLinePositions",value:function(){return this.getTickPositions(this.options.majorUnit)}},{key:"radarMinorGridLinePositions",value:function(){var e=this.options,t=0;return e.majorGridLines.visible&&(t=e.majorUnit),this.getTickPositions(e.minorUnit,t)}},{key:"axisType",value:function(){return N1}}]),t}(N1);RJ(J1.prototype,Q1);var e2=J1,t2=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"radarMajorGridLinePositions",value:function(){var e=[];return this.traverseMajorTicksPositions((function(t){e.push(t)}),this.options.majorGridLines),e}},{key:"radarMinorGridLinePositions",value:function(){var e=[];return this.traverseMinorTicksPositions((function(t){e.push(t)}),this.options.minorGridLines),e}},{key:"axisType",value:function(){return W1}}]),t}(W1);RJ(t2.prototype,Q1);var n2=t2;function i2(e){return e<=0?-1:1}var r2=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).closed=e,n}return _inherits(t,e),_createClass(t,[{key:"process",value:function(e){var t=e.slice(0),n=[],i=this.closed,r=t.length;if(r>2&&(this.removeDuplicates(0,t),r=t.length),r<2||2===r&&t[0].equals(t[1]))return n;var o,s,a=t[0],l=t[1],u=t[2];for(n.push(new p.Segment(a));a.equals(t[r-1]);)i=!0,t.pop(),r--;if(2===r){var c=this.tangent(a,l,kJ,bJ);return f0(n).controlOut(this.firstControlPoint(c,a,l,kJ,bJ)),n.push(new p.Segment(l,this.secondControlPoint(c,a,l,kJ,bJ))),n}if(i){a=t[r-1],l=t[0],u=t[1];var h=this.controlPoints(a,l,u);o=h[1],s=h[0]}else{var f=this.tangent(a,l,kJ,bJ);o=this.firstControlPoint(f,a,l,kJ,bJ)}for(var d=o,v=0;v<=r-3;v++)if(this.removeDuplicates(v,t),v+3<=(r=t.length)){a=t[v],l=t[v+1],u=t[v+2];var g=this.controlPoints(a,l,u);f0(n).controlOut(d),d=g[1],n.push(new p.Segment(l,g[0]))}if(i){a=t[r-2],l=t[r-1],u=t[0];var m=this.controlPoints(a,l,u);f0(n).controlOut(d),n.push(new p.Segment(l,m[0])),f0(n).controlOut(m[1]),n.push(new p.Segment(u,s))}else{var y=this.tangent(l,u,kJ,bJ);f0(n).controlOut(d),n.push(new p.Segment(u,this.secondControlPoint(y,l,u,kJ,bJ)))}return n}},{key:"removeDuplicates",value:function(e,t){for(;t[e+1]&&(t[e].equals(t[e+1])||t[e+1].equals(t[e+2]));)t.splice(e+1,1)}},{key:"invertAxis",value:function(e,t,n){var i=!1;if(e.x===t.x)i=!0;else if(t.x===n.x)(t.y<n.y&&e.y<=t.y||n.y<t.y&&t.y<=e.y)&&(i=!0);else{var r=this.lineFunction(e,t),o=this.calculateFunction(r,n.x);e.y<=t.y&&n.y<=o||t.y<=e.y&&n.y>=o||(i=!0)}return i}},{key:"isLine",value:function(e,t,n){var i=this.lineFunction(e,t),r=this.calculateFunction(i,n.x);return e.x===t.x&&t.x===n.x||g0(r,1)===g0(n.y,1)}},{key:"lineFunction",value:function(e,t){var n=(t.y-e.y)/(t.x-e.x);return[e.y-n*e.x,n]}},{key:"controlPoints",value:function(e,t,n){var i,r=kJ,o=bJ,s=!1,a=!1;if(this.isLine(e,t,n))i=this.tangent(e,t,kJ,bJ);else{var l={x:this.isMonotonicByField(e,t,n,kJ),y:this.isMonotonicByField(e,t,n,bJ)};if(l.x&&l.y)i=this.tangent(e,n,kJ,bJ),s=!0;else if(this.invertAxis(e,t,n)&&(r=bJ,o=kJ),l[r])i=0;else{i=.01*(n[o]<e[o]&&e[o]<=t[o]||e[o]<n[o]&&t[o]<=e[o]?i2((n[o]-e[o])*(t[r]-e[r])):-i2((n[r]-e[r])*(t[o]-e[o]))),a=!0}}var u=this.secondControlPoint(i,e,t,r,o);if(a){var c=r;r=o,o=c}var h=this.firstControlPoint(i,t,n,r,o);return s&&(this.restrictControlPoint(e,t,u,i),this.restrictControlPoint(t,n,h,i)),[u,h]}},{key:"restrictControlPoint",value:function(e,t,n,i){e.y<t.y?t.y<n.y?(n.x=e.x+(t.y-e.y)/i,n.y=t.y):n.y<e.y&&(n.x=t.x-(t.y-e.y)/i,n.y=e.y):n.y<t.y?(n.x=e.x-(e.y-t.y)/i,n.y=t.y):e.y<n.y&&(n.x=t.x+(e.y-t.y)/i,n.y=e.y)}},{key:"tangent",value:function(e,t,n,i){var r,o=t[n]-e[n];return r=0===o?0:(t[i]-e[i])/o,r}},{key:"isMonotonicByField",value:function(e,t,n,i){return n[i]>t[i]&&t[i]>e[i]||n[i]<t[i]&&t[i]<e[i]}},{key:"firstControlPoint",value:function(e,t,n,i,r){var o=t[i],s=.333*(n[i]-o);return this.point(o+s,t[r]+s*e,i,r)}},{key:"secondControlPoint",value:function(e,t,n,i,r){var o=n[i],s=.333*(o-t[i]);return this.point(o-s,n[r]-s*e,i,r)}},{key:"point",value:function(e,t,n,i){var r=new p.Point;return r[n]=e,r[i]=t,r}},{key:"calculateFunction",value:function(e,t){for(var n=e.length,i=0,r=0;r<n;r++)i+=Math.pow(t,r)*e[r];return i}}]),t}(Vw),o2=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._axis=e,n.options=e.options,n}return _inherits(t,e),_createClass(t,[{key:"value",value:function(e){var t=this._axis;return t.getCategory?t.getCategory(e):t.getValue(e)}},{key:"slot",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this._axis.slot(e,t,n)}},{key:"range",value:function(){return this._axis.range()}},{key:"valueRange",value:function(){return this._axis.valueRange()}}]),t}(Vw);function s2(e,t){for(var n=0;n<t.length;n++)if(t[n].options.name===e)return t[n].prepareUserOptions(),new o2(t[n])}var a2=function(){function e(t){_classCallCheck(this,e),this.visual=t.visual,this.chartsVisual=t.chartContainer.visual,this._pane=t}return _createClass(e,[{key:"findAxisByName",value:function(e){return s2(e,this._pane.axes)}}]),e}(),l2=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._plotArea=e,n.visual=e.visual,n.backgroundVisual=e._bgVisual,n}return _inherits(t,e),t}(Vw);function u2(e){for(var t=e.length,n=0,i=0;i<t;i++)TJ(e[i])&&n++;return n}var c2={min:function(e){for(var t=e.length,n=pJ,i=0;i<t;i++){var r=e[i];TJ(r)&&(n=Math.min(n,r))}return n===pJ?e[0]:n},max:function(e){for(var t=e.length,n=vJ,i=0;i<t;i++){var r=e[i];TJ(r)&&(n=Math.max(n,r))}return n===vJ?e[0]:n},sum:function(e){for(var t=e.length,n=0,i=0;i<t;i++){var r=e[i];TJ(r)&&(n+=r)}return n},sumOrNull:function(e){var t=null;return u2(e)&&(t=c2.sum(e)),t},count:function(e){for(var t=e.length,n=0,i=0;i<t;i++){var r=e[i];null!==r&&s0(r)&&n++}return n},avg:function(e){var t=u2(e),n=e[0];return t>0&&(n=c2.sum(e)/t),n},first:function(e){for(var t=e.length,n=0;n<t;n++){var i=e[n];if(null!==i&&s0(i))return i}return e[0]}},h2=c2;function f2(e,t){return null===t?t:$J(e)(t)}var d2,p2=((d2=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._valueFields={},e._otherFields={},e._nullValue={},e._undefinedValue={},e}return _inherits(t,e),_createClass(t,[{key:"register",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[mJ],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=0;i<e.length;i++){var r=e[i];this._valueFields[r]=t,this._otherFields[r]=n,this._nullValue[r]=this._makeValue(t,null),this._undefinedValue[r]=this._makeValue(t,void 0)}}},{key:"canonicalFields",value:function(e){return this.valueFields(e).concat(this.otherFields(e))}},{key:"valueFields",value:function(e){return this._valueFields[e.type]||[mJ]}},{key:"otherFields",value:function(e){return this._otherFields[e.type]||[mJ]}},{key:"bindPoint",value:function(e,t,n){var i,r,o=e.data,s=s0(n)?n:o[t],a={valueFields:{value:s}},l=this.valueFields(e),u=this._otherFields[e.type];if(null===s)r=this._nullValue[e.type];else if(s0(s)){if(Array.isArray(s)){var c=s.slice(l.length);r=this._bindFromArray(s,l),i=this._bindFromArray(c,u)}else if("object"==typeof s){var h=this.sourceFields(e,l),f=this.sourceFields(e,u);r=this._bindFromObject(s,l,h),i=this._bindFromObject(s,u,f)}}else r=this._undefinedValue[e.type];return s0(r)&&(1===l.length?a.valueFields.value=r[l[0]]:a.valueFields=r),a.fields=i||{},a}},{key:"_makeValue",value:function(e,t){for(var n={},i=e.length,r=0;r<i;r++)n[e[r]]=t;return n}},{key:"_bindFromArray",value:function(e,t){var n={};if(t)for(var i=Math.min(t.length,e.length),r=0;r<i;r++)n[t[r]]=e[r];return n}},{key:"_bindFromObject",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i={};if(t)for(var r=t.length,o=0;o<r;o++){var s=t[o],a=n[o];null!==a&&(i[s]=f2(a,e))}return i}},{key:"sourceFields",value:function(e,t){var n=[];if(t)for(var i=t.length,r=0;r<i;r++){var o=t[r],s=o===mJ?"field":o+"Field";n.push(null!==e[s]?e[s]||o:null)}return n}}]),t}(Vw)).current=new d2,d2),v2=/percent(?:\w*)\((\d+)\)/,g2=new RegExp("^stddev(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),m2=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).initGlobalRanges(e,n,i),r}return _inherits(t,e),_createClass(t,[{key:"initGlobalRanges",value:function(e,t,n){var i=t.data,r=g2.exec(e);if(r){this.valueGetter=this.createValueGetter(t,n);var o=this.getAverage(i),s=this.getStandardDeviation(i,o,!1),a=r[1]?parseFloat(r[1]):1,l={low:o.value-s*a,high:o.value+s*a};this.globalRange=function(){return l}}else if(e.indexOf&&e.indexOf("stderr")>=0){this.valueGetter=this.createValueGetter(t,n);var u=this.getStandardError(i,this.getAverage(i));this.globalRange=function(e){return{low:e-u,high:e+u}}}}},{key:"createValueGetter",value:function(e,t){var n,i=e.data,r=p2.current,o=r.valueFields(e),s=s0(i[0])?i[0]:{};return _J(s)?n=$J("["+(t?o.indexOf(t):0)+"]"):TJ(s)?n=$J():"object"==typeof s&&(n=$J(r.sourceFields(e,o)[o.indexOf(t)])),n}},{key:"getErrorRange",value:function(e,t){var n,i,r;if(!s0(t))return null;if(this.globalRange)return this.globalRange(e);if(_J(t))n=e-t[0],i=e+t[1];else if(TJ(r=parseFloat(t)))n=e-r,i=e+r;else{if(!(r=v2.exec(t)))throw new Error("Invalid ErrorBar value: "+t);var o=e*(parseFloat(r[1])/100);n=e-Math.abs(o),i=e+Math.abs(o)}return{low:n,high:i}}},{key:"getStandardError",value:function(e,t){return this.getStandardDeviation(e,t,!0)/Math.sqrt(t.count)}},{key:"getStandardDeviation",value:function(e,t,n){for(var i=e.length,r=n?t.count-1:t.count,o=0,s=0;s<i;s++){var a=this.valueGetter(e[s]);TJ(a)&&(o+=Math.pow(a-t.value,2))}return Math.sqrt(o/r)}},{key:"getAverage",value:function(e){for(var t=e.length,n=0,i=0,r=0;r<t;r++){var o=this.valueGetter(e[r]);TJ(o)&&(n+=o,i++)}return{value:n/i,count:i}}}]),t}(Vw),y2=(Qw.browser||{}).msie?.001:0,k2="bar",b2="column",_2="line",C2="pie",w2="verticalLine",x2=[k2,b2,"ohlc","candlestick","boxPlot","verticalBoxPlot","bullet","rangeColumn","rangeBar","waterfall","horizontalWaterfall"],S2="DOMMouseScroll mousewheel",T2=function(e){function t(e,n,i,r,o,s){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,s))).low=e,a.high=n,a.isVertical=i,a.chart=r,a.series=o,a}return _inherits(t,e),_createClass(t,[{key:"reflow",value:function(e){var t,n=this.options.endCaps,i=this.isVertical,r=this.getAxis().getSlot(this.low,this.high),o=e.center(),s=this.getCapsWidth(e,i),a=i?o.x:o.y,l=a-s,u=a+s;i?(t=[new w0(o.x,r.y1),new w0(o.x,r.y2)],n&&t.push(new w0(l,r.y1),new w0(u,r.y1),new w0(l,r.y2),new w0(u,r.y2)),this.box=new S0(l,r.y1,u,r.y2)):(t=[new w0(r.x1,o.y),new w0(r.x2,o.y)],n&&t.push(new w0(r.x1,l),new w0(r.x1,u),new w0(r.x2,l),new w0(r.x2,u)),this.box=new S0(r.x1,l,r.x2,u)),this.linePoints=t}},{key:"getCapsWidth",value:function(e,t){var n=t?e.width():e.height();return Math.min(Math.floor(n/2),4)||4}},{key:"createVisual",value:function(){var e=this,t=this.options,n=t.visual;n?this.visual=n({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:t.endCaps,color:t.color,line:t.line},createVisual:function(){e.createDefaultVisual();var t=e.visual;return delete e.visual,t}}):this.createDefaultVisual()}},{key:"createDefaultVisual",value:function(){var e=this.options,n=this.linePoints,i={stroke:{color:e.color,width:e.line.width,dashType:e.line.dashType}};_get(_getPrototypeOf(t.prototype),"createVisual",this).call(this);for(var r=0;r<n.length;r+=2){var o=new m.Path(i).moveTo(n[r].x,n[r].y).lineTo(n[r+1].x,n[r+1].y);xJ(o),this.visual.append(o)}}}]),t}(R0);b0(T2,{animation:{type:"fadeIn",delay:600},endCaps:!0,line:{width:2},zIndex:1});var O2=T2,I2=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getAxis",value:function(){return this.chart.seriesValueAxis(this.series)}}]),t}(O2);function E2(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=n.defaults=n.defaults||{},o=n.depth=n.depth||0,s=!1;if(n.excluded=n.excluded||[],o>5)return null;for(var a in e)if(!QJ(a,n.excluded)&&e.hasOwnProperty(a)){var l=e[a];EJ(l)?(s=!0,i||(e[a]=y0(l(t),r[a]))):PJ(l)&&(i||(n.defaults=r[a]),n.depth++,s=E2(l,t,n,i)||s,n.depth--)}return s}function A2(e){for(var t=e.length,n=0,i=0;i<t;i++)n=Math.max(n,e[i].data.length);return n}var R2=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).plotArea=e,i.chartService=e.chartService,i.categoryAxis=e.seriesCategoryAxis(n.series[0]),i.valueAxisRanges={},i.points=[],i.categoryPoints=[],i.seriesPoints=[],i.seriesOptions=[],i._evalSeries=[],i.render(),i}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){this.traverseDataPoints(this.addValue.bind(this))}},{key:"pointOptions",value:function(e,t){var n=this.seriesOptions[t];if(!n){var i=this.pointType().prototype.defaults;this.seriesOptions[t]=n=RJ({},i,{vertical:!this.options.invertAxes},e)}return n}},{key:"plotValue",value:function(e){if(!e)return 0;if(this.options.isStacked100&&TJ(e.value)){for(var t=this.categoryPoints[e.categoryIx],n=[],i=0,r=0;r<t.length;r++){var o=t[r];if(o){var s=e.series.stack,a=o.series.stack;if(s&&a&&s.group!==a.group)continue;TJ(o.value)&&(i+=Math.abs(o.value),n.push(Math.abs(o.value)))}}if(i>0)return e.value/i}return e.value}},{key:"plotRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.categoryPoints[e.categoryIx];if(this.options.isStacked){for(var i=this.plotValue(e),r=i>=0,o=t,s=!1,a=0;a<n.length;a++){var l=n[a];if(e===l)break;var u=e.series.stack,c=l.series.stack;if(u&&c){if("string"==typeof u&&u!==c)continue;if(u.group&&u.group!==c.group)continue}var h=this.plotValue(l);(h>=0&&r||h<0&&!r)&&(o+=h,i+=h,s=!0,this.options.isStacked100&&(i=Math.min(i,1)))}return s&&(o-=t),[o,i]}var f=this.seriesValueAxis(e.series),d=this.categoryAxisCrossingValue(f);return[d,IJ(e.value)?e.value:d]}},{key:"stackLimits",value:function(e,t){for(var n=pJ,i=vJ,r=0;r<this.categoryPoints.length;r++){var o=this.categoryPoints[r];if(o)for(var s=0;s<o.length;s++){var a=o[s];if(a&&(a.series.stack===t||a.series.axis===e)){var l=this.plotRange(a,0)[1];s0(l)&&isFinite(l)&&(i=Math.max(i,l),n=Math.min(n,l))}}}return{min:n,max:i}}},{key:"updateStackRange",value:function(){var e=this.options,t=e.isStacked,n=e.series,i={};if(t)for(var r=0;r<n.length;r++){var o=n[r],s=o.axis,a=s+o.stack,l=i[a];if(!l){l=this.stackLimits(s,o.stack);var u=this.errorTotals;u&&(u.negative.length&&(l.min=Math.min(l.min,_0(u.negative).min)),u.positive.length&&(l.max=Math.max(l.max,_0(u.positive).max))),l.min!==pJ||l.max!==vJ?i[a]=l:l=null}l&&(this.valueAxisRanges[s]=l)}}},{key:"addErrorBar",value:function(e,t,n){var i,r=e.value,o=e.series,s=e.seriesIx,a=e.options.errorBars,l=t.fields.errorLow,u=t.fields.errorHigh;TJ(l)&&TJ(u)?i={low:l,high:u}:a&&s0(a.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[s]=this.seriesErrorRanges[s]||new m2(a.value,o,mJ),i=this.seriesErrorRanges[s].getErrorRange(r,a.value)),i&&(e.low=i.low,e.high=i.high,this.addPointErrorBar(e,n))}},{key:"addPointErrorBar",value:function(e,t){var n=!this.options.invertAxes,i=e.options.errorBars,r=e.series,o=e.low,s=e.high;if(this.options.isStacked){var a=this.stackedErrorRange(e,t);o=a.low,s=a.high}else{var l={categoryIx:t,series:r};this.updateRange({value:o},l),this.updateRange({value:s},l)}var u=new I2(o,s,n,this,r,i);e.errorBars=[u],e.append(u)}},{key:"stackedErrorRange",value:function(e,t){var n=this.plotRange(e,0)[1]-e.value,i=e.low+n,r=e.high+n;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},i<0&&(this.errorTotals.negative[t]=Math.min(this.errorTotals.negative[t]||0,i)),r>0&&(this.errorTotals.positive[t]=Math.max(this.errorTotals.positive[t]||0,r)),{low:i,high:r}}},{key:"addValue",value:function(e,t){var n=t.categoryIx,i=t.series,r=t.seriesIx,o=this.categoryPoints[n];o||(this.categoryPoints[n]=o=[]);var s=this.seriesPoints[r];s||(this.seriesPoints[r]=s=[]);var a=this.createPoint(e,t);a&&(Object.assign(a,t),a.owner=this,a.noteText=e.fields.noteText,s0(a.dataItem)||(a.dataItem=i.data[n]),this.addErrorBar(a,e,n)),this.points.push(a),s.push(a),o.push(a),this.updateRange(e.valueFields,t)}},{key:"evalPointOptions",value:function(e,t,n,i,r,o){var s={defaults:r._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]},a=this._evalSeries[o];s0(a)||(this._evalSeries[o]=a=E2(e,{},s,!0));var l=e;return a&&E2(l=RJ({},l),{value:t,category:n,index:i,series:r,dataItem:r.data[i]},s),l}},{key:"updateRange",value:function(e,t){var n=t.series.axis,i=e.value,r=this.valueAxisRanges[n];isFinite(i)&&null!==i&&((r=this.valueAxisRanges[n]=r||{min:pJ,max:vJ}).min=Math.min(r.min,i),r.max=Math.max(r.max,i))}},{key:"seriesValueAxis",value:function(e){var t=this.plotArea,n=e.axis,i=n?t.namedValueAxes[n]:t.valueAxis;if(!i)throw new Error("Unable to locate value axis with name "+n);return i}},{key:"reflow",value:function(e){var t=this,n=this.categorySlots=[],i=this.points,r=this.categoryAxis,o=0;this.traverseDataPoints((function(e,s){var a=s.categoryIx,l=s.series,u=t.seriesValueAxis(l),c=i[o++],h=n[a];if(h||(n[a]=h=t.categorySlot(r,a,u)),c){var f=t.plotRange(c,u.startValue()),d=t.valueSlot(u,f);if(d){var p=t.pointSlot(h,d);c.aboveAxis=t.aboveAxis(c,u),c.stackValue=f[1],t.options.isStacked100&&(c.percentage=t.plotValue(c)),t.reflowPoint(c,p)}else c.visible=!1}})),this.reflowCategories(n),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=e}},{key:"valueSlot",value:function(e,t){return e.getSlot(t[0],t[1],!this.options.clip)}},{key:"limitPoints",value:function(){for(var e=this.categoryPoints,t=e[0].concat(f0(e)),n=0;n<t.length;n++)t[n]&&this.limitPoint(t[n])}},{key:"limitPoint",value:function(e){var t=this.categoryAxis.limitSlot(e.box);t.equals(e.box)||e.reflow(t)}},{key:"aboveAxis",value:function(e,t){var n=this.categoryAxisCrossingValue(t),i=e.value;return t.options.reverse?i<n:i>=n}},{key:"categoryAxisCrossingValue",value:function(e){var t=this.categoryAxis,n=e.options;return[].concat(n.axisCrossingValues||n.axisCrossingValue)[t.axisIndex||0]||0}},{key:"reflowPoint",value:function(e,t){e.reflow(t)}},{key:"reflowCategories",value:function(){}},{key:"pointSlot",value:function(e,t){var n=this.options.invertAxes,i=n?t:e,r=n?e:t;return new S0(i.x1,r.y1,i.x2,r.y2)}},{key:"categorySlot",value:function(e,t){return e.getSlot(t)}},{key:"traverseDataPoints",value:function(e){for(var t=this.options.series,n=A2(t),i=t.length,r=0;r<i;r++)this._outOfRangeCallback(t[r],"_outOfRangeMinPoint",r,e);for(var o=0;o<n;o++)for(var s=0;s<i;s++){var a=t[s],l=this.categoryAxis.categoryAt(o);e(this._bindPoint(a,s,o),{category:l,categoryIx:o,series:a,seriesIx:s})}for(var u=0;u<i;u++)this._outOfRangeCallback(t[u],"_outOfRangeMaxPoint",u,e)}},{key:"_outOfRangeCallback",value:function(e,t,n,i){var r=e[t];if(r){var o=r.categoryIx;i(this._bindPoint(e,n,o,r.item),{category:r.category,categoryIx:o,series:e,seriesIx:n,dataItem:r.item})}}},{key:"_bindPoint",value:function(e,t,n,i){this._bindCache||(this._bindCache=[]);var r=this._bindCache[t];r||(r=this._bindCache[t]=[]);var o=r[n];return o||(o=r[n]=p2.current.bindPoint(e,n,i)),o}},{key:"formatPointValue",value:function(e,t){return null===e.value?"":this.chartService.format.auto(t,e.value)}},{key:"pointValue",value:function(e){return e.valueFields.value}}]),t}(R0);b0(R2,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});var P2=R2,D2={click:function(e,t){return e.trigger("seriesClick",this.eventArgs(t))},hover:function(e,t){return e.trigger("seriesHover",this.eventArgs(t))},over:function(e,t){return e.trigger("seriesOver",this.eventArgs(t))},out:function(e,t){return e.trigger("seriesLeave",this.eventArgs(t))},eventArgs:function(e){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:c0(e),originalEvent:e,point:this}}},F2={createNote:function(){var e=this.options.notes,t=this.noteText||e.label.text;!1!==e.visible&&s0(t)&&null!==t&&(this.note=new J0({value:this.value,text:t,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}},M2=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).value=e,i.options=n,i.aboveAxis=y0(i.options.aboveAxis,!0),i.tooltipTracking=!0,i}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=this.options,t=e.markers,n=e.labels;if(!this._rendered){if(this._rendered=!0,t.visible&&t.size&&(this.marker=this.createMarker(),this.append(this.marker)),n.visible){var i=WJ(n),r=this.pointData(),o=this.value;i?o=i(r):n.format&&(o=this.formatValue(n.format)),this.label=new Z0(o,RJ({align:cJ,vAlign:cJ,margin:{left:5,right:5},zIndex:y0(n.zIndex,this.series.zIndex)},n),r),this.append(this.label)}this.createNote(),this.errorBar&&this.append(this.errorBar)}}},{key:"markerBorder",value:function(){var e=this.options.markers,t=e.background,n=RJ({color:this.color},e.border);return s0(n.color)||(n.color=new dx(t).brightness(.8).toHex()),n}},{key:"createVisual",value:function(){}},{key:"createMarker",value:function(){var e=this.options.markers;return new M0({type:e.type,width:e.size,height:e.size,rotation:e.rotation,background:e.background,border:this.markerBorder(),opacity:e.opacity,zIndex:y0(e.zIndex,this.series.zIndex),animation:e.animation,visual:e.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category})}},{key:"markerBox",value:function(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box}},{key:"reflow",value:function(e){var t=this.options,n=this.aboveAxis,i=t.vertical;this.render(),this.box=e;var r=e.clone();if(i?n?r.y1-=r.height():r.y2+=r.height():n?r.x1+=r.width():r.x2-=r.width(),this._childBox=r,this.marker&&this.marker.reflow(r),this.reflowLabel(r),this.errorBars)for(var o=0;o<this.errorBars.length;o++)this.errorBars[o].reflow(r);if(this.note){var s=this.markerBox();if(!t.markers.visible||!t.markers.size){var a=s.center();s=new S0(a.x,a.y,a.x,a.y)}this.note.reflow(s)}}},{key:"reflowLabel",value:function(e){var t=this.options,n=this.label,i=t.labels.position;n&&(i="below"===(i="above"===i?gJ:i)?uJ:i,n.reflow(e),n.box.alignTo(this.markerBox(),i),n.reflow(n.box))}},{key:"createHighlight",value:function(){var e=this.options.highlight.markers,t=this.markerBorder().color,n=this.options.markers,i=n.size+(n.border.width||0)+(e.border.width||0),r=new M0({type:n.type,width:i,height:i,rotation:n.rotation,background:e.color||t,border:{color:e.border.color,width:e.border.width,opacity:y0(e.border.opacity,1)},opacity:y0(e.opacity,1)});return r.reflow(this._childBox),r.getElement()}},{key:"highlightVisual",value:function(){return(this.marker||{}).visual}},{key:"highlightVisualArgs",value:function(){var e,t,n=this.marker;if(n)t=n.paddingBox.toRect(),e=n.visual;else{var i=this.options.markers.size,r=i/2,o=this.box.center();t=new p.Rect([o.x-r,o.y-r],[i,i])}return{options:this.options,rect:t,visual:e}}},{key:"tooltipAnchor",value:function(){var e=this.markerBox(),t=this.owner.pane.clipBox();if(!t||t.overlaps(e)){var n,i;return this.aboveAxis?(n=e.y1,i=uJ):(n=e.y2,i=gJ),{point:new w0(e.x2+5,n),align:{horizontal:"left",vertical:i}}}}},{key:"formatValue",value:function(e){return this.owner.formatPointValue(this,e)}},{key:"overlapsBox",value:function(e){return this.markerBox().overlaps(e)}},{key:"unclipElements",value:function(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)}},{key:"pointData",value:function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}}}]),t}(R0);M2.prototype.defaults={vertical:!0,markers:{visible:!0,background:yJ,size:8,type:hJ,border:{width:2},opacity:1},labels:{visible:!1,position:"above",margin:LJ(3),padding:LJ(4),animation:{type:"fadeIn",delay:600}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:100},errorBars:{line:{width:1}}},RJ(M2.prototype,D2),RJ(M2.prototype,F2);var z2=M2,L2=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).linePoints=e,r.series=n,r.seriesIx=i,r}return _inherits(t,e),_createClass(t,[{key:"points",value:function(){return this.toGeometryPoints(this.linePoints)}},{key:"toGeometryPoints",value:function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&!1!==e[n].visible&&t.push(e[n]._childBox.toRect().center());return t}},{key:"createVisual",value:function(){var e=this,t=this.series.visual;t?(this.visual=t({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:function(){return e.segmentVisual(),e.visual}}),this.visual&&!s0(this.visual.options.zIndex)&&(this.visual.options.zIndex=this.series.zIndex)):this.segmentVisual()}},{key:"segmentVisual",value:function(){var e=this.options,t=this.series,n=t.color,i=t._defaults;EJ(n)&&i&&(n=i.color);var r=m.Path.fromPoints(this.points(),{stroke:{color:n,width:t.width,opacity:t.opacity,dashType:t.dashType},zIndex:t.zIndex});e.closed&&r.close(),this.visual=r}},{key:"aliasFor",value:function(e,t){return this.parent.getNearestPoint(t.x,t.y,this.seriesIx)}}]),t}(R0);b0(L2,{closed:!1});var V2=L2;function N2(e,t,n,i,r){var o=e.box,s=new p.Point;return s[t]=o[t+n],s[i]=o[i+r],s}var B2={calculateStepPoints:function(e){for(var t=this.parent.plotArea.seriesCategoryAxis(this.series).options,n=t.justified,i=t.vertical,r=t.reverse,o=i?kJ:bJ,s=i?bJ:kJ,a=r?2:1,l=a,u=N2(e[0],o,a,s,l),c=[u],h=1;h<e.length;h++){var f=N2(e[h],o,a,s,l);if(u[o]!==f[o]){var d=new p.Point;d[o]=u[o],d[s]=f[s],c.push(d,f)}u=f}return n?u!==f0(c)&&c.push(u):c.push(N2(f0(e),o,a,s,r?1:2)),c}},j2=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"points",value:function(){return this.calculateStepPoints(this.linePoints)}}]),t}(V2);RJ(j2.prototype,B2);var H2=j2,G2=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"segmentVisual",value:function(){var e=this.series,t=e._defaults,n=e.color;EJ(n)&&t&&(n=t.color);var i=new r2(this.options.closed).process(this.points()),r=new m.Path({stroke:{color:n,width:e.width,opacity:e.opacity,dashType:e.dashType},zIndex:e.zIndex});r.segments.push.apply(r.segments,i),this.visual=r}}]),t}(V2),U2={renderSegments:function(){var e,t=this.options,n=this.seriesPoints,i=t.series,r=n.length;this._segments=[];for(var o=0;o<r;o++){for(var s=i[o],a=this.sortPoints(n[o]),l=a.length,u=[],c=0;c<l;c++){var h=a[c];h?u.push(h):"interpolate"!==this.seriesMissingValues(s)&&(u.length>1&&(e=this.createSegment(u,s,o,e),this._addSegment(e)),u=[])}u.length>1&&(e=this.createSegment(u,s,o,e),this._addSegment(e))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(e){this._segments.push(e),e.parent=this},sortPoints:function(e){return e},seriesMissingValues:function(e){var t=e.missingValues;return!t&&this.options.isStacked?"zero":t||"interpolate"},getNearestPoint:function(e,t,n){for(var i,r=new w0(e,t),o=this.seriesPoints[n],s=pJ,a=0;a<o.length;a++){var l=o[a];if(l&&s0(l.value)&&null!==l.value&&!1!==l.visible){var u=l.box.center().distanceTo(r);u<s&&(i=l,s=u)}}return i}},W2=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"setup",value:function(){this._setEnd(this.options.box.x1)}},{key:"step",value:function(e){var t=this.options.box;this._setEnd(JJ(t.x1,t.x2,e))}},{key:"_setEnd",value:function(e){var t=this.element,n=t.segments,i=n[1].anchor(),r=n[2].anchor();t.suspend(),i.setX(e),t.resume(),r.setX(e)}}]),t}(m.Animation);b0(W2,{duration:600}),m.AnimationFactory.current.register("clip",W2);var q2=W2;function Z2(e){for(var t=0;t<e.length;t++)if(s0(e[t].zIndex))return!0}var $2,K2={createAnimation:function(){var e=this.getRoot();if(e&&!1!==(e.options||{}).transitions){var t=e.size(),n=m.Path.fromRect(t.toRect());this.visual.clip(n),this.animation=new q2(n,{box:t}),Z2(this.options.series)&&this._setChildrenAnimation(n)}},_setChildrenAnimation:function(e){for(var t=this.animationPoints(),n=0;n<t.length;n++){var i=t[n];i&&i.visual&&s0(i.visual.options.zIndex)&&i.visual.clip(e)}}},Y2=(RJ(($2=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){_get(_getPrototypeOf(t.prototype),"render",this).call(this),this.updateStackRange(),this.renderSegments()}},{key:"pointType",value:function(){return z2}},{key:"createPoint",value:function(e,t){var n=t.categoryIx,i=t.category,r=t.series,o=t.seriesIx,s=this.seriesMissingValues(r),a=e.valueFields.value;if(!s0(a)||null===a){if("zero"!==s)return null;a=0}var l=this.pointOptions(r,o);l=this.evalPointOptions(l,a,i,n,r,o);var u=e.fields.color||r.color;EJ(r.color)&&(u=l.color);var c=new z2(a,l);return c.color=u,this.append(c),c}},{key:"plotRange",value:function(e){var t=this.plotValue(e);if(this.options.isStacked)for(var n=this.categoryPoints[e.categoryIx],i=0;i<n.length;i++){var r=n[i];if(e===r)break;t+=this.plotValue(r),this.options.isStacked100&&(t=Math.min(t,1))}return[t,t]}},{key:"createSegment",value:function(e,t,n){var i=t.style;return new("step"===i?H2:"smooth"===i?G2:V2)(e,t,n)}},{key:"animationPoints",value:function(){for(var e=this.points,t=[],n=0;n<e.length;n++)t.push((e[n]||{}).marker);return t.concat(this._segments)}}]),t}(P2)).prototype,U2,K2),$2),X2=function(e){function t(e,n,i,r,o){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,i))).prevSegment=r,s.stackPoints=o,s}return _inherits(t,e),_createClass(t,[{key:"createVisual",value:function(){var e=this.series,t=e._defaults,n=e.line||{},i=e.color;EJ(i)&&t&&(i=t.color),this.visual=new m.Group({zIndex:e.zIndex}),this.createFill({fill:{color:i,opacity:e.opacity},stroke:null}),n.width>0&&!1!==n.visible&&this.createStroke({stroke:RJ({color:i,opacity:e.opacity,lineCap:"butt"},n)})}},{key:"strokeSegments",value:function(){var e=this._strokeSegments;return e||(e=this._strokeSegments=this.createStrokeSegments()),e}},{key:"createStrokeSegments",value:function(){return this.segmentsFromPoints(this.points())}},{key:"stackSegments",value:function(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)}},{key:"createStackSegments",value:function(e){return this.segmentsFromPoints(this.toGeometryPoints(e)).reverse()}},{key:"segmentsFromPoints",value:function(e){return e.map((function(e){return new p.Segment(e)}))}},{key:"createStroke",value:function(e){var t=new m.Path(e);t.segments.push.apply(t.segments,this.strokeSegments()),this.visual.append(t)}},{key:"hasStackSegment",value:function(){return this.prevSegment||this.stackPoints&&this.stackPoints.length}},{key:"createFill",value:function(e){var t=this.strokeSegments(),n=t.slice(0),i=this.hasStackSegment();if(i){var r=this.stackSegments();r0(n,r)}var o=new m.Path(e);o.segments.push.apply(o.segments,n),!i&&t.length>1&&this.fillToAxes(o),this.visual.append(o)}},{key:"fillToAxes",value:function(e){var t=this.parent,n=t.options.invertAxes,i=t.seriesValueAxis(this.series),r=t.categoryAxisCrossingValue(i),o=i.getSlot(r,r,!0),s=this.strokeSegments(),a=s[0].anchor(),l=f0(s).anchor(),u=n?o.x1:o.y1;n?e.lineTo(u,l.y).lineTo(u,a.y):e.lineTo(l.x,u).lineTo(a.x,u)}}]),t}(V2),Q2=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"createStrokeSegments",value:function(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))}},{key:"createStackSegments",value:function(e){return this.segmentsFromPoints(this.calculateStepPoints(e)).reverse()}}]),t}(X2);RJ(Q2.prototype,B2);var J2=Q2,e3=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"createStrokeSegments",value:function(){var e=new r2(this.options.closed),t=this.points();return e.process(t)}},{key:"createStackSegments",value:function(){for(var e=this.strokeSegments(),t=[],n=e.length-1;n>=0;n--){var i=e[n];t.push(new p.Segment(i.anchor(),i.controlOut(),i.controlIn()))}return t}}]),t}(X2),t3=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"createSegment",value:function(e,t,n,i){var r,o,s=(t.line||{}).style;return this.options.isStacked&&n>0&&i&&("gap"!==this.seriesMissingValues(t)?(o=i.linePoints,r=i):o=this._gapStackPoints(e,n,s)),new("step"===s?J2:"smooth"===s?e3:X2)(e,t,n,r,o)}},{key:"reflow",value:function(e){_get(_getPrototypeOf(t.prototype),"reflow",this).call(this,e);var n=this._stackPoints;if(n)for(var i=0;i<n.length;i++){var r=n[i],o=this.categoryAxis.getSlot(r.categoryIx);r.reflow(o)}}},{key:"_gapStackPoints",value:function(e,t,n){var i=this.seriesPoints,r=e[0].categoryIx,o=e.length;r<0&&(r=0,o--);var s=r+o,a=this.seriesOptions[0]._outOfRangeMinPoint?1:0,l=[];this._stackPoints=this._stackPoints||[];for(var u=r;u<s;u++){var c=u+a,h=void 0,f=t;do{h=i[--f][c]}while(f>0&&!h);if(h)"step"!==n&&u>r&&!i[f][c-1]&&l.push(this._previousSegmentPoint(u,c,c-1,f)),l.push(h),"step"!==n&&u+1<s&&!i[f][c+1]&&l.push(this._previousSegmentPoint(u,c,c+1,f));else{var d=this._createGapStackPoint(u);this._stackPoints.push(d),l.push(d)}}return l}},{key:"_previousSegmentPoint",value:function(e,t,n,i){for(var r,o=this.seriesPoints,s=i;s>0&&!r;)r=o[--s][n];return r?r=o[s][t]:(r=this._createGapStackPoint(e),this._stackPoints.push(r)),r}},{key:"_createGapStackPoint",value:function(e){var t=this.pointOptions({},0),n=new z2(0,t);return n.categoryIx=e,n.series={},n}},{key:"seriesMissingValues",value:function(e){return e.missingValues||"zero"}}]),t}(Y2),n3=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).axisRanges={},e}return _inherits(t,e),_createClass(t,[{key:"update",value:function(e){var t=this.axisRanges;for(var n in e){var i=e[n],r=t[n];t[n]=r=r||{min:pJ,max:vJ},r.min=Math.min(r.min,i.min),r.max=Math.max(r.max,i.max)}}},{key:"reset",value:function(e){this.axisRanges[e]=void 0}},{key:"query",value:function(e){return this.axisRanges[e]}}]),t}(Vw),i3=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).textBox=new Z0(e,r.options,i),r.append(r.textBox),r}return _inherits(t,e),_createClass(t,[{key:"createVisual",value:function(){this.textBox.options.noclip=this.options.noclip}},{key:"reflow",value:function(e){var t=this.options,n=t.vertical,i=t.aboveAxis,r=this.children[0],o=r.options,s=r.box,a=r.options.padding,l=e;o.align=n?cJ:"left",o.vAlign=n?gJ:cJ,"insideEnd"===t.position?n?(o.vAlign=gJ,!i&&s.height()<e.height()&&(o.vAlign=uJ)):o.align=i?"right":"left":t.position===cJ?(o.vAlign=cJ,o.align=cJ):"insideBase"===t.position?n?o.vAlign=i?uJ:gJ:o.align=i?"left":"right":"outsideEnd"===t.position&&(n?l=i?new S0(e.x1,e.y1-s.height(),e.x2,e.y1):new S0(e.x1,e.y2,e.x2,e.y2+s.height()):(o.align=cJ,l=i?new S0(e.x2,e.y1,e.x2+s.width(),e.y2):new S0(e.x1-s.width(),e.y1,e.x1,e.y2))),t.rotation||(n?a.left=a.right=(l.width()-r.contentBox.width())/2:a.top=a.bottom=(l.height()-r.contentBox.height())/2),r.reflow(l)}},{key:"alignToClipBox",value:function(e){var t=this.options.vertical?bJ:kJ,n=t+"1",i=t+"2",r=this.parent.box;if(r[n]<e[n]||e[i]<r[i]){var o=this.children[0].paddingBox.clone();o[n]=Math.max(r[n],e[n]),o[i]=Math.min(r[i],e[i]),this.reflow(o)}}}]),t}(R0);b0(i3,{position:"outsideEnd",margin:LJ(3),padding:LJ(4),color:lJ,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:"fadeIn",delay:600},zIndex:2});var r3=i3;function o3(e){var t=e.overlay;return t&&t.gradient&&"none"!==t.gradient}var s3=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).options=n,i.color=n.color||yJ,i.aboveAxis=y0(i.options.aboveAxis,!0),i.value=e,i}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))}},{key:"createLabel",value:function(){var e=this.options,t=e.labels;if(t.visible){var n,i=this.pointData(),r=WJ(t);n=r?r(i):this.formatValue(t.format),this.label=new r3(n,RJ({vertical:e.vertical},t),i),this.append(this.label)}}},{key:"formatValue",value:function(e){return this.owner.formatPointValue(this,e)}},{key:"reflow",value:function(e){this.render();var t=this.label;if(this.box=e,t&&(t.options.aboveAxis=this.aboveAxis,t.reflow(e)),this.note&&this.note.reflow(e),this.errorBars)for(var n=0;n<this.errorBars.length;n++)this.errorBars[n].reflow(e)}},{key:"createVisual",value:function(){var e=this,n=this.box,i=this.options,r=i.visual;if(!1!==this.visible)if(_get(_getPrototypeOf(t.prototype),"createVisual",this).call(this),r){var o=this.rectVisual=r({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:n.toRect(),createVisual:function(){var t=new m.Group;return e.createRect(t),t},options:i});o&&this.visual.append(o)}else n.width()>0&&n.height()>0&&this.createRect(this.visual)}},{key:"createRect",value:function(e){var t=this.options,n=t.border,i=s0(n.opacity)?n.opacity:t.opacity,r=this.box.toRect();r.size.width=Math.round(r.size.width);var o=this.rectVisual=m.Path.fromRect(r,{fill:{color:this.color,opacity:t.opacity},stroke:{color:this.getBorderColor(),width:n.width,opacity:i,dashType:n.dashType}}),s=this.box.width(),a=this.box.height();if((t.vertical?s:a)>6&&(xJ(o),(s<1||a<1)&&(o.options.stroke.lineJoin="round")),e.append(o),o3(t)){var l=this.createGradientOverlay(o,{baseColor:this.color},RJ({end:t.vertical?void 0:[0,1]},t.overlay));e.append(l)}}},{key:"createHighlight",value:function(e){return xJ(m.Path.fromRect(this.box.toRect(),e))}},{key:"highlightVisual",value:function(){return this.rectVisual}},{key:"highlightVisualArgs",value:function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}}},{key:"getBorderColor",value:function(){var e=this.color,t=this.options.border,n=t._brightness||.8,i=t.color;return s0(i)||(i=new dx(e).brightness(n).toHex()),i}},{key:"tooltipAnchor",value:function(){var e,t,n=this.options,i=this.box,r=this.aboveAxis,o=this.owner.pane.clipBox()||i,s="left",a=gJ;if(n.vertical)e=Math.min(i.x2,o.x2)+5,r?t=Math.max(i.y1,o.y1):(t=Math.min(i.y2,o.y2),a=uJ);else{var l=Math.max(i.x1,o.x1),u=Math.min(i.x2,o.x2);n.isStacked?(a=uJ,r?(s="right",e=u):e=l,t=Math.max(i.y1,o.y1)-5):(r?e=u+5:(e=l-5,s="right"),t=Math.max(i.y1,o.y1))}return{point:new w0(e,t),align:{horizontal:s,vertical:a}}}},{key:"overlapsBox",value:function(e){return this.box.overlaps(e)}},{key:"pointData",value:function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}}}]),t}(R0);RJ(s3.prototype,D2),RJ(s3.prototype,F2),s3.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}}};var a3=s3;function l3(e,t){e.forEach(t)}function u3(e,t){for(var n=e.length,i=n-1;i>=0;i--)t(e[i],i-n-1)}var c3=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).forEach=e.rtl?u3:l3,n}return _inherits(t,e),_createClass(t,[{key:"reflow",value:function(e){var t=this.options,n=t.vertical,i=t.gap,r=t.spacing,o=this.children,s=o.length,a=n?bJ:kJ,l=s+i+r*(s-1),u=(n?e.height():e.width())/l,c=e[a+1]+u*(i/2);this.forEach(o,(function(t,n){var i=(t.box||e).clone();i[a+1]=c,i[a+2]=c+u,t.reflow(i),n<s-1&&(c+=u*r),c+=u}))}}]),t}(R0);b0(c3,{vertical:!1,gap:0,spacing:0});var h3=c3,f3=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"reflow",value:function(e){for(var t=this.options.vertical?kJ:bJ,n=this.children,i=n.length,r=this.box=new S0,o=0;o<i;o++){var s=n[o];if(!1!==s.visible){var a=s.box.clone();a.snapTo(e,t),0===o&&(r=this.box=a.clone()),s.reflow(a),r.wrap(a)}}}}]),t}(R0);b0(f3,{vertical:!0});var d3=f3,p3=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){_get(_getPrototypeOf(t.prototype),"render",this).call(this),this.updateStackRange()}},{key:"pointType",value:function(){return a3}},{key:"clusterType",value:function(){return h3}},{key:"stackType",value:function(){return d3}},{key:"stackLimits",value:function(e,n){return _get(_getPrototypeOf(t.prototype),"stackLimits",this).call(this,e,n)}},{key:"createPoint",value:function(e,t){var n=t.categoryIx,i=t.category,r=t.series,o=t.seriesIx,s=this.options,a=this.children,l=s.isStacked,u=this.pointValue(e),c=this.pointOptions(r,o),h=c.labels;l&&"outsideEnd"===h.position&&(h.position="insideEnd"),c.isStacked=l;var f=e.fields.color||r.color;u<0&&c.negativeColor&&(f=c.negativeColor),c=this.evalPointOptions(c,u,i,n,r,o),EJ(r.color)&&(f=c.color);var d=new(this.pointType())(u,c);d.color=f;var p=a[n];return p||(p=new(this.clusterType())({vertical:s.invertAxes,gap:s.gap,spacing:s.spacing,rtl:!s.invertAxes&&(this.chartService||{}).rtl}),this.append(p)),l?this.getStackWrap(r,p).append(d):p.append(d),d}},{key:"getStackWrap",value:function(e,t){var n,i=e.stack,r=i&&i.group||i,o=t.children;if("string"==typeof r){for(var s=0;s<o.length;s++)if(o[s]._stackGroup===r){n=o[s];break}}else n=o[0];return n||((n=new(this.stackType())({vertical:!this.options.invertAxes}))._stackGroup=r,t.append(n)),n}},{key:"categorySlot",value:function(e,t,n){var i=this.options,r=e.getSlot(t),o=n.startValue();if(i.isStacked){var s=n.getSlot(o,o,!0),a=i.invertAxes?kJ:bJ;r[a+1]=r[a+2]=s[a+1]}return r}},{key:"reflowCategories",value:function(e){for(var t=this.children,n=t.length,i=0;i<n;i++)t[i].reflow(e[i])}},{key:"createAnimation",value:function(){this._setAnimationOptions(),_get(_getPrototypeOf(t.prototype),"createAnimation",this).call(this),Z2(this.options.series)&&this._setChildrenAnimation()}},{key:"_setChildrenAnimation",value:function(){for(var e=this.points,t=0;t<e.length;t++){var n=e[t],i=n.visual;i&&s0(i.options.zIndex)&&(n.options.animation=this.options.animation,n.createAnimation())}}},{key:"_setAnimationOptions",value:function(){var e,t=this.options,n=t.animation||{};if(t.isStacked){var i=this.seriesValueAxis(t.series[0]);e=i.getSlot(i.startValue())}else e=this.categoryAxis.getSlot(0);n.origin=new p.Point(e.x1,e.y1),n.vertical=!t.invertAxes}}]),t}(P2);b0(p3,{animation:{type:k2}});var v3=p3,g3=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).value=e,i}return _inherits(t,e),_createClass(t,[{key:"reflow",value:function(e){var t=this.options,n=this.value,i=this.owner.seriesValueAxis(t),r=i.getSlot(n.open,n.close),o=i.getSlot(n.low,n.high);r.x1=o.x1=e.x1,r.x2=o.x2=e.x2,this.realBody=r;var s=o.center().x,a=[];a.push([[s,o.y1],[s,r.y1]]),a.push([[s,r.y2],[s,o.y2]]),this.lines=a,this.box=o.clone().wrap(r),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()}},{key:"reflowNote",value:function(){this.note&&this.note.reflow(this.box)}},{key:"createVisual",value:function(){_get(_getPrototypeOf(t.prototype),"createVisual",this).call(this),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()}},{key:"mainVisual",value:function(e){var t=new m.Group;return this.createBody(t,e),this.createLines(t,e),t}},{key:"createBody",value:function(e,t){var n=m.Path.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:t.opacity},stroke:null});t.border.width>0&&n.options.set("stroke",{color:this.getBorderColor(),width:t.border.width,dashType:t.border.dashType,opacity:y0(t.border.opacity,t.opacity)}),xJ(n),e.append(n),o3(t)&&e.append(this.createGradientOverlay(n,{baseColor:this.color},RJ({end:t.vertical?void 0:[0,1]},t.overlay)))}},{key:"createLines",value:function(e,t){this.drawLines(e,t,this.lines,t.line)}},{key:"drawLines",value:function(e,t,n,i){if(n)for(var r={stroke:{color:i.color||this.color,opacity:y0(i.opacity,t.opacity),width:i.width,dashType:i.dashType,lineCap:"butt"}},o=0;o<n.length;o++){var s=m.Path.fromPoints(n[o],r);xJ(s),e.append(s)}}},{key:"getBorderColor",value:function(){var e=this.options.border,t=e.color;return s0(t)||(t=new dx(this.color).brightness(e._brightness).toHex()),t}},{key:"createOverlay",value:function(){var e=m.Path.fromRect(this.box.toRect(),{fill:{color:yJ,opacity:0},stroke:null});this.visual.append(e)}},{key:"createHighlight",value:function(){var e=this.options.highlight,t=this.color;this.color=e.color||this.color;var n=this.mainVisual(RJ({},this.options,{line:{color:this.getBorderColor()}},e));return this.color=t,n}},{key:"highlightVisual",value:function(){return this._mainVisual}},{key:"highlightVisualArgs",value:function(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}}},{key:"tooltipAnchor",value:function(){var e=this.box,t=this.owner.pane.clipBox()||e;return{point:new w0(e.x2+5,Math.max(e.y1,t.y1)+5),align:{horizontal:"left",vertical:gJ}}}},{key:"formatValue",value:function(e){return this.owner.formatPointValue(this,e)}},{key:"overlapsBox",value:function(e){return this.box.overlaps(e)}}]),t}(R0);b0(g3,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}}),RJ(g3.prototype,D2),RJ(g3.prototype,F2);var m3=g3;function y3(e){return u2(e)===e.length}var k3=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"reflowCategories",value:function(e){for(var t=this.children,n=t.length,i=0;i<n;i++)t[i].reflow(e[i])}},{key:"addValue",value:function(e,t){var n,i=t.categoryIx,r=t.category,o=t.series,s=t.seriesIx,a=this.children,l=this.options,u=e.valueFields,c=y3(this.splitValue(u)),h=o.data[i],f=this.categoryPoints[i];f||(this.categoryPoints[i]=f=[]),c&&(n=this.createPoint(e,t));var d=a[i];d||(d=new h3({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(d)),n&&(this.updateRange(u,t),d.append(n),n.categoryIx=i,n.category=r,n.series=o,n.seriesIx=s,n.owner=this,n.dataItem=h,n.noteText=e.fields.noteText),this.points.push(n),f.push(n)}},{key:"pointType",value:function(){return m3}},{key:"createPoint",value:function(e,t){var n=t.categoryIx,i=t.category,r=t.series,o=t.seriesIx,s=this.pointType(),a=e.valueFields,l=RJ({},r),u=e.fields.color||r.color;l=this.evalPointOptions(l,a,i,n,r,o),"candlestick"===r.type&&a.open>a.close&&(u=e.fields.downColor||r.downColor||r.color),EJ(r.color)&&(u=l.color),l.vertical=!this.options.invertAxes;var c=new s(a,l);return c.color=u,c}},{key:"splitValue",value:function(e){return[e.low,e.open,e.close,e.high]}},{key:"updateRange",value:function(e,t){var n=t.series.axis,i=this.splitValue(e),r=this.valueAxisRanges[n];r=this.valueAxisRanges[n]=r||{min:pJ,max:vJ},r=this.valueAxisRanges[n]={min:Math.min.apply(Math,i.concat([r.min])),max:Math.max.apply(Math,i.concat([r.max]))}}},{key:"formatPointValue",value:function(e,t){var n=e.value;return this.chartService.format.auto(t,n.open,n.high,n.low,n.close,e.category)}},{key:"animationPoints",value:function(){return this.points}}]),t}(P2);RJ(k3.prototype,K2);var b3=k3,_3=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).createNote(),i}return _inherits(t,e),_createClass(t,[{key:"reflow",value:function(e){var t,n,i=this.options,r=this.value,o=this.owner.seriesValueAxis(i);this.boxSlot=n=o.getSlot(r.q1,r.q3),this.realBody=n,this.reflowBoxSlot(e),this.whiskerSlot=t=o.getSlot(r.lower,r.upper),this.reflowWhiskerSlot(e);var s=o.getSlot(r.median);if(r.mean){var a=o.getSlot(r.mean);this.meanPoints=this.calcMeanPoints(e,a)}this.whiskerPoints=this.calcWhiskerPoints(n,t),this.medianPoints=this.calcMedianPoints(e,s),this.box=t.clone().wrap(n),this.reflowNote()}},{key:"reflowBoxSlot",value:function(e){this.boxSlot.x1=e.x1,this.boxSlot.x2=e.x2}},{key:"reflowWhiskerSlot",value:function(e){this.whiskerSlot.x1=e.x1,this.whiskerSlot.x2=e.x2}},{key:"calcMeanPoints",value:function(e,t){return[[[e.x1,t.y1],[e.x2,t.y1]]]}},{key:"calcWhiskerPoints",value:function(e,t){var n=t.center().x;return[[[n-5,t.y1],[n+5,t.y1],[n,t.y1],[n,e.y1]],[[n-5,t.y2],[n+5,t.y2],[n,t.y2],[n,e.y2]]]}},{key:"calcMedianPoints",value:function(e,t){return[[[e.x1,t.y1],[e.x2,t.y1]]]}},{key:"renderOutliers",value:function(e){for(var t=this.value,n=t.outliers||[],i=3*Math.abs(t.q3-t.q1),r=[],o=e.markers||{},s=0;s<n.length;s++){var a=n[s],l=RJ({},(o=a<t.q3+i&&a>t.q1-i?e.outliers:e.extremes).border);s0(l.color)||(l.color=s0(this.color)?this.color:new dx(o.background).brightness(.8).toHex());var u=new M0({type:o.type,width:o.size,height:o.size,rotation:o.rotation,background:o.background,border:l,opacity:o.opacity});u.value=a,r.push(u)}return this.reflowOutliers(r),r}},{key:"reflowOutliers",value:function(e){for(var t=this.owner.seriesValueAxis(this.options),n=this.box.center(),i=0;i<e.length;i++){var r=t.getSlot(e[i].value);this.options.vertical?r.move(n.x):r.move(void 0,n.y),this.box=this.box.wrap(r),e[i].reflow(r)}}},{key:"mainVisual",value:function(e){for(var n=_get(_getPrototypeOf(t.prototype),"mainVisual",this).call(this,e),i=this.renderOutliers(e),r=0;r<i.length;r++){var o=i[r].getElement();o&&n.append(o)}return n}},{key:"createLines",value:function(e,t){this.drawLines(e,t,this.whiskerPoints,t.whiskers),this.drawLines(e,t,this.medianPoints,t.median),this.drawLines(e,t,this.meanPoints,t.mean)}},{key:"getBorderColor",value:function(){return(this.options.border||{}).color?this.options.border.color:this.color?this.color:_get(_getPrototypeOf(t.prototype),"getBorderColor",this).call(this)}}]),t}(m3);b0(_3,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:8,type:"cross",background:yJ,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:8,type:hJ,background:yJ,border:{width:2,opacity:1},opacity:0}}),RJ(_3.prototype,D2);var C3=_3,w3=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"reflowBoxSlot",value:function(e){this.boxSlot.y1=e.y1,this.boxSlot.y2=e.y2}},{key:"reflowWhiskerSlot",value:function(e){this.whiskerSlot.y1=e.y1,this.whiskerSlot.y2=e.y2}},{key:"calcMeanPoints",value:function(e,t){return[[[t.x1,e.y1],[t.x1,e.y2]]]}},{key:"calcWhiskerPoints",value:function(e,t){var n=t.center().y;return[[[t.x1,n-5],[t.x1,n+5],[t.x1,n],[e.x1,n]],[[t.x2,n-5],[t.x2,n+5],[t.x2,n],[e.x2,n]]]}},{key:"calcMedianPoints",value:function(e,t){return[[[t.x1,e.y1],[t.x1,e.y2]]]}}]),t}(C3),x3=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"addValue",value:function(e,t){var n,i=t.categoryIx,r=t.category,o=t.series,s=t.seriesIx,a=this.children,l=this.options,u=e.valueFields,c=y3(this.splitValue(u)),h=o.data[i],f=this.categoryPoints[i];f||(this.categoryPoints[i]=f=[]),c&&(n=this.createPoint(e,t));var d=a[i];d||(d=new h3({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(d)),n&&(this.updateRange(u,t),d.append(n),n.categoryIx=i,n.category=r,n.series=o,n.seriesIx=s,n.owner=this,n.dataItem=h),this.points.push(n),f.push(n)}},{key:"pointType",value:function(){return this.options.invertAxes?w3:C3}},{key:"splitValue",value:function(e){return[e.lower,e.q1,e.median,e.q3,e.upper]}},{key:"updateRange",value:function(e,t){var n=t.series.axis,i=this.valueAxisRanges[n],r=this.splitValue(e).concat(this.filterOutliers(e.outliers));s0(e.mean)&&(r=r.concat(e.mean)),i=this.valueAxisRanges[n]=i||{min:pJ,max:vJ},i=this.valueAxisRanges[n]={min:Math.min.apply(Math,r.concat([i.min])),max:Math.max.apply(Math,r.concat([i.max]))}}},{key:"formatPointValue",value:function(e,t){var n=e.value;return this.chartService.format.auto(t,n.lower,n.q1,n.median,n.q3,n.upper,n.mean,e.category)}},{key:"filterOutliers",value:function(e){for(var t=(e||[]).length,n=[],i=0;i<t;i++){var r=e[i];s0(r)&&null!==r&&n.push(r)}return n}}]),t}(b3),S3=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getAxis",value:function(){var e=this.chart.seriesAxes(this.series);return this.isVertical?e.y:e.x}}]),t}(O2);function T3(e){return s0(e)&&null!==e}var O3=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).plotArea=e,i.chartService=e.chartService,i._initFields(),i.render(),i}return _inherits(t,e),_createClass(t,[{key:"_initFields",value:function(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]}},{key:"render",value:function(){this.traverseDataPoints(this.addValue.bind(this))}},{key:"addErrorBar",value:function(e,t,n){var i,r=e.value[t],o=t+"Value",s=t+"ErrorLow",a=t+"ErrorHigh",l=n.seriesIx,u=n.series,c=e.options.errorBars,h=n[s],f=n[a];TJ(r)&&(TJ(h)&&TJ(f)&&(i={low:h,high:f}),c&&s0(c[o])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[t][l]=this.seriesErrorRanges[t][l]||new m2(c[o],u,t),i=this.seriesErrorRanges[t][l].getErrorRange(r,c[o])),i&&this.addPointErrorBar(i,e,t))}},{key:"addPointErrorBar",value:function(e,t,n){var i=e.low,r=e.high,o=t.series,s=t.options.errorBars,a=n===bJ,l={};t[n+"Low"]=i,t[n+"High"]=r,t.errorBars=t.errorBars||[];var u=new S3(i,r,a,this,o,s);t.errorBars.push(u),t.append(u),l[n]=i,this.updateRange(l,o),l[n]=r,this.updateRange(l,o)}},{key:"addValue",value:function(e,t){var n,i=e.x,r=e.y,o=t.seriesIx,s=this.seriesMissingValues(this.options.series[o]),a=this.seriesPoints[o],l=e;T3(i)&&T3(r)||(l=this.createMissingValue(l,s)),l&&((n=this.createPoint(l,t))&&(Object.assign(n,t),this.addErrorBar(n,kJ,t),this.addErrorBar(n,bJ,t)),this.updateRange(l,t.series)),this.points.push(n),a.push(n)}},{key:"seriesMissingValues",value:function(e){return e.missingValues}},{key:"createMissingValue",value:function(){}},{key:"updateRange",value:function(e,t){var n=this.chartService.intl,i=t.xAxis,r=t.yAxis,o=e.x,s=e.y,a=this.xAxisRanges[i],l=this.yAxisRanges[r];T3(o)&&(a=this.xAxisRanges[i]=a||{min:pJ,max:vJ},OJ(o)&&(o=_1(n,o)),a.min=Math.min(a.min,o),a.max=Math.max(a.max,o)),T3(s)&&(l=this.yAxisRanges[r]=l||{min:pJ,max:vJ},OJ(s)&&(s=_1(n,s)),l.min=Math.min(l.min,s),l.max=Math.max(l.max,s))}},{key:"evalPointOptions",value:function(e,t,n){var i=n.series,r=n.seriesIx,o={defaults:i._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]},s=this._evalSeries[r];s0(s)||(this._evalSeries[r]=s=E2(e,{},o,!0));var a=e;return s&&E2(a=RJ({},e),{value:t,series:i,dataItem:n.dataItem},o),a}},{key:"pointType",value:function(){return z2}},{key:"pointOptions",value:function(e,t){var n=this.seriesOptions[t];if(!n){var i=this.pointType().prototype.defaults;this.seriesOptions[t]=n=RJ({},i,{markers:{opacity:e.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},e)}return n}},{key:"createPoint",value:function(e,t){var n=t.series,i=this.pointOptions(n,t.seriesIx),r=t.color||n.color;i=this.evalPointOptions(i,e,t),EJ(n.color)&&(r=i.color);var o=new z2(e,i);return o.color=r,this.append(o),o}},{key:"seriesAxes",value:function(e){var t=e.xAxis,n=e.yAxis,i=this.plotArea,r=t?i.namedXAxes[t]:i.axisX,o=n?i.namedYAxes[n]:i.axisY;if(!r)throw new Error("Unable to locate X axis with name "+t);if(!o)throw new Error("Unable to locate Y axis with name "+n);return{x:r,y:o}}},{key:"reflow",value:function(e){var t=this,n=this.points,i=!this.options.clip,r=0;this.traverseDataPoints((function(e,o){var s=n[r++],a=t.seriesAxes(o.series),l=a.x.getSlot(e.x,e.x,i),u=a.y.getSlot(e.y,e.y,i);if(s)if(l&&u){var c=t.pointSlot(l,u);s.reflow(c)}else s.visible=!1})),this.box=e}},{key:"pointSlot",value:function(e,t){return new S0(e.x1,t.y1,e.x2,t.y2)}},{key:"traverseDataPoints",value:function(e){for(var t=this.options.series,n=this.seriesPoints,i=0;i<t.length;i++){var r=t[i];n[i]||(n[i]=[]);for(var o=0;o<r.data.length;o++){var s=this._bindPoint(r,i,o),a=s.valueFields,l=s.fields;e(a,RJ({pointIx:o,series:r,seriesIx:i,dataItem:r.data[o],owner:this},l))}}}},{key:"formatPointValue",value:function(e,t){var n=e.value;return this.chartService.format.auto(t,n.x,n.y)}},{key:"animationPoints",value:function(){for(var e=this.points,t=[],n=0;n<e.length;n++)t.push((e[n]||{}).marker);return t}}]),t}(R0);b0(O3,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0}),RJ(O3.prototype,K2,{_bindPoint:P2.prototype._bindPoint});var I3=O3,E3=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).category=e.category,i}return _inherits(t,e),_createClass(t,[{key:"createHighlight",value:function(){var e=this.options.highlight,t=e.border,n=this.options.markers,i=this.box.center(),r=(n.size+n.border.width+t.width)/2,o=new m.Group,s=new m.Circle(new p.Circle([i.x,i.y+r/5+t.width/2],r+t.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:n.background,stops:[{offset:0,color:n.background,opacity:.3},{offset:1,color:n.background,opacity:0}]})}),a=new m.Circle(new p.Circle([i.x,i.y],r),{stroke:{color:t.color||new dx(n.background).brightness(.8).toHex(),width:t.width,opacity:t.opacity},fill:{color:n.background,opacity:e.opacity}});return o.append(s,a),o}}]),t}(z2);E3.prototype.defaults=RJ({},E3.prototype.defaults,{labels:{position:cJ},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}}),E3.prototype.defaults.highlight.zIndex=void 0;var A3=E3,R3=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"_initFields",value:function(){this._maxSize=vJ,_get(_getPrototypeOf(t.prototype),"_initFields",this).call(this)}},{key:"addValue",value:function(e,n){null!==e.size&&(e.size>0||e.size<0&&n.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(e.size)),_get(_getPrototypeOf(t.prototype),"addValue",this).call(this,e,n)):(this.points.push(null),this.seriesPoints[n.seriesIx].push(null))}},{key:"reflow",value:function(e){this.updateBubblesSize(e),_get(_getPrototypeOf(t.prototype),"reflow",this).call(this,e)}},{key:"pointType",value:function(){return A3}},{key:"createPoint",value:function(e,t){var n=t.series,i=t.pointIx*(600/n.data.length),r={delay:i,duration:600-i,type:"bubble"},o=t.color||n.color;e.size<0&&n.negativeValues.visible&&(o=y0(n.negativeValues.color,o));var s=RJ({labels:{animation:{delay:i,duration:600-i}}},this.pointOptions(n,t.seriesIx),{markers:{type:hJ,border:n.border,opacity:n.opacity,animation:r}});s=this.evalPointOptions(s,e,t),EJ(n.color)&&(o=s.color),s.markers.background=o;var a=new A3(e,s);return a.color=o,this.append(a),a}},{key:"updateBubblesSize",value:function(e){for(var t=this.options.series,n=Math.min(e.width(),e.height()),i=0;i<t.length;i++)for(var r=t[i],o=this.seriesPoints[i],s=(r.minSize||Math.max(.02*n,10))/2,a=(r.maxSize||.2*n)/2,l=Math.PI*s*s,u=(Math.PI*a*a-l)/this._maxSize,c=0;c<o.length;c++){var h=o[c];if(h){var f=Math.abs(h.value.size)*u,d=Math.sqrt((l+f)/Math.PI),p=y0(h.options.zIndex,0)+(1-d/a);RJ(h.options,{zIndex:p,markers:{size:2*d,zIndex:p},labels:{zIndex:p+1}})}}}},{key:"formatPointValue",value:function(e,t){var n=e.value;return this.chartService.format.auto(t,n.x,n.y,n.size,e.category)}},{key:"createAnimation",value:function(){}},{key:"createVisual",value:function(){}}]),t}(I3);b0(R3,{tooltip:{format:"{3}"},labels:{format:"{3}"}});var P3=R3,D3=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(M0);RJ(D3.prototype,D2);var F3=D3,M3=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).aboveAxis=i.options.aboveAxis,i.color=n.color||yJ,i.value=e,i}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=this.options;this._rendered||(this._rendered=!0,s0(this.value.target)&&(this.target=new F3({type:e.target.shape,background:e.target.color||this.color,opacity:e.opacity,zIndex:e.zIndex,border:e.target.border,vAlign:gJ,align:"right"}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createNote())}},{key:"reflow",value:function(e){this.render();var t=this.options,n=this.target,i=this.owner,r=t.invertAxes,o=i.seriesValueAxis(this.options),s=i.categorySlot(i.categoryAxis,t.categoryIx,o),a=o.getSlot(this.value.target),l=r?a:s,u=r?s:a;if(n){var c=new S0(l.x1,u.y1,l.x2,u.y2);n.options.height=r?c.height():t.target.line.width,n.options.width=r?t.target.line.width:c.width(),n.reflow(c)}this.note&&this.note.reflow(e),this.box=e}},{key:"createVisual",value:function(){_get(_getPrototypeOf(t.prototype),"createVisual",this).call(this);var e=this.options,n=m.Path.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&n.options.set("stroke",{color:e.border.color||this.color,width:e.border.width,dashType:e.border.dashType,opacity:y0(e.border.opacity,e.opacity)}),this.bodyVisual=n,xJ(n),this.visual.append(n)}},{key:"createAnimation",value:function(){this.bodyVisual&&(this.animation=m.Animation.create(this.bodyVisual,this.options.animation))}},{key:"createHighlight",value:function(e){return m.Path.fromRect(this.box.toRect(),e)}},{key:"highlightVisual",value:function(){return this.bodyVisual}},{key:"highlightVisualArgs",value:function(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}}},{key:"formatValue",value:function(e){return this.owner.formatPointValue(this,e)}}]),t}(R0);M3.prototype.tooltipAnchor=a3.prototype.tooltipAnchor,b0(M3,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}<br />Target: {1}"}}),RJ(M3.prototype,D2),RJ(M3.prototype,F2);var z3=M3,L3=function(e){function t(e,n){return _classCallCheck(this,t),function(e){for(var t=e.series,n=0;n<t.length;n++){var i=t[n],r=i.data;!r||_J(r[0])||PJ(r[0])||(i.data=[r])}}(n),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))}return _inherits(t,e),_createClass(t,[{key:"reflowCategories",value:function(e){for(var t=this.children,n=t.length,i=0;i<n;i++)t[i].reflow(e[i])}},{key:"plotRange",value:function(e){var t=this.seriesValueAxis(e.series),n=this.categoryAxisCrossingValue(t);return[n,e.value.current||n]}},{key:"createPoint",value:function(e,t){var n=t.categoryIx,i=t.category,r=t.series,o=t.seriesIx,s=this.options,a=this.children,l=e.valueFields,u=RJ({vertical:!s.invertAxes,overlay:r.overlay,categoryIx:n,invertAxes:s.invertAxes},r),c=e.fields.color||r.color;u=this.evalPointOptions(u,l,i,n,r,o),EJ(r.color)&&(c=u.color);var h=new z3(l,u);h.color=c;var f=a[n];return f||(f=new h3({vertical:s.invertAxes,gap:s.gap,spacing:s.spacing,rtl:!s.invertAxes&&(this.chartService||{}).rtl}),this.append(f)),f.append(h),h}},{key:"updateRange",value:function(e,t){var n=e.current,i=e.target,r=t.series.axis,o=this.valueAxisRanges[r];s0(n)&&!isNaN(n)&&s0(i&&!isNaN(i))&&((o=this.valueAxisRanges[r]=o||{min:pJ,max:vJ}).min=Math.min(o.min,n,i),o.max=Math.max(o.max,n,i))}},{key:"formatPointValue",value:function(e,t){return this.chartService.format.auto(t,e.value.current,e.value.target)}},{key:"pointValue",value:function(e){return e.valueFields.current}},{key:"aboveAxis",value:function(e){return e.value.current>0}},{key:"createAnimation",value:function(){var e=this.points;this._setAnimationOptions();for(var t=0;t<e.length;t++){var n=e[t];n.options.animation=this.options.animation,n.createAnimation()}}}]),t}(P2);L3.prototype._setAnimationOptions=v3.prototype._setAnimationOptions,b0(L3,{animation:{type:k2}});var V3=L3,N3=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).chartService=e,i.options=RJ({},i.options,n),i}return _inherits(t,e),_createClass(t,[{key:"getStyle",value:function(e,t){var n=e.background,i=e.border.color;if(t){var r=t.color||t.options.color;n=y0(n,r),i=y0(i,r)}var o=LJ(e.padding||{},"auto");return{backgroundColor:n,borderColor:i,font:e.font,color:e.color,opacity:e.opacity,borderWidth:DJ(e.border.width),paddingTop:DJ(o.top),paddingBottom:DJ(o.bottom),paddingLeft:DJ(o.left),paddingRight:DJ(o.right)}}},{key:"show",value:function(e,t,n){e.format=t.format;var i=this.getStyle(t,n);e.style=i,!s0(t.color)&&new dx(i.backgroundColor).percBrightness()>180&&(e.className="k-chart-tooltip-inverse"),this.chartService.notify("showTooltip",e),this.visible=!0}},{key:"hide",value:function(){this.chartService&&this.chartService.notify("hideTooltip"),this.visible=!1}},{key:"destroy",value:function(){delete this.chartService}}]),t}(Vw);b0(N3,{border:{width:1},opacity:1});var B3=N3,j3=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,i))).crosshair=n,r.formatService=e.format,r.initAxisName(),r}return _inherits(t,e),_createClass(t,[{key:"initAxisName",value:function(){var e,t=this.crosshair.axis;e=t.plotArea.categoryAxis?t.getCategory?"categoryAxis":"valueAxis":t.options.vertical?"yAxis":"xAxis",this.axisName=e}},{key:"showAt",value:function(e){var t=this.crosshair.axis,n=this.options,i=t[n.stickyMode?"getCategory":"getValue"](e),r=i;n.format?r=this.formatService.auto(n.format,i):t.options.type===fJ&&(r=this.formatService.auto(t.options.labels.dateFormats[t.options.baseUnit],i)),this.show({point:e,anchor:this.getAnchor(),crosshair:this.crosshair,value:r,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)}},{key:"hide",value:function(){this.chartService.notify("hideTooltip",{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})}},{key:"getAnchor",value:function(){var e,t,n,i=this.crosshair,r=this.options,o=r.position,s=r.padding,a=!i.axis.options.vertical,l=i.line.bbox();return a?(e=cJ,o===uJ?(t=gJ,n=l.bottomLeft().translate(0,s)):(t=uJ,n=l.topLeft().translate(0,-s))):(t=cJ,"left"===o?(e="right",n=l.topLeft().translate(-s,0)):(e="left",n=l.topRight().translate(s,0))),{point:n,align:{horizontal:e,vertical:t}}}}]),t}(B3);b0(j3,{padding:10});var H3=j3,G3=function(e){function t(e,n,i){var r;_classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,i))).axis=n,r.stickyMode=n instanceof x1;var o=r.options.tooltip;return o.visible&&(r.tooltip=new H3(e,_assertThisInitialized(r),RJ({},o,{stickyMode:r.stickyMode}))),r}return _inherits(t,e),_createClass(t,[{key:"showAt",value:function(e){this.point=e,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(e)}},{key:"hide",value:function(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()}},{key:"moveLine",value:function(){var e,t=this.axis,n=this.point,i=t.options.vertical,r=this.getBox(),o=i?bJ:kJ,s=new p.Point(r.x1,r.y1);if(e=i?new p.Point(r.x2,r.y1):new p.Point(r.x1,r.y2),n)if(this.stickyMode){var a=t.getSlot(t.pointCategoryIndex(n));s[o]=e[o]=a.center()[o]}else s[o]=e[o]=n[o];this.box=r,this.line.moveTo(s).lineTo(e)}},{key:"getBox",value:function(){for(var e,t=this.axis,n=t.pane.axes,i=n.length,r=t.options.vertical,o=t.lineBox().clone(),s=r?kJ:bJ,a=0;a<i;a++){var l=n[a];l.options.vertical!==r&&(e?e.wrap(l.lineBox()):e=l.lineBox().clone())}return o[s+1]=e[s+1],o[s+2]=e[s+2],o}},{key:"createVisual",value:function(){_get(_getPrototypeOf(t.prototype),"createVisual",this).call(this);var e=this.options;this.line=new m.Path({stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)}},{key:"destroy",value:function(){this.tooltip&&this.tooltip.destroy(),_get(_getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(R0);b0(G3,{color:lJ,width:2,zIndex:-1,tooltip:{visible:!1}});var U3=G3,W3=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).pane=n,i}return _inherits(t,e),_createClass(t,[{key:"shouldClip",value:function(){for(var e=this.children,t=e.length,n=0;n<t;n++)if(!0===e[n].options.clip)return!0;return!1}},{key:"_clipBox",value:function(){return this.pane.chartsBox()}},{key:"createVisual",value:function(){if(this.visual=new m.Group({zIndex:0}),this.shouldClip()){var e=(this.clipBox=this._clipBox()).toRect(),t=m.Path.fromRect(e);xJ(t),this.visual.clip(t),this.unclipLabels()}}},{key:"stackRoot",value:function(){return this}},{key:"unclipLabels",value:function(){for(var e=this.children,t=this.clipBox,n=0;n<e.length;n++)for(var i=e[n].points||{},r=i.length,o=0;o<r;o++){var s=i[o];if(s&&!1!==s.visible&&s.overlapsBox&&s.overlapsBox(t))if(s.unclipElements)s.unclipElements();else{var a=s.label,l=s.note;a&&a.options.visible&&(a.alignToClipBox&&a.alignToClipBox(t),a.options.noclip=!0),l&&l.options.visible&&(l.options.noclip=!0)}}}},{key:"destroy",value:function(){_get(_getPrototypeOf(t.prototype),"destroy",this).call(this),delete this.parent}}]),t}(R0);W3.prototype.isStackRoot=!0;var q3=W3,Z3=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).id="pane"+$3++,n.createTitle(),n.content=new R0,n.chartContainer=new q3({},_assertThisInitialized(n)),n.append(n.content),n.axes=[],n.charts=[],n}return _inherits(t,e),_createClass(t,[{key:"createTitle",value:function(){var e=this.options.title;PJ(e)&&(e=RJ({},e,{align:e.position,position:gJ})),this.title=K0.buildTitle(e,this,t.prototype.options.title)}},{key:"appendAxis",value:function(e){this.content.append(e),this.axes.push(e),e.pane=this}},{key:"appendAxisAt",value:function(e,t){this.content.append(e),this.axes.splice(t,0,e),e.pane=this}},{key:"appendChart",value:function(e){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(e),this.chartContainer.append(e),e.pane=this}},{key:"empty",value:function(){var e=this.parent;if(e){for(var t=0;t<this.axes.length;t++)e.removeAxis(this.axes[t]);for(var n=0;n<this.charts.length;n++)e.removeChart(this.charts[n])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]}},{key:"reflow",value:function(e){var n;f0(this.children)===this.content&&(n=this.children.pop()),_get(_getPrototypeOf(t.prototype),"reflow",this).call(this,e),n&&this.children.push(n),this.title&&(this.contentBox.y1+=this.title.box.height())}},{key:"visualStyle",value:function(){var e=_get(_getPrototypeOf(t.prototype),"visualStyle",this).call(this);return e.zIndex=-10,e}},{key:"renderComplete",value:function(){this.options.visible&&this.createGridLines()}},{key:"stackRoot",value:function(){return this}},{key:"clipRoot",value:function(){return this}},{key:"createGridLines",value:function(){for(var e=this.axes,t=e.concat(this.parent.axes),n=[],i=[],r=0;r<e.length;r++)for(var o=e[r],s=o.options.vertical,a=s?n:i,l=0;l<t.length;l++)if(0===a.length){var u=t[l];s!==u.options.vertical&&r0(a,o.createGridLines(u))}}},{key:"refresh",value:function(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete(),this.notifyRender()}},{key:"chartsBox",value:function(){for(var e=this.axes,t=e.length,n=new S0,i=0;i<t;i++){var r=e[i],o=r.options.vertical?bJ:kJ,s=r.lineBox();n[o+1]=s[o+1],n[o+2]=s[o+2]}if(0===n.x2)for(var a=this.parent.axes,l=a.length,u=0;u<l;u++){var c=a[u];if(!c.options.vertical){var h=c.lineBox();n.x1=h.x1,n.x2=h.x2}}return n}},{key:"clipBox",value:function(){return this.chartContainer.clipBox}},{key:"notifyRender",value:function(){var e=this.getService();e&&e.notify("paneRender",{pane:new a2(this),index:this.paneIndex,name:this.options.name})}}]),t}(D0),$3=1;Z3.prototype.isStackRoot=!0,b0(Z3,{zIndex:-1,shrinkToFit:!0,title:{align:"left"},visible:!0});var K3=Z3;function Y3(e,t){null!==t&&e.push(t)}function X3(e,t,n){var i=t.visible;if(s0(i))return i;var r=e.pointVisibility;return r?r[n]:void 0}function Q3(e){for(var t=e.data,n=[],i=0,r=0,o=0;o<t.length;o++){var s=p2.current.bindPoint(e,o),a=s.valueFields.value;OJ(a)&&(a=parseFloat(a)),TJ(a)?(s.visible=!1!==X3(e,s.fields,o),s.value=Math.abs(a),n.push(s),s.visible&&(i+=s.value),0!==a&&r++):n.push(null)}return{total:i,points:n,count:r}}function J3(e,t){return e&&t?e.toLowerCase()===t.toLowerCase():e===t}function e5(e,t){for(var n=[],i=[].concat(t),r=0;r<e.length;r++){var o=e[r];QJ(o.type,i)&&n.push(o)}return n}function t5(e,t,n){if(null===t)return t;var i="_date_"+e,r=t[i];return r||(r=_1(n,$J(e)(t)),t[i]=r),r}function n5(e,t){var n=e.type,i=t instanceof Date;return!n&&i||J3(n,fJ)}function i5(e){return 1===e.length?e[0]:e}var r5=/area/i;function o5(e,t){var n=p2.current.bindPoint(e,null,t).valueFields;for(var i in n)if(IJ(n[i]))return!0}function s5(e){var t,n,i=e.start,r=e.dir,o=e.min,s=e.max,a=e.getter,l=e.hasItem,u=e.series,c=i;do{l(c+=r)&&(t=o5(u,(n=a(c)).item))}while(o<=c&&c<=s&&!t);if(t)return n}function a5(e,t,n,i,r){var o=t.min,s=t.max,a=o>0&&o<n,l=s+1<n;if(a||l){var u,c,h;if("interpolate"!==function(e){return e.missingValues?e.missingValues:r5.test(e.type)||e.stack?"zero":"interpolate"}(e))a&&(u=i(o-1)),l&&(c=i(s+1));else a&&(u=o5(e,(h=i(o-1)).item)?h:s5({start:o,dir:-1,min:0,max:n-1,getter:i,hasItem:r,series:e})),l&&(c=o5(e,(h=i(s+1)).item)?h:s5({start:s,dir:1,min:0,max:n-1,getter:i,hasItem:r,series:e}));u&&(e._outOfRangeMinPoint=u),c&&(e._outOfRangeMaxPoint=c)}}var l5=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).initFields(e,n),r.series=e,r.initSeries(),r.charts=[],r.options.legend=r.options.legend||{},r.options.legend.items=[],r.axes=[],r.crosshairs=[],r.chartService=i,r.originalOptions=n,r.createPanes(),r.render(),r.createCrosshairs(),r}return _inherits(t,e),_createClass(t,[{key:"initFields",value:function(){}},{key:"initSeries",value:function(){for(var e=this.series,t=0;t<e.length;t++)e[t].index=t}},{key:"createPanes",value:function(){var e={title:{color:(this.options.title||{}).color}},t=[],n=this.options.panes||[],i=Math.max(n.length,1);function r(e,t){OJ(e.title)&&(e.title={text:e.title}),e.title=RJ({},t.title,e.title)}for(var o=0;o<i;o++){var s=n[o]||{};r(s,e);var a=new K3(s);a.paneIndex=o,t.push(a),this.append(a)}this.panes=t}},{key:"createCrosshairs",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.panes,t=0;t<e.length;t++)for(var n=e[t],i=0;i<n.axes.length;i++){var r=n.axes[i];if(r.options.crosshair&&r.options.crosshair.visible){var o=new U3(this.chartService,r,r.options.crosshair);this.crosshairs.push(o),n.content.append(o)}}}},{key:"removeCrosshairs",value:function(e){for(var t=this.crosshairs,n=e.axes,i=t.length-1;i>=0;i--)for(var r=0;r<n.length;r++)if(t[i].axis===n[r]){t.splice(i,1);break}}},{key:"hideCrosshairs",value:function(){for(var e=this.crosshairs,t=0;t<e.length;t++)e[t].hide()}},{key:"findPane",value:function(e){for(var t,n=this.panes,i=0;i<n.length;i++)if(n[i].options.name===e){t=n[i];break}return t||n[0]}},{key:"findPointPane",value:function(e){for(var t,n=this.panes,i=0;i<n.length;i++)if(n[i].box.containsPoint(e)){t=n[i];break}return t}},{key:"appendAxis",value:function(e){this.findPane(e.options.pane).appendAxis(e),this.axes.push(e),e.plotArea=this}},{key:"removeAxis",value:function(e){for(var t=[],n=0;n<this.axes.length;n++){var i=this.axes[n];e!==i?t.push(i):i.destroy()}this.axes=t}},{key:"appendChart",value:function(e,t){this.charts.push(e),t?t.appendChart(e):this.append(e)}},{key:"removeChart",value:function(e){for(var t=[],n=0;n<this.charts.length;n++){var i=this.charts[n];i!==e?t.push(i):i.destroy()}this.charts=t}},{key:"addToLegend",value:function(e){for(var t=e.length,n=this.options.legend,i=n.labels||{},r=n.inactiveItems||{},o=r.labels||{},s=[],a=0;a<t;a++){var l=e[a],u=!1!==l.visible;if(!1!==l.visibleInLegend){var c=l.name,h=u?WJ(i):WJ(o)||WJ(i);h&&(c=h({text:T3(c)?c:"",series:l}));var f=l._defaults,d=void 0,p=void 0,v=l.color;EJ(v)&&f&&(v=f.color),u?(d={},p=v):(d={color:o.color,font:o.font},p=r.markers.color),T3(c)&&""!==c&&s.push({text:c,labels:d,markerColor:p,series:l,active:u})}}r0(n.items,s)}},{key:"groupAxes",value:function(e){for(var t=[],n=[],i=0;i<e.length;i++)for(var r=e[i].axes,o=0;o<r.length;o++){var s=r[o];s.options.vertical?n.push(s):t.push(s)}return{x:t,y:n,any:t.concat(n)}}},{key:"groupSeriesByPane",value:function(){for(var e=this.series,t={},n=0;n<e.length;n++){var i=e[n],r=this.seriesPaneName(i);t[r]?t[r].push(i):t[r]=[i]}return t}},{key:"filterVisibleSeries",value:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];!1!==i.visible&&t.push(i)}return t}},{key:"reflow",value:function(e){var t=this.panes,n=LJ(this.options.plotArea.margin);this.box=e.clone().unpad(n),this.reflowPanes(),this.detachLabels(),this.reflowAxes(t),this.reflowCharts(t)}},{key:"redraw",value:function(e){var t=[].concat(e);this.initSeries();var n=this.getRoot();n&&n.cleanGradients();for(var i=0;i<t.length;i++)this.removeCrosshairs(t[i]),t[i].empty();this.render(t),this.detachLabels(),this.reflowAxes(this.panes),this.reflowCharts(t),this.createCrosshairs(t);for(var r=0;r<t.length;r++)t[r].refresh()}},{key:"axisCrossingValues",value:function(e,t){for(var n=e.options,i=[].concat(n.axisCrossingValues||n.axisCrossingValue),r=t.length-i.length,o=i[0]||0,s=0;s<r;s++)i.push(o);return i}},{key:"alignAxisTo",value:function(e,t,n,i){var r=e.getSlot(n,n,!0),o=e.options.reverse?2:1,s=t.getSlot(i,i,!0),a=t.options.reverse?2:1,l=e.box.translate(s[kJ+a]-r[kJ+o],s[bJ+a]-r[bJ+o]);e.pane!==t.pane&&l.translate(0,e.pane.box.y1-t.pane.box.y1),e.reflow(l)}},{key:"alignAxes",value:function(e,t){for(var n=e[0],i=t[0],r=this.axisCrossingValues(n,t),o=this.axisCrossingValues(i,e),s={},a={},l={},u={},c=0;c<t.length;c++){var h=t[c],f=h.pane,d=f.id,p=!1!==h.options.visible,v=h5(e,f)||n,g=r;v!==n&&(g=this.axisCrossingValues(v,t)),this.alignAxisTo(h,v,o[c],g[c]),h.options._overlap||(g0(h.lineBox().x1)===g0(v.lineBox().x1)&&(s[d]&&h.reflow(h.box.alignTo(s[d].box,"left").translate(-h.options.margin,0)),p&&(s[d]=h)),g0(h.lineBox().x2)===g0(v.lineBox().x2)&&(h._mirrored||(h.options.labels.mirror=!h.options.labels.mirror,h._mirrored=!0),this.alignAxisTo(h,v,o[c],g[c]),a[d]&&h.reflow(h.box.alignTo(a[d].box,"right").translate(h.options.margin,0)),p&&(a[d]=h)),0!==c&&i.pane===h.pane&&(h.alignTo(i),h.reflow(h.box)))}for(var m=0;m<e.length;m++){var y=e[m],k=y.pane,b=k.id,_=!1!==y.options.visible,C=h5(t,k)||i,w=o;C!==i&&(w=this.axisCrossingValues(C,e)),this.alignAxisTo(y,C,r[m],w[m]),y.options._overlap||(g0(y.lineBox().y1)===g0(C.lineBox().y1)&&(y._mirrored||(y.options.labels.mirror=!y.options.labels.mirror,y._mirrored=!0),this.alignAxisTo(y,C,r[m],w[m]),l[b]&&y.reflow(y.box.alignTo(l[b].box,gJ).translate(0,-y.options.margin)),_&&(l[b]=y)),g0(y.lineBox().y2,3)===g0(C.lineBox().y2,3)&&(u[b]&&y.reflow(y.box.alignTo(u[b].box,uJ).translate(0,y.options.margin)),_&&(u[b]=y)),0!==m&&(y.alignTo(n),y.reflow(y.box)))}}},{key:"shrinkAxisWidth",value:function(e){for(var t=this.groupAxes(e).any,n=c5(t),i=0,r=0;r<e.length;r++){var o=e[r];o.axes.length>0&&(i=Math.max(i,n.width()-o.contentBox.width()))}if(0!==i)for(var s=0;s<t.length;s++){var a=t[s];a.options.vertical||a.reflow(a.box.shrink(i,0))}}},{key:"shrinkAxisHeight",value:function(e){for(var t,n=0;n<e.length;n++){var i=e[n],r=i.axes,o=Math.max(0,c5(r).height()-i.contentBox.height());if(0!==o){for(var s=0;s<r.length;s++){var a=r[s];a.options.vertical&&a.reflow(a.box.shrink(0,o))}t=!0}}return t}},{key:"fitAxes",value:function(e){for(var t=this.groupAxes(e).any,n=0,i=0;i<e.length;i++){var r=e[i],o=r.axes,s=r.contentBox;if(o.length>0){var a=c5(o),l=Math.max(s.y1-a.y1,s.y2-a.y2);n=Math.max(n,s.x1-a.x1);for(var u=0;u<o.length;u++){var c=o[u];c.reflow(c.box.translate(0,l))}}}for(var h=0;h<t.length;h++){var f=t[h];f.reflow(f.box.translate(n,0))}}},{key:"reflowAxes",value:function(e){for(var t=this.groupAxes(e),n=0;n<e.length;n++)this.reflowPaneAxes(e[n]);t.x.length>0&&t.y.length>0&&(this.alignAxes(t.x,t.y),this.shrinkAxisWidth(e),this.autoRotateAxisLabels(t),this.alignAxes(t.x,t.y),this.shrinkAxisWidth(e)&&this.alignAxes(t.x,t.y),this.shrinkAxisHeight(e),this.alignAxes(t.x,t.y),this.shrinkAxisHeight(e)&&this.alignAxes(t.x,t.y),this.fitAxes(e))}},{key:"autoRotateAxisLabels",value:function(e){for(var t,n=this.panes,i=f5(n),r=0;r<i.length;r++)i[r].autoRotateLabels()&&(t=!0);if(t){for(var o=0;o<n.length;o++)this.reflowPaneAxes(n[o]);e.x.length>0&&e.y.length>0&&(this.alignAxes(e.x,e.y),this.shrinkAxisWidth(n))}}},{key:"reflowPaneAxes",value:function(e){var t=e.axes,n=t.length;if(n>0)for(var i=0;i<n;i++)t[i].reflow(e.contentBox)}},{key:"reflowCharts",value:function(e){for(var t=this.charts,n=t.length,i=this.box,r=0;r<n;r++){var o=t[r].pane;o&&!QJ(o,e)||t[r].reflow(i)}}},{key:"reflowPanes",value:function(){for(var e=this.box,t=this.panes,n=t.length,i=e.height(),r=0,o=e.y1,s=0;s<n;s++){var a=t[s],l=a.options.height;if(a.options.width=e.width(),a.options.height){if(l.indexOf&&l.indexOf("%")){var u=parseInt(l,10)/100;a.options.height=u*e.height()}a.reflow(e.clone()),i-=a.options.height}else r++}for(var c=0;c<n;c++){var h=t[c];h.options.height||(h.options.height=i/r)}for(var f=0;f<n;f++){var d=t[f],p=e.clone().move(e.x1,o);d.reflow(p),o+=d.options.height}}},{key:"backgroundBox",value:function(){for(var e,t=this.axes,n=t.length,i=0;i<n;i++)for(var r=t[i],o=0;o<n;o++){var s=t[o];if(r.options.vertical!==s.options.vertical){var a=r.lineBox().clone().wrap(s.lineBox());e=e?e.wrap(a):a}}return e||this.box}},{key:"chartsBoxes",value:function(){for(var e=this.panes,t=[],n=0;n<e.length;n++)t.push(e[n].chartsBox());return t}},{key:"addBackgroundPaths",value:function(e){for(var t=this.chartsBoxes(),n=0;n<t.length;n++)e.paths.push(m.Path.fromRect(t[n].toRect()))}},{key:"backgroundContainsPoint",value:function(e){for(var t=this.chartsBoxes(),n=0;n<t.length;n++)if(t[n].containsPoint(e))return!0}},{key:"createVisual",value:function(){_get(_getPrototypeOf(t.prototype),"createVisual",this).call(this);var e,n=this.options.plotArea,i=n.opacity,r=n.background,o=n.border,s=void 0===o?{}:o;""!==(e=r)&&null!==e&&"none"!==e&&"transparent"!==e&&s0(e)||(r=yJ,i=0);var a=this._bgVisual=new m.MultiPath({fill:{color:r,opacity:i},stroke:{color:s.width?s.color:"",width:s.width,dashType:s.dashType},zIndex:-1});this.addBackgroundPaths(a),this.appendVisual(a)}},{key:"pointsByCategoryIndex",value:function(e){var t=this.charts,n=[];if(null!==e)for(var i=0;i<t.length;i++)if("_navigator"!==t[i].pane.options.name){var r=t[i].categoryPoints[e];if(r&&r.length)for(var o=0;o<r.length;o++){var s=r[o];s&&s0(s.value)&&null!==s.value&&n.push(s)}}return n}},{key:"pointsBySeriesIndex",value:function(e){return this.filterPoints((function(t){return t.series.index===e}))}},{key:"pointsBySeriesName",value:function(e){return this.filterPoints((function(t){return t.series.name===e}))}},{key:"filterPoints",value:function(e){for(var t=this.charts,n=[],i=0;i<t.length;i++)for(var r=t[i].points,o=0;o<r.length;o++){var s=r[o];s&&!1!==s.visible&&e(s)&&n.push(s)}return n}},{key:"findPoint",value:function(e){for(var t=this.charts,n=0;n<t.length;n++)for(var i=t[n].points,r=0;r<i.length;r++){var o=i[r];if(o&&!1!==o.visible&&e(o))return o}}},{key:"paneByPoint",value:function(e){for(var t=this.panes,n=0;n<t.length;n++){var i=t[n];if(i.box.containsPoint(e))return i}}},{key:"detachLabels",value:function(){var e=this.groupAxes(this.panes),t=e.x,n=e.y;this.detachAxisGroupLabels(n,t),this.detachAxisGroupLabels(t,n)}},{key:"detachAxisGroupLabels",value:function(e,t){for(var n=0,i=0;i<e.length;i++){var r=e[i],o=r.pane,s=h5(t,o)||t[0],a=this.createLabelAxis(r,i+n,s);if(a){n++;var l=o.axes.indexOf(r)+n;o.appendAxisAt(a,l)}}}},{key:"createLabelAxis",value:function(e,t,n){var i=e.options.labels,r=i.position;if("end"!==r&&"start"!==r||!1===i.visible)return null;var o=this.groupAxes(this.panes),s=this.axisCrossingValues(n,n.options.vertical?o.x:o.y),a="end"===r,l=n.range(),u=a?l.max:l.min;if(d0(s[t],l.min,l.max)-u==0)return null;s.splice(t+1,0,u),n.options.axisCrossingValues=s;var c=e.clone();return e.clear(),c.options.name=void 0,c.options.line.visible=!1,c.options.crosshair=void 0,c.options.notes=void 0,c.options.plotBands=void 0,c}}]),t}(R0);function u5(e){return!e.pane.axes.some((function(t){return t.options.vertical===e.options.vertical&&t!==e&&!1!==t.options.visible}))}function c5(e){for(var t,n=e.length,i=0;i<n;i++){var r=e[i],o=!1!==r.options.visible;if(o||u5(r)){var s=o?r.contentBox():r.lineBox();t?t.wrap(s):t=s.clone()}}return t||new S0}function h5(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i&&i.pane===t)return i}}var f5=function(e){return e.reduce((function(e,t){return e.concat(t.axes)}),[])};b0(l5,{series:[],plotArea:{margin:{}},background:"",border:{color:lJ,width:0},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});var d5=l5,p5={hover:function(e,t){this._dispatchEvent(e,t,"plotAreaHover")},click:function(e,t){this._dispatchEvent(e,t,"plotAreaClick")}};function v5(e,t,n){var i=t,r=e;if(e.indexOf(".")>-1){for(var o=e.split(".");o.length>1;)r=o.shift(),s0(i[r])||(i[r]={}),i=i[r];r=o.shift()}i[r]=n}var g5,m5=function(e){function t(e,n,i){var r;_classCallCheck(this,t),r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this));var o=n.canonicalFields(e),s=n.valueFields(e),a=n.sourceFields(e,o),l=r._seriesFields=[],u=i.query(e.type),c=e.aggregate||u;r._series=e,r._binder=n;for(var h=0;h<o.length;h++){var f=o[h],d=void 0;if(PJ(c))d=c[f];else{if(0!==h&&!QJ(f,s))break;d=c}d&&l.push({canonicalName:f,name:a[h],transform:EJ(d)?d:h2[d]})}return r}return _inherits(t,e),_createClass(t,[{key:"aggregatePoints",value:function(e,t){var n=this._series,i=this._seriesFields,r=this._bindPoints(e||[]),o=r.dataItems[0],s={};if(o&&!TJ(o)&&!_J(o)){var a=function(){};a.prototype=o,s=new a}for(var l=0;l<i.length;l++){var u=i[l],c=this._bindField(r.values,u.canonicalName),h=u.transform(c,n,r.dataItems,t);if(!(null===h||!PJ(h)||s0(h.length)||h instanceof Date)){s=h;break}s0(h)&&v5(u.name,s,h)}return s}},{key:"_bindPoints",value:function(e){for(var t=this._binder,n=this._series,i=[],r=[],o=0;o<e.length;o++){var s=e[o];i.push(t.bindPoint(n,s)),r.push(n.data[s])}return{values:i,dataItems:r}}},{key:"_bindField",value:function(e,t){for(var n=[],i=e.length,r=0;r<i;r++){var o,s=e[r],a=s.valueFields;o=s0(a[t])?a[t]:s.fields[t],n.push(o)}return n}}]),t}(Vw),y5=((g5=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._defaults={},e}return _inherits(t,e),_createClass(t,[{key:"register",value:function(e,t){for(var n=0;n<e.length;n++)this._defaults[e[n]]=t}},{key:"query",value:function(e){return this._defaults[e]}}]),t}(Vw)).current=new g5,g5),k5=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"createLabel",value:function(){var e=this.options.labels,t=RJ({},e,e.from),n=RJ({},e,e.to);t.visible&&(this.labelFrom=this._createLabel(t),this.append(this.labelFrom)),n.visible&&(this.labelTo=this._createLabel(n),this.append(this.labelTo))}},{key:"_createLabel",value:function(e){var t,n=WJ(e),i=this.pointData();return t=n?n(i):this.formatValue(e.format),new r3(t,RJ({vertical:this.options.vertical},e),i)}},{key:"reflow",value:function(e){this.render();var t=this.labelFrom,n=this.labelTo,i=this.value;this.box=e,t&&(t.options.aboveAxis=i.from>i.to,t.reflow(e)),n&&(n.options.aboveAxis=i.to>i.from,n.reflow(e)),this.note&&this.note.reflow(e)}}]),t}(a3);k5.prototype.defaults=RJ({},k5.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});var b5=k5,_5=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"pointType",value:function(){return b5}},{key:"pointValue",value:function(e){return e.valueFields}},{key:"formatPointValue",value:function(e,t){return null===e.value.from&&null===e.value.to?"":this.chartService.format.auto(t,e.value.from,e.value.to)}},{key:"plotRange",value:function(e){return e?[e.value.from,e.value.to]:0}},{key:"updateRange",value:function(e,t){var n=t.series.axis,i=e.from,r=e.to,o=this.valueAxisRanges[n];null!==e&&TJ(i)&&TJ(r)&&((o=this.valueAxisRanges[n]=o||{min:pJ,max:vJ}).min=Math.min(o.min,i),o.max=Math.max(o.max,i),o.min=Math.min(o.min,r),o.max=Math.max(o.max,r))}},{key:"aboveAxis",value:function(e){var t=e.value;return t.from<t.to}}]),t}(v3);_5.prototype.plotLimits=P2.prototype.plotLimits;var C5=_5,w5=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"aliasFor",value:function(){return this.parent}}]),t}(z2),x5=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).value=e,i.options=n,i.aboveAxis=y0(i.options.aboveAxis,!0),i.tooltipTracking=!0,i.initLabelsFormat(),i}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){if(!this._rendered){this._rendered=!0;var e=this.options,t=e.markers,n=e.labels,i=this.value,r=this.fromPoint=new w5(i,RJ({},this.options,{labels:n.from,markers:t.from})),o=this.toPoint=new w5(i,RJ({},this.options,{labels:n.to,markers:t.to}));this.copyFields(r),this.copyFields(o),this.append(r),this.append(o)}}},{key:"reflow",value:function(e){this.render();var t=e.from,n=e.to;this.positionLabels(t,n),this.fromPoint.reflow(t),this.toPoint.reflow(n),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())}},{key:"createHighlight",value:function(){var e=new m.Group;return e.append(this.fromPoint.createHighlight()),e.append(this.toPoint.createHighlight()),e}},{key:"highlightVisual",value:function(){return this.visual}},{key:"highlightVisualArgs",value:function(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}}},{key:"tooltipAnchor",value:function(){var e=this.owner.pane.clipBox();if(!e||e.overlaps(this.box)){var t,n,i,r=this.box,o=r.center();return this.options.vertical?(t=o.x,n=r.y1-5,i=uJ):(t=r.x2+5,n=o.y,i=cJ),{point:new w0(t,n),align:{horizontal:"left",vertical:i}}}}},{key:"formatValue",value:function(e){return this.owner.formatPointValue(this,e)}},{key:"overlapsBox",value:function(e){return this.box.overlaps(e)}},{key:"unclipElements",value:function(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()}},{key:"initLabelsFormat",value:function(){var e=this.options.labels;e.format||(e.from&&e.from.format||(e.from=Object.assign({},e.from,{format:"{0}"})),e.to&&e.to.format||(e.to=Object.assign({},e.to,{format:"{1}"})))}},{key:"positionLabels",value:function(e,t){var n,i,r=this.options,o=r.labels,s=r.vertical;"auto"===o.position&&(s?t.y1<=e.y1?(i="above",n="below"):(i="below",n="above"):t.x1<=e.x1?(i="left",n="right"):(i="right",n="left"),o.from&&o.from.position||(this.fromPoint.options.labels.position=n),o.to&&o.to.position||(this.toPoint.options.labels.position=i))}},{key:"copyFields",value:function(e){e.dataItem=this.dataItem,e.category=this.category,e.series=this.series,e.color=this.color,e.owner=this.owner}}]),t}(R0);RJ(x5.prototype,D2),RJ(x5.prototype,F2),x5.prototype.defaults={markers:{visible:!1,background:yJ,size:8,type:hJ,border:{width:2},opacity:1},labels:{visible:!1,margin:LJ(3),padding:LJ(4),animation:{type:"fadeIn",delay:600},position:"auto"},notes:{label:{}},highlight:{markers:{border:{color:yJ,width:2}},zIndex:100},tooltip:{format:"{0} - {1}"}};var S5=x5,T5=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"createStrokeSegments",value:function(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))}},{key:"stackSegments",value:function(){var e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),e}},{key:"createStroke",value:function(e){var t=new m.Path(e),n=new m.Path(e);t.segments.push.apply(t.segments,this.strokeSegments()),n.segments.push.apply(n.segments,this.stackSegments()),this.visual.append(t),this.visual.append(n)}},{key:"hasStackSegment",value:function(){return!0}},{key:"fromPoints",value:function(){return this.linePoints.map((function(e){return e.fromPoint}))}},{key:"toPoints",value:function(){return this.linePoints.map((function(e){return e.toPoint}))}}]),t}(X2),O5=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"createStrokeSegments",value:function(){return this.createCurveSegments(this.toPoints())}},{key:"stackSegments",value:function(){var e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),e}},{key:"createCurveSegments",value:function(e){return(new r2).process(this.toGeometryPoints(e))}}]),t}(T5),I5=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"createStrokeSegments",value:function(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))}},{key:"stackSegments",value:function(){var e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints()))).reverse(),e}}]),t}(T5);RJ(I5.prototype,B2);var E5,A5=I5,R5=(RJ((E5=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){_get(_getPrototypeOf(t.prototype),"render",this).call(this),this.renderSegments()}},{key:"pointType",value:function(){return S5}},{key:"createPoint",value:function(e,t){var n=t.categoryIx,i=t.category,r=t.series,o=t.seriesIx,s=e.valueFields;if(!T3(s.from)&&!T3(s.to)){if("zero"!==this.seriesMissingValues(r))return null;s={from:0,to:0}}var a=this.pointOptions(r,o);a=this.evalPointOptions(a,s,i,n,r,o);var l=e.fields.color||r.color;EJ(r.color)&&(l=a.color);var u=new S5(s,a);return u.color=l,this.append(u),u}},{key:"createSegment",value:function(e,t,n){var i=(t.line||{}).style;return new("smooth"===i?O5:"step"===i?A5:T5)(e,t,n)}},{key:"plotRange",value:function(e,t){return e?[e.value.from,e.value.to]:[t,t]}},{key:"valueSlot",value:function(e,t){var n=e.getSlot(t[0],t[0],!this.options.clip),i=e.getSlot(t[1],t[1],!this.options.clip);if(n&&i)return{from:n,to:i}}},{key:"pointSlot",value:function(e,t){var n,i,r=t.from,o=t.to;return this.options.invertAxes?(n=new S0(r.x1,e.y1,r.x2,e.y2),i=new S0(o.x1,e.y1,o.x2,e.y2)):(n=new S0(e.x1,r.y1,e.x2,r.y2),i=new S0(e.x1,o.y1,e.x2,o.y2)),{from:n,to:i}}},{key:"addValue",value:function(e,n){var i=e.valueFields;TJ(i.from)||(i.from=i.to),TJ(i.to)||(i.to=i.from),_get(_getPrototypeOf(t.prototype),"addValue",this).call(this,e,n)}},{key:"updateRange",value:function(e,t){if(null!==e&&TJ(e.from)&&TJ(e.to)){var n=t.series.axis,i=this.valueAxisRanges[n]=this.valueAxisRanges[n]||{min:pJ,max:vJ},r=e.from,o=e.to;i.min=Math.min(i.min,r,o),i.max=Math.max(i.max,r,o)}}},{key:"formatPointValue",value:function(e,t){var n=e.value;return this.chartService.format.auto(t,n.from,n.to)}},{key:"animationPoints",value:function(){for(var e=this.points,t=[],n=0;n<e.length;n++){var i=e[n];i&&(t.push((i.fromPoint||{}).marker),t.push((i.toPoint||{}).marker))}return t.concat(this._segments)}}]),t}(P2)).prototype,U2,K2),E5),P5=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"reflow",value:function(e){var t=this.options,n=this.value,i=this.owner.seriesValueAxis(t),r=[],o=[],s=[],a=i.getSlot(n.low,n.high),l=i.getSlot(n.open,n.open),u=i.getSlot(n.close,n.close);l.x1=u.x1=a.x1=e.x1,l.x2=u.x2=a.x2=e.x2;var c=a.center().x;r.push([l.x1,l.y1]),r.push([c,l.y1]),o.push([c,u.y1]),o.push([u.x2,u.y1]),s.push([c,a.y1]),s.push([c,a.y2]),this.lines=[r,o,s],this.box=a.clone().wrap(l.clone().wrap(u)),this.reflowNote()}},{key:"createBody",value:function(){}}]),t}(m3),D5=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"pointType",value:function(){return P5}}]),t}(b3),F5=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).from=e,r.to=n,r.series=i,r}return _inherits(t,e),_createClass(t,[{key:"linePoints",value:function(){var e=this.from,t=this.from.box,n=this.to.box,i=[];if(e.isVertical){var r=e.aboveAxis?t.y1:t.y2;i.push([t.x1,r],[n.x2,r])}else{var o=e.aboveAxis?t.x2:t.x1;i.push([o,t.y1],[o,n.y2])}return i}},{key:"createVisual",value:function(){_get(_getPrototypeOf(t.prototype),"createVisual",this).call(this);var e=this.series.line||{},n=m.Path.fromPoints(this.linePoints(),{stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType}});xJ(n),this.visual.append(n)}}]),t}(R0);b0(F5,{animation:{type:"fadeIn",delay:600}});var M5=F5,z5=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){_get(_getPrototypeOf(t.prototype),"render",this).call(this),this.createSegments()}},{key:"traverseDataPoints",value:function(e){for(var t=this.options.series,n=A2(t),i=!this.options.invertAxes,r=0;r<t.length;r++)for(var o=t[r],s=0,a=0,l=0;l<n;l++){var u=p2.current.bindPoint(o,l),c=u.valueFields.value,h=u.fields.summary,f=void 0,d=s;h?"total"===h.toLowerCase()?(u.valueFields.value=s,d=0,f=s):(u.valueFields.value=a,f=d-a,a=0):TJ(c)&&(a+=c,f=s+=c),e(u,{category:this.categoryAxis.categoryAt(l),categoryIx:l,series:o,seriesIx:r,total:s,runningTotal:a,from:d,to:f,isVertical:i})}}},{key:"updateRange",value:function(e,n){_get(_getPrototypeOf(t.prototype),"updateRange",this).call(this,{value:n.to},n)}},{key:"aboveAxis",value:function(e){return e.value>=0}},{key:"plotRange",value:function(e){return[e.from,e.to]}},{key:"createSegments",value:function(){for(var e=this.options.series,t=this.seriesPoints,n=this.segments=[],i=0;i<e.length;i++){var r=e[i],o=t[i];if(o)for(var s=void 0,a=0;a<o.length;a++){var l=o[a];if(l&&s){var u=new M5(s,l,r);n.push(u),this.append(u)}s=l}}}}]),t}(v3),L5=["area","verticalArea","rangeArea","verticalRangeArea"],V5=[_2,w2].concat(L5),N5=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"initFields",value:function(e){if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new n3,e.length>0){this.invertAxes=QJ(e[0].type,[k2,"bullet",w2,"verticalArea","verticalRangeArea","rangeBar","horizontalWaterfall","verticalBoxPlot"]);for(var t=0;t<e.length;t++){var n=e[t].stack;if(n&&"100%"===n.type){this.stack100=!0;break}}}}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.panes;this.createCategoryAxes(e),this.aggregateCategories(e),this.createCategoryAxesLabels(e),this.createCharts(e),this.createValueAxes(e)}},{key:"removeAxis",value:function(e){var n=e.options.name;_get(_getPrototypeOf(t.prototype),"removeAxis",this).call(this,e),e instanceof x1?delete this.namedCategoryAxes[n]:(this.valueAxisRangeTracker.reset(n),delete this.namedValueAxes[n]),e===this.categoryAxis&&delete this.categoryAxis,e===this.valueAxis&&delete this.valueAxis}},{key:"createCharts",value:function(e){for(var t=this.groupSeriesByPane(),n=0;n<e.length;n++){var i=e[n],r=t[i.options.name||"default"]||[];this.addToLegend(r);var o=this.filterVisibleSeries(r);if(o)for(var s=this.groupSeriesByCategoryAxis(o),a=0;a<s.length;a++)this.createChartGroup(s[a],i)}}},{key:"createChartGroup",value:function(e,t){this.createAreaChart(e5(e,["area","verticalArea"]),t),this.createRangeAreaChart(e5(e,["rangeArea","verticalRangeArea"]),t),this.createBarChart(e5(e,[b2,k2]),t),this.createRangeBarChart(e5(e,["rangeColumn","rangeBar"]),t),this.createBulletChart(e5(e,["bullet","verticalBullet"]),t),this.createCandlestickChart(e5(e,"candlestick"),t),this.createBoxPlotChart(e5(e,["boxPlot","verticalBoxPlot"]),t),this.createOHLCChart(e5(e,"ohlc"),t),this.createWaterfallChart(e5(e,["waterfall","horizontalWaterfall"]),t),this.createLineChart(e5(e,[_2,w2]),t)}},{key:"aggregateCategories",value:function(e){var t=this.srcSeries||this.series,n=[];this._currentPointsCache={},this._seriesPointsCache=this._seriesPointsCache||{};for(var i=0;i<t.length;i++){var r=t[i],o=this.seriesCategoryAxis(r),s=this.findPane(o.options.pane);r=(J3(o.options.type,fJ)||r.categoryField)&&QJ(s,e)?this.aggregateSeries(r,o):this.filterSeries(r,o),n.push(r)}this._seriesPointsCache=this._currentPointsCache,this._currentPointsCache=null,this.srcSeries=t,this.series=n}},{key:"filterSeries",value:function(e,t){var n=(e.data||{}).length;if(t._seriesMax=Math.max(t._seriesMax||0,n),!TJ(t.options.min)&&!TJ(t.options.max))return e;var i=t.currentRangeIndices(),r=QJ(e.type,V5),o=RJ({},e);return o.data=(o.data||[]).slice(i.min,i.max+1),r&&a5(o,i,n,(function(n){return{item:e.data[n],category:t.categoryAt(n,!0),categoryIx:n-i.min}}),(function(t){return s0(e.data[t])})),o}},{key:"clearSeriesPointsCache",value:function(){this._seriesPointsCache={}}},{key:"seriesSourcePoints",value:function(e,t){var n="".concat(e.index,";").concat(t.categoriesHash());if(this._seriesPointsCache[n])return this._currentPointsCache[n]=this._seriesPointsCache[n],this._seriesPointsCache[n];var i=t.options,r=i.srcCategories,o=J3(i.type,fJ),s=e.data,a=o?t5:f2,l=[];o||t.mapCategories();for(var u=0;u<s.length;u++){var c;if(c=e.categoryField?a(e.categoryField,s[u],this.chartService.intl):r[u],s0(c)&&null!==c){var h=t.totalIndex(c);l[h]=l[h]||{items:[],category:c},l[h].items.push(u)}}return this._currentPointsCache[n]=l,l}},{key:"aggregateSeries",value:function(e,t){if(!e.data.length)return e;for(var n=this.seriesSourcePoints(e,t),i=RJ({},e),r=new m5(RJ({},e),p2.current,y5.current),o=i.data=[],s=t.options.dataItems||[],a=t.currentRangeIndices(),l=function(e){var i=e-a.min,o=n[e];if(o||(o=n[e]={}),o.categoryIx=i,!o.item){var s=t.categoryAt(e,!0);o.category=s,o.item=r.aggregatePoints(o.items,s)}return o},u=a.min;u<=a.max;u++){var c=l(u);o[c.categoryIx]=c.item,c.items&&c.items.length&&(s[c.categoryIx]=c.item)}return QJ(i.type,V5)&&a5(i,a,t.totalCount(),l,(function(e){return n[e]})),t.options.dataItems=s,i}},{key:"appendChart",value:function(e,n){var i=e.options.series,r=this.seriesCategoryAxis(i[0]),o=r.options.categories,s=Math.max(0,A2(i)-o.length);if(s>0)for(o=r.options.categories=r.options.categories.slice(0);s--;)o.push("");this.valueAxisRangeTracker.update(e.valueAxisRanges),_get(_getPrototypeOf(t.prototype),"appendChart",this).call(this,e,n)}},{key:"seriesPaneName",value:function(e){var t=this.options,n=e.axis;return(KJ([].concat(t.valueAxis),(function(e){return e.name===n}))[0]||{}).pane||((t.panes||[{}])[0]||{}).name||"default"}},{key:"seriesCategoryAxis",value:function(e){var t=e.categoryAxis,n=t?this.namedCategoryAxes[t]:this.categoryAxis;if(!n)throw new Error("Unable to locate category axis with name "+t);return n}},{key:"stackableChartOptions",value:function(e,t){var n=e.stack;return{isStacked:n,isStacked100:n&&"100%"===n.type,clip:t.options.clip}}},{key:"groupSeriesByCategoryAxis",value:function(e){for(var t=[],n={},i=0;i<e.length;i++){var r=e[i].categoryAxis||"$$default$$";n.hasOwnProperty(r)||(n[r]=!0,t.push(r))}for(var o=[],s=0;s<t.length;s++){var a=j5(e,t[s],s);0!==a.length&&o.push(a)}return o}},{key:"createBarChart",value:function(e,t){if(0!==e.length){var n=e[0],i=new v3(this,Object.assign({series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing},this.stackableChartOptions(n,t)));this.appendChart(i,t)}}},{key:"createRangeBarChart",value:function(e,t){if(0!==e.length){var n=e[0],i=new C5(this,{series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(i,t)}}},{key:"createBulletChart",value:function(e,t){if(0!==e.length){var n=e[0],i=new V3(this,{series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing,clip:t.options.clip});this.appendChart(i,t)}}},{key:"createLineChart",value:function(e,t){if(0!==e.length){var n=new Y2(this,Object.assign({invertAxes:this.invertAxes,series:e},this.stackableChartOptions(e[0],t)));this.appendChart(n,t)}}},{key:"createAreaChart",value:function(e,t){if(0!==e.length){var n=new t3(this,Object.assign({invertAxes:this.invertAxes,series:e},this.stackableChartOptions(e[0],t)));this.appendChart(n,t)}}},{key:"createRangeAreaChart",value:function(e,t){if(0!==e.length){var n=new R5(this,{invertAxes:this.invertAxes,series:e,clip:t.options.clip});this.appendChart(n,t)}}},{key:"createOHLCChart",value:function(e,t){if(0!==e.length){var n=e[0],i=new D5(this,{invertAxes:this.invertAxes,gap:n.gap,series:e,spacing:n.spacing,clip:t.options.clip});this.appendChart(i,t)}}},{key:"createCandlestickChart",value:function(e,t){if(0!==e.length){var n=e[0],i=new b3(this,{invertAxes:this.invertAxes,gap:n.gap,series:e,spacing:n.spacing,clip:t.options.clip});this.appendChart(i,t)}}},{key:"createBoxPlotChart",value:function(e,t){if(0!==e.length){var n=e[0],i=new x3(this,{invertAxes:this.invertAxes,gap:n.gap,series:e,spacing:n.spacing,clip:t.options.clip});this.appendChart(i,t)}}},{key:"createWaterfallChart",value:function(e,t){if(0!==e.length){var n=e[0],i=new z5(this,{series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(i,t)}}},{key:"axisRequiresRounding",value:function(e,t){for(var n=e5(this.series,x2),i=0;i<this.series.length;i++){var r=this.series[i];if(QJ(r.type,L5)){var o=r.line;o&&"step"===o.style&&n.push(r)}}for(var s=0;s<n.length;s++){var a=n[s].categoryAxis||"";if(a===e||!a&&0===t)return!0}}},{key:"aggregatedAxis",value:function(e,t){for(var n=this.series,i=0;i<n.length;i++){var r=n[i].categoryAxis||"";if((r===e||!r&&0===t)&&n[i].categoryField)return!0}}},{key:"createCategoryAxesLabels",value:function(){for(var e=this.axes,t=0;t<e.length;t++)e[t]instanceof x1&&e[t].createLabels()}},{key:"createCategoryAxes",value:function(e){for(var t=this.invertAxes,n=[].concat(this.options.categoryAxis),i=[],r=0;r<n.length;r++){var o=n[r];if(QJ(this.findPane(o.pane),e)){var s=o,a=s.name,l=s.categories,u=void 0===l?[]:l,c=void 0;if(o=RJ({vertical:t,reverse:!t&&this.chartService.rtl,axisCrossingValue:t?pJ:0},o),s0(o.justified)||(o.justified=this.isJustified()),this.axisRequiresRounding(a,r)&&(o.justified=!1),c=n5(o,u[0])?new P1(o,this.chartService):new x1(o,this.chartService),n[r].categories=c.options.srcCategories,a){if(this.namedCategoryAxes[a])throw new Error("Category axis with name ".concat(a," is already defined"));this.namedCategoryAxes[a]=c}c.axisIndex=r,i.push(c),this.appendAxis(c)}}var h=this.categoryAxis||i[0];this.categoryAxis=h,t?this.axisY=h:this.axisX=h}},{key:"isJustified",value:function(){for(var e=this.series,t=0;t<e.length;t++)if(!QJ(e[t].type,L5))return!1;return!0}},{key:"createValueAxes",value:function(e){var t=this.valueAxisRangeTracker,n=t.query(),i=[].concat(this.options.valueAxis),r=this.invertAxes,o={vertical:!r,reverse:r&&this.chartService.rtl},s=[];this.stack100&&(o.roundToMajorUnit=!1,o.labels={format:"P0"});for(var a=0;a<i.length;a++){var l=i[a];if(QJ(this.findPane(l.pane),e)){var u=l.name,c=J3(l.type,"log")?{min:.1,max:1}:{min:0,max:1},h=t.query(u)||n||c;0===a&&h&&n&&(h.min=Math.min(h.min,n.min),h.max=Math.max(h.max,n.max));var f=new(J3(l.type,"log")?W1:N1)(h.min,h.max,RJ({},o,l),this.chartService);if(u){if(this.namedValueAxes[u])throw new Error("Value axis with name ".concat(u," is already defined"));this.namedValueAxes[u]=f}f.axisIndex=a,s.push(f),this.appendAxis(f)}}var d=this.valueAxis||s[0];this.valueAxis=d,r?this.axisX=d:this.axisY=d}},{key:"_dispatchEvent",value:function(e,t,n){var i=e._eventCoordinates(t),r=new w0(i.x,i.y),o=this.pointPane(r),s=[],a=[];if(o){for(var l=o.axes,u=0;u<l.length;u++){var c=l[u];c.getValue?Y3(a,c.getValue(r)):Y3(s,c.getCategory(r))}0===s.length&&Y3(s,this.categoryAxis.getCategory(r)),s.length>0&&a.length>0&&e.trigger(n,{element:c0(t),originalEvent:t,category:i5(s),value:i5(a)})}}},{key:"pointPane",value:function(e){for(var t=this.panes,n=0;n<t.length;n++){var i=t[n];if(i.contentBox.containsPoint(e))return i}}},{key:"updateAxisOptions",value:function(e,t){B5(this.options,e,t),B5(this.originalOptions,e,t)}}]),t}(d5);function B5(e,t,n){RJ([].concat(t instanceof x1?e.categoryAxis:e.valueAxis)[t.axisIndex],n)}function j5(e,t,n){return KJ(e,(function(e){return 0===n&&!e.categoryAxis||e.categoryAxis===t}))}b0(N5,{categoryAxis:{},valueAxis:{}}),RJ(N5.prototype,p5);var H5=N5;function G5(){this._defaultPrevented=!0}var U5=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._points=[],e}return _inherits(t,e),_createClass(t,[{key:"destroy",value:function(){this._points=[]}},{key:"show",value:function(e){var t=[].concat(e);this.hide();for(var n=0;n<t.length;n++){var i=t[n];i&&i.toggleHighlight&&i.hasHighlight()&&(this.togglePointHighlight(i,!0),this._points.push(i))}}},{key:"togglePointHighlight",value:function(e,t){var n=(e.options.highlight||{}).toggle;if(n){var i={category:e.category,series:e.series,dataItem:e.dataItem,value:e.value,stackValue:e.stackValue,preventDefault:G5,visual:e.highlightVisual(),show:t};n(i),i._defaultPrevented||e.toggleHighlight(t)}else e.toggleHighlight(t)}},{key:"hide",value:function(){for(var e=this._points;e.length;)this.togglePointHighlight(e.pop(),!1)}},{key:"isHighlighted",value:function(e){for(var t=this._points,n=0;n<t.length;n++)if(e===t[n])return!0;return!1}}]),t}(Vw);function W5(e,t){var n=(t||"").toLowerCase(),i=e.event;return"none"===n&&!(i.ctrlKey||i.shiftKey||i.altKey)||i[n+"Key"]}function q5(e){for(var t={},n=0;n<e.length;n++){var i=e[n];i.axis.options.name&&(t[i.axis.options.name]={min:i.range.min,max:i.range.max})}return t}var Z5=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).plotArea=e,i.options=RJ({},i.options,n),i}return _inherits(t,e),_createClass(t,[{key:"start",value:function(e){return this._active=W5(e,this.options.key),this._active}},{key:"move",value:function(e){if(this._active){var t=this.axisRanges=this._panAxes(e,kJ).concat(this._panAxes(e,bJ));if(t.length)return this.axisRanges=t,q5(t)}}},{key:"end",value:function(){var e=this._active;return this._active=!1,e}},{key:"pan",value:function(){var e=this.plotArea,t=this.axisRanges;if(t.length){for(var n=0;n<t.length;n++){var i=t[n];e.updateAxisOptions(i.axis,i.range)}e.redraw(e.panes)}}},{key:"destroy",value:function(){delete this.plotArea}},{key:"_panAxes",value:function(e,t){var n=this.plotArea,i=-e[t].delta,r=(this.options.lock||"").toLowerCase(),o=[];if(0!==i&&(r||"").toLowerCase()!==t)for(var s=n.axes,a=0;a<s.length;a++){var l=s[a];if(t===kJ&&!l.options.vertical||t===bJ&&l.options.vertical){var u=l.pan(i);u&&(u.limitRange=!0,o.push({axis:l,range:u}))}}return o}}]),t}(Vw);Z5.prototype.options={key:"none",lock:"none"};var $5=Z5,K5=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).chart=e,i.options=RJ({},i.options,n),i.createElement(),i}return _inherits(t,e),_createClass(t,[{key:"createElement",value:function(){var e=this._marquee=document.createElement("div");e.className="k-marquee";var t=document.createElement("div");t.className="k-marquee-color",e.appendChild(t)}},{key:"removeElement",value:function(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)}},{key:"setStyles",value:function(e){zJ(this._marquee,e)}},{key:"start",value:function(e){if(W5(e,this.options.key)){var t=this.chart,n=t._eventCoordinates(e),i=this._zoomPane=t._plotArea.paneByPoint(n),r=i?i.chartsBox().clone():null;if(i&&r){var o=this._elementOffset();return r.translate(o.left,o.top),this._zoomPaneClipBox=r,document.body.appendChild(this._marquee),this.setStyles({left:e.pageX+1,top:e.pageY+1,width:0,height:0}),!0}}return!1}},{key:"_elementOffset",value:function(){var e=this.chart.element,t=zJ(e,["paddingLeft","paddingTop"]),n=t.paddingLeft,i=t.paddingTop,r=l0(e);return{left:n+r.left,top:i+r.top}}},{key:"move",value:function(e){this._zoomPane&&this.setStyles(this._selectionPosition(e))}},{key:"end",value:function(e){if(this._zoomPane){var t=this._elementOffset(),n=this._selectionPosition(e);return n.left-=t.left,n.top-=t.top,this._updateAxisRanges({x:n.left,y:n.top},{x:n.left+n.width,y:n.top+n.height}),this.removeElement(),delete this._zoomPane,q5(this.axisRanges)}}},{key:"zoom",value:function(){var e=this.axisRanges;if(e&&e.length){for(var t=this.chart._plotArea,n=0;n<e.length;n++){var i=e[n];t.updateAxisOptions(i.axis,i.range)}t.redraw(t.panes)}}},{key:"destroy",value:function(){this.removeElement(),delete this._marquee,delete this.chart}},{key:"_updateAxisRanges",value:function(e,t){for(var n=(this.options.lock||"").toLowerCase(),i=[],r=this._zoomPane.axes,o=0;o<r.length;o++){var s=r[o],a=s.options.vertical;if((n!==kJ||a)&&(n!==bJ||!a)&&s0(s.axisIndex)){var l=s.pointsRange(e,t);l&&i.push({axis:s,range:l})}}this.axisRanges=i}},{key:"_selectionPosition",value:function(e){var t=this._zoomPaneClipBox,n={x:e.x.startLocation,y:e.y.startLocation},i=e.x.location,r=e.y.location,o=(this.options.lock||"").toLowerCase(),s=Math.min(n.x,i),a=Math.min(n.y,r),l=Math.abs(n.x-i),u=Math.abs(n.y-r);return o===kJ&&(s=t.x1,l=t.width()),o===bJ&&(a=t.y1,u=t.height()),i>t.x2&&(l=t.x2-n.x),i<t.x1&&(l=n.x-t.x1),r>t.y2&&(u=t.y2-n.y),r<t.y1&&(u=n.y-t.y1),{left:Math.max(s,t.x1),top:Math.max(a,t.y1),width:l,height:u}}}]),t}(Vw);K5.prototype.options={key:"shift",lock:"none"};var Y5=K5,X5=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).chart=e,i.options=RJ({},i.options,n),i}return _inherits(t,e),_createClass(t,[{key:"updateRanges",value:function(e){for(var t=(this.options.lock||"").toLowerCase(),n=[],i=this.chart._plotArea.axes,r=0;r<i.length;r++){var o=i[r],s=o.options.vertical;if((t!==kJ||s)&&(t!==bJ||!s)&&o.zoomRange){var a=o.zoomRange(-e);a&&n.push({axis:o,range:a})}}return this.axisRanges=n,q5(n)}},{key:"zoom",value:function(){var e=this.axisRanges,t=this.chart._plotArea;if(e&&e.length&&t.updateAxisOptions){for(var n=0;n<e.length;n++){var i=e[n];t.updateAxisOptions(i.axis,i.range)}t.redraw(t.panes)}}},{key:"destroy",value:function(){delete this.chart}}]),t}(Vw),Q5=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).chartService=n,i}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=this.children,t=this.options,n=t.vertical;this.visual=new m.Layout(null,{spacing:n?0:t.spacing,lineSpacing:n?t.spacing:0,orientation:n?"vertical":"horizontal",reverse:t.rtl,alignItems:n?"start":"center"});for(var i=0;i<e.length;i++){var r=e[i];r.reflow(new S0),r.renderVisual()}}},{key:"reflow",value:function(e){this.visual.rect(e.toRect()),this.visual.reflow();var t=this.visual.clippedBBox();this.box=t?W0(t):new S0}},{key:"renderVisual",value:function(){this.addVisual()}},{key:"createVisual",value:function(){}}]),t}(R0),J5=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).createContainer(),e.rtl?(n.createLabel(),n.createMarker()):(n.createMarker(),n.createLabel()),n}return _inherits(t,e),_createClass(t,[{key:"createContainer",value:function(){this.container=new j0({vertical:!1,wrap:!1,align:cJ,spacing:this.options.spacing}),this.append(this.container)}},{key:"createMarker",value:function(){this.container.append(new M0(this.markerOptions()))}},{key:"markerOptions",value:function(){var e=this.options,t=e.markerColor;return RJ({},e.markers,{background:t,border:{color:t}})}},{key:"createLabel",value:function(){var e=this.options,t=RJ({},e.labels);this.container.append(new Z0(e.text,t))}},{key:"renderComplete",value:function(){_get(_getPrototypeOf(t.prototype),"renderComplete",this).call(this);var e=this.options.cursor||{},n=this._itemOverlay=m.Path.fromRect(this.container.box.toRect(),{fill:{color:yJ,opacity:0},stroke:null,cursor:e.style||e});this.appendVisual(n)}},{key:"click",value:function(e,t){var n=this.eventArgs(t);!e.trigger("legendItemClick",n)&&t&&"contextmenu"===t.type&&t.preventDefault()}},{key:"over",value:function(e,t){var n=this.eventArgs(t);return e.trigger("legendItemHover",n)||e._legendItemHover(n.seriesIndex,n.pointIndex),!0}},{key:"out",value:function(e,t){e._unsetActivePoint(),e.trigger("legendItemLeave",this.eventArgs(t))}},{key:"eventArgs",value:function(e){var t=this.options;return{element:c0(e),text:t.text,series:t.series,seriesIndex:t.series.index,pointIndex:t.pointIndex}}},{key:"renderVisual",value:function(){var e=this,n=this.options,i=n.visual;i?(this.visual=i({active:n.active,series:n.series,sender:this.getSender(),pointIndex:n.pointIndex,options:{markers:this.markerOptions(),labels:n.labels},createVisual:function(){e.createVisual(),e.renderChildren(),e.renderComplete();var t=e.visual;return delete e.visual,t}}),this.addVisual()):_get(_getPrototypeOf(t.prototype),"renderVisual",this).call(this)}}]),t}(D0),e4=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).chartService=i,QJ(n.options.position,[gJ,"right",uJ,"left","custom"])||(n.options.position="right"),n.createContainer(),n.createItems(),n}return _inherits(t,e),_createClass(t,[{key:"createContainer",value:function(){var e=this.options,t=e.position,n=e.align,i=t,r=cJ;"custom"===t?i="left":QJ(t,[gJ,uJ])?(i="start"===n?"left":"end"===n?"right":cJ,r=t):n&&("start"===n?r=gJ:"end"===n&&(r=uJ)),this.container=new D0({margin:e.margin,padding:e.padding,background:e.background,border:e.border,vAlign:r,align:i,zIndex:e.zIndex,shrinkToFit:!0}),this.append(this.container)}},{key:"createItems",value:function(){var e=this.getService(),t=this.options,n=this.isVertical(),i=new Q5({vertical:n,spacing:t.spacing,rtl:e.rtl},e),r=t.items;t.reverse&&(r=r.slice(0).reverse());for(var o=r.length,s=0;s<o;s++)i.append(new J5(RJ({},{markers:t.markers,labels:t.labels,rtl:e.rtl},t.item,r[s])));i.render(),this.container.append(i)}},{key:"isVertical",value:function(){var e=this.options,t=e.orientation,n=e.position;return"custom"===n&&"horizontal"!==t||(s0(t)?"horizontal"!==t:QJ(n,["left","right"]))}},{key:"hasItems",value:function(){return this.container.children[0].children.length>0}},{key:"reflow",value:function(e){var t=this.options,n=e.clone();this.hasItems()?"custom"===t.position?(this.containerCustomReflow(n),this.box=n):this.containerReflow(n):this.box=n}},{key:"containerReflow",value:function(e){var t=this.options,n=this.container,i=t.position,r=t.width,o=t.height,s=i===gJ||i===uJ?kJ:bJ,a=this.isVertical(),l=e.clone(),u=e.clone();"left"!==i&&"right"!==i||(u.y1=l.y1=0),a&&o?(u.y2=u.y1+o,u.align(l,bJ,n.options.vAlign)):!a&&r&&(u.x2=u.x1+r,u.align(l,kJ,n.options.align)),n.reflow(u);var c=(u=n.box).clone();(t.offsetX||t.offsetY)&&(u.translate(t.offsetX,t.offsetY),this.container.reflow(u)),c[s+1]=e[s+1],c[s+2]=e[s+2],this.box=c}},{key:"containerCustomReflow",value:function(e){var t=this.options,n=this.container,i=t.offsetX,r=t.offsetY,o=t.width,s=t.height,a=this.isVertical(),l=e.clone();a&&s?l.y2=l.y1+s:!a&&o&&(l.x2=l.x1+o),n.reflow(l),l=n.box,n.reflow(new S0(i,r,i+l.width(),r+l.height()))}},{key:"renderVisual",value:function(){this.hasItems()&&_get(_getPrototypeOf(t.prototype),"renderVisual",this).call(this)}}]),t}(R0);b0(e4,{position:"right",items:[],offsetX:0,offsetY:0,margin:LJ(5),padding:LJ(5),border:{color:lJ,width:0},item:{cursor:"pointer",spacing:6},spacing:6,background:"",zIndex:1,markers:{border:{width:0},width:15,height:3,type:"rect",align:"left",vAlign:cJ}});var t4,n4=e4,i4=((t4=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._registry=[],e}return _inherits(t,e),_createClass(t,[{key:"register",value:function(e,t){this._registry.push({type:e,seriesTypes:t})}},{key:"create",value:function(e,t,n){for(var i,r=this._registry,o=r[0],s=0;s<r.length;s++){var a=r[s];if((i=e5(e,a.seriesTypes)).length>0){o=a;break}}return new o.type(i,t,n)}}]),t}(Vw)).current=new t4,t4);function r4(e){var t=document.createElement("div");return e&&(t.className=e),t}function o4(e){for(var t=e;t&&!YJ(t,"k-handle");)t=t.parentNode;return t}var s4=function(e){function t(e,n,i,r){var o;_classCallCheck(this,t),o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this));var s=e.element;return o.options=RJ({},o.options,i),o.chart=e,o.observer=r,o.chartElement=s,o.categoryAxis=n,o._dateAxis=o.categoryAxis instanceof P1,o.initOptions(),o.visible=o.options.visible&&s.offsetHeight,o.visible&&(o.createElements(),o.set(o._index(o.options.from),o._index(o.options.to)),o.bindEvents()),o}return _inherits(t,e),_createClass(t,[{key:"onPane",value:function(e){return this.categoryAxis.pane===e}},{key:"createElements",value:function(){var e=this.options,t=this.wrapper=r4("k-selector");zJ(t,{top:e.offset.top,left:e.offset.left,width:e.width,height:e.height,direction:"ltr"});var n=this.selection=r4("k-selection");this.leftMask=r4("k-mask"),this.rightMask=r4("k-mask"),t.appendChild(this.leftMask),t.appendChild(this.rightMask),t.appendChild(n),n.appendChild(r4("k-selection-bg"));var i=this.leftHandle=r4("k-handle k-left-handle"),r=this.rightHandle=r4("k-handle k-right-handle");i.appendChild(r4()),r.appendChild(r4()),n.appendChild(i),n.appendChild(r),this.chartElement.appendChild(t);var o=zJ(n,["borderLeftWidth","borderRightWidth","height"]),s=zJ(i,"height").height,a=zJ(r,"height").height;e.selection={border:{left:o.borderLeftWidth,right:o.borderRightWidth}},zJ(i,{top:(o.height-s)/2}),zJ(r,{top:(o.height-a)/2}),t.style.cssText=t.style.cssText}},{key:"bindEvents",value:function(){!1!==this.options.mousewheel&&(this._mousewheelHandler=this._mousewheel.bind(this),o0(this.wrapper,_defineProperty({},S2,this._mousewheelHandler))),this._domEvents=GJ.create(this.wrapper,{stopPropagation:!0,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})}},{key:"initOptions",value:function(){var e=this.options,t=this.categoryAxis.pane.chartsBox(),n=this.chart.chartService.intl;this._dateAxis&&RJ(e,{min:_1(n,e.min),max:_1(n,e.max),from:_1(n,e.from),to:_1(n,e.to)});var i=zJ(this.chartElement,["paddingLeft","paddingTop"]),r=i.paddingLeft,o=i.paddingTop;this.options=RJ({},{width:t.width(),height:t.height()+.1,padding:{left:r,top:o},offset:{left:t.x1+r,top:t.y1+o},from:e.min,to:e.max},e)}},{key:"destroy",value:function(){this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper&&(this._mousewheelHandler&&(m0(this.wrapper,_defineProperty({},S2,this._mousewheelHandler)),this._mousewheelHandler=null),this.chartElement.removeChild(this.wrapper),this.wrapper=null)}},{key:"_rangeEventArgs",value:function(e){return{axis:this.categoryAxis.options,from:this._value(e.from),to:this._value(e.to)}}},{key:"_start",value:function(e){var t=this.options,n=c0(e);if(!this._state&&n){this.chart._unsetActivePoint(),this._state={moveTarget:o4(n)||n,startLocation:e.x?e.x.location:0,range:{from:this._index(t.from),to:this._index(t.to)}};var i=this._rangeEventArgs({from:this._index(t.from),to:this._index(t.to)});this.trigger("selectStart",i)&&(this._state=null)}}},{key:"_press",value:function(e){var t;(t=this._state?this._state.moveTarget:o4(c0(e)))&&CJ(t,"k-handle-active")}},{key:"_move",value:function(e){if(this._state){var t=this._state,n=this.options,i=this.categoryAxis,r=t.range,o=t.moveTarget,s=i.options.reverse,a=this._index(n.from),l=this._index(n.to),u=this._index(n.min),c=this._index(n.max),h=t.startLocation-e.x.location,f=r.from,d=r.to,p=r.to-r.from,v=zJ(this.wrapper,"width").width/(i.categoriesCount()-1),g=Math.round(h/v)*(s?-1:1);if(o){var m=YJ(o,"k-left-handle"),y=YJ(o,"k-right-handle");YJ(o,"k-selection k-selection-bg")?(r.from=Math.min(Math.max(u,a-g),c-p),r.to=Math.min(r.from+p,c)):m&&!s||y&&s?(r.from=Math.min(Math.max(u,a-g),c-1),r.to=Math.max(r.from+1,r.to)):(m&&s||y&&!s)&&(r.to=Math.min(Math.max(u+1,l-g),c),r.from=Math.min(r.to-1,r.from)),r.from===f&&r.to===d||(this.move(r.from,r.to),this.trigger("select",this._rangeEventArgs(r)))}}}},{key:"_end",value:function(){if(this._state){var e=this._state.moveTarget;e&&(n=e)&&n.className&&(n.className=n.className.replace("k-handle-active","").replace(wJ," "));var t=this._state.range;this.set(t.from,t.to),this.trigger("selectEnd",this._rangeEventArgs(t)),delete this._state}var n}},{key:"_tap",value:function(e){var t=this.options,n=this.categoryAxis,i=this.chart._eventCoordinates(e),r=n.pointCategoryIndex(new w0(i.x,n.box.y1)),o=this._index(t.from),s=this._index(t.to),a=this._index(t.min),l=this._index(t.max),u=s-o,c={},h=3===e.event.which,f=Math.round(o+u/2-r);this._state||h||(this.chart._unsetActivePoint(),n.options.justified||f--,c.from=Math.min(Math.max(a,o-f),l-u),c.to=Math.min(c.from+u,l),this._start(e),this._state&&(this._state.range=c,this.trigger("select",this._rangeEventArgs(c)),this._end()))}},{key:"_mousewheel",value:function(e){var t=this,n=n0(e);if(this._start({target:this.selection}),this._state){var i=this._state.range;e.preventDefault(),e.stopPropagation(),Math.abs(n)>1&&(n*=3),this.options.mousewheel.reverse&&(n*=-1),this.expand(n)&&this.trigger("select",{axis:this.categoryAxis.options,delta:n,originalEvent:e,from:this._value(i.from),to:this._value(i.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout((function(){t._end()}),150)}}},{key:"_gesturestart",value:function(e){var t=this.options;this._state={range:{from:this._index(t.from),to:this._index(t.to)}};var n=this._rangeEventArgs(this._state.range);this.trigger("selectStart",n)?this._state=null:e.preventDefault()}},{key:"_gestureend",value:function(){this._state&&(this.trigger("selectEnd",this._rangeEventArgs(this._state.range)),delete this._state)}},{key:"_gesturechange",value:function(e){var t=this.chart,n=this._state,i=this.options,r=this.categoryAxis,o=n.range,s=t._toModelCoordinates(e.touches[0].x.location).x,a=t._toModelCoordinates(e.touches[1].x.location).x,l=Math.min(s,a),u=Math.max(s,a);e.preventDefault(),o.from=r.pointCategoryIndex(new w0(l))||i.min,o.to=r.pointCategoryIndex(new w0(u))||i.max,this.move(o.from,o.to),this.trigger("select",this._rangeEventArgs(o))}},{key:"_index",value:function(e){var t=e;return e instanceof Date&&(t=this.categoryAxis.categoryIndex(e)),t}},{key:"_value",value:function(e){var t=e;return this._dateAxis&&((t=this.categoryAxis.categoryAt(e))>this.options.max&&(t=this.options.max)),t}},{key:"_slot",value:function(e){var t=this.categoryAxis,n=this._index(e);return t.getSlot(n,n,!0)}},{key:"move",value:function(e,t){var n=this.options,i=this.categoryAxis.options.reverse,r=n.offset,o=n.padding,s=n.selection.border,a=i?e:t,l="x"+(i?2:1),u=this._slot(i?t:e),c=g0(u[l]-r.left+o.left);zJ(this.leftMask,{width:c}),zJ(this.selection,{left:c}),u=this._slot(a);var h=g0(n.width-(u[l]-r.left+o.left));zJ(this.rightMask,{width:h});var f=n.width-h;f!==n.width&&(f+=s.right),zJ(this.rightMask,{left:f}),zJ(this.selection,{width:Math.max(n.width-(c+h)-s.right,0)})}},{key:"set",value:function(e,t){var n=this.options,i=this._index(n.min),r=this._index(n.max),o=d0(this._index(e),i,r),s=d0(this._index(t),o+1,r);n.visible&&this.move(o,s),n.from=this._value(o),n.to=this._value(s)}},{key:"expand",value:function(e){var t=this.options,n=this._index(t.min),i=this._index(t.max),r=t.mousewheel.zoom,o=this._index(t.from),s=this._index(t.to),a={from:o,to:s},l=RJ({},a);if(this._state&&(a=this._state.range),"right"!==r&&(a.from=d0(d0(o-e,0,s-1),n,i)),"left"!==r&&(a.to=d0(d0(s+e,a.from+1,i),n,i)),a.from!==l.from||a.to!==l.to)return this.set(a.from,a.to),!0}},{key:"trigger",value:function(e,t){return(this.observer||this.chart).trigger(e,t)}}]),t}(Vw);b0(s4,{visible:!0,mousewheel:{zoom:"both"},min:vJ,max:pJ});var a4=s4,l4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"show",value:function(e){if(e&&e.tooltipAnchor&&(!this._current||this._current!==e)){var n=RJ({},this.options,e.options.tooltip),i=e.tooltipAnchor();i?(this._current=e,_get(_getPrototypeOf(t.prototype),"show",this).call(this,{point:e,anchor:i},n,e)):this.hide()}}},{key:"hide",value:function(){delete this._current,_get(_getPrototypeOf(t.prototype),"hide",this).call(this)}}]),t}(B3),u4=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e.chartService,n))).plotArea=e,i.formatService=e.chartService.format,i}return _inherits(t,e),_createClass(t,[{key:"showAt",value:function(e,t){var n=KJ(e,(function(e){var t=e.series.tooltip;return!(t&&!1===t.visible)}));if(n.length>0){var i=n[0],r=this.plotArea.categoryAxis.getSlot(i.categoryIx),o=t?this._slotAnchor(t,r):this._defaultAnchor(i,r);this.show({anchor:o,shared:!0,points:e,category:i.category,categoryText:this.formatService.auto(this.options.categoryFormat,i.category),series:this.plotArea.series},this.options)}}},{key:"_slotAnchor",value:function(e,t){return this.plotArea.categoryAxis.options.vertical||(e.x=t.center().x),{point:e,align:{horizontal:"left",vertical:"center"}}}},{key:"_defaultAnchor",value:function(e,t){var n=e.owner.pane.chartsBox(),i=this.plotArea.categoryAxis.options.vertical,r=n.center(),o=t.center();return{point:i?new w0(r.x,o.y):new w0(o.x,r.y),align:{horizontal:"center",vertical:"center"}}}}]),t}(B3);b0(u4,{categoryFormat:"{0:d}"});var c4=u4,h4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"setup",value:function(){var e=this.element,t=this.options;if(e.bbox()){this.origin=t.origin;var n=t.vertical?bJ:kJ,i=this.fromScale=new p.Point(1,1);i[n]=y2,e.transform(p.transform().scale(i.x,i.y))}else this.abort()}},{key:"step",value:function(e){var t=JJ(this.fromScale.x,1,e),n=JJ(this.fromScale.y,1,e);this.element.transform(p.transform().scale(t,n,this.origin))}},{key:"abort",value:function(){_get(_getPrototypeOf(t.prototype),"abort",this).call(this),this.element.transform(null)}}]),t}(m.Animation);b0(h4,{duration:600}),m.AnimationFactory.current.register(k2,h4);var f4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"setup",value:function(){var e=this.center=this.element.bbox().center();this.element.transform(p.transform().scale(y2,y2,e))}},{key:"step",value:function(e){this.element.transform(p.transform().scale(e,e,this.center))}}]),t}(m.Animation);b0(f4,{easing:"easeOutElastic"}),m.AnimationFactory.current.register("bubble",f4);var d4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"setup",value:function(){this.fadeTo=this.element.opacity(),this.element.opacity(0)}},{key:"step",value:function(e){this.element.opacity(e*this.fadeTo)}}]),t}(m.Animation);b0(d4,{duration:200,easing:"linear"}),m.AnimationFactory.current.register("fadeIn",d4);var p4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"setup",value:function(){this.element.transform(p.transform().scale(y2,y2,this.options.center))}},{key:"step",value:function(e){this.element.transform(p.transform().scale(e,e,this.options.center))}}]),t}(m.Animation);b0(p4,{easing:"easeOutElastic",duration:600}),m.AnimationFactory.current.register(C2,p4);var v4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){_get(_getPrototypeOf(t.prototype),"render",this).call(this),this.renderSegments()}},{key:"createSegment",value:function(e,t,n){return new("smooth"===t.style?G2:V2)(e,t,n)}},{key:"animationPoints",value:function(){return _get(_getPrototypeOf(t.prototype),"animationPoints",this).call(this).concat(this._segments)}},{key:"createMissingValue",value:function(e,t){if("zero"===t){var n={x:e.x,y:e.y};return T3(n.x)||(n.x=0),T3(n.y)||(n.y=0),n}}}]),t}(I3);RJ(v4.prototype,U2);var g4=v4,m4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"initFields",value:function(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new n3,this.yAxisRangeTracker=new n3}},{key:"render",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.panes,t=this.groupSeriesByPane(),n=0;n<e.length;n++){var i=e[n],r=t[i.options.name||"default"]||[];this.addToLegend(r);var o=this.filterVisibleSeries(r);o&&(this.createScatterChart(e5(o,"scatter"),i),this.createScatterLineChart(e5(o,"scatterLine"),i),this.createBubbleChart(e5(o,"bubble"),i))}this.createAxes(e)}},{key:"appendChart",value:function(e,n){this.xAxisRangeTracker.update(e.xAxisRanges),this.yAxisRangeTracker.update(e.yAxisRanges),_get(_getPrototypeOf(t.prototype),"appendChart",this).call(this,e,n)}},{key:"removeAxis",value:function(e){var n=e.options.name;_get(_getPrototypeOf(t.prototype),"removeAxis",this).call(this,e),e.options.vertical?(this.yAxisRangeTracker.reset(n),delete this.namedYAxes[n]):(this.xAxisRangeTracker.reset(n),delete this.namedXAxes[n]),e===this.axisX&&delete this.axisX,e===this.axisY&&delete this.axisY}},{key:"seriesPaneName",value:function(e){var t=this.options,n=e.xAxis,i=KJ([].concat(t.xAxis),(function(e){return e.name===n}))[0],r=e.yAxis,o=KJ([].concat(t.yAxis),(function(e){return e.name===r}))[0];return(i||{}).pane||(o||{}).pane||(t.panes||[{}])[0].name||"default"}},{key:"createScatterChart",value:function(e,t){e.length>0&&this.appendChart(new I3(this,{series:e,clip:t.options.clip}),t)}},{key:"createScatterLineChart",value:function(e,t){e.length>0&&this.appendChart(new g4(this,{series:e,clip:t.options.clip}),t)}},{key:"createBubbleChart",value:function(e,t){e.length>0&&this.appendChart(new P3(this,{series:e,clip:t.options.clip}),t)}},{key:"createXYAxis",value:function(e,t,n){for(var i,r=e.name,o=t?this.namedYAxes:this.namedXAxes,s=t?this.yAxisRangeTracker:this.xAxisRangeTracker,a=RJ({reverse:!t&&this.chartService.rtl},e,{vertical:t}),l=J3(a.type,"log"),u=s.query(),c=l?{min:.1,max:1}:{min:0,max:1},h=s.query(r)||u||c,f=[a.min,a.max],d=this.series,p=0;p<d.length;p++){var v=d[p],g=v[t?"yAxis":"xAxis"];if(g===a.name||0===n&&!g){var m=p2.current.bindPoint(v,0).valueFields;f.push(m[t?"y":"x"]);break}}0===n&&u&&(h.min=Math.min(h.min,u.min),h.max=Math.max(h.max,u.max));for(var y=0;y<f.length;y++)if(f[y]instanceof Date){i=!0;break}var k=new(J3(a.type,fJ)||!a.type&&i?j1:l?W1:N1)(h.min,h.max,a,this.chartService);if(k.axisIndex=n,r){if(o[r])throw new Error("".concat(t?"Y":"X"," axis with name ").concat(r," is already defined"));o[r]=k}return this.appendAxis(k),k}},{key:"createAxes",value:function(e){for(var t=this.options,n=[].concat(t.xAxis),i=[],r=[].concat(t.yAxis),o=[],s=0;s<n.length;s++)QJ(this.findPane(n[s].pane),e)&&i.push(this.createXYAxis(n[s],!1,s));for(var a=0;a<r.length;a++)QJ(this.findPane(r[a].pane),e)&&o.push(this.createXYAxis(r[a],!0,a));this.axisX=this.axisX||i[0],this.axisY=this.axisY||o[0]}},{key:"_dispatchEvent",value:function(e,t,n){for(var i=e._eventCoordinates(t),r=new w0(i.x,i.y),o=this.axes,s=o.length,a=[],l=[],u=0;u<s;u++){var c=o[u],h=c.options.vertical?l:a,f=c.getValue(r);null!==f&&h.push(f)}a.length>0&&l.length>0&&e.trigger(n,{element:c0(t),originalEvent:t,x:i5(a),y:i5(l)})}},{key:"updateAxisOptions",value:function(e,t){var n=e.options.vertical,i=this.groupAxes(this.panes),r=(n?i.y:i.x).indexOf(e);y4(this.options,r,n,t),y4(this.originalOptions,r,n,t)}}]),t}(d5);function y4(e,t,n,i){RJ([].concat(n?e.yAxis:e.xAxis)[t],i)}b0(m4,{xAxis:{},yAxis:{}}),RJ(m4.prototype,p5);var k4=m4,b4=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,i))).value=e,r.sector=n,r}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=this.options.labels,t=this.owner.chartService,n=this.value;if(!this._rendered&&!1!==this.visible){this._rendered=!0;var i=WJ(e),r=this.pointData();if(i?n=i(r):e.format&&(n=t.format.auto(e.format,n)),e.visible&&(n||0===n)){if(e.position===cJ||"insideEnd"===e.position){if(!e.color){var o=new dx(this.options.color).percBrightness();e.color=o>180?lJ:yJ}e.background||(e.background=this.options.color)}else{var s=t.theme.seriesDefaults.labels;e.color=e.color||s.color,e.background=e.background||s.background}this.label=new Z0(n,RJ({},e,{align:cJ,vAlign:"",animation:{type:"fadeIn",delay:this.animationDelay}}),r),this.append(this.label)}}}},{key:"reflow",value:function(e){this.render(),this.box=e,this.reflowLabel()}},{key:"reflowLabel",value:function(){var e=this.options.labels,t=this.label,n=this.sector.clone(),i=e.distance,r=n.middle();if(t){var o,s=t.box.height(),a=t.box.width();if(e.position===cJ)n.radius=Math.abs((n.radius-s)/2)+s,o=n.point(r),t.reflow(new S0(o.x,o.y-s/2,o.x,o.y));else if("insideEnd"===e.position)n.radius=n.radius-s/2,o=n.point(r),t.reflow(new S0(o.x,o.y-s/2,o.x,o.y));else{var l;(o=n.clone().expand(i).point(r)).x>=n.center.x?(l=o.x+a,t.orientation="right"):(l=o.x-a,t.orientation="left"),t.reflow(new S0(l,o.y-s,o.x,o.y))}}}},{key:"createVisual",value:function(){var e=this,n=this.sector,i=this.options;if(_get(_getPrototypeOf(t.prototype),"createVisual",this).call(this),this.value)if(i.visual){var r=(n.startAngle+180)%360,o=i.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new p.Point(n.center.x,n.center.y),radius:n.radius,innerRadius:n.innerRadius,startAngle:r,endAngle:r+n.angle,options:i,sender:this.getSender(),createVisual:function(){var t=new m.Group;return e.createSegmentVisual(t),t}});o&&this.visual.append(o)}else this.createSegmentVisual(this.visual)}},{key:"createSegmentVisual",value:function(e){var t=this.sector,n=this.options,i=n.border||{},r=n.color,o={color:r,opacity:n.opacity},s=this.createSegment(t,RJ({fill:o,stroke:{opacity:n.opacity},zIndex:n.zIndex},i.width>0?{stroke:{color:i.color,width:i.width,opacity:i.opacity,dashType:i.dashType}}:{}));e.append(s),o3(n)&&e.append(this.createGradientOverlay(s,{baseColor:r,fallbackFill:o},RJ({center:[t.center.x,t.center.y],innerRadius:t.innerRadius,radius:t.radius,userSpace:!0},n.overlay)))}},{key:"createSegment",value:function(e,t){return t.singleSegment?new m.Circle(new p.Circle(new p.Point(e.center.x,e.center.y),e.radius),t):E0.current.createRing(e,t)}},{key:"createAnimation",value:function(){var e=this.options,n=this.sector.center;RJ(e,{animation:{center:[n.x,n.y],delay:this.animationDelay}}),_get(_getPrototypeOf(t.prototype),"createAnimation",this).call(this)}},{key:"createHighlight",value:function(e){var t=this.options.highlight||{},n=t.border||{};return this.createSegment(this.sector,RJ({},e,{fill:{color:t.color,opacity:t.opacity},stroke:{opacity:n.opacity,width:n.width,color:n.color}}))}},{key:"highlightVisual",value:function(){return this.visual.children[0]}},{key:"highlightVisualArgs",value:function(){var e=this.sector;return{options:this.options,radius:e.radius,innerRadius:e.innerRadius,center:new p.Point(e.center.x,e.center.y),startAngle:e.startAngle,endAngle:e.angle+e.startAngle,visual:this.visual}}},{key:"tooltipAnchor",value:function(){var e,t,n,i,r,o,s=this.sector.clone().expand(5),a=s.middle();return{point:s.point(a),align:(e=a+180,t=v0(e),n=g0(Math.sin(t),10),i=g0(Math.cos(t),10),r=Math.abs(n)>C4?cJ:i<0?"right":"left",o=Math.abs(n)<_4?cJ:n<0?uJ:gJ,{horizontal:r,vertical:o})}}},{key:"formatValue",value:function(e){return this.owner.formatPointValue(this,e)}},{key:"pointData",value:function(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}}}]),t}(R0),_4=g0(v0(30),10),C4=g0(v0(60),10);b0(b4,{color:yJ,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:"12px sans-serif",margin:LJ(.5),align:hJ,zIndex:1,position:"outsideEnd"},animation:{type:C2},highlight:{visible:!0,border:{width:1}},visible:!0}),RJ(b4.prototype,D2);var w4=b4,x4={createLegendItem:function(e,t,n){var i=this.options.legend||{},r=i.labels||{},o=i.inactiveItems||{},s=o.labels||{};if(n&&!1!==n.visibleInLegend){var a,l,u=!1!==n.visible,c=u?WJ(r):WJ(s)||WJ(r),h=n.category;c&&(h=c({text:h,series:n.series,dataItem:n.dataItem,percentage:n.percentage,value:e})),u?(a={},l=t.color):(a={color:s.color,font:s.font},l=(o.markers||{}).color),T3(h)&&""!==h&&this.legendItems.push({active:u,pointIndex:n.index,text:h,series:n.series,markerColor:l,labels:a})}}},S4=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).plotArea=e,i.chartService=e.chartService,i.points=[],i.legendItems=[],i.render(),i}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){this.traverseDataPoints(this.addValue.bind(this))}},{key:"traverseDataPoints",value:function(e){for(var t=this.options,n=this.plotArea.options.seriesColors,i=void 0===n?[]:n,r=i.length,o=t.series,s=o.length,a=0;a<s;a++){var l=o[a],u=l.data,c=Q3(l),h=c.total,f=c.points,d=c.count,p=360/h,v=void 0,g=void 0;isFinite(p)||(v=360/d),g=s0(l.startAngle)?l.startAngle:t.startAngle,a!==s-1&&"outsideEnd"===l.labels.position&&(l.labels.position=cJ);for(var m=0;m<f.length;m++){var y=f[m];if(y){var k=y.fields,b=y.value,_=y.visible,C=0!==b?v||b*p:0,w=1!==u.length&&Boolean(k.explode);EJ(l.color)||(l.color=k.color||i[m%r]),e(y.valueFields.value,new I0(null,0,0,g,C),{owner:this,category:s0(k.category)?k.category:"",index:m,series:l,seriesIx:a,dataItem:u[m],percentage:0!==h?b/h:0,explode:w,visibleInLegend:k.visibleInLegend,visible:_,zIndex:s-a,animationDelay:this.animationDelay(m,a,s)}),!1!==_&&(g+=C)}}}}},{key:"evalSegmentOptions",value:function(e,t,n){var i=n.series;E2(e,{value:t,series:i,dataItem:n.dataItem,category:n.category,percentage:n.percentage},{defaults:i._defaults,excluded:["data","content","template","visual","toggle"]})}},{key:"addValue",value:function(e,t,n){var i=RJ({},n.series,{index:n.index});if(this.evalSegmentOptions(i,e,n),this.createLegendItem(e,i,n),!1!==n.visible){var r=new w4(e,t,i);Object.assign(r,n),this.append(r),this.points.push(r)}}},{key:"reflow",value:function(e){var t=this.options,n=this.points,i=this.seriesConfigs,r=void 0===i?[]:i,o=n.length,s=e.clone(),a=Math.min(s.width(),s.height()),l=a/2,u=a-.85*a,c=new S0(s.x1,s.y1,s.x1+a,s.y1+a),h=c.center(),f=s.center(),d=t.series.length,p=[],v=[],g=y0(t.padding,u);this.targetBox=e,g=g>l-5?l-5:g,c.translate(f.x-h.x,f.y-h.y);for(var m=l-g,y=new w0(m+c.x1+g,m+c.y1+g),k=0;k<o;k++){var b=n[k],_=b.sector,C=b.seriesIx;if(_.radius=m,_.center=y,r.length){var w=r[C];_.innerRadius=w.innerRadius,_.radius=w.radius}C===d-1&&b.explode&&(_.center=_.clone().setRadius(.15*_.radius).point(_.middle())),b.reflow(c);var x=b.label;x&&"outsideEnd"===x.options.position&&C===d-1&&("right"===x.orientation?v.push(x):p.push(x))}p.length>0&&(p.sort(this.labelComparator(!0)),this.leftLabelsReflow(p)),v.length>0&&(v.sort(this.labelComparator(!1)),this.rightLabelsReflow(v)),this.box=c}},{key:"leftLabelsReflow",value:function(e){var t=this.distanceBetweenLabels(e);this.distributeLabels(t,e)}},{key:"rightLabelsReflow",value:function(e){var t=this.distanceBetweenLabels(e);this.distributeLabels(t,e)}},{key:"distanceBetweenLabels",value:function(e){var t=f0(this.points),n=t.sector,i=e.length-1,r=n.radius+t.options.labels.distance,o=[],s=e[0].box,a=g0(s.y1-(n.center.y-r-s.height()-s.height()/2));o.push(a);for(var l=0;l<i;l++)s=e[l].box,a=g0(e[l+1].box.y1-s.y2),o.push(a);return a=g0(n.center.y+r-e[i].box.y2-e[i].box.height()/2),o.push(a),o}},{key:"distributeLabels",value:function(e,t){for(var n,i,r,o=e.length,s=0;s<o;s++)for(r=-e[s],n=i=s;r>0&&(n>=0||i<o);)r=this._takeDistance(e,s,--n,r),r=this._takeDistance(e,s,++i,r);this.reflowLabels(e,t)}},{key:"_takeDistance",value:function(e,t,n,i){var r=i;if(e[n]>0){var o=Math.min(e[n],r);r-=o,e[n]-=o,e[t]+=o}return r}},{key:"reflowLabels",value:function(e,t){var n,i=f0(this.points),r=i.sector,o=i.options.labels,s=t.length,a=o.distance,l=r.center.y-(r.radius+a)-t[0].box.height();e[0]+=2;for(var u=0;u<s;u++){var c=t[u],h=c.box;l+=e[u],n=this.hAlignLabel(h.x2,r.clone().expand(a),l,l+h.height(),"right"===c.orientation),"right"===c.orientation?(o.align!==hJ&&(n=r.radius+r.center.x+a),c.reflow(new S0(n+h.width(),l,n,l))):(o.align!==hJ&&(n=r.center.x-r.radius-a),c.reflow(new S0(n-h.width(),l,n,l))),l+=h.height()}}},{key:"createVisual",value:function(){var e=this.options.connectors,n=this.points,i=n.length;_get(_getPrototypeOf(t.prototype),"createVisual",this).call(this),this._connectorLines=[];for(var r=0;r<i;r++){var o=n[r],s=o.sector,a=o.label,l=s.middle(),u=(o.options.connectors||{}).color||e.color;if(a){var c=new m.Path({stroke:{color:u,width:e.width},animation:{type:"fadeIn",delay:o.animationDelay}});if("outsideEnd"===a.options.position){var h=a.box,f=s.center,d=void 0,p=void 0,v=void 0,g=s.point(l),y=new w0(h.x1,h.center().y);g=s.clone().expand(e.padding).point(l),c.moveTo(g.x,g.y),"right"===a.orientation?(v=T4(f,g,y,p=new w0(h.x1-e.padding,h.center().y)),y=new w0(p.x-4,p.y),(v=v||y).x=Math.min(v.x,y.x),this.pointInCircle(v,s.center,s.radius+4)||v.x<s.center.x?(d=s.center.x+s.radius+4,c.lineTo(o.options.labels.align!==b2?d<y.x?d:g.x+8:d,g.y),c.lineTo(y.x,p.y)):(v.y=p.y,c.lineTo(v.x,v.y))):(v=T4(f,g,y,p=new w0(h.x2+e.padding,h.center().y)),y=new w0(p.x+4,p.y),(v=v||y).x=Math.max(v.x,y.x),this.pointInCircle(v,s.center,s.radius+4)||v.x>s.center.x?(d=s.center.x-s.radius-4,c.lineTo(o.options.labels.align!==b2?d>y.x?d:g.x-8:d,g.y),c.lineTo(y.x,p.y)):(v.y=p.y,c.lineTo(v.x,v.y))),c.lineTo(p.x,p.y),this._connectorLines.push(c),this.visual.append(c)}}}}},{key:"renderVisual",value:function(){if(_get(_getPrototypeOf(t.prototype),"renderVisual",this).call(this),this.options.series.find((function(e){return e.autoFit}))){var e=this.targetBox,n=this.box.center(),i=this.visual.bbox();if(!i)return;var r=i.bottomRight(),o=Math.min((n.y-e.y1)/(n.y-i.origin.y),(e.y2-n.y)/(r.y-n.y),(n.x-e.x1)/(n.x-i.origin.x),(e.x2-n.x)/(r.x-n.x));o<1&&this.visual.transform(p.transform().scale(o,o,[n.x,n.y]))}}},{key:"labelComparator",value:function(e){var t=e?-1:1;return function(e,n){return((e.parent.sector.middle()+270)%360-(n.parent.sector.middle()+270)%360)*t}}},{key:"hAlignLabel",value:function(e,t,n,i,r){var o=t.radius,s=t.center,a=s.x,l=s.y,u=Math.min(Math.abs(l-n),Math.abs(l-i));return u>o?e:a+Math.sqrt(o*o-u*u)*(r?1:-1)}},{key:"pointInCircle",value:function(e,t,n){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<Math.pow(n,2)}},{key:"formatPointValue",value:function(e,t){return this.chartService.format.auto(t,e.value)}},{key:"animationDelay",value:function(e){return 70*e}},{key:"stackRoot",value:function(){return this}}]),t}(R0);function T4(e,t,n,i){var r,o=(i.y-n.y)*(t.x-e.x)-(i.x-n.x)*(t.y-e.y);if(0!==o){var s=((i.x-n.x)*(e.y-n.y)-(i.y-n.y)*(e.x-n.x))/o;r=new w0(e.x+s*(t.x-e.x),e.y+s*(t.y-e.y))}return r}b0(S4,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}}),RJ(S4.prototype,x4),S4.prototype.isStackRoot=!0;var O4=S4,I4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){this.createPieChart(this.series)}},{key:"createPieChart",value:function(e){var t=e[0],n=new O4(this,{series:e,padding:t.padding,startAngle:t.startAngle,connectors:t.connectors,legend:this.options.legend});this.appendChart(n)}},{key:"appendChart",value:function(e,n){_get(_getPrototypeOf(t.prototype),"appendChart",this).call(this,e,n),r0(this.options.legend.items,e.legendItems)}}]),t}(d5),E4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"reflowLabel",value:function(){var e=this.options.labels,n=this.label,i=this.sector.clone(),r=i.middle();if(n){var o=n.box.height();if(e.position===cJ){i.radius-=(i.radius-i.innerRadius)/2;var s=i.point(r);n.reflow(new S0(s.x,s.y-o/2,s.x,s.y))}else _get(_getPrototypeOf(t.prototype),"reflowLabel",this).call(this)}}},{key:"createSegment",value:function(e,t){return E0.current.createRing(e,t)}}]),t}(w4);b0(E4,{overlay:{gradient:"roundedGlass"},labels:{position:cJ},animation:{type:C2}}),RJ(E4.prototype,D2);var A4=E4,R4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"addValue",value:function(e,t,n){var i=RJ({},n.series,{index:n.index});if(this.evalSegmentOptions(i,e,n),this.createLegendItem(e,i,n),e&&!1!==n.visible){var r=new A4(e,t,i);Object.assign(r,n),this.append(r),this.points.push(r)}}},{key:"reflow",value:function(e){for(var n,i=this.options,r=e.clone(),o=Math.min(r.width(),r.height()),s=o/2,a=i.series,l=a.length,u=y0(i.padding,o-.85*o),c=s-(u=u>s-5?s-5:u),h=0,f=0;f<l;f++){var d=a[f];0===f&&s0(d.holeSize)&&(n=d.holeSize,c-=d.holeSize),s0(d.size)?c-=d.size:h++,s0(d.margin)&&f!==l-1&&(c-=d.margin)}s0(n)||(c-=n=(s-u)/(l+.75)*.75);var p,v=n,g=0;this.seriesConfigs=[];for(var m=0;m<l;m++){var y=a[m];p=(v+=g)+y0(y.size,c/h),this.seriesConfigs.push({innerRadius:v,radius:p}),g=y.margin||0,v=p}_get(_getPrototypeOf(t.prototype),"reflow",this).call(this,e)}},{key:"animationDelay",value:function(e,t,n){return 50*e+600*(t+1)/(n+1)}}]),t}(O4);b0(R4,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});var P4=R4,D4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"initFields",value:function(){this.valueAxisRangeTracker=new n3}},{key:"render",value:function(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()}},{key:"alignAxes",value:function(){var e=this.valueAxis,t=e.range(),n=e.getSlot(e.options.reverse?t.max:t.min),i=this.polarAxis.getSlot(0).center,r=e.box.translate(i.x-n.x1,i.y-n.y1);e.reflow(r)}},{key:"createValueAxis",value:function(){var e,t,n=this.valueAxisRangeTracker,i=n.query(),r=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});"log"===r.type?(e=n2,t={min:.1,max:1}):(e=e2,t={min:0,max:1});var o=n.query(name)||i||t;o&&i&&(o.min=Math.min(o.min,i.min),o.max=Math.max(o.max,i.max));var s=new e(o.min,o.max,r,this.chartService);this.valueAxis=s,this.appendAxis(s)}},{key:"reflowAxes",value:function(){var e=this.options.plotArea,t=this.valueAxis,n=this.polarAxis,i=this.box,r=.15*Math.min(i.width(),i.height()),o=LJ(e.padding||{},r),s=i.clone().unpad(o),a=s.clone();a.y2=a.y1+Math.min(a.width(),a.height()),a.align(s,bJ,cJ);var l=a.clone().shrink(0,a.height()/2);n.reflow(a),t.reflow(l);var u=t.lineBox().height()-t.box.height();t.reflow(t.box.unpad({top:u})),this.axisBox=a,this.alignAxes(a)}},{key:"backgroundBox",value:function(){return this.box}},{key:"detachLabels",value:function(){}}]),t}(d5),F4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"pointSlot",value:function(e,t){var n=w0.onCircle(e.center,e.startAngle,e.center.y-t.y1);return new S0(n.x,n.y,n.x,n.y)}}]),t}(I3);b0(F4,{clip:!1});var M4=F4,z4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(g4);z4.prototype.pointSlot=M4.prototype.pointSlot,b0(z4,{clip:!1});var L4=z4,V4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"fillToAxes",value:function(e){var t=this._polarAxisCenter();e.lineTo(t.x,t.y)}},{key:"_polarAxisCenter",value:function(){return this.parent.plotArea.polarAxis.box.center()}},{key:"strokeSegments",value:function(){var e=this._strokeSegments;if(!e){var t=this._polarAxisCenter(),n=new r2(!1),i=this.points();i.push(t),(e=this._strokeSegments=n.process(i)).pop()}return e}}]),t}(e3),N4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"fillToAxes",value:function(e){var t=this.parent.plotArea.polarAxis.box.center(),n=new p.Segment([t.x,t.y]);e.segments.unshift(n),e.segments.push(n)}}]),t}(X2);function B4(e,t){return e.value.x-t.value.x}var j4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"createSegment",value:function(e,t,n){return"smooth"===(t.line||{}).style?new V4(e,t,n):new N4(e,t,n)}},{key:"createMissingValue",value:function(e,t){var n;return T3(e.x)&&"interpolate"!==t&&(n={x:e.x,y:e.y},"zero"===t&&(n.y=0)),n}},{key:"seriesMissingValues",value:function(e){return e.missingValues||"zero"}},{key:"_hasMissingValuesGap",value:function(){for(var e=this.options.series,t=0;t<e.length;t++)if("gap"===this.seriesMissingValues(e[t]))return!0}},{key:"sortPoints",value:function(e){if(e.sort(B4),this._hasMissingValuesGap())for(var t=0;t<e.length;t++){var n=e[t];n&&(T3(n.value.y)||"gap"!==this.seriesMissingValues(n.series)||delete e[t])}return e}}]),t}(L4),H4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"createPolarAxis",value:function(){var e=new Y1(this.options.xAxis,this.chartService);this.polarAxis=e,this.axisX=e,this.appendAxis(e)}},{key:"valueAxisOptions",value:function(e){return RJ(e,{majorGridLines:{type:aJ},minorGridLines:{type:aJ}},this.options.yAxis)}},{key:"createValueAxis",value:function(){_get(_getPrototypeOf(t.prototype),"createValueAxis",this).call(this),this.axisY=this.valueAxis}},{key:"appendChart",value:function(e,t){this.valueAxisRangeTracker.update(e.yAxisRanges),d5.prototype.appendChart.call(this,e,t)}},{key:"createCharts",value:function(){var e=this.filterVisibleSeries(this.series),t=this.panes[0];this.createLineChart(e5(e,["polarLine"]),t),this.createScatterChart(e5(e,["polarScatter"]),t),this.createAreaChart(e5(e,["polarArea"]),t)}},{key:"createLineChart",value:function(e,t){if(0!==e.length){var n=new L4(this,{series:e});this.appendChart(n,t)}}},{key:"createScatterChart",value:function(e,t){if(0!==e.length){var n=new M4(this,{series:e});this.appendChart(n,t)}}},{key:"createAreaChart",value:function(e,t){if(0!==e.length){var n=new j4(this,{series:e});this.appendChart(n,t)}}},{key:"_dispatchEvent",value:function(e,t,n){var i=e._eventCoordinates(t),r=new w0(i.x,i.y),o=this.axisX.getValue(r),s=this.axisY.getValue(r);null!==o&&null!==s&&e.trigger(n,{element:c0(t),x:o,y:s})}},{key:"createCrosshairs",value:function(){}}]),t}(D4);b0(H4,{xAxis:{},yAxis:{}}),RJ(H4.prototype,p5);var G4=H4,U4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"pointSlot",value:function(e,t){var n=e.center.y-t.y1,i=w0.onCircle(e.center,e.middle(),n);return new S0(i.x,i.y,i.x,i.y)}},{key:"renderSegments",value:function(){if(_get(_getPrototypeOf(t.prototype),"renderSegments",this).call(this),this._segments&&this._segments.length>1)for(var e=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t[i.seriesIx]=t[i.seriesIx]||[],t[i.seriesIx].push(i)}return t}(this._segments),n=0;n<e.length;n++){var i=e[n];i.length>1&&f0(i).linePoints.push(i[0].linePoints[0])}}},{key:"createSegment",value:function(e,t,n){var i=new("smooth"===t.style?G2:V2)(e,t,n);return e.length===t.data.length&&(i.options.closed=!0),i}}]),t}(Y2);b0(U4,{clip:!1,limitPoints:!1});var W4=U4,q4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"fillToAxes",value:function(){}}]),t}(e3),Z4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"fillToAxes",value:function(){}}]),t}(X2),$4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"createSegment",value:function(e,t,n,i){var r,o,s,a=(t.line||{}).style;return this.options.isStacked&&n>0&&i&&(o=i.linePoints.slice(0),r=i),"smooth"===a?(s=new q4(e,t,n,r,o)).options.closed=!0:(e.push(e[0]),s=new Z4(e,t,n,r,o)),s}},{key:"seriesMissingValues",value:function(e){return e.missingValues||"zero"}}]),t}(W4),K4=function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,null,n))}return _inherits(t,e),t}(A4);b0(K4,{overlay:{gradient:"none"},labels:{distance:10}});var Y4=K4,X4=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).forEach=e.rtl?u3:l3,n}return _inherits(t,e),_createClass(t,[{key:"reflow",value:function(e){var t=this.options,n=this.children,i=t.gap,r=t.spacing,o=n.length,s=e.angle/(o+i+r*(o-1)),a=e.startAngle+s*(i/2);this.forEach(n,(function(t){var n=e.clone();n.startAngle=a,n.angle=s,t.sector&&(n.radius=t.sector.radius),t.reflow(n),t.sector=n,a+=s+s*r}))}}]),t}(R0);b0(X4,{gap:1,spacing:0});var Q4=X4,J4=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"reflow",value:function(e){var t=this.options.reverse,n=this.children,i=n.length,r=t?i-1:0,o=t?-1:1;this.box=new S0;for(var s=r;s>=0&&s<i;s+=o){var a=n[s].sector;a.startAngle=e.startAngle,a.angle=e.angle}}}]),t}(R0),e6=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"pointType",value:function(){return Y4}},{key:"clusterType",value:function(){return Q4}},{key:"stackType",value:function(){return J4}},{key:"categorySlot",value:function(e,t){return e.getSlot(t)}},{key:"pointSlot",value:function(e,t){var n=e.clone(),i=e.center.y;return n.radius=i-t.y1,n.innerRadius=i-t.y2,n}},{key:"reflowPoint",value:function(e,t){e.sector=t,e.reflow()}},{key:"createAnimation",value:function(){this.options.animation.center=this.box.toRect().center(),_get(_getPrototypeOf(t.prototype),"createAnimation",this).call(this)}}]),t}(v3);e6.prototype.reflow=P2.prototype.reflow,b0(e6,{clip:!1,limitPoints:!1,animation:{type:"pie"}});var t6,n6=e6,i6=(t6=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"createPolarAxis",value:function(){var e=new $1(this.options.categoryAxis,this.chartService);this.polarAxis=e,this.categoryAxis=e,this.appendAxis(e),this.aggregateCategories(),this.createCategoryAxesLabels()}},{key:"valueAxisOptions",value:function(e){return this._hasBarCharts&&RJ(e,{majorGridLines:{type:aJ},minorGridLines:{type:aJ}}),this._isStacked100&&RJ(e,{roundToMajorUnit:!1,labels:{format:"P0"}}),RJ(e,this.options.valueAxis)}},{key:"aggregateCategories",value:function(){H5.prototype.aggregateCategories.call(this,this.panes)}},{key:"createCategoryAxesLabels",value:function(){H5.prototype.createCategoryAxesLabels.call(this,this.panes)}},{key:"filterSeries",value:function(e){return e}},{key:"createCharts",value:function(){var e=this.filterVisibleSeries(this.series),t=this.panes[0];this.createAreaChart(e5(e,["radarArea"]),t),this.createLineChart(e5(e,["radarLine"]),t),this.createBarChart(e5(e,["radarColumn"]),t)}},{key:"chartOptions",value:function(e){var t={series:e},n=e[0];if(n){var i=this.filterVisibleSeries(e),r=n.stack;t.isStacked=r&&i.length>1,t.isStacked100=r&&"100%"===r.type&&i.length>1,t.isStacked100&&(this._isStacked100=!0)}return t}},{key:"createAreaChart",value:function(e,t){if(0!==e.length){var n=new $4(this,this.chartOptions(e));this.appendChart(n,t)}}},{key:"createLineChart",value:function(e,t){if(0!==e.length){var n=new W4(this,this.chartOptions(e));this.appendChart(n,t)}}},{key:"createBarChart",value:function(e,t){if(0!==e.length){var n=e[0],i=this.chartOptions(e);i.gap=n.gap,i.spacing=n.spacing;var r=new n6(this,i);this.appendChart(r,t),this._hasBarCharts=!0}}},{key:"seriesCategoryAxis",value:function(){return this.categoryAxis}},{key:"_dispatchEvent",value:function(e,t,n){var i=e._eventCoordinates(t),r=new w0(i.x,i.y),o=this.categoryAxis.getCategory(r),s=this.valueAxis.getValue(r);null!==o&&null!==s&&e.trigger(n,{element:c0(t),category:o,value:s})}},{key:"createCrosshairs",value:function(){}}]),t}(D4),RJ(t6.prototype,p5,{appendChart:H5.prototype.appendChart,aggregateSeries:H5.prototype.aggregateSeries,seriesSourcePoints:H5.prototype.seriesSourcePoints}),t6);b0(i6,{categoryAxis:{categories:[]},valueAxis:{}});var r6=i6,o6=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).value=e,r.options.index=i.index,r}return _inherits(t,e),_createClass(t,[{key:"reflow",value:function(e){var t=this.points,n=this.children[0];this.box=new S0(t[0].x,t[0].y,t[1].x,t[2].y),n&&n.reflow(new S0(e.x1,t[0].y,e.x2,t[2].y))}},{key:"createVisual",value:function(){var e,n=this,i=this.options;_get(_getPrototypeOf(t.prototype),"createVisual",this).call(this),(e=i.visual?i.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:i,sender:this.getSender(),createVisual:function(){return n.createPath()}}):this.createPath())&&this.visual.append(e)}},{key:"createPath",value:function(){var e=this.options,t=e.border;return m.Path.fromPoints(this.points,{fill:{color:e.color,opacity:e.opacity},stroke:{color:t.color,opacity:t.opacity,width:t.width}}).close()}},{key:"createHighlight",value:function(e){return m.Path.fromPoints(this.points,e)}},{key:"highlightVisual",value:function(){return this.visual.children[0]}},{key:"highlightVisualArgs",value:function(){var e=m.Path.fromPoints(this.points).close();return{options:this.options,path:e}}},{key:"tooltipAnchor",value:function(){var e=this.box;return{point:new w0(e.center().x,e.y1),align:{horizontal:"center",vertical:"top"}}}},{key:"formatValue",value:function(e){return this.owner.formatPointValue(this,e)}}]),t}(R0);b0(o6,{color:yJ,border:{width:1}}),RJ(o6.prototype,D2);var s6=o6,a6=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).plotArea=e,i.points=[],i.labels=[],i.legendItems=[],i.render(),i}return _inherits(t,e),_createClass(t,[{key:"formatPointValue",value:function(e,t){return this.chartService.format.auto(t,e.value)}},{key:"render",value:function(){var e=this.options,t=this.plotArea.options.seriesColors,n=void 0===t?[]:t,i=e.series[0],r=i.data;if(r)for(var o=Q3(i),s=o.total,a=o.points,l=0;l<a.length;l++){var u=a[l];if(u){var c=u.fields;EJ(i.color)||(i.color=c.color||n[l%n.length]),c=RJ({index:l,owner:this,series:i,dataItem:r[l],percentage:u.value/s},c,{visible:u.visible});var h=u.valueFields.value,f=this.createSegment(h,c),d=this.createLabel(h,c);f&&d&&f.append(d)}}}},{key:"evalSegmentOptions",value:function(e,t,n){var i=n.series;E2(e,{value:t,series:i,dataItem:n.dataItem,index:n.index},{defaults:i._defaults,excluded:["data","content","template","toggle","visual"]})}},{key:"createSegment",value:function(e,t){var n=RJ({},t.series);if(this.evalSegmentOptions(n,e,t),this.createLegendItem(e,n,t),!1!==t.visible){var i=new s6(e,n,t);return Object.assign(i,t),this.append(i),this.points.push(i),i}}},{key:"createLabel",value:function(e,t){var n=t.series,i=t.dataItem,r=RJ({},this.options.labels,n.labels),o=e;if(r.visible){var s=WJ(r),a={dataItem:i,value:e,percentage:t.percentage,category:t.category,series:n};if(s?o=s(a):r.format&&(o=this.plotArea.chartService.format.auto(r.format,o)),!r.color){var l=new dx(n.color).percBrightness();r.color=l>180?lJ:yJ,r.background||(r.background=n.color)}this.evalSegmentOptions(r,e,t);var u=new Z0(o,RJ({vAlign:r.position},r),a);return this.labels.push(u),u}}},{key:"labelPadding",value:function(){for(var e=this.labels,t={left:0,right:0},n=0;n<e.length;n++){var i=e[n].options.align;if(i!==cJ){var r=e[n].box.width();"left"===i?t.left=Math.max(t.left,r):t.right=Math.max(t.right,r)}}return t}},{key:"dynamicSlopeReflow",value:function(e,t,n){for(var i=this.options,r=this.points,o=r.length,s=r[0],a=s,l=0;l<r.length;l++)r[l].percentage>a.percentage&&(a=r[l]);for(var u=s.percentage/a.percentage*t,c=(t-u)/2,h=0,f=0;f<o;f++){var d=r[f].percentage,v=r[f+1],g=v?v.percentage:d,m=r[f].points=[],y=i.dynamicHeight?n*d:n/o,k=void 0;k=d0(k=d?(t-u*(g/d))/2:g?0:t/2,0,t),m.push(new p.Point(e.x1+c,e.y1+h)),m.push(new p.Point(e.x1+t-c,e.y1+h)),m.push(new p.Point(e.x1+t-k,e.y1+y+h)),m.push(new p.Point(e.x1+k,e.y1+y+h)),c=k,h+=y+i.segmentSpacing,u=d0(t-2*k,0,t)}}},{key:"constantSlopeReflow",value:function(e,t,n){for(var i=this.options,r=this.points,o=r.length,s=i.neckRatio<=1,a=s?0:(t-t/i.neckRatio)/2,l=((s?t:t-2*a)-(s?i.neckRatio*t:t))/2,u=0,c=0;c<o;c++){var h=r[c].points=[],f=r[c].percentage,d=i.dynamicHeight?l*f:l/o,v=i.dynamicHeight?n*f:n/o;h.push(new p.Point(e.x1+a,e.y1+u)),h.push(new p.Point(e.x1+t-a,e.y1+u)),h.push(new p.Point(e.x1+t-a-d,e.y1+v+u)),h.push(new p.Point(e.x1+a+d,e.y1+v+u)),a+=d,u+=v+i.segmentSpacing}}},{key:"reflow",value:function(e){var t=this.points,n=t.length;if(n){var i=this.options,r=e.clone().unpad(this.labelPadding()),o=r.height()-i.segmentSpacing*(n-1),s=r.width();i.dynamicSlope?this.dynamicSlopeReflow(r,s,o):this.constantSlopeReflow(r,s,o);for(var a=0;a<n;a++)t[a].reflow(e)}}}]),t}(R0);b0(a6,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:cJ,position:cJ,zIndex:1}}),RJ(a6.prototype,x4);var l6=a6,u6="color",c6="first",h6="max";i4.current.register(H5,[k2,b2,_2,w2,"area","verticalArea","candlestick","ohlc","bullet","verticalBullet","boxPlot","verticalBoxPlot","rangeColumn","rangeBar","waterfall","horizontalWaterfall","rangeArea","verticalRangeArea"]),i4.current.register(k4,["scatter","scatterLine","bubble"]),i4.current.register(I4,[C2]),i4.current.register(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){this.createDonutChart(this.series)}},{key:"createDonutChart",value:function(e){var t=e[0],n=new P4(this,{series:e,padding:t.padding,connectors:t.connectors,legend:this.options.legend});this.appendChart(n)}}]),t}(I4),["donut"]),i4.current.register(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){this.createFunnelChart(this.series)}},{key:"createFunnelChart",value:function(e){var t=e[0],n=new l6(this,{series:e,legend:this.options.legend,neckRatio:t.neckRatio,dynamicHeight:t.dynamicHeight,dynamicSlope:t.dynamicSlope,segmentSpacing:t.segmentSpacing,highlight:t.highlight});this.appendChart(n)}},{key:"appendChart",value:function(e,n){_get(_getPrototypeOf(t.prototype),"appendChart",this).call(this,e,n),r0(this.options.legend.items,e.legendItems)}}]),t}(d5),["funnel"]),i4.current.register(G4,["polarArea","polarLine","polarScatter"]),i4.current.register(r6,["radarArea","radarColumn","radarLine"]),p2.current.register([k2,b2,_2,w2,"area","verticalArea"],[mJ],["category",u6,"noteText","errorLow","errorHigh"]),p2.current.register(["rangeColumn","rangeBar","rangeArea","verticalRangeArea"],["from","to"],["category",u6,"noteText"]),p2.current.register(["waterfall","horizontalWaterfall"],[mJ],["category",u6,"noteText","summary"]),p2.current.register(["polarArea","polarLine","polarScatter"],[kJ,bJ],[u6]),p2.current.register(["radarArea","radarColumn","radarLine"],[mJ],[u6]),p2.current.register(["funnel"],[mJ],["category",u6,"visibleInLegend","visible"]),y5.current.register([k2,b2,_2,w2,"area","verticalArea","waterfall","horizontalWaterfall"],{value:h6,color:c6,noteText:c6,errorLow:"min",errorHigh:h6}),y5.current.register(["rangeColumn","rangeBar","rangeArea","verticalRangeArea"],{from:"min",to:h6,color:c6,noteText:c6}),y5.current.register(["radarArea","radarColumn","radarLine"],{value:h6,color:c6}),p2.current.register(["scatter","scatterLine","bubble"],[kJ,bJ],[u6,"noteText","xErrorLow","xErrorHigh","yErrorLow","yErrorHigh"]),p2.current.register(["bubble"],[kJ,bJ,"size"],[u6,"category","noteText"]),p2.current.register(["candlestick","ohlc"],["open","high","low","close"],["category",u6,"downColor","noteText"]),y5.current.register(["candlestick","ohlc"],{open:h6,high:h6,low:"min",close:h6,color:c6,downColor:c6,noteText:c6}),p2.current.register(["boxPlot","verticalBoxPlot"],["lower","q1","median","q3","upper","mean","outliers"],["category",u6,"noteText"]),y5.current.register(["boxPlot","verticalBoxPlot"],{lower:h6,q1:h6,median:h6,q3:h6,upper:h6,mean:h6,outliers:c6,color:c6,noteText:c6}),p2.current.register(["bullet","verticalBullet"],["current","target"],["category",u6,"visibleInLegend","noteText"]),y5.current.register(["bullet","verticalBullet"],{current:h6,target:h6,color:c6,noteText:c6}),p2.current.register([C2,"donut"],[mJ],["category",u6,"explode","visibleInLegend","visible"]);var f6=["category",mJ,kJ,bJ],d6=function(e){function t(e,n,i){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};_classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).observers=[],r.addObserver(o.observer),r.chartService=new HJ(_assertThisInitialized(r),o),r.chartService.theme=i,r._initElement(e);var s=RJ({},r.options,n);return r._originalOptions=RJ({},s),r._theme=i,r._initTheme(s,i),r._initHandlers(),r._initSurface(),r.bindCategories(),k0.preloadFonts(n,(function(){r.fontLoaded=!0,r._destroyed||(r.trigger("init"),r._redraw(),r._attachEvents())})),r}return _inherits(t,e),_createClass(t,[{key:"_initElement",value:function(e){for(this._setElementClass(e),e.style.position="relative";e.firstChild;)e.removeChild(e.firstChild);this.element=e}},{key:"_setElementClass",value:function(e){CJ(e,"k-chart")}},{key:"_initTheme",value:function(e,t){for(var n=[],i=e.series||[],r=0;r<i.length;r++)n.push(Object.assign({},i[r]));e.series=n,function(e){for(var t=f6,n=0;n<t.length;n++){var i=t[n]+"Axes";e[i]&&(e[t[n]+"Axis"]=e[i],delete e[i])}}(e),this.applyDefaults(e,t),null===e.seriesColors&&delete e.seriesColors,this.options=RJ({},t,e),this.applySeriesColors()}},{key:"getSize",value:function(){var e=this.options.chartArea||{};return{width:e.width?parseInt(e.width,10):Math.floor(this.element.offsetWidth),height:e.height?parseInt(e.height,10):Math.floor(this.element.offsetHeight)}}},{key:"resize",value:function(e){var t=this.getSize(),n=this._size,i=t.width>0||t.height>0;e||i&&(!n||t.width!==n.width||t.height!==n.height)?(this._size=t,this._resize(t,e),this.trigger("resize",t)):i&&this._selections&&this._selections.find((function(e){return!e.visible}))&&(this._destroySelections(),this._setupSelection())}},{key:"_resize",value:function(){this._noTransitionsRedraw()}},{key:"redraw",value:function(e){if(this.applyDefaults(this.options),this.applySeriesColors(),e){var t=this._model._plotArea,n=t.findPane(e);t.redraw(n)}else this._redraw()}},{key:"getAxis",value:function(e){return s2(e,this._plotArea.axes)}},{key:"findAxisByName",value:function(e){return this.getAxis(e)}},{key:"findPaneByName",value:function(e){for(var t=this._plotArea.panes,n=0;n<t.length;n++)if(t[n].options.name===e)return new a2(t[n])}},{key:"findPaneByIndex",value:function(e){var t=this._plotArea.panes;if(t[e])return new a2(t[e])}},{key:"plotArea",value:function(){return new l2(this._plotArea)}},{key:"toggleHighlight",value:function(e,t){var n,i,r,o=this._plotArea,s=(o.srcSeries||o.series||[])[0];EJ(t)?n=o.filterPoints(t):(PJ(t)?(i=t.series,r=t.category):i=r=t,n="donut"===s.type?p6(o.pointsBySeriesName(i),r):s.type===C2||"funnel"===s.type?p6((o.charts[0]||{}).points,r):o.pointsBySeriesName(i));n&&this.togglePointsHighlight(e,n)}},{key:"togglePointsHighlight",value:function(e,t){for(var n=this._highlight,i=0;i<t.length;i++)n.togglePointHighlight(t[i],e)}},{key:"showTooltip",value:function(e){var t,n,i=this._sharedTooltip(),r=this._tooltip,o=this._plotArea;if(EJ(e)?(t=o.findPoint(e))&&i&&(n=t.categoryIx):i&&s0(e)&&(n=o.categoryAxis.categoryIndex(e)),i){if(n>=0){var s=this._plotArea.pointsByCategoryIndex(n);r.showAt(s)}}else t&&r.show(t)}},{key:"hideTooltip",value:function(){this._tooltip.hide()}},{key:"_initSurface",value:function(){var e=this.surface,t=this._surfaceWrap(),n=this.options.chartArea||{};n.width&&u0(t,{width:n.width}),n.height&&u0(t,{height:n.height}),e&&e.options.type===this.options.renderAs?(this.surface.clear(),this.surface.resize()):(this._destroySurface(),this.surface=m.Surface.create(t,{type:this.options.renderAs}),this.surface.bind("mouseenter",this._surfaceMouseenterHandler),this.surface.bind("mouseleave",this._surfaceMouseleaveHandler))}},{key:"_surfaceWrap",value:function(){return this.element}},{key:"_redraw",value:function(){var e=this._getModel();this._size={width:e.options.width,height:e.options.height},this._destroyView(),this._model=e,this._plotArea=e._plotArea,e.renderVisual(),!1!==this.options.transitions&&e.traverse((function(e){e.animation&&e.animation.setup()})),this._initSurface(),this.surface.draw(e.visual),!1!==this.options.transitions&&e.traverse((function(e){e.animation&&e.animation.play()})),this._tooltip=this._createTooltip(),this._highlight=new U5,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this.trigger("render"),k6(this._plotArea.panes),this._navState||this._cancelDomEvents()}},{key:"exportVisual",value:function(e){var t;if(e&&(e.width||e.height||e.options)){var n=this.options,i=RJ({},e.options,{chartArea:{width:e.width,height:e.height}});y6(this._originalOptions,i),this.options=RJ({},this._originalOptions,i),this._initTheme(this.options,this._theme),this.bindCategories();var r=this._getModel();r.renderVisual(),k6(r._plotArea.panes),t=r.visual,this.options=n}else t=this.surface.exportVisual();return t}},{key:"_sharedTooltip",value:function(){return this._plotArea instanceof H5&&this.options.tooltip&&this.options.tooltip.shared}},{key:"_createPannable",value:function(){var e=this.options;!1!==e.pannable&&(this._pannable=new $5(this._plotArea,e.pannable))}},{key:"_createZoomSelection",value:function(){var e=this.options.zoomable,t=(e||{}).selection;!1!==e&&!1!==t&&(this._zoomSelection=new Y5(this,t))}},{key:"_createMousewheelZoom",value:function(){var e=this.options.zoomable,t=(e||{}).mousewheel;!1!==e&&!1!==t&&(this._mousewheelZoom=new X5(this,t))}},{key:"_toggleDragZoomEvents",value:function(){var e=this.options.zoomable,t=(e||{}).mousewheel,n=!(this.options.pannable||!1!==e&&!1!==(e||{}).selection||this.requiresHandlers(["dragStart","drag","dragEnd"])),i=(!1===e||!1===t)&&!this.requiresHandlers(["zoomStart","zoom","zoomEnd"]),r=this.element;this._dragZoomEnabled&&n&&i?(r.style.touchAction=this._touchAction||"",this._dragZoomEnabled=!1):this._dragZoomEnabled||n&&i||(r.style.touchAction="none",this._dragZoomEnabled=!0),this._toggleDomEvents(!n,!i)}},{key:"_toggleDomEvents",value:function(e,t){var n=this.domEvents;n&&(n.toggleDrag&&n.toggleDrag(e),n.toggleZoom&&n.toggleZoom(t))}},{key:"_createTooltip",value:function(){var e=this.options.tooltip;return this._sharedTooltip()?this._createSharedTooltip(e):new l4(this.chartService,e)}},{key:"_createSharedTooltip",value:function(e){return new c4(this._plotArea,e)}},{key:"applyDefaults",value:function(e,t){!function(e,t){var n,i,r,o=(t||{}).axisDefaults||{};function s(e){var t=(e||{}).color||i.color,r=RJ({},o,o[n],i,i[n],{line:{color:t},labels:{color:t},title:{color:t}},e);return delete r[n],r}for(var a=0;a<f6.length;a++)n=f6[a]+"Axis",i=e.axisDefaults||{},r=(r=[].concat(e[n])).map(s),e[n]=r.length>1?r:r[0]}(e,t),function(e,t){var n=e.series,i=n.length,r=e.seriesDefaults,o=RJ({},e.seriesDefaults),s=t?RJ({},t.seriesDefaults):{},a=RJ({},s);v6(o),v6(a);for(var l=0;l<i;l++){var u=n[l].type||e.seriesDefaults.type,c=RJ({data:[]},a,s[u],{tooltip:e.tooltip},o,r[u]);n[l]._defaults=c,n[l]=RJ({},c,n[l]),n[l].data=n[l].data||[]}}(e,t)}},{key:"applySeriesColors",value:function(){for(var e=this.options,t=e.series,n=e.seriesColors||[],i=0;i<t.length;i++){var r=t[i],o=n[i%n.length],s=r._defaults;r.color=r.color||o,s&&(s.color=s.color||o)}}},{key:"_getModel",value:function(){var e=this.options,t=this._createPlotArea(),n=new N0(this._modelOptions());return n.chart=this,n._plotArea=t,K0.buildTitle(e.title,n),e.legend&&e.legend.visible&&n.append(new n4(t.options.legend,this.chartService)),n.append(t),n.reflow(),n}},{key:"_modelOptions",value:function(){var e=this.options,t=this.getSize();return RJ({transitions:e.transitions,width:t.width||600,height:t.height||400},e.chartArea)}},{key:"_createPlotArea",value:function(e){var t=this.options;return i4.current.create(e?[]:t.series,t,this.chartService)}},{key:"_setupSelection",value:function(){for(var e=this._plotArea.axes,t=this._selections=[],n=0;n<e.length;n++){var i=e[n],r=i.options;if(i instanceof x1&&r.select&&!r.vertical){var o=i.range(),s=new a4(this,i,RJ({min:o.min,max:o.max},r.select));t.push(s)}}}},{key:"_selectStart",value:function(e){return this.trigger("selectStart",e)}},{key:"_select",value:function(e){return this.trigger("select",e)}},{key:"_selectEnd",value:function(e){return this.trigger("selectEnd",e)}},{key:"_initHandlers",value:function(){this._clickHandler=this._click.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=ex(this._mousemove.bind(this),20)}},{key:"addObserver",value:function(e){e&&this.observers.push(e)}},{key:"removeObserver",value:function(e){var t=this.observers.indexOf(e);t>=0&&this.observers.splice(t,1)}},{key:"requiresHandlers",value:function(e){for(var t=this.observers,n=0;n<t.length;n++)if(t[n].requiresHandlers(e))return!0}},{key:"trigger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"showTooltip"===e&&(t.anchor.point=this._toDocumentCoordinates(t.anchor.point)),t.sender=this;for(var n=this.observers,i=!1,r=0;r<n.length;r++)n[r].trigger(e,t)&&(i=!0);return i}},{key:"_attachEvents",value:function(){var e,t=this.element;this._touchAction=t.style.touchAction,o0(t,(_defineProperty(e={contextmenu:this._clickHandler},S2,this._mousewheelHandler),_defineProperty(e,"mouseleave",this._mouseleaveHandler),e)),this._shouldAttachMouseMove()&&o0(t,{mousemove:this._mousemove}),this.domEvents=GJ.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDragZoomEvents()}},{key:"_mouseleave",value:function(e){this._hoveredPoint&&(this._hoveredPoint.out(this,e),this._hoveredPoint=null),this._plotArea.hovered&&(this.trigger("plotAreaLeave"),this._plotArea.hovered=!1)}},{key:"_cancelDomEvents",value:function(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()}},{key:"_gesturestart",value:function(e){this._mousewheelZoom&&!this._stopChartHandlers(e)&&(this._gestureDistance=e.distance,this._unsetActivePoint(),this.surface.suspendTracking())}},{key:"_gestureend",value:function(e){this._zooming&&!this._stopChartHandlers(e)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger("zoomEnd",{}))}},{key:"_gesturechange",value:function(e){var t=this._mousewheelZoom;if(t&&!this._stopChartHandlers(e)){e.preventDefault();var n=-e.distance/this._gestureDistance+1;if(Math.abs(n)>=.1){n=Math.round(10*n),this._gestureDistance=e.distance;var i={delta:n,axisRanges:g6(this._plotArea.axes),originalEvent:e};!this._zooming&&this.trigger("zoomStart",i)||(this._zooming||(this._zooming=!0),(i.axisRanges=t.updateRanges(n))&&!this.trigger("zoom",i)&&t.zoom())}}}},{key:"_mouseout",value:function(e){if(e.element){var t=this._drawingChartElement(e.element,e);t&&t.leave&&t.leave(this,e.originalEvent)}}},{key:"_start",value:function(e){var t=this._eventCoordinates(e);!this._stopChartHandlers(e)&&this._plotArea.backgroundContainsPoint(t)&&(this.requiresHandlers(["dragStart","drag","dragEnd"])&&this._startNavigation(e,t,"dragStart"),this._pannable&&this._pannable.start(e)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._suppressHover=!0,this.chartService.panning=!0),this._zoomSelection&&this._zoomSelection.start(e)&&this.trigger("zoomStart",{axisRanges:g6(this._plotArea.axes),originalEvent:e}))}},{key:"_move",value:function(e){var t=this._navState,n=this._pannable;if(!this._stopChartHandlers(e)){if(n){var i=n.move(e);i&&!this.trigger("drag",{axisRanges:i,originalEvent:e})&&n.pan()}else if(t){for(var r={},o=t.axes,s=0;s<o.length;s++){var a=o[s];if(a.options.name){var l=a.options.vertical?e.y:e.x,u=l.startLocation-l.location;0!==u&&(r[a.options.name]=a.translateRange(u))}}t.axisRanges=r,this.trigger("drag",{axisRanges:r,originalEvent:e})}this._zoomSelection&&this._zoomSelection.move(e)}}},{key:"_end",value:function(e){if(!this._stopChartHandlers(e)){var t=this._pannable;if(t&&t.end(e)?(this.surface.resumeTracking(),this.trigger("dragEnd",{axisRanges:g6(this._plotArea.axes),originalEvent:e}),this._suppressHover=!1,this.chartService.panning=!1):this._endNavigation(e,"dragEnd"),this._zoomSelection){var n=this._zoomSelection.end(e);n&&!this.trigger("zoom",{axisRanges:n,originalEvent:e})&&(this._zoomSelection.zoom(),this.trigger("zoomEnd",{axisRanges:n,originalEvent:e}))}}}},{key:"_stopChartHandlers",value:function(e){var t=this._selections||[];if(!t.length)return!1;var n=this._eventCoordinates(e),i=this._plotArea.paneByPoint(n);if(i)for(var r=0;r<t.length;r++)if(t[r].onPane(i))return!0}},{key:"_mousewheel",value:function(e){var t=this,n=n0(e),i=this._mousewheelZoom,r=this._eventCoordinates(e);if(!this._stopChartHandlers(e)&&this._plotArea.backgroundContainsPoint(r))if(i){var o={delta:n,axisRanges:g6(this._plotArea.axes),originalEvent:e};!this._zooming&&this.trigger("zoomStart",o)||(e.preventDefault(),this._zooming||(this._unsetActivePoint(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),o.axisRanges=i.updateRanges(n),o.axisRanges&&!this.trigger("zoom",o)&&i.zoom(),this._mwTimeout=setTimeout((function(){t.trigger("zoomEnd",o),t._zooming=!1,t.surface&&t.surface.resumeTracking()}),150))}else{var s=this._navState;if(s||this._startNavigation(e,r,"zoomStart")||(s=this._navState),s){var a=s.totalDelta||n;s.totalDelta=a+n;for(var l=this._navState.axes,u={},c=0;c<l.length;c++){var h=l[c],f=h.options.name;f&&(u[f]=h.scaleRange(-a))}this.trigger("zoom",{delta:n,axisRanges:u,originalEvent:e}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout((function(){t._endNavigation(e,"zoomEnd")}),150)}}}},{key:"_startNavigation",value:function(e,t,n){var i=this._model._plotArea,r=i.findPointPane(t),o=i.axes.slice(0);if(r){var s=g6(o);this.trigger(n,{axisRanges:s,originalEvent:e})?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._navState={axisRanges:s,pane:r,axes:o})}}},{key:"_endNavigation",value:function(e,t){this._navState&&(this.trigger(t,{axisRanges:this._navState.axisRanges,originalEvent:e}),this._suppressHover=!1,this._navState=null)}},{key:"_getChartElement",value:function(e,t){var n=this.surface.eventTarget(e);if(n)return this._drawingChartElement(n,e,t)}},{key:"_drawingChartElement",value:function(e,t,n){for(var i,r=e;r&&!i;)i=r.chartElement,r=r.parent;if(i)return i.aliasFor&&(i=i.aliasFor(t,this._eventCoordinates(t))),n&&((i=i.closest(n))&&i.aliasFor&&(i=i.aliasFor())),i}},{key:"_eventCoordinates",value:function(e){var t=h0(e);return this._toModelCoordinates(t.x,t.y)}},{key:"_elementPadding",value:function(){if(!this._padding){var e=zJ(this.element,["paddingLeft","paddingTop"]),t=e.paddingLeft,n=e.paddingTop;this._padding={top:n,left:t}}return this._padding}},{key:"_toDocumentCoordinates",value:function(e){var t=this._elementPadding(),n=l0(this.element);return{left:g0(e.x+t.left+n.left),top:g0(e.y+t.top+n.top)}}},{key:"_toModelCoordinates",value:function(e,t){var n=l0(this.element),i=this._elementPadding();return new w0(e-n.left-i.left,t-n.top-i.top)}},{key:"_tap",value:function(e){var t=this,n=this.surface.eventTarget(e),i=this._drawingChartElement(n,e),r=this._sharedTooltip();this._startHover(n,e)||r||this._unsetActivePoint(),r&&this._trackSharedTooltip(this._eventCoordinates(e),e,!0),this._propagateClick(i,e),this.handlingTap=!0,setTimeout((function(){t.handlingTap=!1}),0)}},{key:"_click",value:function(e){var t=this._getChartElement(e);this._propagateClick(t,e)}},{key:"_propagateClick",value:function(e,t){for(var n=e;n;)n.click&&n.click(this,t),n=n.parent}},{key:"_startHover",value:function(e,t){if(this._suppressHover)return!1;var n=this._drawingChartElement(e,t,(function(e){return(e.hover||e.over)&&!(e instanceof d5)})),i=this._activePoint,r=this._hoveredPoint;return r&&r!==n&&(r.out(this,t),this._hoveredPoint=null),n&&r!==n&&n.over&&(this._hoveredPoint=n,n.over(this,t)),n&&i!==n&&n.hover&&(this._activePoint=n,!this._sharedTooltip()&&!n.hover(this,t))&&(RJ({},this.options.tooltip,n.options.tooltip).visible&&this._tooltip.show(n),this._highlight.show(n)),n}},{key:"_mouseover",value:function(e){var t=this._startHover(e.element,e.originalEvent);t&&t.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()&&(this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this),o0(document,{mousemove:this._mouseMoveTrackHandler}))}},{key:"_mouseMoveTracking",value:function(e){var t=this.options,n=this._tooltip,i=this._highlight,r=this._activePoint,o=this._eventCoordinates(e);if(this._plotArea.box.containsPoint(o)){if(r&&r.tooltipTracking&&r.series&&r.parent.getNearestPoint){var s=r.parent.getNearestPoint(o.x,o.y,r.seriesIx);s&&s!==r&&(this._activePoint=s,!s.hover(this,e))&&(RJ({},t.tooltip,s.options.tooltip).visible&&n.show(s),i.show(s))}}else m0(document,{mousemove:this._mouseMoveTrackHandler}),this._unsetActivePoint(),this._mouseMoveTrackHandler=null}},{key:"_mousemove",value:function(e){var t=this._eventCoordinates(e),n=this._plotArea;if(this._trackCrosshairs(t),n.hover){var i=n.backgroundContainsPoint(t);i?(n.hovered=!0,this._plotArea.hover(this,e)):n.hovered&&!i&&(this.trigger("plotAreaLeave"),n.hovered=!1)}this._sharedTooltip()&&this._trackSharedTooltip(t,e)}},{key:"_trackCrosshairs",value:function(e){for(var t=this._plotArea.crosshairs,n=0;n<t.length;n++){var i=t[n];i.box.containsPoint(e)?i.showAt(e):i.hide()}}},{key:"_trackSharedTooltip",value:function(e,t,n){if(!this._suppressHover){var i=this.options.tooltip,r=this._plotArea,o=this._plotArea.categoryAxis,s=this._tooltip,a=this._highlight;if(r.backgroundContainsPoint(e)){var l=o.pointCategoryIndex(e);if(l!==this._tooltipCategoryIx||!this._sharedHighlight&&n){var u=r.pointsByCategoryIndex(l),c=u.map((function(e){return e.eventArgs(t)})),h=c[0]||{};h.categoryPoints=c,u.length>0&&!this.trigger("seriesHover",h)?(i.visible&&s.showAt(u,e),a.show(u),this._sharedHighlight=!0):s.hide(),this._tooltipCategoryIx=l}else n&&this._sharedHighlight&&(a.hide(),s.hide(),this._sharedHighlight=!1)}else this._sharedHighlight&&(a.hide(),s.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1)}}},{key:"hideElements",value:function(){var e=this._plotArea;this._mousemove.cancel(),e.hideCrosshairs(),this._unsetActivePoint()}},{key:"_unsetActivePoint",value:function(){var e=this._tooltip,t=this._highlight;this._activePoint=null,this._hoveredPoint=null,e&&e.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1,t&&t.hide()}},{key:"_deferRedraw",value:function(){this._redraw()}},{key:"_clearRedrawTimeout",value:function(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)}},{key:"bindCategories",value:function(){for(var e=[].concat(this.options.categoryAxis),t=0;t<e.length;t++){var n=e[t];!1!==n.autoBind&&this.bindCategoryAxisFromSeries(n,t)}}},{key:"bindCategoryAxisFromSeries",value:function(e,t){for(var n,i=this.options.series,r=i.length,o=new XJ,s=[],a=!1,l=0;l<r;l++){var u=i[l],c=u.categoryAxis===e.name||!u.categoryAxis&&0===t,h=u.data,f=h.length,d=u.categoryField&&c;if(a=d||a,d&&f>0)for(var p=(n=n5(e,f2(u.categoryField,h[0])))?t5:f2,v=0;v<f;v++){var g=h[v],m=p(u.categoryField,g,this.chartService.intl);!n&&o.get(m)||(s.push([m,g]),n||o.set(m,!0))}}if(s.length>0){n&&(s=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p1,n=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p1,n=1,i=e.length;n<i;n++)if(t(e[n],e[n-1])<0){e.sort(t);break}return e}(e,t),i=n.length,r=i>0?[n[0]]:[],o=1;o<i;o++)0!==t(n[o],f0(r))&&r.push(n[o]);return r}(s,(function(e,t){return p1(e[0],t[0])})));var y=function(e){for(var t=e.length,n=[],i=0;i<t;i++)for(var r=e[i],o=r.length,s=0;s<o;s++)n[s]=n[s]||[],n[s].push(r[s]);return n}(s);e.categories=y[0]}else a&&(e.categories=[])}},{key:"_isBindable",value:function(e){for(var t=p2.current.valueFields(e),n=!0,i=0;i<t.length;i++){var r=t[i];if(r===mJ?r="field":r+="Field",!s0(e[r])){n=!1;break}}return n}},{key:"_noTransitionsRedraw",value:function(){var e,t=this.options;!1!==t.transitions&&(t.transitions=!1,e=!0),this._redraw(),e&&(t.transitions=!0)}},{key:"_legendItemHover",value:function(e,t){var n,i=this._plotArea,r=this._highlight;n=QJ((i.srcSeries||i.series)[e].type,[C2,"donut","funnel"])?i.findPoint((function(n){return n.series.index===e&&n.index===t})):i.pointsBySeriesIndex(e),r.show(n)}},{key:"_shouldAttachMouseMove",value:function(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers(["plotAreaHover","plotAreaLeave"])}},{key:"updateMouseMoveHandler",value:function(){m0(this.element,{mousemove:this._mousemove}),this._shouldAttachMouseMove()&&o0(this.element,{mousemove:this._mousemove})}},{key:"applyOptions",value:function(e,t){y6(this._originalOptions,e),this._originalOptions=RJ(this._originalOptions,e),this.options=RJ({},this._originalOptions),t&&(this._theme=t,this.chartService.theme=t),this._initTheme(this.options,this._theme),this._toggleDragZoomEvents()}},{key:"setOptions",value:function(e,t){this.applyOptions(e,t),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler()}},{key:"setDirection",value:function(e){this.chartService.rtl=Boolean(e),this.surface&&"svg"===this.surface.type&&this._destroySurface()}},{key:"setIntlService",value:function(e){this.chartService.intl=e}},{key:"noTransitionsRedraw",value:function(){this._noTransitionsRedraw()}},{key:"destroy",value:function(){var e;this._destroyed=!0,m0(this.element,(_defineProperty(e={contextmenu:this._clickHandler},S2,this._mousewheelHandler),_defineProperty(e,"mousemove",this._mousemove),_defineProperty(e,"mouseleave",this._mouseleaveHandler),e)),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),this._mouseMoveTrackHandler&&m0(document,{mousemove:this._mouseMoveTrackHandler}),this._destroyView(),this._destroySurface(),this._clearRedrawTimeout()}},{key:"_destroySurface",value:function(){var e=this.surface;e&&(e.unbind("mouseenter",this._surfaceMouseenterHandler),e.unbind("mouseleave",this._surfaceMouseleaveHandler),e.destroy(),this.surface=null)}},{key:"_destroySelections",value:function(){var e=this._selections;if(e)for(;e.length>0;)e.shift().destroy()}},{key:"_destroyView",value:function(){var e=this._model;e&&(e.destroy(),this._model=null),this._unsetActivePoint(),this._destroySelections(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)}}]),t}(Vw);function p6(e,t){if(e)for(var n=0;n<e.length;n++)if(e[n].category===t)return[e[n]]}function v6(e){delete e.bar,delete e.column,delete e.rangeColumn,delete e.line,delete e.verticalLine,delete e.pie,delete e.donut,delete e.area,delete e.verticalArea,delete e.scatter,delete e.scatterLine,delete e.bubble,delete e.candlestick,delete e.ohlc,delete e.boxPlot,delete e.bullet,delete e.verticalBullet,delete e.polarArea,delete e.polarLine,delete e.radarArea,delete e.radarLine,delete e.waterfall}function g6(e){for(var t={},n=0;n<e.length;n++){var i=e[n],r=i.options.name;r&&(t[r]=i.range())}return t}var m6=["data","categories"];function y6(e,t){for(var n in t)if(!QJ(n,m6)&&t.hasOwnProperty(n)){var i=t[n],r=e[n];if(s0(r)){var o=null===i;o||!s0(i)?(delete e[n],o&&delete t[n]):r&&PJ(i)&&PJ(r)&&y6(r,i)}}}function k6(e){for(var t=0;t<e.length;t++)e[t].notifyRender()}b0(d6,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},seriesDefaults:{type:b2,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1});var b6=d6,_6=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"_slotAnchor",value:function(e,t){var n=this.plotArea.categoryAxis.options.vertical,i=n?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"};return{point:n?new w0(this.plotArea.box.x2,t.center().y):new w0(t.center().x,-2),align:i}}},{key:"_defaultAnchor",value:function(e,t){return this._slotAnchor({},t)}}]),t}(c4),C6=[k2,"bullet"];function w6(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t[n]=i.style.display,i.style.display="none"}return t}function x6(e,t){for(var n=0;n<e.length;n++)e[n].style.display=t[n]}function S6(e){return TJ(e)?[e]:e}b0(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"_setElementClass",value:function(e){CJ(e,"k-sparkline")}},{key:"_initElement",value:function(e){_get(_getPrototypeOf(t.prototype),"_initElement",this).call(this,e),this._initialWidth=Math.floor(u0(e).width)}},{key:"_resize",value:function(){var e=this.element,n=w6(e.childNodes);this._initialWidth=Math.floor(u0(e).width),x6(e.childNodes,n),_get(_getPrototypeOf(t.prototype),"_resize",this).call(this)}},{key:"_modelOptions",value:function(){var e=this.options,t=this._surfaceWrap(),n=w6(t.childNodes),i=document.createElement("span");i.innerHTML="&nbsp;",t.appendChild(i);var r=RJ({width:this._autoWidth,height:u0(t).height,transitions:e.transitions},e.chartArea,{inline:!0,align:!1});return u0(t,{width:r.width,height:r.height}),t.removeChild(i),x6(t.childNodes,n),this.surface&&this.surface.resize(),r}},{key:"_surfaceWrap",value:function(){if(!this.stage){var e=this.stage=document.createElement("span");this.element.appendChild(e)}return this.stage}},{key:"_createPlotArea",value:function(e){var n=_get(_getPrototypeOf(t.prototype),"_createPlotArea",this).call(this,e);return this._autoWidth=this._initialWidth||this._calculateWidth(n),n}},{key:"_calculateWidth",value:function(e){for(var t=this.options,n=LJ(t.chartArea.margin),i=e.charts,r=this._surfaceWrap(),o=0,s=0;s<i.length;s++){var a=i[s],l=(a.options.series||[])[0];if(l){if(l.type===k2)return 150;if("bullet"===l.type)return 150;if(l.type===C2)return u0(r).height;var u=a.categoryAxis;if(u){var c=u.categoriesCount()*(!a.options.isStacked&&QJ(l.type,[b2,"verticalBullet"])?a.seriesOptions.length:1);o=Math.max(o,c)}}}var h=o*t.pointWidth;return h>0&&(h+=n.left+n.right),h}},{key:"_createSharedTooltip",value:function(e){return new _6(this._plotArea,e)}}],[{key:"normalizeOptions",value:function(e){var t=S6(e);return(t=_J(t)?{seriesDefaults:{data:t}}:RJ({},t)).series||(t.series=[{data:S6(t.data)}]),RJ(t,{seriesDefaults:{type:t.type}}),(QJ(t.series[0].type,C6)||QJ(t.seriesDefaults.type,C6))&&(t=RJ({},{categoryAxis:{crosshair:{visible:!1}}},t)),t}}]),t}(b6),{chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]});var T6=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"setup",value:function(){this._initialOpacity=parseFloat(zJ(this.element,"opacity").opacity)}},{key:"step",value:function(e){zJ(this.element,{opacity:String(JJ(this._initialOpacity,0,e))})}},{key:"abort",value:function(){_get(_getPrototypeOf(t.prototype),"abort",this).call(this),zJ(this.element,{display:"none",opacity:String(this._initialOpacity)})}},{key:"cancel",value:function(){_get(_getPrototypeOf(t.prototype),"abort",this).call(this),zJ(this.element,{opacity:String(this._initialOpacity)})}}]),t}(m.Animation);function O6(e,t){var n=document.createElement("div");return n.className=e,t&&(n.style.cssText=t),n}var I6=function(e){function t(e,n,i){var r;_classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).options=RJ({},r.options,i),r.container=e,r.chartService=n;var o=zJ(e,["paddingLeft","paddingTop"]);return r.chartPadding={top:o.paddingTop,left:o.paddingLeft},r.createElements(),e.appendChild(r.element),r}return _inherits(t,e),_createClass(t,[{key:"createElements",value:function(){var e=this.element=O6("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;"),t=this.tooltip=O6("k-tooltip k-chart-tooltip"),n=this.scroll=O6("k-scroll");t.innerHTML="&nbsp;",e.appendChild(t),e.appendChild(n)}},{key:"show",value:function(e,t,n){var i=this.element,r=this.options,o=this.scroll,s=this.tooltip,a=u1(g1(e)+g1(t-e)/2),l=.4*n.width(),u=n.center().x-l,c=(n.center().x-u)/(r.max-r.min),h=a-r.min,f=this.chartService.intl.format(r.format,e,t),d=WJ(r);this.clearHideTimeout(),this._visible||(zJ(i,{visibility:"hidden",display:"block"}),this._visible=!0),d&&(f=d({from:e,to:t})),s.innerHTML=f,zJ(s,{left:n.center().x-s.offsetWidth/2,top:n.y1});var p=zJ(s,["marginTop","borderTopWidth","height"]);zJ(o,{width:l,left:u+h*c,top:n.y1+p.marginTop+p.borderTopWidth+p.height/2}),zJ(i,{visibility:"visible"})}},{key:"clearHideTimeout",value:function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideAnimation&&this._hideAnimation.cancel()}},{key:"hide",value:function(){var e=this;this.clearHideTimeout(),this._hideTimeout=setTimeout((function(){e._visible=!1,e._hideAnimation=new T6(e.element),e._hideAnimation.setup(),e._hideAnimation.play()}),this.options.hideDelay)}},{key:"destroy",value:function(){this.clearHideTimeout(),this.container&&this.container.removeChild(this.element),delete this.container,delete this.chartService,delete this.element,delete this.tooltip,delete this.scroll}}]),t}(Vw);b0(I6,{format:"{0:d} - {1:d}",hideDelay:500});var E6=I6;function A6(){}var R6=function(e){function t(e){var n;_classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).chart=e;var i=n.options=RJ({},n.options,e.options.navigator),r=i.select;return r&&(r.from=n.parseDate(r.from),r.to=n.parseDate(r.to)),s0(i.hint.visible)||(i.hint.visible=i.visible),n.chartObserver=new e0(_assertThisInitialized(n),{drag:"_drag",dragEnd:"_dragEnd",zoom:"_zoom",zoomEnd:"_zoomEnd"}),e.addObserver(n.chartObserver),n}return _inherits(t,e),_createClass(t,[{key:"parseDate",value:function(e){return _1(this.chart.chartService.intl,e)}},{key:"clean",value:function(){this.selection&&(this.selection.destroy(),this.selection=null),this.hint&&(this.hint.destroy(),this.hint=null)}},{key:"destroy",value:function(){this.chart&&(this.chart.removeObserver(this.chartObserver),delete this.chart),this.clean()}},{key:"redraw",value:function(){this._redrawSelf(),this.initSelection()}},{key:"initSelection",value:function(){var e=this.chart,t=this.options,n=this.mainAxis(),i=n.roundedRange(),r=i.min,o=i.max,s=t.select,a=s.from,l=s.to,u=s.mousewheel,c=(A6.prototype=n,new A6);0!==n.categoriesCount()&&(this.clean(),c.box=n.box,this.selection=new a4(e,c,{min:r,max:o,from:a||r,to:l||o,mousewheel:y0(u,{zoom:"left"}),visible:t.visible},new e0(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"})),t.hint.visible&&(this.hint=new E6(e.element,e.chartService,{min:r,max:o,template:WJ(t.hint),format:t.hint.format})))}},{key:"setRange",value:function(){var e=this.chart._createPlotArea(!0).namedCategoryAxes._navigator.roundedRange(),t=e.min,n=e.max,i=this.options.select||{},r=i.from||t;r<t&&(r=t);var o=i.to||n;o>n&&(o=n),this.options.select=RJ({},i,{from:r,to:o}),this.filterAxes()}},{key:"_redrawSelf",value:function(e){var t=this.chart._plotArea;t&&t.redraw(f0(t.panes),e)}},{key:"redrawSlaves",value:function(){var e=this.chart,t=e._plotArea,n=t.panes.slice(0,-1);t.srcSeries=e.options.series,t.options.categoryAxis=e.options.categoryAxis,t.clearSeriesPointsCache(),t.redraw(n)}},{key:"_drag",value:function(e){var t,n=this.chart,i=this.selection,r=n._eventCoordinates(e.originalEvent),o=this.mainAxis(),s=o.roundedRange(),a=o.pane.box.containsPoint(r),l=e.axisRanges[n._plotArea.categoryAxis.options.name],u=this.options.select;if(l&&!a&&i){t=u.from&&u.to?g1(u.to)-g1(u.from):g1(i.options.to)-g1(i.options.from);var c=u1(d0(g1(l.min),s.min,g1(s.max)-t)),h=u1(d0(g1(c)+t,g1(s.min)+t,s.max));this.options.select={from:c,to:h},this.options.liveDrag&&(this.filterAxes(),this.redrawSlaves()),i.set(c,h),this.showHint(c,h)}}},{key:"_dragEnd",value:function(){this.filterAxes(),this.filter(),this.redrawSlaves(),this.hint&&this.hint.hide()}},{key:"readSelection",value:function(){var e=this.selection.options,t=e.from,n=e.to,i=this.options.select;i.from=t,i.to=n}},{key:"filterAxes",value:function(){for(var e=this.options.select,t=void 0===e?{}:e,n=this.chart.options.categoryAxis,i=t.from,r=t.to,o=0;o<n.length;o++){var s=n[o];"_navigator"!==s.pane&&(s.min=i,s.max=r)}}},{key:"filter",value:function(){var e=this.chart,t=this.options.select;if(e.requiresHandlers(["navigatorFilter"])){var n=this.mainAxis(),i={from:t.from,to:t.to};if("category"!==n.options.type){var r=new P1(RJ({baseUnit:"fit"},e.options.categoryAxis[0],{categories:[t.from,t.to]}),e.chartService).options;i.from=h1(r.min,-r.baseUnitStep,r.baseUnit),i.to=h1(r.max,r.baseUnitStep,r.baseUnit)}this.chart.trigger("navigatorFilter",i)}}},{key:"_zoom",value:function(e){var t=this.chart._plotArea.categoryAxis,n=this.selection,i=this.options,r=i.select,o=i.liveDrag,s=this.mainAxis(),a=e.delta;if(n){var l=s.categoryIndex(n.options.from),u=s.categoryIndex(n.options.to);e.originalEvent.preventDefault(),Math.abs(a)>1&&(a*=3),u-l>1?(n.expand(a),this.readSelection()):(t.options.min=r.from,r.from=t.scaleRange(-e.delta).min),o&&(this.filterAxes(),this.redrawSlaves()),n.set(r.from,r.to),this.showHint(this.options.select.from,this.options.select.to)}}},{key:"_zoomEnd",value:function(e){this._dragEnd(e)}},{key:"showHint",value:function(e,t){this.hint&&this.hint.show(e,t,this.chart._plotArea.backgroundBox())}},{key:"_selectStart",value:function(e){return this.chart._selectStart(e)}},{key:"_select",value:function(e){return this.showHint(e.from,e.to),this.chart._select(e)}},{key:"_selectEnd",value:function(e){return this.hint&&this.hint.hide(),this.readSelection(),this.filterAxes(),this.filter(),this.redrawSlaves(),this.chart._selectEnd(e)}},{key:"mainAxis",value:function(){var e=this.chart._plotArea;if(e)return e.namedCategoryAxes._navigator}},{key:"select",value:function(e,t){var n=this.options.select;return e&&t&&(n.from=this.parseDate(e),n.to=this.parseDate(t),this.filterAxes(),this.filter(),this.redrawSlaves(),this.selection.set(e,t)),{from:n.from,to:n.to}}}],[{key:"setup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.__navi){e.__navi=!0;var i=RJ({},n.navigator,e.navigator),r=e.panes=[].concat(e.panes),o=RJ({},i.pane,{name:"_navigator"});i.visible||(o.visible=!1,o.height=.1),r.push(o),t.attachAxes(e,i),t.attachSeries(e,i,n)}}},{key:"attachAxes",value:function(e,t){var n=t.series||[],i=e.categoryAxis=[].concat(e.categoryAxis),r=e.valueAxis=[].concat(e.valueAxis),o=0===e5(n,x2).length,s=RJ({type:"date",pane:"_navigator",roundToBaseUnit:!o,justified:o,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:t.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}}),a=t.categoryAxis;i.push(RJ({},s,{maxDateGroups:200},a,{name:"_navigator",title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),RJ({},s,a,{name:"_navigator_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:!0}),RJ({},s,a,{name:"_navigator_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0},_overlap:!0})),r.push(RJ({name:"_navigator",pane:"_navigator",majorGridLines:{visible:!1},visible:!1},t.valueAxis))}},{key:"attachSeries",value:function(e,t,n){for(var i=e.series=e.series||[],r=[].concat(t.series||[]),o=n.seriesColors,s=t.seriesDefaults,a=0;a<r.length;a++)i.push(RJ({color:o[a%o.length],categoryField:t.dateField,visibleInLegend:!1,tooltip:{visible:!1}},s,r[a],{axis:"_navigator",categoryAxis:"_navigator",autoBind:t.autoBindElements}))}}]),t}(Vw);b0(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"applyDefaults",value:function(e,n){var i=u0(this.element).width||600,r=n,o={seriesDefaults:{categoryField:e.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:Math.floor(i/28)}}};r&&(r=RJ({},r,o)),R6.setup(e,r),_get(_getPrototypeOf(t.prototype),"applyDefaults",this).call(this,e,r)}},{key:"_setElementClass",value:function(e){CJ(e,"k-chart k-stockchart")}},{key:"setOptions",value:function(e){this.destroyNavigator(),_get(_getPrototypeOf(t.prototype),"setOptions",this).call(this,e)}},{key:"noTransitionsRedraw",value:function(){var e=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=e}},{key:"_resize",value:function(){this.noTransitionsRedraw()}},{key:"_redraw",value:function(){var e=this.navigator;!this._dirty()&&e&&e.options.partialRedraw?e.redrawSlaves():this._fullRedraw()}},{key:"_dirty",value:function(){var e=this.options,t=KJ([].concat(e.series,e.navigator.series),(function(e){return e&&e.visible})).length,n=this._seriesCount!==t;return this._seriesCount=t,n}},{key:"_fullRedraw",value:function(){var e=this.navigator;e||(e=this.navigator=new R6(this),this.trigger("navigatorCreated",{navigator:e})),e.clean(),e.setRange(),_get(_getPrototypeOf(t.prototype),"_redraw",this).call(this),e.initSelection()}},{key:"_trackSharedTooltip",value:function(e){var n=this._plotArea.paneByPoint(e);n&&"_navigator"===n.options.name?this._unsetActivePoint():_get(_getPrototypeOf(t.prototype),"_trackSharedTooltip",this).call(this,e)}},{key:"bindCategories",value:function(){_get(_getPrototypeOf(t.prototype),"bindCategories",this).call(this),this.copyNavigatorCategories()}},{key:"copyNavigatorCategories",value:function(){for(var e,t=[].concat(this.options.categoryAxis),n=0;n<t.length;n++){var i=t[n];"_navigator"===i.name?e=i.categories:e&&"_navigator"===i.pane&&(i.categories=e)}}},{key:"destroyNavigator",value:function(){this.navigator&&(this.navigator.destroy(),this.navigator=null)}},{key:"destroy",value:function(){this.destroyNavigator(),_get(_getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_stopChartHandlers",value:function(e){var n=this._eventCoordinates(e),i=this._plotArea.paneByPoint(n);return _get(_getPrototypeOf(t.prototype),"_stopChartHandlers",this).call(this,e)||i&&"_navigator"===i.options.name}},{key:"_toggleDragZoomEvents",value:function(){this._dragZoomEnabled||(this.element.style.touchAction="none",this._dragZoomEnabled=!0)}}]),t}(b6),{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}});var P6=Math.PI/180;function D6(e,t){var n=e.getOrigin(),i=e.getSize(),r=LJ(t);return e.setOrigin([n.x-r.left,n.y-r.top]),e.setSize([i.width+(r.left+r.right),i.height+(r.top+r.bottom)]),e}var F6=m.Group,M6=m.Path,z6=m.Text;function L6(e,t){var n=e.box,i=e.children[0].box,r=t.border||{},o=t.background||"",s=M6.fromRect(new p.Rect([n.x1,n.y1],[n.width(),n.height()]),{stroke:{}}),a=new z6(e.text,new p.Point(i.x1,i.y1),{font:t.font,fill:{color:t.color}}),l=D6(a.bbox().clone(),t.padding),u=M6.fromRect(l,{stroke:{color:r.width?r.color:"",width:r.width,opacity:r.opacity,dashType:r.dashType,lineJoin:"round",lineCap:"round"},fill:{color:o}}),c=new F6;return c.append(s),c.append(u),c.append(a),c}function V6(e,t,n){var i=s0(e.from)?e.from:vJ,r=s0(e.to)?e.to:pJ;return e.from=Math.max(Math.min(r,i),t),e.to=Math.min(Math.max(r,i),n),e}function N6(e,t){var n=LJ(t);return n.left=-n.left,n.top=-n.top,n.right=-n.right,n.bottom=-n.bottom,D6(e,n)}var B6=m.Path,j6=m.Surface,H6=function(e){function t(e,n,i){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).element=e,r.theme=i,r.contextService=new HJ(_assertThisInitialized(r),o),r._originalOptions=RJ({},r.options,n),r.options=RJ({},r._originalOptions),r._initTheme(i),r.redraw(),r}return _inherits(t,e),_createClass(t,[{key:"destroy",value:function(){this.surface&&(this.surface.destroy(),this.surface=null),delete this.element,delete this.surfaceElement}},{key:"value",value:function(e){var t=this.pointers[0];if(0===arguments.length)return t.value();t.value(e),this._setValueOptions(e)}},{key:"_draw",value:function(){var e=this.surface;e.clear(),e.draw(this._visuals)}},{key:"exportVisual",value:function(){return this._visuals}},{key:"allValues",value:function(e){var t=this.pointers,n=[];if(0===arguments.length){for(var i=0;i<t.length;i++)n.push(t[i].value());return n}if(_J(e))for(var r=0;r<e.length;r++)TJ(e[r])&&t[r].value(e[r]);this._setValueOptions(e)}},{key:"_setValueOptions",value:function(e){for(var t=[].concat(this.options.pointer),n=[].concat(e),i=0;i<n.length;i++)t[i].value=n[i]}},{key:"resize",value:function(){this.noTransitionsRedraw()}},{key:"noTransitionsRedraw",value:function(){var e=this.options.transitions;this._toggleTransitions(!1),this.redraw(),this._toggleTransitions(e)}},{key:"redraw",value:function(){var e=this._surfaceSize(),t=new p.Rect([0,0],[e.width,e.height]);this._initSurface(),this.gaugeArea=this._createGaugeArea(),this._createModel();var n=N6(t.bbox(),this._gaugeAreaMargin);this.reflow(n)}},{key:"setOptions",value:function(e,t){this._originalOptions=RJ(this._originalOptions,e),this.options=RJ({},this._originalOptions),this._initTheme(t),this.redraw()}},{key:"setDirection",value:function(e){this.contextService.rtl=Boolean(e),this.surface&&"svg"===this.surface.type&&(this.surface.destroy(),this.surface=null)}},{key:"setIntlService",value:function(e){this.contextService.intl=e}},{key:"_initTheme",value:function(e){var t=e||this.theme||{};this.theme=t,this.options=RJ({},t,this.options);var n=this.options,i=n.pointer;if(_J(i)){for(var r=[],o=0;o<i.length;o++)r.push(RJ({},t.pointer,i[o]));n.pointer=r}}},{key:"_createGaugeArea",value:function(){var e=this.options.gaugeArea,t=this.surface.size(),n=e.border||{},i=new p.Rect([0,0],[t.width,t.height]);return this._gaugeAreaMargin=e.margin||5,n.width>0&&(i=N6(i,n.width)),B6.fromRect(i,{stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType,lineJoin:"round",lineCap:"round"},fill:{color:e.background}})}},{key:"_initSurface",value:function(){var e=this.options,t=this.surface,n=this._surfaceElement(),i=this._surfaceSize();u0(n,i),t&&t.options.type===e.renderAs?(this.surface.clear(),this.surface.resize()):(t&&t.destroy(),this.surface=j6.create(n,{type:e.renderAs}))}},{key:"_surfaceSize",value:function(){var e=this.options,t=this._getSize();return e.gaugeArea&&RJ(t,e.gaugeArea),t}},{key:"_surfaceElement",value:function(){return this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement)),this.surfaceElement}},{key:"getSize",value:function(){return this._getSize()}},{key:"_getSize",value:function(){var e=this.element,t=this._defaultSize(),n=e.offsetWidth,i=e.offsetHeight;return n||(n=t.width),i||(i=t.height),{width:n,height:i}}},{key:"_defaultSize",value:function(){return{width:200,height:200}}},{key:"_toggleTransitions",value:function(e){this.options.transitions=e;for(var t=0;t<this.pointers.length;t++)this.pointers[t].options.animation.transitions=e}}]),t}(Vw);b0(H6,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}});var G6=H6,U6=m.Path,W6=m.Group,q6=p.Point;function Z6(e,t){var n,i,r=e.position,o=e.tickX,s=e.tickY;return e.vertical?(n=new q6(o,r),i=new q6(o+t.size,r)):(n=new q6(r,s),i=new q6(r,s+t.size)),new U6({stroke:{color:t.color,width:t.width}}).moveTo(n).lineTo(i)}function $6(e,t,n,i){var r=t.length;if(i.visible)for(var o=n.mirror,s=n.lineBox,a=i.skip;a<r;a+=i.step)a%i.skipUnit!=0&&(n.tickX=o?s.x2:s.x2-i.size,n.tickY=o?s.y1-i.size:s.y1,n.position=t[a],e.append(Z6(n,i)))}var K6=function(e){function t(e,n){var i;_classCallCheck(this,t);var r=e||{};return!s0(r.reverse)&&!1===r.vertical&&(n||{}).rtl&&(r=Object.assign({},r,{reverse:!0})),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,0,1,r,n))).options.minorUnit=i.options.minorUnit||i.options.majorUnit/10,i}return _inherits(t,e),_createClass(t,[{key:"initUserOptions",value:function(e){var t=RJ({},this.options,e);return(t=RJ({},t,{labels:{mirror:t.mirror}})).majorUnit=t.majorUnit||C0(t.min,t.max),t}},{key:"initFields",value:function(){}},{key:"render",value:function(){var e=this.elements=new W6,t=this.renderLabels(),n=this.renderLine(),i=this.renderTicks(),r=this.renderRanges();return e.append(n,t,i,r),e}},{key:"renderRanges",value:function(){for(var e=this.options,t=e.min,n=e.max,i=e.vertical,r=e.labels.mirror,o=e.ranges||[],s=new W6,a=o.length,l=e.rangeSize||e.minorTicks.size/2,u=0;u<a;u++){var c=V6(o[u],t,n),h=this.getSlot(c.from,c.to),f=i?this.lineBox():h,d=i?h:this.lineBox();i?f.x1-=l*(r?-1:1):d.y2+=l*(r?-1:1),s.append(U6.fromRect(new p.Rect([f.x1,d.y1],[f.x2-f.x1,d.y2-d.y1]),{fill:{color:c.color,opacity:c.opacity},stroke:{}}))}return s}},{key:"renderLabels",value:function(){for(var e=this.labels,t=this.options,n=new W6,i=0;i<e.length;i++)n.append(L6(e[i],t.labels));return n}},{key:"renderLine",value:function(){var e=this.options.line,t=this.lineBox(),n=new W6;if(e.width>0&&e.visible){var i=new U6({stroke:{color:e.color,dashType:e.dashType,width:e.width}});i.moveTo(t.x1,t.y1).lineTo(t.x2,t.y2),n.append(i)}return n}},{key:"renderTicks",value:function(){var e=new W6,t=this.options,n=t.majorTicks.visible?t.majorUnit:0,i={vertical:t.vertical,mirror:t.labels.mirror,lineBox:this.lineBox()};return $6(e,this.getMajorTickPositions(),i,t.majorTicks),$6(e,this.getMinorTickPositions(),i,RJ({},{skipUnit:n/t.minorUnit},t.minorTicks)),e}}]),t}(N1);b0(K6,{min:0,max:50,majorTicks:{size:15,align:"inside",color:lJ,width:.5,visible:!0},minorTicks:{size:10,align:"inside",color:lJ,width:.5,visible:!0},line:{width:.5},labels:{position:"inside",padding:2},mirror:!1,_alignLines:!1});var Y6=K6,X6=function(e){function t(e,n){var i;_classCallCheck(this,t),i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this));var r=e.options,o=r.min,s=r.max,a=i.options=RJ({},i.options,n);return a.fill=a.color,i.scale=e,a.value=s0(a.value)?d0(a.value,o,s):o,i}return _inherits(t,e),_createClass(t,[{key:"value",value:function(e){var t=this.options;if(0===arguments.length)return t.value;var n=this.scale.options,i=n.min,r=n.max;t._oldValue=s0(t._oldValue)?t.value:i,t.value=d0(e,i,r),this.elements&&this.repaint()}}]),t}(Vw);b0(X6,{color:lJ});var Q6=X6,J6=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).options=RJ({track:{visible:s0(n.track)}},i.options),i}return _inherits(t,e),_createClass(t,[{key:"reflow",value:function(){var e,t,n,i=this.options,r=this.scale,o=r.options,s=o.mirror,a=o.vertical,l=r.lineBox(),u=i.track.size||i.size,c=i.size/2,h=LJ(i.margin),f=a?h[s?"left":"right"]:h[s?"bottom":"top"];f=s?-f:f,a?(n=new S0(l.x1+f,l.y1,l.x1+f,l.y2),s?n.x1-=u:n.x2+=u,"barPointer"!==i.shape&&(e=t=new S0(l.x2+f,l.y1-c,l.x2+f,l.y2+c))):(n=new S0(l.x1,l.y1-f,l.x2,l.y1-f),s?n.y2+=u:n.y1-=u,"barPointer"!==i.shape&&(e=t=new S0(l.x1-c,l.y1-f,l.x2+c,l.y1-f))),this.trackBox=n,this.pointerRangeBox=t,this.box=e||n.clone().pad(i.border.width)}},{key:"getElementOptions",value:function(){var e=this.options;return{fill:{color:e.color,opacity:e.opacity},stroke:s0(e.border)?{color:e.border.width?e.border.color||e.color:"",width:e.border.width,dashType:e.border.dashType,opacity:e.opacity}:null}}},{key:"_margin",value:function(){var e=this.scale,t=this.options,n=e.options,i=n.mirror,r=n.vertical,o=LJ(t.margin);return r?o[i?"left":"right"]:o[i?"bottom":"top"]}}]),t}(Q6);b0(J6,{shape:"barPointer",track:{border:{width:1}},color:lJ,border:{width:1},opacity:1,margin:LJ(3),animation:{type:"barPointer"},visible:!0});var e8=J6,t8=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"setup",value:function(){var e=this.options,t=e.margin,n=e.from,i=e.to,r=e.vertical,o=r?"x1":"y1";e.mirror===r?(n[o]-=t,i[o]-=t):(n[o]+=t,i[o]+=t);var s=this.fromScale=new p.Point(n.x1,n.y1),a=this.toScale=new p.Point(i.x1,i.y1);0!==e.duration&&(e.duration=Math.max(s.distanceTo(a)/e.duration*1e3,1))}},{key:"step",value:function(e){var t=JJ(this.fromScale.x,this.toScale.x,e),n=JJ(this.fromScale.y,this.toScale.y,e);this.element.transform(p.transform().translate(t,n))}}]),t}(m.Animation);b0(t8,{easing:"linear",duration:250}),m.AnimationFactory.current.register("arrowPointer",t8);var n8=t8,i8=p.Point,r8=m.Path,o8=function(e){function t(e,n){var i;return _classCallCheck(this,t),i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n)),s0(i.options.size)||(i.options.size=.6*i.scale.options.majorTicks.size),i}return _inherits(t,e),_createClass(t,[{key:"pointerShape",value:function(){var e=this.scale,t=this.options.size,n=t/2,i=e.options.mirror?-1:1;return e.options.vertical?[new i8(0,0-n),new i8(0-i*t,0),new i8(0,0+n)]:[new i8(0-n,0),new i8(0,0+i*t),new i8(0+n,0)]}},{key:"repaint",value:function(){var e=this.scale,t=this.options,n=new n8(this.elements,RJ(t.animation,{vertical:e.options.vertical,mirror:e.options.mirror,margin:this._margin(t.margin),from:e.getSlot(t._oldValue),to:e.getSlot(t.value)}));!1===t.animation.transitions&&(n.options.duration=0),n.setup(),n.play()}},{key:"render",value:function(){var e=this.scale,t=this.options,n=this.getElementOptions(),i=this.pointerShape(t.value);t.animation.type="arrowPointer";var r=new r8({stroke:n.stroke,fill:n.fill}).moveTo(i[0]).lineTo(i[1]).lineTo(i[2]).close(),o=e.getSlot(t.value);return r.transform(p.transform().translate(o.x1,o.y1)),this.elements=r,r}}]),t}(e8),s8=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"setup",value:function(){var e=this.options,t=this.axis=e.vertical?bJ:kJ,n=this.to=e.newPoints[0][t],i=this.from=e.oldPoints[0][t];0!==e.duration&&(e.duration=Math.max(Math.abs(n-i)/e.speed*1e3,1)),this._set(i)}},{key:"step",value:function(e){var t=JJ(this.from,this.to,e);this._set(t)}},{key:"_set",value:function(e){var t="set"+this.axis.toUpperCase(),n=this.options.newPoints;n[0][t](e),n[1][t](e)}}]),t}(m.Animation);b0(s8,{easing:"linear",speed:250}),m.AnimationFactory.current.register("barPointer",s8);var a8=s8,l8=m.Group,u8=m.Path,c8=function(e){function t(e,n){var i;return _classCallCheck(this,t),i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n)),s0(i.options.size)||(i.options.size=.3*i.scale.options.majorTicks.size),i}return _inherits(t,e),_createClass(t,[{key:"pointerShape",value:function(e){var t=this.scale,n=this.options,i=t.options,r=i.mirror,o=i.vertical,s=r===o?-1:1,a=n.size*s,l=t.getSlot(t.options.min),u=t.getSlot(e),c=o?bJ:kJ,h=o?kJ:bJ,f=this._margin()*s,d=new p.Point;d[c]=l[c+"1"],d[h]=l[h+"1"];var v=new p.Point;v[c]=u[c+"1"],v[h]=u[h+"1"],o?(d.translate(f,0),v.translate(f,0)):(d.translate(0,f),v.translate(0,f));var g=v.clone(),m=d.clone();return o?(g.translate(a,0),m.translate(a,0)):(g.translate(0,a),m.translate(0,a)),[d,v,g,m]}},{key:"repaint",value:function(){var e=this.scale,t=this.options,n=this.pointerShape(t.value),i=this.pointerPath,r=this.pointerShape(t._oldValue);i.moveTo(n[0]).lineTo(n[1]).lineTo(n[2]).lineTo(n[3]).close();var o=new a8(i,RJ(t.animation,{reverse:e.options.reverse,vertical:e.options.vertical,oldPoints:[r[1],r[2]],newPoints:[n[1],n[2]]}));!1===t.animation.transitions&&(o.options.duration=0),o.setup(),o.play()}},{key:"render",value:function(){var e=new l8,t=this.getElementOptions();this.options.track.visible&&e.append(this.renderTrack());var n=this.pointerPath=new u8({stroke:t.stroke,fill:t.fill});return e.append(n),this.elements=e,e}},{key:"renderTrack",value:function(){var e=this.options.track,t=e.border||{},n=this.trackBox.clone().pad(t.width||0);return new u8.fromRect(n.toRect(),{fill:{color:e.color,opacity:e.opacity},stroke:{color:t.width?t.color||e.color:"",width:t.width,dashType:t.dashType}})}}]),t}(e8),h8=m.Group;b0(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"reflow",value:function(e){var t=this.pointers,n=e.origin.x,i=e.origin.y,r=new S0(n,i,n+e.width(),i+e.height());this.scale.reflow(r),this._shrinkScaleWidth(r);for(var o=0;o<t.length;o++)t[o].reflow();this.bbox=this._getBox(r),this._alignElements(),this._shrinkElements(),this._buildVisual(),this._draw()}},{key:"_buildVisual",value:function(){var e=new h8,t=this.scale.render(),n=this.pointers;e.append(this.gaugeArea),e.append(t);for(var i=0;i<n.length;i++){var r=n[i];e.append(r.render()),r.value(r.options.value)}this._visuals=e}},{key:"_createModel",value:function(){var e=this.options,t=this.scale=new Y6(e.scale,this.contextService);this.pointers=[];var n=e.pointer;n=_J(n)?n:[n];for(var i=0;i<n.length;i++){var r=RJ({},n[i],{animation:{transitions:e.transitions}});this.pointers.push(new("arrow"===r.shape?o8:c8)(t,r))}}},{key:"_defaultSize",value:function(){var e=this.options.scale.vertical;return{width:e?60:200,height:e?200:60}}},{key:"_getBox",value:function(e){for(var t,n=this.scale,i=this.pointers,r=e.center(),o=i[0].box.clone().wrap(n.box),s=0;s<i.length;s++)o.wrap(i[s].box.clone());return n.options.vertical?(t=o.width()/2,o=new S0(r.x-t,e.y1,r.x+t,e.y2)):(t=o.height()/2,o=new S0(e.x1,r.y-t,e.x2,r.y+t)),o}},{key:"_alignElements",value:function(){for(var e,t=this.scale,n=this.pointers,i=t.box,r=n[0].box.clone().wrap(t.box),o=this.bbox,s=0;s<n.length;s++)r.wrap(n[s].box.clone());t.options.vertical?(e=o.center().x-r.center().x,t.reflow(new S0(i.x1+e,o.y1,i.x2+e,o.y2))):(e=o.center().y-r.center().y,t.reflow(new S0(i.x1,i.y1+e,i.x2,i.y2+e)));for(var a=0;a<n.length;a++)n[a].reflow(this.bbox)}},{key:"_shrinkScaleWidth",value:function(e){var t=this.scale;if(!t.options.vertical){var n=t.contentBox().width()-e.width();n>0&&(t.box.shrink(n,0),t.box.alignTo(e,"center"),t.reflow(t.box))}}},{key:"_shrinkElements",value:function(){for(var e=this.scale,t=this.pointers,n=e.box.clone(),i=e.options.vertical?"y":"x",r=t[0].box,o=0;o<t.length;o++)r.wrap(t[o].box.clone());n[i+1]+=Math.max(n[i+1]-r[i+1],0),n[i+2]-=Math.max(r[i+2]-n[i+2],0),e.reflow(n);for(var s=0;s<t.length;s++)t[s].reflow(this.bbox)}}]),t}(G6),{transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}});var f8=m.Arc,d8=m.Path,p8=m.Group;function v8(e,t,n,i){var r=new p8,o=e.center,s=e.getRadiusX();if(i.visible)for(var a=0;a<t.length;a++){var l=e.pointAt(t[a]),u=new p.Point(o.x+s-i.size,o.y).rotate(t[a],o);r.append(new d8({stroke:{color:i.color,width:i.width}}).moveTo(l).lineTo(u))}return r}function g8(e,t,n,i){return{from:e,to:t,color:n,opacity:i}}var m8=function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,0,1,e,n))}return _inherits(t,e),_createClass(t,[{key:"initUserOptions",value:function(e){var t=RJ({},this.options,e);return t.majorUnit=t.majorUnit||C0(t.min,t.max),t.minorUnit=t.minorUnit||t.majorUnit/10,t}},{key:"initFields",value:function(){}},{key:"render",value:function(e,t){var n=this.renderArc(e,t);this.bbox=n.bbox(),this.labelElements=this.renderLabels(),this.ticks=this.renderTicks(),this.ranges=this.renderRanges()}},{key:"reflow",value:function(e){var t=e.center(),n=Math.min(e.height(),e.width())/2;if(!s0(this.bbox))return this.render(t,n);this.bbox=this.arc.bbox(),this.radius(this.arc.getRadiusX()),this.repositionRanges(),this.renderLabels()}},{key:"slotAngle",value:function(e){var t=this.options,n=t.min,i=t.max,r=t.reverse,o=t.startAngle,s=t.endAngle,a=s-o;return(r?s-(e-n)/(i-n)*a:(e-n)/(i-n)*a+o)+180}},{key:"hasRanges",value:function(){var e=this.options.ranges;return e&&e.length}},{key:"ticksSize",value:function(){var e=this.options,t=e.majorTicks,n=e.minorTicks,i=0;return t.visible&&(i=t.size),n.visible&&(i=Math.max(n.size,i)),i}},{key:"renderLabels",value:function(){var e=this.options,t=this.arc.clone(),n=t.getRadiusX(),i=this.tickAngles(t,e.majorUnit),r=e.rangeSize=e.rangeSize||.1*n,o=new p8,s=.05*n;s0(e.rangeDistance)?s=e.rangeDistance:e.rangeDistance=s;var a=e.labels,l="inside"===a.position,u=s0(this.labelElements);l&&(n-=this.ticksSize(),this.hasRanges()&&!u&&(n-=r+s),t.setRadiusX(n).setRadiusY(n));for(var c=this.labels,h=c.length,f=LJ(a.padding),d=(f.left+f.right)/2,v=(f.top+f.bottom)/2,g=0;g<h;g++){var m=c[g],y=m.box.width()/2,k=m.box.height()/2,b=i[g],_=(b-180)*P6,C=t.pointAt(b),w=C.x+Math.cos(_)*(y+d)*(l?1:-1),x=C.y+Math.sin(_)*(k+v)*(l?1:-1);m.reflow(new S0(w-y,x-k,w+y,x+k));var S=new p.Point(m.box.x1,m.box.y1),T=void 0;if(u){var O=(T=this.labelElements.children[g]).bbox().origin,I=T.transform()||p.transform();I.translate(S.x-O.x,S.y-O.y),T.transform(I)}else T=L6(m,e.labels),o.append(T);this.bbox=p.Rect.union(this.bbox,T.bbox())}return o}},{key:"repositionRanges",value:function(){var e=this.ranges.children;if(e.length>0){var t=this.options,n=t.rangeDistance,i=t.rangeSize,r=this.getRangeRadius();"inside"===this.options.labels.position&&(r+=i+n);for(var o=r+i/2,s=0;s<e.length;s++)e[s]._geometry.setRadiusX(o).setRadiusY(o);this.bbox=p.Rect.union(this.bbox,this.ranges.bbox())}}},{key:"renderRanges",value:function(){var e=this.rangeSegments(),t=e.length,n=new p8;if(t){var i=this.options,r=i.rangeSize,o=i.reverse,s=i.rangeDistance,a=this.getRangeRadius();this.radius(this.radius()-r-s);for(var l=0;l<t;l++){var u=e[l],c=this.slotAngle(u[o?"to":"from"]),h=this.slotAngle(u[o?"from":"to"]);h-c!=0&&n.append(this.createRange(c,h,a,u))}}return n}},{key:"createRange",value:function(e,t,n,i){var r=this.options.rangeSize,o=new p.Arc(this.arc.center,{radiusX:n+r/2,radiusY:n+r/2,startAngle:e,endAngle:t});return new f8(o,{stroke:{width:r,color:i.color,opacity:i.opacity,lineCap:i.lineCap}})}},{key:"rangeSegments",value:function(){var e=this.options,t=e.ranges||[],n=t.length,i=[];if(n){var r=e.min,o=e.max,s=e.rangePlaceholderColor;i.push(g8(r,o,s));for(var a=0;a<n;a++)for(var l=V6(t[a],r,o),u=i.length,c=0;c<u;c++){var h=i[c];if(h.from<=l.from&&l.from<=h.to){i.push(g8(l.from,l.to,l.color,l.opacity)),h.from<=l.to&&l.to<=h.to&&i.push(g8(l.to,h.to,s,l.opacity)),h.to=l.from;break}}}return i}},{key:"getRangeRadius",value:function(){var e=this.arc,t=this.options,n=t.rangeSize,i=t.rangeDistance,r=t.majorTicks.size;return"outside"===t.labels.position?e.getRadiusX()-r-i-n:e.getRadiusX()-n}},{key:"renderArc",value:function(e,t){var n=this.options;return this.arc=new p.Arc(e,{radiusX:t,radiusY:t,startAngle:n.startAngle+180,endAngle:n.endAngle+180})}},{key:"renderTicks",value:function(){var e=this.arc,t=this.options,n=e.clone();this.majorTickAngles=this.tickAngles(e,t.majorUnit),this.majorTicks=v8(n,this.majorTickAngles,0,t.majorTicks);var i=new p8;i.append(this.majorTicks);var r=t.majorTicks.size,o=t.minorTicks.size;if(this._tickDifference=r-o,"outside"===t.labels.position){var s=n.getRadiusX();n.setRadiusX(s-r+o).setRadiusY(s-r+o)}return this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(e,t.minorUnit)),this.minorTicks=v8(n,this.minorTickAngles,0,t.minorTicks),i.append(this.minorTicks),i}},{key:"normalizeTickAngles",value:function(e){for(var t=this.options,n=t.majorUnit/t.minorUnit,i=e.length-1;i>=0;i--)i%n==0&&e.splice(i,1);return e}},{key:"tickAngles",value:function(e,t){var n=this.options,i=e.endAngle-e.startAngle,r=(n.max-n.min)/t,o=e.startAngle,s=i/r;n.reverse&&(o+=i,s=-s);for(var a=[],l=0;l<r;l++)a.push(g0(o,3)),o+=s;return g0(o)<=e.endAngle&&a.push(o),a}},{key:"radius",value:function(e){if(!e)return this.arc.getRadiusX();this.arc.setRadiusX(e).setRadiusY(e),this.repositionTicks(this.majorTicks.children,this.majorTickAngles),this.repositionTicks(this.minorTicks.children,this.minorTickAngles,!0)}},{key:"repositionTicks",value:function(e,t,n){var i=n&&this._tickDifference||0,r=this.arc,o=r.getRadiusX();n&&"outside"===this.options.labels.position&&0!==i&&(r=this.arc.clone()).setRadiusX(o-i).setRadiusY(o-i);for(var s=0;s<e.length;s++){var a=r.pointAt(t[s]),l=e[s].segments,u=a.x-l[0].anchor().x,c=a.y-l[0].anchor().y;e[s].transform((new p.transform).translate(u,c))}}}]),t}(N1);b0(m8,{min:0,max:100,majorTicks:{size:15,align:"inside",color:lJ,width:.5,visible:!0},minorTicks:{size:10,align:"inside",color:lJ,width:.5,visible:!0},startAngle:-30,endAngle:210,labels:{position:"inside",padding:2}});var y8=m8,k8=function(e){function t(e,n){var i;_classCallCheck(this,t);var r=(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).options;return r.duration=Math.max(Math.abs(r.newAngle-r.oldAngle)/r.duration*1e3,1),i}return _inherits(t,e),_createClass(t,[{key:"step",value:function(e){var t=this.options,n=JJ(t.oldAngle,t.newAngle,e);this.element.transform(p.transform().rotate(n,t.center))}}]),t}(m.Animation);b0(k8,{easing:"linear",duration:150}),m.AnimationFactory.current.register("radialPointer",k8);var b8=k8,_8=m.Circle,C8=m.Group,w8=m.Path,x8=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"setAngle",value:function(e){this.elements.transform(p.transform().rotate(e,this.center))}},{key:"repaint",value:function(){var e=this.scale,t=this.options,n=e.slotAngle(t._oldValue),i=e.slotAngle(t.value);!1===t.animation.transitions?this.setAngle(i):new b8(this.elements,RJ(t.animation,{oldAngle:n,newAngle:i})).play()}},{key:"render",value:function(){var e=this.scale,t=this.options,n=new C8;return!1!==t.animation&&RJ(t.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),n.append(this._renderNeedle(),this._renderCap()),this.elements=n,this.setAngle(P6),n}},{key:"reflow",value:function(e){var t=this.center=e.center,n=d0(this.options.length||1,.1,1.5),i=this.radius=e.getRadiusX()*n,r=this.capSize=Math.round(i*this.options.cap.size);this.bbox=p.Rect.fromPoints(new p.Point(t.x-r,t.y-r),new p.Point(t.x+r,t.y+r))}},{key:"_renderNeedle",value:function(){var e=this.scale.options.minorTicks.size,t=this.center,n=this.options.color,i=new w8({fill:{color:n},stroke:{color:n,width:.5}});return i.moveTo(t.x+this.radius-e,t.y).lineTo(t.x,t.y-this.capSize/2).lineTo(t.x,t.y+this.capSize/2).close(),i}},{key:"_renderCap",value:function(){var e=this.options,t=e.cap.color||e.color,n=new p.Circle(this.center,this.capSize);return new _8(n,{fill:{color:t},stroke:{color:t}})}}]),t}(Q6);b0(x8,{cap:{size:.05},arrow:{width:16,height:14},animation:{type:"radialPointer",duration:150}});var S8=x8,T8=m.Group;b0(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"reflow",value:function(e){var t=this.pointers;this.scale.reflow(e),this._initialPlotArea=this.scale.bbox;for(var n=0;n<t.length;n++)t[n].reflow(this.scale.arc),this._initialPlotArea=p.Rect.union(this._initialPlotArea,t[n].bbox);this.fitScale(e),this.alignScale(e),this._buildVisual(this.gaugeArea,t,this.scale),this._draw()}},{key:"_buildVisual",value:function(e,t,n){var i=this._visuals=new T8;i.append(e),i.append(n.ticks),i.append(n.ranges),this._buildPointers(t),i.append(n.labelElements)}},{key:"_buildPointers",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];n.render(),this._visuals.append(n.elements),n.value(n.options.value)}}},{key:"fitScale",value:function(e){for(var t,n,i,r,o,s=this.scale.arc,a=Math.abs(this.getDiff(this._initialPlotArea,e)),l=g0(a,3),u=g0(-a,3),c=0,h=0;!(!(h++<100)||(c=o===i?c+1:0,c>5)||l!==r&&(t=this.getPlotBox(l,e,s),0<=t&&t<=2)||u!==r&&(i=this.getPlotBox(u,e,s),0<=i&&i<=2)||(r=t>0&&i>0?2*l:t<0&&i<0?2*u:g0((l+u)/2||1,3),n=this.getPlotBox(r,e,s),0<=n&&n<=2));)o=i,n>0?(u=r,i=n):(l=r,t=n)}},{key:"getPlotBox",value:function(e,t,n){var i=this.scale,r=this.pointers,o=n.getRadiusX(),s=n.clone();s.setRadiusX(o+e).setRadiusY(o+e),i.arc=s,i.reflow(t),this.plotBbox=i.bbox;for(var a=0;a<r.length;a++)r[a].reflow(s),this.plotBbox=p.Rect.union(this.plotBbox,r[a].bbox);return this.getDiff(this.plotBbox,t)}},{key:"getDiff",value:function(e,t){return Math.min(t.width()-e.width(),t.height()-e.height())}},{key:"alignScale",value:function(e){var t=this.plotBbox.center(),n=e.center(),i=t.x-n.x,r=t.y-n.y,o=this.scale,s=this.pointers;o.arc.center.x-=i,o.arc.center.y-=r,o.reflow(e);for(var a=0;a<s.length;a++)s[a].reflow(o.arc),this.plotBbox=p.Rect.union(o.bbox,s[a].bbox)}},{key:"_createModel",value:function(){var e=this.options,t=e.pointer,n=this.scale=new y8(e.scale,this.contextService);this.pointers=[];for(var i=_J(t)?t:[t],r=0;r<i.length;r++){var o=new S8(n,RJ({},i[r],{animation:{transitions:e.transitions}}));this.pointers.push(o)}}}]),t}(G6),{transitions:!0,gaugeArea:{background:""}}),b0(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"rangeSegments",value:function(){var e=this.options;return[{from:e.min,to:e.max,color:e.rangePlaceholderColor,lineCap:e.rangeLineCap}]}},{key:"hasRanges",value:function(){return!0}},{key:"placeholderRangeAngle",value:function(e){var t=this.ranges.children[0].geometry();this.options.reverse?t.setEndAngle(e):t.setStartAngle(e)}},{key:"addRange",value:function(e,t,n){var i=this.options.reverse,r=this.slotAngle(i?t:e),o=this.slotAngle(i?e:t),s=this.createRange(r,o,this.getRangeRadius(),n);return this.ranges.append(s),s}}]),t}(y8),{min:0,max:100,majorTicks:{visible:!1},minorTicks:{visible:!1},labels:{visible:!1},startAngle:0,endAngle:180,rangeLineCap:"round"});var O8=function(e){function t(e,n){var i;_classCallCheck(this,t);var r=(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).options,o=Math.abs(r.newAngle-r.oldAngle)/r.duration*1e3;r.duration=d0(o,150,800);var s=e.elements.options.get("stroke.color"),a=e.currentColor();return s!==a&&(i.startColor=new dx(s),i.color=new dx(a)),i}return _inherits(t,e),_createClass(t,[{key:"step",value:function(e){var t=this.options,n=this.startColor,i=this.color,r=JJ(t.oldAngle,t.newAngle,e);if(this.element.angle(r),i){var o=g0(JJ(n.r,i.r,e)),s=g0(JJ(n.g,i.g,e)),a=g0(JJ(n.b,i.b,e));this.element.stroke(new dx(o,s,a).toHex())}}}]),t}(m.Animation);b0(O8,{easing:"linear",duration:150}),m.AnimationFactory.current.register("radialRangePointer",O8);var I8=O8;b0(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"repaint",value:function(){var e=this.scale,t=this.options,n=e.slotAngle(t._oldValue),i=e.slotAngle(t.value);this.animation&&this.animation.abort(),!1===t.animation.transitions?(this.angle(i),this.stroke(this.currentColor())):(this.animation=new I8(this,RJ(t.animation,{oldAngle:n,newAngle:i})),this.animation.play())}},{key:"angle",value:function(e){var t=this.elements.geometry();this.scale.options.reverse?t.setStartAngle(e):t.setEndAngle(e),this.scale.placeholderRangeAngle(e)}},{key:"stroke",value:function(e){this.elements.stroke(e)}},{key:"render",value:function(){if(!this.elements){var e=this.scale,t=this.options;!1!==t.animation&&RJ(t.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),this.elements=e.addRange(e.options.min,this.options.value,{color:this.currentColor(),opacity:t.opacity,lineCap:e.options.rangeLineCap})}}},{key:"currentColor",value:function(){var e=this.scale.options,t=e.min,n=e.max,i=this.options,r=i.colors,o=i.color,s=i.value,a=TJ(s)?s:t;if(r)for(var l=0;l<r.length;l++){var u=r[l],c=u.color,h=u.from,f=void 0===h?t:h,d=u.to;if(f<=a&&a<=(void 0===d?n:d))return c}return o}},{key:"reflow",value:function(){this.render(),this.bbox=this.elements.bbox()}}]),t}(Q6),{animation:{type:"radialRangePointer",duration:150}});var E8="Arial, Helvetica, sans-serif",A8="12px "+E8,R8="16px "+E8,P8=function(){return{icon:{border:{width:1}},label:{font:A8,padding:3},line:{length:10,width:2},visible:!0}},D8=function(e){return{visible:!0,labels:{font:"11px Arial, Helvetica, sans-serif"},overlay:e.gradients?{}:{gradient:"none"},area:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},rangeArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},verticalRangeArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},bar:{gap:1.5,spacing:.4},boxPlot:{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}},bubble:{border:{width:0},labels:{background:"transparent"},opacity:.6},bullet:{gap:1.5,spacing:.4,target:{color:"#ff0000"}},candlestick:{border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},line:{width:2}},line:{color:"#000",width:1},spacing:.3},column:{gap:1.5,spacing:.4},pie:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}},donut:{margin:1},funnel:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}},horizontalWaterfall:{gap:.5,line:{color:"#000",width:1},spacing:.4},line:{width:2},notes:P8(),ohlc:{gap:1,highlight:{line:{opacity:1,width:3}},line:{width:1},spacing:.3},radarArea:{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5},radarLine:{markers:{visible:!1},width:2},polarArea:{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5},polarLine:{markers:{visible:!1},width:2},rangeBar:{gap:1.5,spacing:.4},rangeColumn:{gap:1.5,spacing:.4},scatterLine:{width:1},verticalArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},verticalBoxPlot:{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}},verticalBullet:{gap:1.5,spacing:.4,target:{color:"#ff0000"}},verticalLine:{width:2},waterfall:{gap:.5,line:{color:"#000",width:1},spacing:.4}}},F8=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{axisDefaults:{labels:{font:A8},notes:P8(),title:{font:R8,margin:5}},categoryAxis:{majorGridLines:{visible:!0}},navigator:{pane:{height:90,margin:{top:10}}},seriesDefaults:D8(e),title:{font:R8},legend:{labels:{font:A8}}}},M8=["content"];function z8(e,t){}function L8(e,t){if(1&e&&Rs(0,z8,0,0,"ng-template",5),2&e){var n=$s(2);Ms("ngTemplateOutlet",n.seriesTooltipTemplateRef)("ngTemplateOutletContext",n.seriesTooltipContext)}}function V8(e,t){}function N8(e,t){if(1&e&&Rs(0,V8,0,0,"ng-template",5),2&e){var n=$s(2);Ms("ngTemplateOutlet",n.seriesSharedTooltipTemplateRef)("ngTemplateOutletContext",n.seriesSharedTooltipContext)}}function B8(e,t){if(1&e&&(Ls(0,"div",3),Rs(1,L8,1,2,void 0,4),Rs(2,N8,1,2,void 0,4),Vs()),2&e){var n=$s();Ms("ngClass",n.popupClasses)("ngStyle",n.style),wr(1),Ms("ngIf",!n.shared),wr(1),Ms("ngIf",n.shared)}}function j8(e,t){1&e&&Ns(0,"span",6),2&e&&Ms("innerHTML",t.formattedValue,$i)}function H8(e,t){if(1&e&&(Ls(0,"td"),Ns(1,"span",8),Vs()),2&e){var n=$s().$implicit;wr(1),oa("background-color",n.series.color)}}function G8(e,t){if(1&e&&(Bs(0),ya(1),js()),2&e){var n=$s(2).$implicit;wr(1),ka(n.series.name)}}function U8(e,t){1&e&&(Bs(0),ya(1,"\xa0"),js())}function W8(e,t){if(1&e&&(Ls(0,"td"),Rs(1,G8,2,1,"ng-container",4),Rs(2,U8,2,0,"ng-container",4),Vs()),2&e){var n=$s().$implicit;wr(1),Ms("ngIf",void 0!==n.series.name),wr(1),Ms("ngIf",void 0===n.series.name)}}function q8(e,t){}function Z8(e,t){if(1&e&&(Ls(0,"tr"),Rs(1,H8,2,2,"td",4),Rs(2,W8,3,2,"td",4),Ls(3,"td"),Rs(4,q8,0,0,"ng-template",5),Vs(),Vs()),2&e){var n=t.$implicit,i=$s(),r=i.colorMarker,o=i.nameColumn;wr(1),Ms("ngIf",r),wr(1),Ms("ngIf",o),wr(2),Ms("ngTemplateOutlet",n.template)("ngTemplateOutletContext",n)}}function $8(e,t){if(1&e&&(Ls(0,"table"),Ls(1,"tr"),Ls(2,"th"),ya(3),Vs(),Vs(),Rs(4,Z8,5,4,"tr",7),Vs()),2&e){var n=t.points,i=t.categoryText,r=t.colspan;wr(2),As("colspan",r),wr(1),ba(" ",i," "),wr(1),Ms("ngForOf",n)}}function K8(e,t){if(1&e&&(Ls(0,"div",1),ya(1),Vs()),2&e){var n=$s();Ms("ngStyle",n.style),wr(1),ba(" ",n.value," ")}}function Y8(e,t){if(1&e&&Ns(0,"kendo-chart-crosshair-tooltip",1),2&e){var n=t.$implicit,i=$s();Ms("key",n)("popupSettings",i.popupSettings)}}var X8=["surface"];function Q8(e,t){}function J8(e,t){if(1&e&&(Ls(0,"div",6),Rs(1,Q8,0,0,"ng-template",7),Vs()),2&e){var n=$s();Ms("ngStyle",n.donutCenterStyle),wr(1),Ms("ngTemplateOutlet",n.donutCenterTemplate.templateRef)}}var e7,t7,n7,i7,r7,o7=((e7=function e(t){_classCallCheck(this,e),this.configurationService=t,this.axisLabelClick=new tu,this.drag=new tu,this.dragEnd=new tu,this.dragStart=new tu,this.legendItemHover=new tu,this.legendItemLeave=new tu,this.noteClick=new tu,this.noteHover=new tu,this.noteLeave=new tu,this.paneRender=new tu,this.plotAreaClick=new tu,this.plotAreaHover=new tu,this.plotAreaLeave=new tu,this.render=new tu,this.select=new tu,this.selectEnd=new tu,this.selectStart=new tu,this.seriesClick=new tu,this.seriesHover=new tu,this.seriesOver=new tu,this.seriesLeave=new tu,this.zoom=new tu,this.zoomEnd=new tu,this.zoomStart=new tu}).\u0275fac=function(e){Fs()},e7.\u0275dir=Mt({type:e7,inputs:{pannable:"pannable",renderAs:"renderAs",seriesColors:"seriesColors",title:"title",transitions:"transitions",zoomable:"zoomable",axisDefaults:"axisDefaults",categoryAxis:"categoryAxis",chartArea:"chartArea",legend:"legend",panes:"panes",plotArea:"plotArea",series:"series",seriesDefaults:"seriesDefaults",tooltip:"tooltip",valueAxis:"valueAxis",xAxis:"xAxis",yAxis:"yAxis"},outputs:{axisLabelClick:"axisLabelClick",drag:"drag",dragEnd:"dragEnd",dragStart:"dragStart",legendItemHover:"legendItemHover",legendItemLeave:"legendItemLeave",noteClick:"noteClick",noteHover:"noteHover",noteLeave:"noteLeave",paneRender:"paneRender",plotAreaClick:"plotAreaClick",plotAreaHover:"plotAreaHover",plotAreaLeave:"plotAreaLeave",render:"render",select:"select",selectEnd:"selectEnd",selectStart:"selectStart",seriesClick:"seriesClick",seriesHover:"seriesHover",seriesOver:"seriesOver",seriesLeave:"seriesLeave",zoom:"zoom",zoomEnd:"zoomEnd",zoomStart:"zoomStart"}}),e7),s7=function e(t,n){_classCallCheck(this,e),this.key=t,this.value=n},a7=((t7=function(){function e(t){_classCallCheck(this,e),this.ngZone=t,this.store={},this.source=new gg({}),this.initSource()}return _createClass(e,[{key:"initSource",value:function(){this.onFastChange$=this.source.asObservable(),this.onChange$=this.onFastChange$.pipe(bg(1e3/60))}},{key:"push",value:function(e){this.store=e,this.next()}},{key:"notify",value:function(e){this.set(e.key,e.value),this.next()}},{key:"set",value:function(e,t){for(var n=this.store,i=e.split("."),r=i.shift();i.length>0;)n=n[r]=n[r]||{},r=i.shift();n[r]=t}},{key:"next",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.source.next(e.store)}))}}]),e}()).\u0275fac=function(e){return new(e||t7)(ut(qu))},t7.\u0275prov=xe({token:t7,factory:t7.\u0275fac}),t7),l7=function e(t){_classCallCheck(this,e),this.sender=t},u7=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))).prevented=!1,e}return _inherits(t,e),_createClass(t,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),t}(l7),c7=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).series=e.series,i.seriesIndex=e.seriesIndex,i.pointIndex=e.pointIndex,i.text=e.text,i}return _inherits(t,e),t}(u7),h7=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"preventDefault",value:function(){_get(_getPrototypeOf(t.prototype),"preventDefault",this).call(this)}}]),t}(c7),f7=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).category=e.category,i.dataItem=e.dataItem,i.series=e.series,i.value=e.value,i.visual=e.visual,i}return _inherits(t,e),t}(l7),d7=function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))}return _inherits(t,e),t}(l7),p7=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).category=e.category,i.dataItem=e.dataItem,i.originalEvent=e.originalEvent,i.percentage=e.percentage,i.point=e.point,i.series=e.series,i.stackValue=e.stackValue,i.value=e.value,i}return _inherits(t,e),t}(u7),v7={axisLabelClick:function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).axis=e.axis,i.dataItem=e.dataItem,i.index=e.index,i.text=e.text,i.value=e.value,i}return _inherits(t,e),t}(l7),drag:function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).axisRanges=e.axisRanges,i.originalEvent=e.originalEvent,i}return _inherits(t,e),t}(u7),dragEnd:function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).axisRanges=e.axisRanges,i.originalEvent=e.originalEvent,i}return _inherits(t,e),t}(l7),dragStart:function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).axisRanges=e.axisRanges,i.originalEvent=e.originalEvent,i}return _inherits(t,e),t}(u7),legendItemHover:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"preventDefault",value:function(){_get(_getPrototypeOf(t.prototype),"preventDefault",this).call(this)}}]),t}(c7),legendItemLeave:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"preventDefault",value:function(){}},{key:"isDefaultPrevented",value:function(){return!1}}]),t}(c7),noteClick:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(f7),noteHover:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(f7),noteLeave:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(f7),paneRender:function(e){function t(e,n){var i;return _classCallCheck(this,t),i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n)),Object.assign(_assertThisInitialized(i),e),i}return _inherits(t,e),t}(l7),plotAreaClick:function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).category=e.category,i.originalEvent=e.originalEvent,i.value=e.value,i.x=e.x,i.y=e.y,i}return _inherits(t,e),t}(l7),plotAreaHover:function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).category=e.category,i.originalEvent=e.originalEvent,i.value=e.value,i.x=e.x,i.y=e.y,i}return _inherits(t,e),t}(l7),plotAreaLeave:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(l7),render:d7,select:function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).axis=e.axis,i.from=e.from,i.to=e.to,i}return _inherits(t,e),t}(u7),selectEnd:function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).axis=e.axis,i.from=e.from,i.to=e.to,i}return _inherits(t,e),t}(l7),selectStart:function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).axis=e.axis,i.from=e.from,i.to=e.to,i}return _inherits(t,e),t}(u7),seriesClick:function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).category=e.category,i.dataItem=e.dataItem,i.originalEvent=e.originalEvent,i.percentage=e.percentage,i.point=e.point,i.series=e.series,i.stackValue=e.stackValue,i.value=e.value,i}return _inherits(t,e),t}(l7),seriesHover:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(p7),seriesOver:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(p7),seriesLeave:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(p7),zoom:function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).axisRanges=e.axisRanges,i.delta=e.delta,i.originalEvent=e.originalEvent,i}return _inherits(t,e),t}(u7),zoomEnd:function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).axisRanges=e.axisRanges,i.originalEvent=e.originalEvent,i}return _inherits(t,e),t}(l7),zoomStart:function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).axisRanges=e.axisRanges,i.originalEvent=e.originalEvent,i}return _inherits(t,e),t}(u7)},g7=((i7=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"create",value:function(e,t,n){if(v7[e])return new v7[e](t,n)}}]),e}()).\u0275fac=function(e){return new(e||i7)},i7.\u0275prov=xe({token:i7,factory:i7.\u0275fac}),i7),m7=((n7=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||n7)(Ds(vl,8))},n7.\u0275dir=Mt({type:n7,selectors:[["","kendoChartDonutCenterTemplate",""]]}),n7),y7=function e(t,n){_classCallCheck(this,e),this.sender=t,this.options=n},k7=((r7=function(){function e(){_classCallCheck(this,e),this.source=new j,this.onItemChange$=this.source.asObservable()}return _createClass(e,[{key:"notify",value:function(e){this.source.next(e)}}]),e}()).\u0275fac=function(e){return new(e||r7)},r7.\u0275prov=xe({token:r7,factory:r7.\u0275fac}),r7);function b7(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n].currentValue;void 0===i?delete t[n]:t[n]=i}}function _7(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=new Aa(null,e[n],!1));return t}var C7,w7,x7,S7,T7,O7,I7,E7,A7,R7,P7,D7=((T7=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.configurationService=t,this.collectionService=n,this.options={},this.subscription=t.onFastChange$.subscribe((function(e){i.options=e,i.notify()}))}return _createClass(e,[{key:"ngOnChanges",value:function(e){var t=this.configurationService.store;b7(e,t),this.configurationService.push(t)}},{key:"notifyChanges",value:function(e){this.ngOnChanges(_7(e))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"notify",value:function(){this.collectionService&&this.collectionService.notify(new y7(this,this.options))}}]),e}()).\u0275fac=function(e){Fs()},T7.\u0275dir=Mt({type:T7,features:[Ra()]}),T7),F7=((S7=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).configurationService=e,i.collectionService=n,i}return _inherits(t,e),t}(D7)).\u0275fac=function(e){Fs()},S7.\u0275dir=Mt({type:S7,inputs:{aggregate:"aggregate",autoFit:"autoFit",axis:"axis",border:"border",categoryAxis:"categoryAxis",categoryField:"categoryField",closeField:"closeField",color:"color",colorField:"colorField",connectors:"connectors",currentField:"currentField",dashType:"dashType",data:"data",downColor:"downColor",downColorField:"downColorField",dynamicHeight:"dynamicHeight",dynamicSlope:"dynamicSlope",errorHighField:"errorHighField",errorLowField:"errorLowField",explodeField:"explodeField",field:"field",fromField:"fromField",gap:"gap",highField:"highField",holeSize:"holeSize",line:"line",lowField:"lowField",lowerField:"lowerField",margin:"margin",maxSize:"maxSize",meanField:"meanField",medianField:"medianField",minSize:"minSize",missingValues:"missingValues",name:"name",neckRatio:"neckRatio",negativeColor:"negativeColor",negativeValues:"negativeValues",noteTextField:"noteTextField",opacity:"opacity",openField:"openField",outliersField:"outliersField",overlay:"overlay",padding:"padding",q1Field:"q1Field",q3Field:"q3Field",segmentSpacing:"segmentSpacing",size:"size",sizeField:"sizeField",spacing:"spacing",stack:"stack",startAngle:"startAngle",style:"style",summaryField:"summaryField",target:"target",toField:"toField",type:"type",upperField:"upperField",visible:"visible",visibleInLegend:"visibleInLegend",visibleInLegendField:"visibleInLegendField",visual:"visual",width:"width",whiskers:"whiskers",xAxis:"xAxis",xErrorHighField:"xErrorHighField",xErrorLowField:"xErrorLowField",xField:"xField",yAxis:"yAxis",yErrorHighField:"yErrorHighField",yErrorLowField:"yErrorLowField",yField:"yField",zIndex:"zIndex",errorBars:"errorBars",extremes:"extremes",highlight:"highlight",labels:"labels",markers:"markers",notes:"notes",outliers:"outliers",tooltip:"tooltip"},features:[Sa]}),S7),M7=((x7=function(){function e(t,n){if(_classCallCheck(this,e),this.configKey=t,this.configurationService=n,this.store={},void 0===t)throw new Error("Configuration key not set")}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.store=void 0,this.notify()}},{key:"ngOnChanges",value:function(e){b7(e,this.store),this.notify()}},{key:"notifyChanges",value:function(e){this.ngOnChanges(_7(e))}},{key:"markAsVisible",value:function(){this.store.visible=!0,this.notify()}},{key:"notify",value:function(){this.configurationService.notify(new s7(this.configKey,this.store))}}]),e}()).\u0275fac=function(e){Fs()},x7.\u0275dir=Mt({type:x7,features:[Ra()]}),x7),z7=((w7=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"tooltip",e))).configurationService=e,n}return _inherits(t,e),t}(M7)).\u0275fac=function(e){Fs()},w7.\u0275dir=Mt({type:w7,inputs:{background:"background",border:"border",color:"color",font:"font",format:"format",padding:"padding",visible:"visible"},features:[Sa]}),w7),L7=((C7=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).configurationService=e,n.markAsVisible(),n}return _inherits(t,e),_createClass(t,[{key:"seriesTooltipTemplateRef",get:function(){return this.seriesTooltipTemplate}}]),t}(z7)).\u0275fac=function(e){return new(e||C7)(Ds(a7))},C7.\u0275cmp=Et({type:C7,selectors:[["kendo-chart-series-item-tooltip"]],contentQueries:function(e,t,n){var i;1&e&&gu(n,vl,!0),2&e&&fu(i=ku())&&(t.seriesTooltipTemplate=i.first)},features:[Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),C7),V7=function(e){return void 0!==e&&!e},N7=((O7=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).configurationService=e,i.collectionService=n,i}return _inherits(t,e),_createClass(t,[{key:"toggleVisibility",value:function(){this.options.visible=V7(this.options.visible),this.notify()}},{key:"togglePointVisibility",value:function(e){var t=this.options.pointVisibility=this.options.pointVisibility||{};t[e]=V7(t[e]),this.notify()}},{key:"seriesTooltipTemplateRef",get:function(){if(this.seriesTooltip)return this.seriesTooltip.seriesTooltipTemplateRef}}]),t}(F7)).\u0275fac=function(e){return new(e||O7)(Ds(a7),Ds(k7))},O7.\u0275cmp=Et({type:O7,selectors:[["kendo-chart-series-item"]],contentQueries:function(e,t,n){var i;1&e&&gu(n,L7,!0),2&e&&fu(i=ku())&&(t.seriesTooltip=i.first)},features:[Ha([a7]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),O7),B7=function(e){return"".concat(e.fontSize," ").concat(e.fontFamily)},j7=((I7=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).loaded=!1,n}return _inherits(t,e),_createClass(t,[{key:"loadTheme",value:function(){!this.loaded&&_m()&&(this.readTheme()||this.readDefaultTheme(),this.loaded=!0,this.next())}},{key:"readTheme",value:function(){this.createElement();var e=this.queryColor("accent")!==this.queryColor("accent-contrast");try{e&&(this.push(F8()),this.setColors(),this.setFonts(),this.setSeriesColors())}finally{this.destroyElement()}return e}},{key:"readDefaultTheme",value:function(){this.push(Object.assign({},F8(),{axisDefaults:{crosshair:{color:"rgba(0, 0, 0, 0.5)"},labels:{color:"rgb(101, 101, 101)",font:"12px serif"},line:{color:"rgba(0, 0, 0, 0.08)"},majorGridLines:{color:"rgba(0, 0, 0, 0.08)"},minorGridLines:{color:"rgba(0, 0, 0, 0.04)"},notes:{icon:{background:"rgba(0, 0, 0, 0.5)",border:{color:"rgba(0, 0, 0, 0.5)"}},line:{color:"rgba(0, 0, 0, 0.5)"},label:{font:"14px serif"}},title:{color:"rgb(101, 101, 101)",font:"14px serif"}},chartArea:{background:"rgb(255, 255, 255)"},legend:{inactiveItems:{labels:{color:"rgba(102, 102, 102, 0.5)"},markers:{color:"rgba(102, 102, 102, 0.5)"}},labels:{color:"rgb(101, 101, 101)",font:"14px serif"}},seriesDefaults:{boxPlot:{downColor:"rgba(0, 0, 0, 0.08)",mean:{color:"rgb(246, 246, 246)"},median:{color:"rgb(246, 246, 246)"},whiskers:{color:"rgb(255, 99, 88)"}},bullet:{target:{color:"rgb(101, 101, 101)"}},candlestick:{downColor:"rgb(101, 101, 101)",line:{color:"rgb(101, 101, 101)"}},errorBars:{color:"rgba(0, 0, 0, 0.5)"},horizontalWaterfall:{line:{color:"rgba(0, 0, 0, 0.08)"}},icon:{border:{color:"rgba(0, 0, 0, 0.08)"}},labels:{background:"rgb(255, 255, 255)",color:"rgb(101, 101, 101)",opacity:.8,font:"12px serif"},notes:{icon:{background:"rgba(0, 0, 0, 0.5)",border:{color:"rgba(0, 0, 0, 0.5)"}},line:{color:"rgba(0, 0, 0, 0.5)"},label:{font:"14px serif"}},verticalBoxPlot:{downColor:"rgba(0, 0, 0, 0.08)",mean:{color:"rgb(246, 246, 246)"},median:{color:"rgb(246, 246, 246)"},whiskers:{color:"rgb(255, 99, 88)"}},verticalBullet:{target:{color:"rgb(101, 101, 101)"}},waterfall:{line:{color:"rgba(0, 0, 0, 0.08)"}},area:{opacity:.8}},title:{color:"rgb(101, 101, 101)",font:"16px serif"},seriesColors:["rgb(255, 99, 88)","rgb(255, 210, 70)","rgb(120, 210, 55)","rgb(40, 180, 200)","rgb(45, 115, 245)","rgb(170, 70, 190)"]}))}},{key:"createElement",value:function(){var e=this.element=document.createElement("div");e.style.display="none",e.innerHTML='\n    <div class="k-var--accent"></div>\n    <div class="k-var--accent-contrast"></div>\n    <div class="k-var--base"></div>\n    <div class="k-var--background"></div>\n\n    <div class="k-var--normal-background"></div>\n    <div class="k-var--normal-text-color"></div>\n    <div class="k-var--hover-background"></div>\n    <div class="k-var--hover-text-color"></div>\n    <div class="k-var--selected-background"></div>\n    <div class="k-var--selected-text-color"></div>\n    <div class="k-var--chart-error-bars-background"></div>\n    <div class="k-var--chart-notes-background"></div>\n    <div class="k-var--chart-notes-border"></div>\n    <div class="k-var--chart-notes-lines"></div>\n    <div class="k-var--chart-crosshair-background"></div>\n\n    <div class="k-var--chart-inactive"></div>\n    <div class="k-var--chart-major-lines"></div>\n    <div class="k-var--chart-minor-lines"></div>\n    <div class="k-var--chart-area-opacity"></div>\n\n    <div class="k-widget">\n        <div class="k-var--chart-font"></div>\n        <div class="k-var--chart-title-font"></div>\n        <div class="k-var--chart-label-font"></div>\n    </div>\n\n    <div class="k-var--series">\n      <div class="k-var--series-a"></div>\n      <div class="k-var--series-b"></div>\n      <div class="k-var--series-c"></div>\n      <div class="k-var--series-d"></div>\n      <div class="k-var--series-e"></div>\n      <div class="k-var--series-f"></div>\n    </div>\n',document.body.appendChild(e)}},{key:"destroyElement",value:function(){this.element&&(document.body.removeChild(this.element),this.element=void 0)}},{key:"setStyle",value:function(e,t){this.set(e,t)}},{key:"setColors",value:function(){this.mapColor("axisDefaults.crosshair.color","chart-crosshair-background"),this.mapColor("axisDefaults.labels.color","normal-text-color"),this.mapColor("axisDefaults.line.color","chart-major-lines"),this.mapColor("axisDefaults.majorGridLines.color","chart-major-lines"),this.mapColor("axisDefaults.minorGridLines.color","chart-minor-lines"),this.mapColor("axisDefaults.notes.icon.background","chart-notes-background"),this.mapColor("axisDefaults.notes.icon.border.color","chart-notes-border"),this.mapColor("axisDefaults.notes.line.color","chart-notes-lines"),this.mapColor("axisDefaults.title.color","normal-text-color"),this.mapColor("chartArea.background","background"),this.mapColor("legend.inactiveItems.labels.color","chart-inactive"),this.mapColor("legend.inactiveItems.markers.color","chart-inactive"),this.mapColor("legend.labels.color","normal-text-color"),this.mapColor("seriesDefaults.boxPlot.downColor","chart-major-lines"),this.mapColor("seriesDefaults.boxPlot.mean.color","base"),this.mapColor("seriesDefaults.boxPlot.median.color","base"),this.mapColor("seriesDefaults.boxPlot.whiskers.color","accent"),this.mapColor("seriesDefaults.bullet.target.color","normal-text-color"),this.mapColor("seriesDefaults.candlestick.downColor","normal-text-color"),this.mapColor("seriesDefaults.candlestick.line.color","normal-text-color"),this.mapColor("seriesDefaults.errorBars.color","chart-error-bars-background"),this.mapColor("seriesDefaults.horizontalWaterfall.line.color","chart-major-lines"),this.mapColor("seriesDefaults.icon.border.color","chart-major-lines"),this.mapColor("seriesDefaults.labels.background","background"),this.mapColor("seriesDefaults.labels.color","normal-text-color"),this.mapColor("seriesDefaults.notes.icon.background","chart-notes-background"),this.mapColor("seriesDefaults.notes.icon.border.color","chart-notes-border"),this.mapColor("seriesDefaults.notes.line.color","chart-notes-lines"),this.mapColor("seriesDefaults.verticalBoxPlot.downColor","chart-major-lines"),this.mapColor("seriesDefaults.verticalBoxPlot.mean.color","base"),this.mapColor("seriesDefaults.verticalBoxPlot.median.color","base"),this.mapColor("seriesDefaults.verticalBoxPlot.whiskers.color","accent"),this.mapColor("seriesDefaults.verticalBullet.target.color","normal-text-color"),this.mapColor("seriesDefaults.waterfall.line.color","chart-major-lines"),this.mapColor("title.color","normal-text-color");var e=parseFloat(this.queryStyle("chart-area-opacity").opacity);isNaN(e)||(this.setStyle("seriesDefaults.area.opacity",e),this.setStyle("seriesDefaults.labels.opacity",e))}},{key:"setFonts",value:function(){var e=B7(this.queryStyle("chart-font")),t=B7(this.queryStyle("chart-title-font")),n=B7(this.queryStyle("chart-label-font"));this.setStyle("axisDefaults.labels.font",n),this.setStyle("axisDefaults.notes.label.font",e),this.setStyle("axisDefaults.title.font",e),this.setStyle("legend.labels.font",e),this.setStyle("seriesDefaults.labels.font",n),this.setStyle("seriesDefaults.notes.label.font",e),this.setStyle("title.font",t)}},{key:"setSeriesColors",value:function(){var e=[].slice.call(this.element.querySelectorAll(".k-var--series div")).reduce((function(e,t){return e[function(e){return e.match(/series-([a-z])$/)[1].toLowerCase().charCodeAt(0)-"a".charCodeAt(0)}(t.className)]=window.getComputedStyle(t).backgroundColor,e}),[]);this.setStyle("seriesColors",e)}},{key:"mapColor",value:function(e,t){this.setStyle(e,this.queryColor(t))}},{key:"queryColor",value:function(e){return this.queryStyle(e).backgroundColor}},{key:"queryStyle",value:function(e){return window.getComputedStyle(this.element.querySelector(".k-var--".concat(e)))}}]),t}(a7)).\u0275fac=function(e){return new(e||I7)(ut(qu))},I7.\u0275prov=xe({token:I7,factory:I7.\u0275fac}),I7),H7=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).handlerMap={hideTooltip:"onHideTooltip",legendItemClick:"onLegendItemClick",render:"onRender",showTooltip:"onShowTooltip",init:"onInit"},n}return _inherits(t,e),t}(e0),G7=((R7=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"setTemplate",value:function(e){this.template=e}},{key:"getTemplate",value:function(e){return this.seriesTemplates&&this.seriesTemplates[e]?this.seriesTemplates[e]:this.template}},{key:"setSeriesTemplates",value:function(e){this.seriesTemplates=e}},{key:"setSharedTemplate",value:function(e){this.sharedTemplate=e}},{key:"getSharedTemplate",value:function(){return this.sharedTemplate}}]),e}()).\u0275fac=function(e){return new(e||R7)},R7.\u0275prov=xe({token:R7,factory:R7.\u0275fac}),R7),U7=((A7=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||A7)(Ds(vl,8))},A7.\u0275dir=Mt({type:A7,selectors:[["","kendoChartSeriesTooltipTemplate",""]]}),A7),W7=((E7=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||E7)(Ds(vl,8))},E7.\u0275dir=Mt({type:E7,selectors:[["","kendoChartSharedTooltipTemplate",""]]}),E7),q7=function(){function e(t,n,i){_classCallCheck(this,e),this.value=t.value,this.category=t.category,this.categoryIndex=t.categoryIx,this.series=t.series,this.dataItem=t.dataItem,this.percentage=t.percentage,this.runningTotal=t.runningTotal,this.total=t.total,this.low=t.low,this.high=t.high,this.xLow=t.xLow,this.xHigh=t.xHigh,this.yLow=t.yLow,this.yHigh=t.yHigh,this.template=i,this.point=t,this.format=n}return _createClass(e,[{key:"formattedValue",get:function(){return this.format?this.point.formatValue(this.format):String(this.value)}}]),e}(),Z7={horizontal:"fit",vertical:"fit"},$7=((P7=function(){function e(t,n){_classCallCheck(this,e),this.popupService=t,this.localizationService=n,this.style={},this.popupRef=null}return _createClass(e,[{key:"show",value:function(e){var t=e.anchor.align,n=e.anchor.point;if(this.style=e.style,this.popupRef){var i=this.popupRef.popup.instance;i.offset=n,i.popupAlign=t}else this.popupRef=this.popupService.open(Object.assign({offset:n,popupAlign:t,animate:this.animate,content:this.templateRef,collision:Z7,positionMode:"absolute"},this.popupSettings)),this.localizationService.rtl&&this.popupRef.popupElement.setAttribute("dir","rtl"),this.onInit()}},{key:"hide",value:function(){this.popupRef&&(this.popupRef.close(),this.popupRef=null)}},{key:"onInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.hide()}},{key:"active",get:function(){return null!==this.popupRef}}]),e}()).\u0275fac=function(e){Fs()},P7.\u0275dir=Mt({type:P7}),P7);function K7(e,t){for(var n=e;n&&n!==t;)n=n.parentNode;return!!n}function Y7(){if(_m())return new qa(document.body)}var X7,Q7,J7,e9=Y7,t9=((X7=function(e){function t(e,n,i,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,i))).popupService=e,o.templateService=n,o.localizationService=i,o.ngZone=r,o.seriesTooltipContext={},o.seriesSharedTooltipContext={},o.animate=!0,o.wrapperClass="k-chart-tooltip-wrapper",o.leave=new tu,o.popupClasses={},o}return _inherits(t,e),_createClass(t,[{key:"show",value:function(e){this.shared=e.shared,this.popupClasses=Object.assign(_defineProperty({"k-chart-shared-tooltip":e.shared,"k-chart-tooltip":!0},e.className,!!e.className),this.classNames),e.shared?(this.seriesSharedTooltipTemplateRef=this.templateService.getSharedTemplate()||this.defaultSharedTooltipTemplate.templateRef,this.seriesSharedTooltipContext=this.sharedTemplateContext(e)):(this.seriesTooltipContext=new q7(e.point,e.format),this.seriesTooltipTemplateRef=this.pointTemplateRef(e.point)),_get(_getPrototypeOf(t.prototype),"show",this).call(this,e)}},{key:"containsElement",value:function(e){if(this.popupRef)return K7(e,this.popupRef.popupElement)}},{key:"sharedTemplateContext",value:function(e){var t=e.points.filter((function(e){return void 0!==e.series.name})).length>0,n=e.series.length>1,i=1;return t&&i++,n&&i++,{category:e.category,categoryText:e.categoryText,colorMarker:n,colspan:i,nameColumn:t,points:this.wrapPoints(e.points,e.format)}}},{key:"pointTemplateRef",value:function(e){return this.templateService.getTemplate(e.series.index)||this.defaultSeriesTooltipTemplate.templateRef}},{key:"wrapPoints",value:function(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i],o=this.pointTemplateRef(r);n.push(new q7(r,((r.options||{}).tooltip||{}).format||t,o))}return n}},{key:"onInit",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.mouseleaveSubscription=e.popupRef.popupElement.addEventListener("mouseleave",(function(t){e.leave.emit(t)}))})),this.popupRef.popupElement.className+=" ".concat(this.wrapperClass)}},{key:"hide",value:function(){this.mouseleaveSubscription&&(this.mouseleaveSubscription(),this.mouseleaveSubscription=null),_get(_getPrototypeOf(t.prototype),"hide",this).call(this)}}]),t}($7)).\u0275fac=function(e){return new(e||X7)(Ds(zk),Ds(G7),Ds(jy),Ds(qu))},X7.\u0275cmp=Et({type:X7,selectors:[["kendo-chart-tooltip-popup"]],viewQuery:function(e,t){var n;1&e&&(pu(U7,!0),pu(W7,!0),pu(M8,!0)),2&e&&(fu(n=ku())&&(t.defaultSeriesTooltipTemplate=n.first),fu(n=ku())&&(t.defaultSharedTooltipTemplate=n.first),fu(n=ku())&&(t.templateRef=n.first))},inputs:{animate:"animate",wrapperClass:"wrapperClass",classNames:"classNames",popupSettings:"popupSettings"},outputs:{leave:"leave"},features:[Ha([zk,{provide:Mk,useFactory:e9}]),Sa],decls:4,vars:0,consts:[["content",""],["kendoChartSeriesTooltipTemplate",""],["kendoChartSharedTooltipTemplate",""],[3,"ngClass","ngStyle"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],[4,"ngFor","ngForOf"],[1,"k-chart-shared-tooltip-marker"]],template:function(e,t){1&e&&(Rs(0,B8,3,4,"ng-template",null,0,wu),Rs(2,j8,1,1,"ng-template",1),Rs(3,$8,5,3,"ng-template",2))},directives:[U7,W7,Pc,eh,zc,th,Fc],encapsulation:2}),X7),n9=Y7,i9=((Q7=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).animate=!1,i}return _inherits(t,e),_createClass(t,[{key:"show",value:function(e){_get(_getPrototypeOf(t.prototype),"show",this).call(this,e),this.value=e.value,this.popupRef.popup.changeDetectorRef.detectChanges()}}]),t}($7)).\u0275fac=function(e){return new(e||Q7)(Ds(zk),Ds(jy))},Q7.\u0275cmp=Et({type:Q7,selectors:[["kendo-chart-crosshair-tooltip"]],viewQuery:function(e,t){var n;1&e&&pu(M8,!0),2&e&&fu(n=ku())&&(t.templateRef=n.first)},inputs:{key:"key",popupSettings:"popupSettings"},features:[Ha([zk,{provide:Mk,useFactory:n9}]),Sa],decls:2,vars:0,consts:[["content",""],[1,"k-chart-tooltip","k-chart-crosshair-tooltip",3,"ngStyle"]],template:function(e,t){1&e&&Rs(0,K8,2,2,"ng-template",null,0,wu)},directives:[eh],encapsulation:2}),Q7),r9=["categoryAxis","valueAxis","xAxis","yAxis"],o9=((J7=function(){function e(){_classCallCheck(this,e),this.tooltipKeys=[],this.tooltipsMap={}}return _createClass(e,[{key:"show",value:function(e){for(var t=this.crossahirTooltipComponents.toArray(),n=e.axisName,i=e.axisIndex,r=0;r<t.length;r++)if(t[r].key===n+i){t[r].show(e);break}}},{key:"hide",value:function(){for(var e=this.crossahirTooltipComponents.toArray(),t=0;t<e.length;t++)e[t].hide()}},{key:"createCrosshairTooltips",value:function(e){var t=this.mapTooltips(e),n=this.tooltipsMap;for(var i in n)t[i]||(this.removeTooltip(i),delete n[i]);for(var r in t)n[r]||(n[r]=t[r],this.tooltipKeys.push(r))}},{key:"removeTooltip",value:function(e){for(var t=this.tooltipKeys,n=0;n<t.length;n++)if(t[n]===e){t.splice(n,1);break}}},{key:"mapTooltips",value:function(e){for(var t={},n=0;n<r9.length;n++)for(var i=this.axesCrosshairTooltipOptions(e,r9[n]),r=0;r<i.length;r++){var o=i[r];t[o.name+o.index]=o}return t}},{key:"axesCrosshairTooltipOptions",value:function(e,t){var n=[];if(e[t])for(var i=[].concat(e[t]),r=0;r<i.length;r++){var o=(i[r].crosshair||{}).tooltip;o&&o.visible&&n.push({index:r,name:t})}return n}},{key:"active",get:function(){return this.tooltipKeys.length>0}}]),e}()).\u0275fac=function(e){return new(e||J7)},J7.\u0275cmp=Et({type:J7,selectors:[["kendo-chart-crosshair-tooltips-container"]],viewQuery:function(e,t){var n;1&e&&pu(i9,!0),2&e&&fu(n=ku())&&(t.crossahirTooltipComponents=n)},inputs:{popupSettings:"popupSettings"},decls:1,vars:1,consts:[[3,"key","popupSettings",4,"ngFor","ngForOf"],[3,"key","popupSettings"]],template:function(e,t){1&e&&Rs(0,Y8,1,2,"kendo-chart-crosshair-tooltip",0),2&e&&Ms("ngForOf",t.tooltipKeys)},directives:[Fc,i9],encapsulation:2}),J7),s9=function(e){return{x:{location:e.pageX},y:{location:e.pageY}}};function a9(e,t){for(var n=0;n<e.length;n++)if(t[e[n]])return!0;return!1}var l9=[{end:"panend",move:"panmove",start:"panstart"},{gesturechange:"pinchmove",gestureend:"pinchend",gesturestart:"pinchstart"},{press:"press"},{tap:"tap"}],u9=function(){function e(t,n){_classCallCheck(this,e),this.hammerInstance=t,this.eventHandlers={},this.tap=this.tap.bind(this),this.press=this.press.bind(this),this.panstart=this.panstart.bind(this),this.panmove=this.panmove.bind(this),this.panend=this.panend.bind(this),this.pinchstart=this.pinchstart.bind(this),this.pinchmove=this.pinchmove.bind(this),this.pinchend=this.pinchend.bind(this),n&&this.bind(n)}return _createClass(e,[{key:"tap",value:function(e){this.trigger("tap",e)}},{key:"press",value:function(e){this.trigger("press",e)}},{key:"panstart",value:function(e){delete this.previous,this.previous=this.trigger("start",e)}},{key:"panmove",value:function(e){this.previous=this.trigger("move",e)}},{key:"panend",value:function(e){this.trigger("end",e),delete this.previous}},{key:"pinchstart",value:function(e){this.trigger("gesturestart",e)}},{key:"pinchmove",value:function(e){this.trigger("gesturechange",e)}},{key:"pinchend",value:function(e){this.trigger("gestureend",e)}},{key:"trigger",value:function(e,t){var n=function(e,t){var n=e.pointers,i=n[0],r=i.pageX,o=i.pageY,s=0;if(n.length>1){var a=n[0],l=n[1];s=Math.sqrt(Math.pow(a.pageX-l.pageX,2)+Math.pow(a.pageY-l.pageY,2))}return{distance:s,event:e.srcEvent,preventDefault:function(){e.preventDefault()},target:e.target,touches:n.map(s9),type:e.type,x:{delta:t?r-t.x.location:0,initialDelta:e.deltaX,location:r,startLocation:r-e.deltaX},y:{delta:t?o-t.y.location:0,initialDelta:e.deltaY,location:o,startLocation:o-e.deltaY}}}(t,this.previous);return this.eventHandlers[e]&&this.eventHandlers[e](n),n}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.unbind(),this.eventHandlers=e;for(var t=0;t<l9.length;t++){var n=l9[t],i=Object.keys(n);if(a9(i,e))for(var r=0;r<i.length;r++){var o=n[i[r]];this.hammerInstance.on(o,this[o])}}}},{key:"unbind",value:function(){this.hammerInstance&&this.hammerInstance.off(),this.eventHandlers={}}},{key:"destroy",value:function(){this.hammerInstance&&(this.hammerInstance.destroy(),delete this.hammerInstance),delete this.eventHandlers}},{key:"toggleDrag",value:function(e){this.toggle("pan",e)}},{key:"toggleZoom",value:function(e){this.toggle("pinch",e)}},{key:"toggle",value:function(e,t){this.hammerInstance&&this.hammerInstance.get(e).set({enable:t})}}]),e}(),c9=j1.prototype.options.labels.dateFormats,h9={milliseconds:"HH:mm:ss.SSS",seconds:{time:"medium"},minutes:{time:"short"},hours:{time:"short"},days:{skeleton:"Md"},weeks:{skeleton:"Md"},months:{skeleton:"yyMMM"},years:{skeleton:"y"}};function f9(e){return e.observers.length>0}Object.assign(P1.prototype.options.labels.dateFormats,h9),Object.assign(c9,h9),GJ.register(function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){if("undefined"!=typeof window){var n=window.Hammer;if(!n){if(Ci())throw new Error("Hammerjs is not loaded.Solution: http://www.telerik.com/kendo-angular-ui/components/charts/troubleshooting/#toc-hammerjs-is-not-loaded");return}var i=new n(e,{recognizers:[[n.Tap],[n.Pan],[n.Pinch],[n.Press,{time:0}]]});return new u9(i,t)}}}]),e}());var d9,p9,v9,g9,m9,y9,k9,b9,_9,C9,w9,x9,S9,T9,O9,I9,E9,A9,R9,P9,D9,F9,M9,z9,L9=((F9=function(e){function t(e,n,i,r,o,s,a,l,u){var c;return _classCallCheck(this,t),(c=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).configurationService=e,c.themeService=n,c.element=i,c.intl=r,c.localizationService=o,c.ngZone=s,c.instanceEventService=a,c.changeDetector=l,c.renderer=u,c.legendItemClick=new tu,c.resizeRateLimit=10,c.theme=null,c.suppressTransitions=!1,c.rtl=!1,c.hostClasses=["k-chart","k-widget"],c.themeService.loadTheme(),c.refreshWait(),c}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){var e=this;this.element&&(this.hostClasses.forEach((function(t){e.renderer.addClass(e.element.nativeElement,t)})),this.renderer.setStyle(this.element.nativeElement,"position","relative"))}},{key:"ngAfterViewInit",value:function(){var e=this;this.canRender&&this.ngZone.runOutsideAngular((function(){var t=e.renderer.listen(e.surfaceElement.nativeElement,"mouseleave",e.chartMouseleave.bind(e));e.domSubscriptions=function(){t()}})),this.setDirection(),this.subscriptions=this.intl.changes.subscribe(this.intlChange.bind(this)),this.subscriptions.add(this.localizationService.changes.subscribe(this.rtlChange.bind(this)))}},{key:"ngAfterViewChecked",value:function(){var e=this;this.instance&&this.autoResize&&this.ngZone.runOutsideAngular((function(){clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout((function(){e.resize()}),0)}))}},{key:"ngOnChanges",value:function(e){var t=this.configurationService.store;b7(e,t),t.popupSettings=null,this.configurationService.push(t)}},{key:"notifyChanges",value:function(e){this.ngOnChanges(_7(e))}},{key:"ngOnDestroy",value:function(){this.destroyed=!0,this.subscription.unsubscribe(),this.domSubscriptions&&(this.domSubscriptions(),this.domSubscriptions=null),this.instance&&(this.instance.destroy(),this.instance=null),this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.resizeTimeout),clearTimeout(this.redrawTimeout)}},{key:"createInstance",value:function(e,t){this.instance=new b6(e,this.options,this.theme,{intlService:this.intl,observer:t,rtl:this.rtl,sender:this})}},{key:"exportImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return FI(this.exportVisual(e),e)}},{key:"exportSVG",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return MI(this.exportVisual(e),e)}},{key:"exportVisual",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.instance.exportVisual(e)}},{key:"findAxisByName",value:function(e){if(this.instance)return this.instance.findAxisByName(e)}},{key:"findPaneByIndex",value:function(e){if(this.instance)return this.instance.findPaneByIndex(e)}},{key:"findPaneByName",value:function(e){if(this.instance)return this.instance.findPaneByName(e)}},{key:"getPlotArea",value:function(){if(this.instance)return this.instance.plotArea()}},{key:"toggleHighlight",value:function(e,t){this.instance&&this.instance.toggleHighlight(e,t)}},{key:"hideTooltip",value:function(){this.instance&&this.instance.hideTooltip()}},{key:"showTooltip",value:function(e){this.instance&&this.instance.showTooltip(e)}},{key:"init",value:function(){if(this.canRender){var e=this.surfaceElement.nativeElement,t=new H7(this);this.createInstance(e,t)}}},{key:"resize",value:function(){this.instance&&this.instance.resize()}},{key:"onResize",value:function(e){this.autoResize&&this.resize()}},{key:"onLegendItemClick",value:function(e){var t=this;this.run((function(){var n=new h7(e,t);if(t.legendItemClick.emit(n),!n.isDefaultPrevented()){var i=t.seriesComponents.toArray()[e.series.index];if(!i)return;void 0===e.pointIndex?i.toggleVisibility():i.togglePointVisibility(e.pointIndex),t.suppressTransitions=!0}}),f9(this.legendItemClick),this.seriesComponents.length>0)}},{key:"onInit",value:function(e){this.instance=e.sender}},{key:"onRender",value:function(e){var t=this,n=this.getDonutCenterStyle();this.run((function(){var i=new d7(e,t);t.surface=e.sender.surface,t.render.emit(i),t.donutCenterStyle=n}),f9(this.render),this.donutCenterStyle!==n)}},{key:"onShowTooltip",value:function(e){var t=this;this.run((function(){e.crosshair?t.crossahirTooltips.show(e):t.tooltipInstance.show(e)}),!e.crosshair,!0)}},{key:"onHideTooltip",value:function(e){e.crosshair?this.crossahirTooltips.active&&(this.crossahirTooltips.hide(),this.detectChanges()):this.tooltipInstance.active&&(this.tooltipInstance.hide(),this.detectChanges())}},{key:"trigger",value:function(e,t){if("resize"!==e){var n=this.activeEmitter(e);if(n){var i=this.instanceEventService.create(e,t,this);return this.run((function(){n.emit(i)})),i.isDefaultPrevented&&i.isDefaultPrevented()}}}},{key:"requiresHandlers",value:function(e){for(var t=0;t<e.length;t++)if(this.activeEmitter(e[t]))return!0;return!1}},{key:"refresh",value:function(){if(clearTimeout(this.redrawTimeout),this.updateDirection(),this.crossahirTooltips.createCrosshairTooltips(this.options),this.setChartAreaSize(),this.instance){var e=this.options.transitions;this.suppressTransitions&&(this.options.transitions=!1),this.updateOptions(),this.suppressTransitions&&(this.options.transitions=e,this.suppressTransitions=!1)}else this.init()}},{key:"setChartAreaSize",value:function(){if(this.element){var e=this.element.nativeElement,t=this.options.chartArea||{};t.width&&(e.style.width="".concat(t.width,"px")),t.height&&(e.style.height="".concat(t.height,"px"))}}},{key:"updateOptions",value:function(){this.instance.setOptions(this.options)}},{key:"tooltipMouseleave",value:function(e){var t=e.relatedTarget;!this.instance||t&&K7(t,this.element.nativeElement)||this.instance.hideElements()}},{key:"chartMouseleave",value:function(e){var t=e.relatedTarget,n=this.element.nativeElement;!this.instance||t&&(this.tooltipInstance.containsElement(t)||K7(t,n))||this.instance.handlingTap||this.instance.hideElements()}},{key:"activeEmitter",value:function(e){var t=this[e];if(t&&t.emit&&f9(t))return t}},{key:"getDonutCenterStyle",value:function(){if(this.instance&&this.options&&this.options.series){var e=this.options.series[0],t=this.instance._plotArea.charts;if(e&&"donut"===e.type&&0!==t[0].points.length){var n=t[0].points[0],i=n.box.center(),r=n.sector.innerRadius,o=2*r;return{height:o+"px",left:i.x-r+"px",top:i.y-r+"px",width:o+"px"}}}}},{key:"refreshWait",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.subscription=mF(e.configurationService.onChange$,e.themeService.onChange$).pipe(Mg((function(t){e.options=t[0],e.theme=t[1]})),bg(1e3/60)).subscribe((function(){e.refresh()}))}))}},{key:"run",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;t?(n&&this.changeDetector.markForCheck(),this.ngZone.run(e)):(e(),n&&this.detectChanges())}},{key:"detectChanges",value:function(){this.destroyed||this.changeDetector.detectChanges()}},{key:"intlChange",value:function(){this.instance&&this.deferredRedraw()}},{key:"rtlChange",value:function(){this.instance&&this.rtl!==this.isRTL&&this.deferredRedraw()}},{key:"deferredRedraw",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){clearTimeout(e.redrawTimeout),e.redrawTimeout=setTimeout((function(){e.updateDirection(),e.instance.noTransitionsRedraw()}),0)}))}},{key:"updateDirection",value:function(){var e=this.isRTL;this.rtl!==e&&(this.setDirection(),this.instance&&this.instance.setDirection(e))}},{key:"setDirection",value:function(){this.rtl=this.isRTL,this.element&&this.renderer.setAttribute(this.element.nativeElement,"dir",this.rtl?"rtl":"ltr")}},{key:"canRender",get:function(){return _m()&&Boolean(this.surfaceElement)}},{key:"autoResize",get:function(){return this.resizeRateLimit>0}},{key:"isRTL",get:function(){return Boolean(this.localizationService.rtl)}}]),t}(o7)).\u0275fac=function(e){return new(e||F9)(Ds(a7),Ds(j7),Ds(qa),Ds(NP),Ds(jy),Ds(qu),Ds(g7),Ds(Xo),Ds(Ya))},F9.\u0275cmp=Et({type:F9,selectors:[["kendo-chart"]],contentQueries:function(e,t,n){var i;1&e&&(gu(n,m7,!0),gu(n,N7,!0)),2&e&&(fu(i=ku())&&(t.donutCenterTemplate=i.first),fu(i=ku())&&(t.seriesComponents=i))},viewQuery:function(e,t){var n;1&e&&(pu(t9,!0),pu(o9,!0),pu(X8,!0)),2&e&&(fu(n=ku())&&(t.tooltipInstance=n.first),fu(n=ku())&&(t.crossahirTooltips=n.first),fu(n=ku())&&(t.surfaceElement=n.first))},inputs:{resizeRateLimit:"resizeRateLimit",popupSettings:"popupSettings"},outputs:{legendItemClick:"legendItemClick"},exportAs:["kendoChart"],features:[Ha([a7,G7,g7,jy,{provide:By,useValue:"kendo.chart"}]),Sa,Ra()],decls:6,vars:4,consts:[[1,"k-chart-surface"],["surface",""],[3,"popupSettings"],[3,"popupSettings","leave"],[3,"rateLimit","resize"],["class","k-chart-donut-center",3,"ngStyle",4,"ngIf"],[1,"k-chart-donut-center",3,"ngStyle"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&(Ns(0,"div",0,1),Ns(2,"kendo-chart-crosshair-tooltips-container",2),Ls(3,"kendo-chart-tooltip-popup",3),Ws("leave",(function(e){return t.tooltipMouseleave(e)})),Vs(),Ls(4,"kendo-resize-sensor",4),Ws("resize",(function(e){return t.onResize(e)})),Vs(),Rs(5,J8,2,2,"div",5)),2&e&&(wr(2),Ms("popupSettings",t.popupSettings),wr(1),Ms("popupSettings",t.popupSettings),wr(1),Ms("rateLimit",t.resizeRateLimit),wr(1),Ms("ngIf",t.donutCenterStyle&&t.donutCenterTemplate))},directives:[o9,t9,Lm,zc,eh,th],encapsulation:2,changeDetection:0}),F9),V9=((D9=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.configKey=t,this.configurationService=n,this.collectionService=i,this.items=[],this.subscription=i.onItemChange$.subscribe((function(e){return r.processChanges(e)}))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"ngAfterContentInit",value:function(){var e=this;this.readItems(),this.children.changes.subscribe((function(){return e.readItems()}))}},{key:"processChanges",value:function(e){if(this.children){var t=this.children.toArray().indexOf(e.sender);t<0||(this.items[t]=e.options,this.change())}}},{key:"readItems",value:function(){this.items=this.children.map((function(e){return e.options})),this.change()}},{key:"change",value:function(){this.configurationService.notify(new s7(this.configKey,this.items))}}]),e}()).\u0275fac=function(e){Fs()},D9.\u0275dir=Mt({type:D9}),D9),N9=((P9=function(e){function t(e,n,i,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).configurationService=e,o.collectionService=n,o.notifyChanges({weekStartDay:i.firstDay(r)}),o}return _inherits(t,e),t}(D7)).\u0275fac=function(e){Fs()},P9.\u0275dir=Mt({type:P9,inputs:{autoBaseUnitSteps:"autoBaseUnitSteps",axisCrossingValue:"axisCrossingValue",background:"background",baseUnit:"baseUnit",baseUnitStep:"baseUnitStep",categories:"categories",color:"color",justified:"justified",line:"line",majorGridLines:"majorGridLines",majorTicks:"majorTicks",max:"max",maxDateGroups:"maxDateGroups",maxDivisions:"maxDivisions",min:"min",minorGridLines:"minorGridLines",minorTicks:"minorTicks",name:"name",pane:"pane",plotBands:"plotBands",reverse:"reverse",roundToBaseUnit:"roundToBaseUnit",startAngle:"startAngle",type:"type",visible:"visible",weekStartDay:"weekStartDay",crosshair:"crosshair",labels:"labels",notes:"notes",select:"select",title:"title"},features:[Sa]}),P9),B9=((R9=function(e){function t(e,n,i,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,i,r))).configurationService=e,o.collectionService=n,o}return _inherits(t,e),t}(N9)).\u0275fac=function(e){return new(e||R9)(Ds(a7),Ds(k7),Ds(NP),Ds(Du))},R9.\u0275cmp=Et({type:R9,selectors:[["kendo-chart-category-axis-item"]],features:[Ha([a7]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),R9),j9=((A9=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"categoryAxis",e,n))).configurationService=e,i.collectionService=n,i}return _inherits(t,e),t}(V9)).\u0275fac=function(e){Fs()},A9.\u0275dir=Mt({type:A9,contentQueries:function(e,t,n){var i;1&e&&gu(n,B9,!1),2&e&&fu(i=ku())&&(t.children=i)},features:[Sa]}),A9),H9=((E9=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).configurationService=e,i.collectionService=n,i}return _inherits(t,e),t}(j9)).\u0275fac=function(e){return new(e||E9)(Ds(a7),Ds(k7))},E9.\u0275cmp=Et({type:E9,selectors:[["kendo-chart-category-axis"]],features:[Ha([k7]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),E9),G9=((I9=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"legend",e))).configurationService=e,n}return _inherits(t,e),t}(M7)).\u0275fac=function(e){Fs()},I9.\u0275dir=Mt({type:I9,inputs:{align:"align",background:"background",border:"border",height:"height",labels:"labels",margin:"margin",offsetX:"offsetX",offsetY:"offsetY",orientation:"orientation",padding:"padding",position:"position",reverse:"reverse",visible:"visible",width:"width",markers:"markers",spacing:"spacing",inactiveItems:"inactiveItems",item:"item"},features:[Sa]}),I9),U9=((O9=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).configurationService=e,n.markAsVisible(),n}return _inherits(t,e),t}(G9)).\u0275fac=function(e){return new(e||O9)(Ds(a7))},O9.\u0275cmp=Et({type:O9,selectors:[["kendo-chart-legend"]],features:[Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),O9),W9=((T9=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"series",e,n))).configurationService=e,i.collectionService=n,i}return _inherits(t,e),t}(V9)).\u0275fac=function(e){Fs()},T9.\u0275dir=Mt({type:T9,contentQueries:function(e,t,n){var i;1&e&&gu(n,N7,!1),2&e&&fu(i=ku())&&(t.children=i)},features:[Sa]}),T9),q9=((S9=function(e){function t(e,n,i){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).configurationService=e,r.collectionService=n,r.tooltipTemplateService=i,r}return _inherits(t,e),_createClass(t,[{key:"ngAfterContentChecked",value:function(){this.readTooltipTemplates()}},{key:"readTooltipTemplates",value:function(){var e=this.children.map((function(e){return e.seriesTooltipTemplateRef}));this.tooltipTemplateService.setSeriesTemplates(e)}}]),t}(W9)).\u0275fac=function(e){return new(e||S9)(Ds(a7),Ds(k7),Ds(G7))},S9.\u0275cmp=Et({type:S9,selectors:[["kendo-chart-series"]],features:[Ha([k7]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),S9),Z9=((x9=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"title",e))).configurationService=e,n}return _inherits(t,e),t}(M7)).\u0275fac=function(e){Fs()},x9.\u0275dir=Mt({type:x9,inputs:{align:"align",background:"background",border:"border",color:"color",font:"font",margin:"margin",padding:"padding",position:"position",text:"text",visible:"visible"},features:[Sa]}),x9),$9=((w9=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).configurationService=e,n}return _inherits(t,e),t}(Z9)).\u0275fac=function(e){return new(e||w9)(Ds(a7))},w9.\u0275cmp=Et({type:w9,selectors:[["kendo-chart-title"]],features:[Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),w9),K9=((C9=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"tooltip",e))).configurationService=e,n}return _inherits(t,e),t}(M7)).\u0275fac=function(e){Fs()},C9.\u0275dir=Mt({type:C9,inputs:{background:"background",border:"border",color:"color",font:"font",format:"format",opacity:"opacity",padding:"padding",shared:"shared",visible:"visible"},features:[Sa]}),C9),Y9=((_9=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).configurationService=e,i.templateService=n,i.markAsVisible(),i}return _inherits(t,e),_createClass(t,[{key:"ngAfterContentChecked",value:function(){this.templateService.setTemplate(this.seriesTooltipTemplate?this.seriesTooltipTemplate.templateRef:null),this.templateService.setSharedTemplate(this.sharedTooltipTemplate?this.sharedTooltipTemplate.templateRef:null)}}]),t}(K9)).\u0275fac=function(e){return new(e||_9)(Ds(a7),Ds(G7))},_9.\u0275cmp=Et({type:_9,selectors:[["kendo-chart-tooltip"]],contentQueries:function(e,t,n){var i;1&e&&(gu(n,U7,!0),gu(n,W7,!0)),2&e&&(fu(i=ku())&&(t.seriesTooltipTemplate=i.first),fu(i=ku())&&(t.sharedTooltipTemplate=i.first))},features:[Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2}),_9),X9=((b9=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).configurationService=e,i.collectionService=n,i}return _inherits(t,e),t}(D7)).\u0275fac=function(e){Fs()},b9.\u0275dir=Mt({type:b9,inputs:{axisCrossingValue:"axisCrossingValue",background:"background",color:"color",line:"line",majorGridLines:"majorGridLines",majorTicks:"majorTicks",majorUnit:"majorUnit",max:"max",min:"min",minorGridLines:"minorGridLines",minorTicks:"minorTicks",minorUnit:"minorUnit",name:"name",narrowRange:"narrowRange",pane:"pane",plotBands:"plotBands",reverse:"reverse",type:"type",visible:"visible",crosshair:"crosshair",labels:"labels",notes:"notes",title:"title"},features:[Sa]}),b9),Q9=((k9=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).configurationService=e,i.collectionService=n,i}return _inherits(t,e),t}(X9)).\u0275fac=function(e){return new(e||k9)(Ds(a7),Ds(k7))},k9.\u0275cmp=Et({type:k9,selectors:[["kendo-chart-value-axis-item"]],features:[Ha([a7]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),k9),J9=((y9=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"valueAxis",e,n))).configurationService=e,i.collectionService=n,i}return _inherits(t,e),t}(V9)).\u0275fac=function(e){Fs()},y9.\u0275dir=Mt({type:y9,contentQueries:function(e,t,n){var i;1&e&&gu(n,Q9,!1),2&e&&fu(i=ku())&&(t.children=i)},features:[Sa]}),y9),eee=((m9=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).configurationService=e,i.collectionService=n,i}return _inherits(t,e),t}(J9)).\u0275fac=function(e){return new(e||m9)(Ds(a7),Ds(k7))},m9.\u0275cmp=Et({type:m9,selectors:[["kendo-chart-value-axis"]],features:[Ha([k7]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),m9),tee=((g9=function(e){function t(e,n,i,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).configurationService=e,o.collectionService=n,o.notifyChanges({weekStartDay:i.firstDay(r)}),o}return _inherits(t,e),t}(D7)).\u0275fac=function(e){Fs()},g9.\u0275dir=Mt({type:g9,inputs:{axisCrossingValue:"axisCrossingValue",background:"background",baseUnit:"baseUnit",color:"color",line:"line",majorGridLines:"majorGridLines",majorTicks:"majorTicks",majorUnit:"majorUnit",max:"max",min:"min",minorGridLines:"minorGridLines",minorTicks:"minorTicks",minorUnit:"minorUnit",name:"name",narrowRange:"narrowRange",pane:"pane",plotBands:"plotBands",reverse:"reverse",startAngle:"startAngle",type:"type",visible:"visible",weekStartDay:"weekStartDay",crosshair:"crosshair",labels:"labels",notes:"notes",title:"title"},features:[Sa]}),g9),nee=((v9=function(e){function t(e,n,i,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,i,r))).configurationService=e,o.collectionService=n,o.intl=i,o}return _inherits(t,e),t}(tee)).\u0275fac=function(e){return new(e||v9)(Ds(a7),Ds(k7),Ds(NP),Ds(Du))},v9.\u0275cmp=Et({type:v9,selectors:[["kendo-chart-x-axis-item"]],features:[Ha([a7]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),v9),iee=((p9=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"xAxis",e,n))).configurationService=e,i.collectionService=n,i}return _inherits(t,e),t}(V9)).\u0275fac=function(e){Fs()},p9.\u0275dir=Mt({type:p9,contentQueries:function(e,t,n){var i;1&e&&gu(n,nee,!1),2&e&&fu(i=ku())&&(t.children=i)},features:[Sa]}),p9),ree=((d9=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).configurationService=e,i.collectionService=n,i}return _inherits(t,e),t}(iee)).\u0275fac=function(e){return new(e||d9)(Ds(a7),Ds(k7))},d9.\u0275cmp=Et({type:d9,selectors:[["kendo-chart-x-axis"]],features:[Ha([k7]),Sa],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),d9),oee=si(((z9=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(a7)).\u0275fac=function(e){return oee(e||z9)},z9.\u0275prov=xe({token:z9,factory:z9.\u0275fac}),z9)),see={navigatorFilter:function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).from=e.from,i.to=e.to,i}return _inherits(t,e),t}(l7)},aee=si(((M9=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e,n,i){return see[e]?new see[e](n,i):_get(_getPrototypeOf(t.prototype),"create",this).call(this,e,n,i)}}]),t}(g7)).\u0275fac=function(e){return aee(e||M9)},M9.\u0275prov=xe({token:M9,factory:M9.\u0275fac}),M9));new et("configuration prefix");var lee,uee,cee,hee,fee=((hee=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:hee}),hee.\u0275inj=Te({factory:function(e){return new(e||hee)},providers:[j7],imports:[[ih,Lk,Vm]]}),hee),dee=((cee=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:cee}),cee.\u0275inj=Te({factory:function(e){return new(e||cee)},imports:[[fee,ih,Lk,Vm],fee]}),cee),pee=((uee=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:uee}),uee.\u0275inj=Te({factory:function(e){return new(e||uee)},imports:[[fee,ih,Lk,Vm],fee]}),uee),vee=((lee=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:lee}),lee.\u0275inj=Te({factory:function(e){return new(e||lee)},imports:[fee,pee,dee]}),lee),gee=["*"];function mee(e,t){1&e&&Xs(0,0,["*ngIf","!template"])}function yee(e,t){}$localize(_templateObject99());var kee=function(e){return{$implicit:e}};function bee(e,t){if(1&e&&Rs(0,yee,0,0,"ng-template",1),2&e){var n=$s();Ms("ngTemplateOutlet",n.template)("ngTemplateOutletContext",jl(2,kee,n.service))}}var _ee=["closeTitle",$localize(_templateObject100()),"restoreTitle",$localize(_templateObject101()),"maximizeTitle",$localize(_templateObject102()),"minimizeTitle",$localize(_templateObject103())];function Cee(e,t){if(1&e&&(Ls(0,"kendo-window-titlebar",5),Ls(1,"div",6),ya(2),Vs(),Ls(3,"div",7),Ns(4,"button",8),Ns(5,"button",9),Ns(6,"button",10),Ns(7,"button",11),Vs(),Vs()),2&e){var n=$s();Ms("template",n.titleBarTemplate),wr(2),ka(n.title),wr(2),As("title",n.minimizeButtonTitle)("aria-label",n.minimizeButtonTitle),wr(1),As("title",n.maximizeButtonTitle)("aria-label",n.maximizeButtonTitle),wr(1),As("title",n.restoreButtonTitle)("aria-label",n.restoreButtonTitle),wr(1),As("title",n.closeButtonTitle)("aria-label",n.closeButtonTitle)}}function wee(e,t){1&e&&Xs(0,0,["*ngIf","!showDefaultTitleBar"])}function xee(e,t){1&e&&Xs(0,1,["*ngIf","!contentTemplate"])}function See(e,t){}function Tee(e,t){1&e&&Rs(0,See,0,0,"ng-template",13),2&e&&Ms("ngTemplateOutlet",$s(2).contentTemplate)}function Oee(e,t){if(1&e&&(Ls(0,"div",12),Rs(1,xee,1,0,void 0,2),Rs(2,Tee,1,1,void 0,2),Vs()),2&e){var n=$s();Ms("hidden","minimized"===n.state&&n.keepContent),wr(1),Ms("ngIf",!n.contentTemplate),wr(1),Ms("ngIf",n.contentTemplate)}}function Iee(e,t){1&e&&Ns(0,"div",15),2&e&&Ms("direction",t.$implicit)}function Eee(e,t){1&e&&Rs(0,Iee,1,1,"div",14),2&e&&Ms("ngForOf",$s().resizeDirections)}var Aee,Ree,Pee,Dee,Fee,Mee,zee,Lee,Vee,Nee,Bee,jee=[[["kendo-window-titlebar"]],"*"],Hee=["kendo-window-titlebar","*"],Gee=function(e){return null!=e},Uee=function(e){return String(e).trim().split(" ")},Wee=/^(?:a|input|select|textarea|button|object)$/i,qee=function(e){return e[e.esc=27]="esc",e[e.tab=9]="tab",e[e.enter=13]="enter",e[e.space=32]="space",e[e.ctrl=17]="ctrl",e[e.shift=16]="shift",e[e.left=37]="left",e[e.up=38]="up",e[e.right=39]="right",e[e.down=40]="down",e}({}),Zee=function(e,t){var n=Uee(t);return Boolean(Uee(e.className).find((function(e){return n.indexOf(e)>=0})))},$ee=function(e){var t=e.originalEvent;t.stopPropagation(),t.preventDefault()},Kee=["n","e","s","w","se","sw","ne","nw"],Yee=["top","left","width","height"],Xee=10002,Qee={draggable:!0,height:null,left:null,minHeight:100,minWidth:120,position:"absolute",resizable:!0,state:"default",top:null,width:null},Jee=function(e,t){return function(n){return e.kendoDrag.pipe(Hg(e.kendoRelease.pipe(Mg((function(){t.emit()})))),Q((function(e){var t=e.pageX,i=e.pageY;return{originalX:n.pageX,originalY:n.pageY,pageX:t,pageY:i}})))}},ete=((Lee=function(){function e(t){_classCallCheck(this,e),this.ngZone=t,this.close=new tu,this.focus=new tu,this.change=new tu,this.stateChange=new tu,this.dragStart=new tu,this.dragEnd=new tu,this.resizeStart=new tu,this.resizeEnd=new tu,this.options=Object.assign({},Qee),this.lastAction=null,this.subscriptions=new O,this.dragSubscription=new O}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe(),this.dragSubscription&&this.dragSubscription.unsubscribe()}},{key:"init",value:function(e){var t=this.options.state,n=this.options;this.window=e,"default"!==t&&(this.restoreOptions=Object.assign({},n)),"minimized"===t&&(n.height=0,n.minHeight=0),"maximized"===t&&(n.position="fixed")}},{key:"onDrag",value:function(e){var t=this;this.subscriptions.add(this.ngZone.runOutsideAngular((function(){var n,i;t.dragSubscription=e.kendoPress.pipe(Mg((function(e){e.isTouch||$ee(e),t.focus.emit(),n=t.currentPosition(),i=!1})),_g(Jee(e,t.dragEnd))).subscribe((function(e){var r=e.pageX,o=e.pageY,s=e.originalX,a=e.originalY;i||(t.ensureWidth(),t.dragStart.emit(),i=!0),t.handleDrag({originalX:s,originalY:a,pageX:r,pageY:o,startPosition:n})}))})))}},{key:"handleDrag",value:function(e){var t=e.originalX,n=e.originalY,i=e.pageX,r=e.pageY,o=e.startPosition;this.options.left=o.x+i-t,this.options.top=o.y+r-n,"minimized"===this.options.state&&Gee(this.restoreOptions)&&(this.restoreOptions.left=this.options.left,this.restoreOptions.top=this.options.top),this.change.emit({left:o.x+i-t,top:o.y+r-n})}},{key:"onResize",value:function(e,t){var n=this;this.subscriptions.add(this.ngZone.runOutsideAngular((function(){var i,r=!1;e.kendoPress.pipe(Mg((function(e){$ee(e),n.focus.emit(),i=n.currentOffsetAndPosition(),r=!1})),_g(Jee(e,n.resizeEnd))).subscribe((function(e){var o=e.pageX,s=e.pageY,a=e.originalX,l=e.originalY;r||(n.resizeStart.emit(t),r=!0),n.handleResize(i,t,o-a,s-l)}))})))}},{key:"handleResize",value:function(e,t,n,i){var r=this,o=this.options,s={};if(t.indexOf("e")>=0){var a=e.width+n;a!==o.width&&a>=o.minWidth&&(s.width=a)}if(t.indexOf("n")>=0){var l=e.height-i,u=e.y+i;l!==o.height&&l>=o.minHeight&&u!==o.top&&(s.height=l,s.top=u)}if(t.indexOf("s")>=0){var c=e.height+i;c!==o.height&&c>=o.minHeight&&(s.height=c)}if(t.indexOf("w")>=0){var h=e.x+n,f=e.width-n;f!==o.width&&f>=o.minWidth&&h!==o.left&&(s.width=f,s.left=h)}(Gee(s.width)||Gee(s.height))&&(Yee.forEach((function(e){Gee(s[e])&&(r.options[e]=s[e])})),this.change.emit(s))}},{key:"restoreAction",value:function(){this.lastAction="restore",this.defaultState()}},{key:"defaultState",value:function(){Gee(this.restoreOptions)&&(this.options=Object.assign({},this.restoreOptions)),this.options.state="default",this.stateChange.emit("default")}},{key:"storeOptions",value:function(){this.restoreOptions=Object.assign({},this.options)}},{key:"maximizeAction",value:function(){this.lastAction="maximize",this.maximizeState()}},{key:"maximizeState",value:function(){this.storeOptions();var e=this.windowViewPort;this.options=Object.assign({},this.options,{height:e.height,left:0,position:"fixed",state:"maximized",top:0,width:e.width}),this.stateChange.emit("maximized")}},{key:"minimizeAction",value:function(){this.lastAction="minimize",this.minimizeState()}},{key:"minimizeState",value:function(){this.storeOptions(),this.options=Object.assign({},this.options,{height:null,minHeight:0,state:"minimized"}),this.stateChange.emit("minimized")}},{key:"applyManualState",value:function(){switch(this.options.state){case"default":this.clearHeight(),this.defaultState();break;case"maximized":this.clearHeight(),this.maximizeState();break;case"minimized":this.minimizeState()}}},{key:"closeAction",value:function(){this.close.emit()}},{key:"ensureWidth",value:function(){var e=Ky(this.window.nativeElement);Gee(this.options.width)||(this.options.width=e.width,this.change.emit({width:e.width}))}},{key:"clearHeight",value:function(){0===this.options.height&&delete this.options.height,0===this.options.minHeight&&delete this.options.minHeight}},{key:"center",value:function(){if("maximized"!==this.options.state){var e=Xy(this.window.nativeElement),t=this.windowViewPort,n=Ky(this.window.nativeElement),i={};Gee(this.options.left)||(this.options.left=e.x+Math.max(0,(t.width-n.width)/2),i.left=this.options.left),Gee(this.options.top)||(this.options.top=e.y+Math.max(0,(t.height-n.height)/2),i.top=this.options.top),this.change.emit(i)}}},{key:"currentOffsetAndPosition",value:function(){var e=this.options,t=Ky(this.window.nativeElement);return Object.assign({},this.currentPosition(),{height:e.height?e.height:t.height,width:e.width?e.width:t.width})}},{key:"currentPosition",value:function(){var e=this.options;return e.top&&e.left||this.setPosition(),{x:this.options.left,y:this.options.top}}},{key:"setPosition",value:function(){var e=Jy(this.window.nativeElement,Uy(this.window.nativeElement));this.options.left=e.left,this.options.top=e.top}},{key:"setRestoreOption",value:function(e,t){Gee(this.restoreOptions)&&(this.restoreOptions[e]=t)}},{key:"nextPossibleZIndex",get:function(){return Xee}},{key:"nextZIndex",get:function(){return Xee++}},{key:"windowViewPort",get:function(){return Zy(this.window.nativeElement)}}]),e}()).\u0275fac=function(e){return new(e||Lee)(ut(qu))},Lee.\u0275prov=xe({token:Lee,factory:Lee.\u0275fac}),Lee),tte=((zee=function(){function e(t,n,i,r){_classCallCheck(this,e),this.draggable=t,this.el=n,this.renderer=i,this.service=r,this.subscriptions=new O}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.setDisplay(),this.renderer.addClass(this.el.nativeElement,"k-resize-"+this.direction),this.subscriptions.add(ng(this.draggable).subscribe((function(t){e.service.onResize(t,e.direction)}))),this.subscriptions.add(this.service.resizeStart.subscribe((function(t){t!==e.direction&&e.setDisplay("none")}))),this.subscriptions.add(this.service.dragStart.subscribe((function(){e.setDisplay("none")}))),this.subscriptions.add(le(this.service.resizeEnd,this.service.dragEnd).subscribe((function(){e.setDisplay("block")}))),this.subscriptions.add(this.service.stateChange.subscribe((function(t){e.setDisplay("default"===t?"block":"none")})))}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}},{key:"setDisplay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"block";this.renderer.setStyle(this.el.nativeElement,"display","default"===this.service.options.state?e:"none")}},{key:"hostClass",get:function(){return!0}}]),e}()).\u0275fac=function(e){return new(e||zee)(Ds(Tm,1),Ds(qa),Ds(Ya),Ds(ete))},zee.\u0275dir=Mt({type:zee,selectors:[["","kendoWindowResizeHandle",""]],hostVars:2,hostBindings:function(e,t){2&e&&sa("k-resize-handle",t.hostClass)},inputs:{direction:"direction"}}),zee),nte=((Mee=function(){function e(t,n,i){_classCallCheck(this,e),this.el=t,this.ngZone=i,this.service=n}return _createClass(e,[{key:"ngOnInit",value:function(){this.dragDirective=new Tm(this.el,this.ngZone),this.dragDirective.ngOnInit(),this.isDraggable&&this.subscribeDrag(),this.subscribeStateChange()}},{key:"ngOnDestroy",value:function(){this.dragDirective.ngOnDestroy(),this.unsubscribeDrag(),this.unsubscribeState()}},{key:"subscribeDrag",value:function(){var e=this;this.unsubscribeDrag(),this.dragSubscription=ng(this.dragDirective).subscribe((function(t){e.service.onDrag(t)}))}},{key:"subscribeStateChange",value:function(){var e=this;this.stateSubscription=this.service.stateChange.subscribe((function(t){e.service.options.draggable&&("maximized"===t?e.unsubscribeDrag():e.subscribeDrag())}))}},{key:"unsubscribeDrag",value:function(){this.dragSubscription&&(this.service.dragSubscription.unsubscribe(),this.dragSubscription.unsubscribe(),this.dragSubscription=null)}},{key:"unsubscribeState",value:function(){this.stateSubscription&&(this.stateSubscription.unsubscribe(),this.stateSubscription=null)}},{key:"handle",value:function(e){var t=e.target,n=this.service.options.state;Zee(t,"k-icon")||function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.tagName){var n=e.tagName.toLowerCase(),i=e.getAttribute("tabIndex"),r=null!==i&&!isNaN(i)&&i>-1;return(Wee.test(n)?!e.disabled:r)&&(!t||function(e){var t=e.getBoundingClientRect();return!(!t.width||!t.height)&&"hidden"!==window.getComputedStyle(e).visibility}(e))}return!1}(t,!1)||!this.service.options.resizable||("default"===n?this.service.maximizeAction():"maximized"===n&&this.service.restoreAction())}},{key:"className",get:function(){return!0}},{key:"touchAction",get:function(){if(this.isDraggable)return"none"}},{key:"isDraggable",get:function(){var e=this.service.options;return e.draggable&&"maximized"!==e.state}}]),e}()).\u0275fac=function(e){return new(e||Mee)(Ds(qa),Ds(ete),Ds(qu))},Mee.\u0275cmp=Et({type:Mee,selectors:[["kendo-window-titlebar"]],hostVars:6,hostBindings:function(e,t){1&e&&Ws("dblclick",(function(e){return t.handle(e)})),2&e&&(oa("touch-action",t.touchAction),sa("k-window-titlebar",t.className)("k-dialog-titlebar",t.className))},inputs:{template:"template"},ngContentSelectors:gee,decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Ys(),Rs(0,mee,1,0,void 0,0),Rs(1,bee,1,4,void 0,0)),2&e&&(Ms("ngIf",!t.template),wr(1),Ms("ngIf",t.template))},directives:[zc,th],encapsulation:2}),Mee),ite=function(){var e=function(){function e(t){_classCallCheck(this,e),this.window=t}return _createClass(e,[{key:"process",value:function(e){var t=e.keyCode;switch(t){case qee.up:case qee.down:case qee.left:case qee.right:e.preventDefault(),this.handleArrow(t,e);break;case qee.esc:this.handleEscape()}}},{key:"handleArrow",value:function(e,t){var n=this.window.options;t.altKey?this.handleStateChange(e,n.state):(t.ctrlKey||t.metaKey)&&"default"===n.state?this.handleResize(e):this.handleDrag(e)}},{key:"handleEscape",value:function(){this.window.closeAction()}},{key:"handleDrag",value:function(e){var t=this.window.options;if(t.draggable){var n=this.window.currentOffsetAndPosition(),i=this.window.restoreOptions,r={},o=10;switch(e!==qee.left&&e!==qee.up||(o*=-1),e){case qee.left:case qee.right:r.left=n.x+o,t.left=r.left;break;case qee.up:case qee.down:r.top=n.y+o,t.top=r.top}"minimized"===t.state&&Gee(i)&&(i.left=t.left,i.top=t.top),this.window.change.emit(r)}}},{key:"handleResize",value:function(e){var t=this,n=this.window.options;if(n.resizable){var i,r,o=this.window.currentOffsetAndPosition(),s={},a=10;switch(e!==qee.left&&e!==qee.up||(a*=-1),e){case qee.left:case qee.right:(i=o.width+a)!==n.width&&i>=n.minWidth&&(s.width=i);break;case qee.up:case qee.down:(r=o.height+a)!==n.height&&r>=n.minHeight&&(s.height=r)}(Gee(s.width)||Gee(s.height))&&(Yee.forEach((function(e){Gee(s[e])&&(t.window.options[e]=s[e])})),this.window.change.emit(s))}}},{key:"handleStateChange",value:function(e,t){"minimized"===t&&e===qee.up||"maximized"===t&&e===qee.down?this.window.restoreAction():"default"===t&&(e===qee.up?this.window.maximizeAction():e===qee.down&&this.window.minimizeAction())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ut(ete))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),rte=((Fee=function(){function e(t,n,i,r,o,s){var a=this;_classCallCheck(this,e),this.el=t,this.renderer=n,this.service=i,this.navigation=r,this.ngZone=o,this.localization=s,this.keepContent=!1,this.dragStart=new tu,this.dragEnd=new tu,this.resizeStart=new tu,this.resizeEnd=new tu,this.close=new tu,this.widthChange=new tu,this.heightChange=new tu,this.topChange=new tu,this.leftChange=new tu,this.stateChange=new tu,this.tabIndex=0,this.draged=!1,this.resized=!1,this.windowSubscription=new O,this.direction=this.localization.rtl?"rtl":"ltr",this.localizationChangeSubscription=this.localization.changes.subscribe((function(e){var t=e.rtl;return a.direction=t?"rtl":"ltr"})),this.resizeDirections=Kee,this.subscribeEvents()}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.setNextZIndex(),this.handleInitialFocus(),this.ngZone.runOutsideAngular((function(){return Promise.resolve(null).then((function(){return e.setInitialOffset()}))}))}},{key:"ngOnInit",value:function(){this.renderer.removeAttribute(this.el.nativeElement,"title"),this.service.init(this.el)}},{key:"ngOnChanges",value:function(e){var t=this;if(Yee.forEach((function(n){Cm(n,e)&&t.setStyle(n,t.options[n])})),Cm("draggable",e)){var n=Gee(this.titleBarContent)?this.titleBarContent:this.titleBarView;e.draggable.currentValue?n.subscribeDrag():n.unsubscribeDrag()}Cm("state",e)&&(Gee(this.service.lastAction)?this.service.lastAction=null:(this.service.applyManualState(),this.updateAllOffset()))}},{key:"ngOnDestroy",value:function(){this.windowSubscription&&this.windowSubscription.unsubscribe(),this.localizationChangeSubscription.unsubscribe()}},{key:"focus",value:function(){var e=this.el.nativeElement;Gee(e)&&e.focus()}},{key:"bringToFront",value:function(){this.setNextZIndex()}},{key:"setDimension",value:function(e,t){this.setOption(e,t),this.setStyle(e,t)}},{key:"setOffset",value:function(e,t){this.setOption(e,t),this.setStyle(e,t)}},{key:"onComponentKeydown",value:function(e){Zee(e.target,"k-window")&&this.navigation.process(e)}},{key:"onComponentFocus",value:function(){this.renderer.addClass(this.el.nativeElement,"k-state-focused"),this.setNextZIndex()}},{key:"onComponentBlur",value:function(){this.renderer.removeClass(this.el.nativeElement,"k-state-focused")}},{key:"subscribeEvents",value:function(){var e=this;_m()&&(this.windowSubscription.add(this.service.focus.subscribe((function(){e.el.nativeElement.focus()}))),this.windowSubscription.add(this.service.dragStart.subscribe((function(){e.draged=!0,e.ngZone.run((function(){e.dragStart.emit()}))}))),this.windowSubscription.add(this.service.dragEnd.subscribe((function(){e.draged&&(e.draged=!1,e.ngZone.run((function(){e.dragEnd.emit()})))}))),this.windowSubscription.add(this.service.close.subscribe((function(){e.close.emit()}))),this.windowSubscription.add(this.service.resizeStart.subscribe((function(){e.resized=!0,e.ngZone.run((function(){e.resizeStart.emit()}))}))),this.windowSubscription.add(this.service.resizeEnd.subscribe((function(){e.resized&&(e.resized=!1,e.ngZone.run((function(){e.resizeEnd.emit()})))}))),this.windowSubscription.add(this.service.change.subscribe((function(t){Yee.forEach((function(n){if(Gee(t[n])&&(e.setStyle(n,t[n]),"maximized"!==e.state)){var i=e[n+"Change"];i.observers.length&&e.ngZone.run((function(){i.emit(t[n])}))}}))}))),this.windowSubscription.add(this.service.stateChange.subscribe((function(t){Gee(e.service.lastAction)&&(e.updateAllOffset(),e.stateChange.emit(t))}))))}},{key:"setNextZIndex",value:function(){var e=this.el.nativeElement.style["z-index"];(!e||this.service.nextPossibleZIndex-e>1)&&this.renderer.setStyle(this.el.nativeElement,"z-index",this.service.nextZIndex)}},{key:"setInitialOffset",value:function(){if("maximized"!==this.state)this.updateAllOffset(),Gee(this.left)&&Gee(this.top)||this.service.center();else{var e=this.service.windowViewPort;this.setStyle("width",e.width),this.setStyle("height",e.height),this.setStyle("top",0),this.setStyle("left",0)}}},{key:"updateAllOffset",value:function(){var e=this;Yee.forEach((function(t){Gee(e[t])?e.setStyle(t,e[t]):e.removeStyle(t)}))}},{key:"setStyle",value:function(e,t){this.renderer.setStyle(this.el.nativeElement,e,t+"px")}},{key:"removeStyle",value:function(e){this.renderer.removeStyle(this.el.nativeElement,e)}},{key:"setOption",value:function(e,t){if("number"==typeof t||"string"==typeof t){var n="number"==typeof t?t:parseInt(t,10);this.options[e]=n,this.service.setRestoreOption(e,n)}}},{key:"handleInitialFocus",value:function(){if(this.autoFocusedElement){var e=this.el.nativeElement.querySelector(this.autoFocusedElement);e&&e.focus()}else this.focus()}},{key:"draggable",set:function(e){this.options.draggable=e},get:function(){return this.options.draggable}},{key:"resizable",set:function(e){this.options.resizable=e},get:function(){return this.options.resizable}},{key:"state",set:function(e){this.options.state=e},get:function(){return this.options.state}},{key:"minWidth",set:function(e){this.setOption("minWidth",e)},get:function(){return this.options.minWidth}},{key:"minHeight",set:function(e){this.setOption("minHeight",e)},get:function(){return this.options.minHeight}},{key:"width",set:function(e){this.setOption("width",e)},get:function(){return this.options.width}},{key:"height",set:function(e){this.setOption("height",e)},get:function(){return this.options.height}},{key:"top",set:function(e){this.setOption("top",e)},get:function(){return this.options.top}},{key:"left",set:function(e){this.setOption("left",e)},get:function(){return this.options.left}},{key:"closeButtonTitle",get:function(){return this.messages&&this.messages.closeTitle?this.messages.closeTitle:this.localization.get("closeTitle")}},{key:"restoreButtonTitle",get:function(){return this.messages&&this.messages.restoreTitle?this.messages.restoreTitle:this.localization.get("restoreTitle")}},{key:"maximizeButtonTitle",get:function(){return this.messages&&this.messages.maximizeTitle?this.messages.maximizeTitle:this.localization.get("maximizeTitle")}},{key:"minimizeButtonTitle",get:function(){return this.messages&&this.messages.minimizeTitle?this.messages.minimizeTitle:this.localization.get("minimizeTitle")}},{key:"hostClasses",get:function(){return!0}},{key:"dir",get:function(){return this.direction}},{key:"showDefaultTitleBar",get:function(){return!Gee(this.titleBarContent)}},{key:"styleMinWidth",get:function(){return this.minWidth+"px"}},{key:"styleMinHeight",get:function(){return this.minHeight+"px"}},{key:"stylePosition",get:function(){return this.options.position}},{key:"wrapperMaximizedClass",get:function(){return"maximized"===this.state}},{key:"wrapperMinimizedClass",get:function(){return"minimized"===this.state}},{key:"options",get:function(){return this.service.options}}]),e}()).\u0275fac=function(e){return new(e||Fee)(Ds(qa),Ds(Ya),Ds(ete),Ds(ite),Ds(qu),Ds(jy))},Fee.\u0275cmp=Et({type:Fee,selectors:[["kendo-window"]],contentQueries:function(e,t,n){var i;1&e&&gu(n,nte,!0),2&e&&fu(i=ku())&&(t.titleBarContent=i.first)},viewQuery:function(e,t){var n;1&e&&(pu(nte,!0),pu(tte,!0)),2&e&&(fu(n=ku())&&(t.titleBarView=n.first),fu(n=ku())&&(t.resizeHandles=n))},hostVars:16,hostBindings:function(e,t){1&e&&Ws("keydown",(function(e){return t.onComponentKeydown(e)}))("focus",(function(){return t.onComponentFocus()}))("blur",(function(){return t.onComponentBlur()})),2&e&&(As("tabIndex",t.tabIndex)("dir",t.dir),oa("min-width",t.styleMinWidth)("min-height",t.styleMinHeight)("position",t.stylePosition),sa("k-widget",t.hostClasses)("k-window",t.hostClasses)("k-window-maximized",t.wrapperMaximizedClass)("k-window-minimized",t.wrapperMinimizedClass))},inputs:{keepContent:"keepContent",draggable:"draggable",resizable:"resizable",state:"state",minWidth:"minWidth",minHeight:"minHeight",width:"width",height:"height",top:"top",left:"left",autoFocusedElement:"autoFocusedElement",title:"title"},outputs:{dragStart:"dragStart",dragEnd:"dragEnd",resizeStart:"resizeStart",resizeEnd:"resizeEnd",close:"close",widthChange:"widthChange",heightChange:"heightChange",topChange:"topChange",leftChange:"leftChange",stateChange:"stateChange"},exportAs:["kendoWindow"],features:[Ha([ete,ite,jy,{provide:By,useValue:"kendo.window"}]),Ra()],ngContentSelectors:Hee,decls:7,vars:4,consts:[["kendoWindowLocalizedMessages","",6,"closeTitle","restoreTitle","maximizeTitle","minimizeTitle"],[3,"template",4,"ngIf"],[4,"ngIf"],["class","k-content k-window-content",3,"hidden",4,"ngIf"],[3,"ngIf"],[3,"template"],[1,"k-window-title"],[1,"k-window-actions"],["kendoWindowMinimizeAction",""],["kendoWindowMaximizeAction",""],["kendoWindowRestoreAction",""],["kendoWindowCloseAction",""],[1,"k-content","k-window-content",3,"hidden"],[3,"ngTemplateOutlet"],["kendoWindowResizeHandle","","kendoDraggable","",3,"direction",4,"ngFor","ngForOf"],["kendoWindowResizeHandle","","kendoDraggable","",3,"direction"]],template:function(e,t){1&e&&(Ys(jee),Bs(0,0),Ml(1,_ee),Bs(2),Rs(3,Cee,8,10,"kendo-window-titlebar",1),Rs(4,wee,1,0,void 0,2),Rs(5,Oee,3,3,"div",3),Rs(6,Eee,1,1,"ng-template",4),js(),js()),2&e&&(wr(3),Ms("ngIf",t.showDefaultTitleBar),wr(1),Ms("ngIf",!t.showDefaultTitleBar),wr(1),Ms("ngIf","minimized"!==t.state||t.keepContent),wr(1),Ms("ngIf",t.resizable))},directives:function(){return[vte,zc,nte,ste,ote,lte,ate,th,Fc,tte,Tm]},encapsulation:2}),Fee),ote=((Dee=function(e){function t(e,n,i,r,o){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,null,r,o))).buttonType="button",s.window=i,s.look="bare",s.icon="window-maximize",s}return _inherits(t,e),_createClass(t,[{key:"onClick",value:function(){this.isDisabled||this.window.maximizeAction()}},{key:"visible",get:function(){return"default"===this.window.options.state?"inline-flex":"none"}}]),t}(KV)).\u0275fac=function(e){return new(e||Dee)(Ds(qa),Ds(Ya),Ds(ete,8),Ds(jy),Ds(qu))},Dee.\u0275dir=Mt({type:Dee,selectors:[["button","kendoWindowMaximizeAction",""]],hostVars:3,hostBindings:function(e,t){1&e&&Ws("click",(function(){return t.onClick()})),2&e&&(As("type",t.buttonType),oa("display",t.visible))},inputs:{window:"window"},exportAs:["kendoWindowMaximizeAction"],features:[Ha([jy,{provide:By,useValue:"kendo.button"}]),Sa]}),Dee),ste=((Pee=function(e){function t(e,n,i,r,o){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,null,r,o))).buttonType="button",s.window=i,s.look="bare",s.icon="window-minimize",s}return _inherits(t,e),_createClass(t,[{key:"onClick",value:function(){this.isDisabled||this.window.minimizeAction()}},{key:"visible",get:function(){return"default"===this.window.options.state?"inline-flex":"none"}}]),t}(KV)).\u0275fac=function(e){return new(e||Pee)(Ds(qa),Ds(Ya),Ds(ete,8),Ds(jy),Ds(qu))},Pee.\u0275dir=Mt({type:Pee,selectors:[["button","kendoWindowMinimizeAction",""]],hostVars:3,hostBindings:function(e,t){1&e&&Ws("click",(function(){return t.onClick()})),2&e&&(As("type",t.buttonType),oa("display",t.visible))},inputs:{window:"window"},exportAs:["kendoWindowMinimizeAction"],features:[Ha([jy,{provide:By,useValue:"kendo.button"}]),Sa]}),Pee),ate=((Ree=function(e){function t(e,n,i,r,o){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,null,r,o))).buttonType="button",s.window=i,s.look="bare",s.icon="close",s}return _inherits(t,e),_createClass(t,[{key:"onClick",value:function(){this.isDisabled||this.window.closeAction()}}]),t}(KV)).\u0275fac=function(e){return new(e||Ree)(Ds(qa),Ds(Ya),Ds(ete,8),Ds(jy),Ds(qu))},Ree.\u0275dir=Mt({type:Ree,selectors:[["button","kendoWindowCloseAction",""]],hostVars:1,hostBindings:function(e,t){1&e&&Ws("click",(function(){return t.onClick()})),2&e&&As("type",t.buttonType)},inputs:{window:"window"},exportAs:["kendoWindowCloseAction"],features:[Ha([jy,{provide:By,useValue:"kendo.button"}]),Sa]}),Ree),lte=((Aee=function(e){function t(e,n,i,r,o){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,null,r,o))).buttonType="button",s.window=i,s.look="bare",s.icon="window-restore",s}return _inherits(t,e),_createClass(t,[{key:"onClick",value:function(){this.isDisabled||this.window.restoreAction()}},{key:"visible",get:function(){return"default"===this.window.options.state?"none":"inline-flex"}}]),t}(KV)).\u0275fac=function(e){return new(e||Aee)(Ds(qa),Ds(Ya),Ds(ete,8),Ds(jy),Ds(qu))},Aee.\u0275dir=Mt({type:Aee,selectors:[["button","kendoWindowRestoreAction",""]],hostVars:3,hostBindings:function(e,t){1&e&&Ws("click",(function(){return t.onClick()})),2&e&&(As("type",t.buttonType),oa("display",t.visible))},inputs:{window:"window"},exportAs:["kendoWindowRestoreAction"],features:[Ha([jy,{provide:By,useValue:"kendo.button"}]),Sa]}),Aee),ute=function e(){_classCallCheck(this,e)},cte=((Vee=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"container",set:function(t){e.container=t},get:function(){return e.container}}]),e}()).\u0275fac=function(e){return new(e||Vee)},Vee.\u0275prov=xe({token:Vee,factory:Vee.\u0275fac}),Vee.container=null,Vee),hte=function(){function e(t,n){_classCallCheck(this,e),this.getWindowRef=t,this.parentInjector=n}return _createClass(e,[{key:"get",value:function(e,t){return e===function(){return function e(){_classCallCheck(this,e)}}()?this.getWindowRef():this.parentInjector.get(e,t)}}]),e}(),fte=((Nee=function(){function e(t,n){_classCallCheck(this,e),this.resolver=t,this.containerService=n}return _createClass(e,[{key:"open",value:function(e){var t=this.resolver.resolveComponentFactory(rte),n=e.appendTo||this.containerService.container;if(!n)throw new Error("Cannot attach window to the page.\n                Add an element that uses the kendoWindowContainer directive, or set the 'appendTo' property.\n                See https://www.telerik.com/kendo-angular-ui/components/dialogs/window/service/\n            ");var i={close:function(){},content:null,result:null,window:null},r=this.contentFrom(e.content,n,i),o=n.createComponent(t,void 0,void 0,r.nodes);i.window=o,this.applyOptions(o.instance,e);var s=new j,a=function(e){s.next(e||new ute),r.componentRef&&r.componentRef.destroy(),o.destroy()},l=le(s,o.instance.close).pipe(Og(1));return l.subscribe(a),i.close=a,i.result=l,o.changeDetectorRef.markForCheck(),i}},{key:"applyOptions",value:function(e,t){Gee(t.title)&&(e.title=t.title),Gee(t.keepContent)&&(e.keepContent=t.keepContent),Gee(t.width)&&(e.width=t.width),Gee(t.minWidth)&&(e.minWidth=t.minWidth),Gee(t.height)&&(e.height=t.height),Gee(t.minHeight)&&(e.minHeight=t.minHeight),Gee(t.left)&&(e.left=t.left),Gee(t.top)&&(e.top=t.top),Gee(t.draggable)&&(e.draggable=t.draggable),Gee(t.resizable)&&(e.resizable=t.resizable),Gee(t.messages&&t.messages.closeTitle)&&(e.messages.closeTitle=t.messages.closeTitle),Gee(t.messages&&t.messages.restoreTitle)&&(e.messages.restoreTitle=t.messages.restoreTitle),Gee(t.messages&&t.messages.maximizeTitle)&&(e.messages.maximizeTitle=t.messages.maximizeTitle),Gee(t.messages&&t.messages.minimizeTitle)&&(e.messages.minimizeTitle=t.messages.minimizeTitle),Gee(t.autoFocusedElement)&&(e.autoFocusedElement=t.autoFocusedElement),Gee(t.state)&&(e.state=t.state,"minimized"===t.state&&(e.keepContent=!0)),t.content instanceof vl&&(e.contentTemplate=t.content),t.titleBarContent instanceof vl&&(e.titleBarTemplate=t.titleBarContent)}},{key:"contentFrom",value:function(e,t,n){var i=t.injector.get(Ya),r=[],o=null;if("string"==typeof e)r=[i.createText(e)];else if(e&&!(e instanceof vl)){var s=new hte((function(){return n}),t.injector),a=this.resolver.resolveComponentFactory(e);r=[(o=t.createComponent(a,void 0,s)).location.nativeElement],n.content=o}return{componentRef:o,nodes:[[],r]}}}]),e}()).\u0275fac=function(e){return new(e||Nee)(ut(Wa),ut(cte))},Nee.\u0275prov=xe({token:Nee,factory:Nee.\u0275fac}),Nee),dte=function(){var e=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(Vy);return e.\u0275fac=function(t){return pte(t||e)},e.\u0275dir=Mt({type:e,inputs:{closeTitle:"closeTitle",restoreTitle:"restoreTitle",maximizeTitle:"maximizeTitle",minimizeTitle:"minimizeTitle"},features:[Sa]}),e}(),pte=si(dte),vte=function(){var e=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).service=e,n}return _inherits(t,e),t}(dte);return e.\u0275fac=function(t){return new(t||e)(Ds(jy))},e.\u0275dir=Mt({type:e,selectors:[["","kendoDialogTitleBarLocalizedMessages",""],["","kendoWindowLocalizedMessages",""]],features:[Ha([{provide:dte,useExisting:Ve((function(){return e}))}]),Sa]}),e}(),gte=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=Dt({type:e}),e.\u0275inj=Te({factory:function(t){return new(t||e)},imports:[[ih],ih]}),e}(),mte=((Bee=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:Bee}),Bee.\u0275inj=Te({factory:function(e){return new(e||Bee)},providers:[cte,fte],imports:[[gte,Om]]}),Bee),yte=["kendoMenuList",""];function kte(e,t){if(1&e&&Ns(0,"li",3),2&e){var n=$s(),i=n.index,r=n.$implicit,o=$s();sa("k-first",0===i)("k-last",i===o.items.length-1)("k-state-disabled",r.disabled),Ms("item",r)("level",o.level)("vertical",o.vertical)("animate",o.animate)("rtl",o.rtl)("itemTemplate",o.itemTemplate)("itemLinkTemplate",o.itemLinkTemplate)("openOnClick",o.openOnClick)("index",o.hierarchyIndex(i))("siblingIndex",i)("ngClass",r.cssClass)("ngStyle",r.cssStyle),As("data-kendo-menu-index",o.hierarchyIndex(i))}}function bte(e,t){if(1&e&&(Ls(0,"li",4),ya(1," \xa0 "),Vs()),2&e){var n=$s().$implicit;Ms("ngClass",n.cssClass)("ngStyle",n.cssStyle)}}function _te(e,t){if(1&e&&(Bs(0),Rs(1,kte,1,19,"li",1),Rs(2,bte,2,2,"li",2),js()),2&e){var n=t.$implicit;wr(1),Ms("ngIf",!n.separator),wr(1),Ms("ngIf",n.separator)}}var Cte=["link"],wte=["popupTemplate"],xte=["kendoMenuItem",""];function Ste(e,t){}function Tte(e,t){if(1&e&&(Ls(0,"span",6,7),Rs(2,Ste,0,0,"ng-template",8),Vs()),2&e){var n=$s(),i=Ps(7);sa("k-state-active",n.opened),wr(2),Ms("ngTemplateOutlet",i)}}function Ote(e,t){}function Ite(e,t){if(1&e&&(Ls(0,"a",9,7),Rs(2,Ote,0,0,"ng-template",8),Vs()),2&e){var n=$s(),i=Ps(7);sa("k-state-active",n.opened),As("href",n.item.url,Ki),wr(2),Ms("ngTemplateOutlet",i)}}function Ete(e,t){}var Ate=function(e,t){return{item:e,index:t}};function Rte(e,t){if(1&e&&Rs(0,Ete,0,0,"ng-template",10),2&e){var n=$s();Ms("ngTemplateOutlet",n.linkTemplate)("ngTemplateOutletContext",Hl(2,Ate,n.item,n.index))}}function Pte(e,t){}function Dte(e,t){if(1&e&&(Ls(0,"div",11),Rs(1,Pte,0,0,"ng-template",10),Vs()),2&e){var n=$s();wr(1),Ms("ngTemplateOutlet",n.item.content)("ngTemplateOutletContext",Hl(2,Ate,n.item.owner,n.item.ownerIndex))}}function Fte(e,t){if(1&e&&Ns(0,"ul",12),2&e){var n=$s();Ms("animate",n.animate)("rtl",n.rtl)("vertical",n.vertical)("openOnClick",n.openOnClick)("items",n.children)("level",n.level+1)("index",n.index)("itemTemplate",n.itemTemplate)("itemLinkTemplate",n.itemLinkTemplate),As("id",n.childId)}}function Mte(e,t){1&e&&Ns(0,"span",15),2&e&&Ms("ngClass",$s(2).iconClass)}function zte(e,t){if(1&e&&(Bs(0),ya(1),js()),2&e){var n=$s(2);wr(1),ba(" ",n.item.text," ")}}function Lte(e,t){}function Vte(e,t){if(1&e&&Rs(0,Lte,0,0,"ng-template",10),2&e){var n=$s(2);Ms("ngTemplateOutlet",n.template)("ngTemplateOutletContext",Hl(2,Ate,n.item,n.index))}}function Nte(e,t){if(1&e&&Ns(0,"span",16),2&e){var n=$s(2);sa("k-i-arrow-60-down",!n.horizontal)("k-i-arrow-60-right",n.horizontal&&!n.rtl)("k-i-arrow-60-left",n.horizontal&&n.rtl)}}function Bte(e,t){if(1&e&&(Rs(0,Mte,1,1,"span",13),Rs(1,zte,2,1,"ng-container",2),Rs(2,Vte,1,5,void 0,2),Rs(3,Nte,1,6,"span",14)),2&e){var n=$s();Ms("ngIf",n.item.icon),wr(1),Ms("ngIf",!n.template),wr(1),Ms("ngIf",n.template),wr(1),Ms("ngIf",n.hasContent)}}var jte=["default"];function Hte(e,t){if(1&e&&Ns(0,"kendo-menu",1),2&e){var n=$s();Ms("items",n.rootItems)("vertical",n.vertical)("openOnClick",n.openOnClick)("hoverDelay",n.hoverDelay)("animate",n.animate)("menuItemTemplate",null==n.itemTemplate.first?null:n.itemTemplate.first.templateRef)("menuItemLinkTemplate",null==n.itemLinkTemplate.first?null:n.itemLinkTemplate.first.templateRef)}}var Gte,Ute,Wte,qte,Zte,$te,Kte,Yte,Xte,Qte,Jte,ene,tne,nne,ine,rne,one,sne=/_?\d+$/,ane=0,lne=function(e,t){return e.siblingIndex-t.siblingIndex},une=function(e,t,n){for(var i=t[e+n];!i;)e<0?e=t.length-1:e>=t.length?e=0:e+=n,i=t[e];return i},cne=((Gte=function(){function e(){_classCallCheck(this,e),this.items={},this.lists=[],this.idPrefix="k-menu".concat(ane++)}return _createClass(e,[{key:"childId",value:function(e){return"".concat(this.idPrefix,"-child").concat(e)}},{key:"itemIndex",value:function(e,t){return(e?e+"_":"")+t}},{key:"get",value:function(e){return this.items[e]}},{key:"add",value:function(e){this.items[e.index]=e}},{key:"remove",value:function(e){delete this.items[e.index]}},{key:"addList",value:function(e){this.lists.push(e)}},{key:"removeList",value:function(e){var t=this.lists.indexOf(e);t>=0&&this.lists.splice(t,1)}},{key:"containsList",value:function(e){return Boolean(this.lists.find((function(t){return t.element.nativeElement===e})))}},{key:"siblings",value:function(e){var t=this,n=this.parentIndex(e.index);return this.filter((function(e){return t.parentIndex(e)===n}))}},{key:"otherSiblings",value:function(e){var t=this,n=this.parentIndex(e.index);return this.filter((function(i){return t.parentIndex(i)===n&&i!==e.index}))}},{key:"children",value:function(e){var t=this;return this.filter((function(n){return t.parentIndex(n)===e.index}))}},{key:"parent",value:function(e){return this.items[this.parentIndex(e.index)]}},{key:"root",value:function(e){return this.items[this.indices(e.index)[0]]}},{key:"indices",value:function(e){return e.split("_")}},{key:"filter",value:function(e){var t=[],n=this.items;for(var i in n)e(i,n[i])&&t.push(n[i]);return t.sort(lne)}},{key:"previous",value:function(e){var t=this.siblings(e),n=t.indexOf(e);return une(n,t,-1)}},{key:"next",value:function(e){var t=this.siblings(e),n=t.indexOf(e);return une(n,t,1)}},{key:"hasParent",value:function(e,t){return e.index.startsWith(t.index)}},{key:"areSiblings",value:function(e,t){return e!==t&&this.parent(e)===this.parent(t)}},{key:"forEach",value:function(e){var t=this.items;for(var n in t)t.hasOwnProperty(n)&&e(t[n])}},{key:"parentIndex",value:function(e){return e.replace(sne,"")}},{key:"hasItems",get:function(){return Object.keys(this.items).length>0}}]),e}()).\u0275fac=function(e){return new(e||Gte)},Gte.\u0275prov=xe({token:Gte,factory:Gte.\u0275fac}),Gte),hne=function(){function e(t){_classCallCheck(this,e),this.prevented=!1,Object.assign(this,t)}return _createClass(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),fne=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(hne),dne=function(e,t){return!("open"===t&&e.opened||"close"===t&&!e.opened)},pne=((Ute=function(){function e(t,n){_classCallCheck(this,e),this.ngZone=t,this.items=n,this.actions=[]}return _createClass(e,[{key:"open",value:function(e,t){e.disabled||(e.hasContent&&!e.opened?this.actions.push({name:"open",requiresZone:e.hasContentTemplates(),item:e,finished:t}):t&&t())}},{key:"close",value:function(e){this.closeChildren(e),this.closeItem(e)}},{key:"closeItem",value:function(e){e.opened&&this.actions.push({name:"close",item:e})}},{key:"closeToRoot",value:function(e){this.closeChildren(e);var t=e;do{this.closeItem(t),t=this.items.parent(t)}while(t)}},{key:"closeOthers",value:function(e){this.closeChildren(e);for(var t=e;t;){var n=this.items.otherSiblings(t);this.closeItems(n),t=this.items.parent(t)}}},{key:"closeAll",value:function(){var e=this;this.items.forEach((function(t){t.opened&&0===t.level&&e.close(t)}))}},{key:"select",value:function(e,t,n,i){this.actions.push({name:"select",item:e,prevented:n,finished:i,domEvent:t})}},{key:"emit",value:function(e,t,n){var i=this.owner,r=new fne({sender:i,item:t.item,index:t.index,originalEvent:n,hasContent:t.hasContent});return i[e].emit(r),i.contextService&&i.contextService.emit(e,r),r.isDefaultPrevented()}},{key:"execute",value:function(e){var t=this;if(this.hasPending||e){var n=e||this.clear();!qu.isInAngularZone()&&this.requiresZone(n)?this.ngZone.run((function(){t.executeActions(n)})):this.executeActions(n)}}},{key:"clear",value:function(){var e=this.actions;return this.actions=[],e}},{key:"executeActions",value:function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.item,r=n.name,o=n.prevented,s=n.finished,a=n.domEvent;dne(i,r)&&(this.emit(r,i,a)?o&&o():(i[r]&&i[r](),s&&s()))}}},{key:"requiresZone",value:function(e){for(var t=e||this.actions,n=this.owner,i=n.contextService,r=0;r<t.length;r++){var o=t[r],s=o.name;if(o.requiresZone||s&&(xm(n[s])||i&&i.hasObservers(s)))return!0}return!1}},{key:"closeChildren",value:function(e){if(e.opened){var t=this.items.children(e);this.closeItems(t)}}},{key:"closeItems",value:function(e){for(var t=0;t<e.length;t++)this.close(e[t])}},{key:"hasPending",get:function(){return this.actions.length>0}}]),e}()).\u0275fac=function(e){return new(e||Ute)(ut(qu),ut(cne))},Ute.\u0275prov=xe({token:Ute,factory:Ute.\u0275fac}),Ute),vne=/\S/,gne={37:"left",39:"right",38:"up",40:"down",36:"home",35:"end",32:"enter",13:"enter",27:"esc",9:"tab"},mne=Object.assign({},gne,{37:"right",39:"left"}),yne=Promise.resolve(null),kne=function(){var e=function(){function e(t,n,i,r){_classCallCheck(this,e),this.items=t,this.actions=n,this.localization=i,this.ngZone=r,this.vertical=!1,this.activeIndex="0"}return _createClass(e,[{key:"focus",value:function(e){e.index!==this.focusedIdx&&(this.activeItem&&this.items.hasParent(e,this.activeItem)||this.setActive(e),this.setFocus(e))}},{key:"setFocus",value:function(e){this.focusedIdx=e.index,e.focus()}},{key:"focusLeave",value:function(){var e=this.focusedItem;e&&(this.actions.closeToRoot(e),this.actions.execute()),this.focusedIdx=null}},{key:"updateActive",value:function(){var e=this;!this.activeItem&&this.items.hasItems&&(this.items.get("0").toggleActive(!0),this.ngZone.runOutsideAngular((function(){yne.then((function(){e.activeIndex="0"}))})))}},{key:"keydown",value:function(e){var t,n=this.focusedItem||this.activeItem,i=this.handlers[e.keyCode];n&&(i?("tab"!==i&&e.preventDefault(),this[i](n,e)):1===(t=e.key).length&&vne.test(t)&&this.search(n,e.key),this.actions.execute())}},{key:"focusIndex",value:function(e){if(!e&&this.activeItem)this.setFocus(this.activeItem);else if("first"===e)this.focusFirst();else if("last"===e)this.focusLast();else{var t=this.items.get(e);t&&this.focus(t)}}},{key:"focusFirst",value:function(){var e=this.items.siblings(this.items.get("0"));this.focus(e[0])}},{key:"focusLast",value:function(){var e=this.items.siblings(this.items.get("0"));this.focus(e[e.length-1])}},{key:"search",value:function(e,t){for(var n=this.items.siblings(e),i=n.indexOf(e),r=n.slice(i+1).concat(n.slice(0,i)),o=0;o<r.length;o++){var s=r[o];if((s.item.text||"").toLowerCase().startsWith(t.toLowerCase())){this.focus(s);break}}}},{key:"down",value:function(e){0!==e.level||this.vertical?this.focus(this.items.next(e)):e.hasContent&&this.actions.open(e,this.focusChild(e,0))}},{key:"up",value:function(e){0!==e.level||this.vertical?this.focus(this.items.previous(e)):e.hasContent&&this.actions.open(e,this.focusChild(e,e.children.length-1))}},{key:"left",value:function(e){if(!this.vertical||0!==e.level||!e.disabled)if(e.level>1||this.vertical&&e.level>0){var t=this.items.parent(e);this.focus(t),this.actions.close(t)}else this.vertical&&0===e.level&&!e.disabled?e.hasContent&&this.actions.open(e,this.focusChild(e,e.children.length-1)):this.focus(this.items.previous(this.activeItem))}},{key:"right",value:function(e){this.vertical&&0===e.level&&e.disabled||(e.horizontal&&!e.disabled?e.hasContent?this.actions.open(e,this.focusChild(e,0)):(!this.vertical||e.level>0)&&this.focus(this.items.next(this.activeItem)):this.focus(this.items.next(this.activeItem)))}},{key:"home",value:function(e){var t=this.items.siblings(e);this.focus(t[0])}},{key:"end",value:function(e){var t=this.items.siblings(e);this.focus(t[t.length-1])}},{key:"enter",value:function(e,t){var n=this.actions;e.disabled||(e.hasContent?(n.select(e,t),n.open(e,this.focusChild(e,0))):(n.select(e,t,null,(function(){e.navigate()})),this.focus(this.items.root(e)),n.closeToRoot(e)))}},{key:"esc",value:function(e){if(e.level>0){var t=this.items.parent(e);this.actions.close(t),this.focus(t)}}},{key:"tab",value:function(e){e.level>0&&this.activeItem.focus()}},{key:"focusChild",value:function(e,t){var n=this;return function(){var i=n.items.children(e)[t];n.setFocus(i)}}},{key:"setActive",value:function(e){var t=this.focusedItem,n=this.items.root(e);this.activeItem&&this.activeItem.toggleActive(!1),this.activeIndex=n.index,n.toggleActive(!0),t&&(this.actions.closeToRoot(t),t.level>0&&this.actions.open(n))}},{key:"focusedItem",get:function(){return this.items.get(this.focusedIdx)}},{key:"activeItem",get:function(){return this.items.get(this.activeIndex)}},{key:"handlers",get:function(){return this.localization.rtl?mne:gne}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ut(cne),ut(pne),ut(jy),ut(qu))},e.\u0275prov=xe({token:e,factory:e.\u0275fac}),e}(),bne=((Wte=function(){function e(t,n){_classCallCheck(this,e),this.actions=t,this.items=n,this.delay=100,this._openOnOver=!0,this.scheduled=[]}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.cancelActions()}},{key:"over",value:function(e){var t=this;this.cancelActions((function(e){return"openOnOver"===e.name})),this.hovered&&this.hovered===e||(this.actions.closeOthers(e),this.hovered=e,(e.level>0||this.openOnOver)&&!e.disabled&&(this.actions.open(e),this.cancelActions((function(n){return"close"===n.name&&(e===n.item||t.items.hasParent(e,n.item))||"open"===n.name&&!t.items.hasParent(e,n.item)}))),this.scheduleActions())}},{key:"leave",value:function(e){var t=this.hovered;t&&(this.actions.closeToRoot(t),this.cancelActions((function(e){return"open"===e.name})),this.scheduleActions()),e&&this._openOnOver&&this.scheduleDisableOpenOnOver(),this.hovered=null}},{key:"closeCurrent",value:function(){var e=this.hovered;e&&(this.actions.closeToRoot(e),this.hovered=null)}},{key:"scheduleActions",value:function(){var e=this;if(this.actions.hasPending){var t={};t.actions=this.actions.clear(),t.id=setTimeout((function(){e.actions.execute(t.actions),e.removeScheduled(t)}),this.delay),this.scheduled.push(t)}}},{key:"scheduleDisableOpenOnOver",value:function(){var e=this,t={actions:[{name:"openOnOver"}]};t.id=setTimeout((function(){e._openOnOver=!1,e.removeScheduled(t)}),Math.max(this.delay,500)),this.scheduled.push(t)}},{key:"removeScheduled",value:function(e){for(var t=this.scheduled,n=0;n<t.length;n++)if(t[n]===e)return void t.splice(n,1)}},{key:"cancelActions",value:function(e){for(var t=this.scheduled,n=t.length-1;n>=0;n--){var i=t[n],r=i.actions;if(e)for(var o=r.length-1;o>=0;o--)e(r[o])&&r.splice(o,1);e&&0!==r.length||(clearTimeout(i.id),t.splice(n,1))}}},{key:"openOnOver",get:function(){return this._openOnOver},set:function(e){this.cancelActions(),this._openOnOver=e}},{key:"hovered",get:function(){return this.items.get(this.hoveredIdx)},set:function(e){this.hoveredIdx=e?e.index:null}}]),e}()).\u0275fac=function(e){return new(e||Wte)(ut(pne),ut(cne))},Wte.\u0275prov=xe({token:Wte,factory:Wte.\u0275fac}),Wte),_ne=/^(?:a|input|select|option|textarea|button|object)$/i,Cne=function(e,t){for(;e&&!t(e);)e=e.parentNode;return e},wne=function(e,t,n){for(;e&&e!==n&&!t(e);)e=e.parentNode;if(e!==n)return e},xne=function(e){if(e.tagName){var t=e.tagName.toLowerCase(),n=e.getAttribute("tabIndex"),i="-1"===n,r=null!==n&&!i;return _ne.test(t)&&(r=!e.disabled&&!i),r}return!1},Sne=function(e){return String(e).trim().split(" ")},Tne=function(e,t){return Sne(e.className).indexOf(t)>=0},One=function(e){return e.getAttribute("data-kendo-menu-index")},Ine=function(e,t){if(e===t.lists[0].element.nativeElement)return!1;var n=function(e){var t=Cne(e,function(e){var t=Sne("k-menu-popup k-menu k-menu-group");return function(e){var n=Sne(e.className);return Boolean(t.find((function(e){return n.indexOf(e)>=0})))}}());return t&&Tne(t,"k-menu-popup")&&(t=t.querySelector(".k-menu-group")),t}(e);return n&&t.containsList(n)},Ene=((Xte=function(){function e(){_classCallCheck(this,e),this.keydown=new tu}return _createClass(e,[{key:"emit",value:function(e,t){this.owner.emitMenuEvent(e,t)}},{key:"hasObservers",value:function(e){return this.owner&&xm(this.owner[e])}},{key:"leaveMenu",value:function(e){return!this.items||!Ine(e.target,this.items)}}]),e}()).\u0275fac=function(e){return new(e||Xte)},Xte.\u0275prov=xe({token:Xte,factory:Xte.\u0275fac}),Xte),Ane=function(){var e=function e(t){_classCallCheck(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(Ds(vl,8))},e.\u0275dir=Mt({type:e,selectors:[["","kendoMenuItemTemplate",""]]}),e}(),Rne=((Yte=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||Yte)(Ds(vl,8))},Yte.\u0275dir=Mt({type:Yte,selectors:[["","kendoMenuItemLinkTemplate",""]]}),Yte),Pne=((Kte=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||Kte)(Ds(vl,8))},Kte.\u0275dir=Mt({type:Kte,selectors:[["","kendoMenuItemContentTemplate",""]]}),Kte),Dne=(($te=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"template",get:function(){if(this.itemTemplate&&this.itemTemplate.length)return this.itemTemplate.first.templateRef}},{key:"linkTemplate",get:function(){if(this.itemLinkTemplate&&this.itemLinkTemplate.length)return this.itemLinkTemplate.first.templateRef}},{key:"contentTemplate",get:function(){if(this.itemContentTemplate&&this.itemContentTemplate.length)return this.itemContentTemplate.first.templateRef}},{key:"items",get:function(){var e=this;if(this.children.length)return this.children.toArray().filter((function(t){return t!==e}))}}]),e}()).\u0275fac=function(e){return new(e||$te)},$te.\u0275cmp=Et({type:$te,selectors:[["kendo-menu-item"]],contentQueries:function(e,t,n){var i;1&e&&(gu(n,Ane,!1),gu(n,Rne,!1),gu(n,Pne,!1),gu(n,$te,!1)),2&e&&(fu(i=ku())&&(t.itemTemplate=i),fu(i=ku())&&(t.itemLinkTemplate=i),fu(i=ku())&&(t.itemContentTemplate=i),fu(i=ku())&&(t.children=i))},inputs:{text:"text",url:"url",disabled:"disabled",cssClass:"cssClass",cssStyle:"cssStyle",icon:"icon",data:"data",separator:"separator"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),$te),Fne=((Zte=function(){function e(){_classCallCheck(this,e),this.vertical=!1,this.openOnClick=!1,this.hoverDelay=100,this.animate=!0}return _createClass(e,[{key:"rootItems",get:function(){return this.items||(this.children?this.children.toArray():[])}}]),e}()).\u0275fac=function(e){return new(e||Zte)},Zte.\u0275dir=Mt({type:Zte,contentQueries:function(e,t,n){var i;1&e&&(gu(n,Ane,!1),gu(n,Rne,!1),gu(n,Dne,!1)),2&e&&(fu(i=ku())&&(t.itemTemplate=i),fu(i=ku())&&(t.itemLinkTemplate=i),fu(i=ku())&&(t.children=i))},inputs:{vertical:"vertical",openOnClick:"openOnClick",hoverDelay:"hoverDelay",animate:"animate",items:"items"}}),Zte),Mne=((qte=function(e){function t(e,n,i,r,o,s,a,l){var u;return _classCallCheck(this,t),(u=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).itemsService=e,u.hover=n,u.actions=i,u.navigation=r,u.localization=o,u.ngZone=s,u.renderer=a,u.contextService=l,u.select=new tu,u.open=new tu,u.close=new tu,u.actions.owner=_assertThisInitialized(u),l&&(l.items=u.itemsService,u.contextKeyDownSubscription=l.keydown.subscribe(u.contextKeyDown.bind(_assertThisInitialized(u)))),u}return _inherits(t,e),_createClass(t,[{key:"toggle",value:function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t++){var n=this.itemsService.get(t+1<1||arguments.length<=t+1?void 0:arguments[t+1]);n&&!n.disabled&&(e?n.open():n.close())}}},{key:"focus",value:function(e){this.navigation.focusIndex(e)}},{key:"ngOnChanges",value:function(e){if(this.navigation.vertical=this.vertical,this.hover.delay=this.hoverDelay,e.openOnClick){var t=this.openOnClick=(n=this.openOnClick)&&Object.assign({toggle:"select"},n);this.hover.openOnOver=!t,t&&"click"===t.toggle?this.attachCloseClick():this.unsubscribeClick()}var n}},{key:"ngAfterViewChecked",value:function(){this.navigation.updateActive()}},{key:"ngOnDestroy",value:function(){this.unsubscribeClick(),this.contextService&&(this.contextService.items=null,this.contextKeyDownSubscription.unsubscribe())}},{key:"attachCloseClick",value:function(){var e=this;!this.closeClickSubscription&&_m()&&this.ngZone.runOutsideAngular((function(){e.closeClickSubscription=e.renderer.listen("document","click",(function(t){Ine(t.target,e.itemsService)||(e.hover.openOnOver=!1,e.actions.closeAll(),e.actions.execute())}))}))}},{key:"unsubscribeClick",value:function(){this.closeClickSubscription&&this.closeClickSubscription()}},{key:"contextKeyDown",value:function(e){if(this.itemsService.hasItems){var t,n=e.keyCode,i=this.localization.rtl,r=n===Bm.ArrowDown||n===Bm.ArrowRight,o=n===Bm.ArrowUp||n===Bm.ArrowLeft;r&&!i||o&&i?t="first":(r&&i||o&&!i)&&(t="last"),t&&(e.preventDefault(),this.focus(t))}}},{key:"ariaOrientation",get:function(){if(this.vertical)return"vertical"}},{key:"contextMenuClass",get:function(){return Boolean(this.contextService)}},{key:"direction",get:function(){return this.rtl}},{key:"rtl",get:function(){return this.localization.rtl}}]),t}(Fne)).\u0275fac=function(e){return new(e||qte)(Ds(cne),Ds(bne),Ds(pne),Ds(kne),Ds(jy),Ds(qu),Ds(Ya),Ds(Ene,8))},qte.\u0275cmp=Et({type:qte,selectors:[["kendo-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&sa("k-rtl",t.direction)},inputs:{menuItemTemplate:"menuItemTemplate",menuItemLinkTemplate:"menuItemLinkTemplate"},outputs:{select:"select",open:"open",close:"close"},exportAs:["kendoMenu"],features:[Ha([cne,pne,kne,bne,jy,{provide:By,useValue:"kendo.menu"},{provide:Fne,useExisting:Ve((function(){return qte}))}]),Sa,Ra()],decls:1,vars:15,consts:[["role","menubar","kendoMenuList","",1,"k-widget","k-reset","k-header","k-menu",3,"items","level","vertical","rtl","animate","openOnClick","itemTemplate","itemLinkTemplate"]],template:function(e,t){1&e&&Ns(0,"ul",0),2&e&&(sa("k-menu-horizontal",!t.vertical)("k-menu-vertical",t.vertical)("k-context-menu",t.contextMenuClass),Ms("items",t.rootItems)("level",0)("vertical",t.vertical)("rtl",t.rtl)("animate",t.animate)("openOnClick",t.openOnClick)("itemTemplate",(null==t.itemTemplate.first?null:t.itemTemplate.first.templateRef)||t.menuItemTemplate)("itemLinkTemplate",(null==t.itemLinkTemplate.first?null:t.itemLinkTemplate.first.templateRef)||t.menuItemLinkTemplate),As("aria-orientation",t.ariaOrientation))},directives:function(){return[zne]},encapsulation:2}),qte),zne=function(){var e=function(){function e(t,n,i,r,o,s,a){_classCallCheck(this,e),this.itemsService=t,this.hover=n,this.actions=i,this.navigation=r,this.renderer=o,this.ngZone=s,this.element=a,this.animate=!0}return _createClass(e,[{key:"hierarchyIndex",value:function(e){return this.itemsService.itemIndex(this.index,e)}},{key:"ngOnInit",value:function(){this.itemsService.addList(this),this.initDomEvents()}},{key:"ngOnDestroy",value:function(){this.itemsService.removeList(this),this.domSubscriptions&&this.domSubscriptions()}},{key:"initDomEvents",value:function(){var e=this;this.element&&this.ngZone.runOutsideAngular((function(){var t=e.element.nativeElement,n=e.level>0?Cne(t,(function(e){return Tne(e,"k-popup")})):t,i=e.renderer.listen(t,"mouseover",(function(n){if(n.target===t&&0===e.level)e.onLeave();else{var i=e.nodeItem(n.target)||e.itemsService.get(e.index);!i||e.openOnClick&&"click"===e.openOnClick.toggle&&0===i.level&&!i.hasContent||e.hover.over(i)}})),r=e.renderer.listen(n,"mouseleave",(function(t){e.leavesMenu(t)&&e.onLeave()})),o=e.renderer.listen(t,"keydown",(function(t){Tne(t.target,"k-menu-item")&&e.navigation.keydown(t)})),s=e.renderer.listen(t,"focusout",(function(t){e.leavesMenu(t)&&e.navigation.focusLeave()})),a=e.renderer.listen(t,"click",e.clickHandler.bind(e));e.domSubscriptions=function(){i(),r(),o(),s(),a()}}))}},{key:"leavesMenu",value:function(e){return!e.relatedTarget||!Ine(e.relatedTarget,this.itemsService)}},{key:"onLeave",value:function(){var e=this.openOnClick;e&&"click"===e.toggle||this.hover.leave(e&&"leave"===e.toggle)}},{key:"nodeItem",value:function(e){var t=this,n=function(e,n){return wne(e,One,t.element.nativeElement)}(e);if(n){var i=One(n);return this.itemsService.get(i)}}},{key:"clickHandler",value:function(e){if(!xne(e.target)||Tne(e.target,"k-menu-item")){var t=this.nodeItem(e.target);if(t&&!t.isContent&&!t.navigating)if(t.disabled)e.preventDefault();else{if(this.actions.select(t,e,(function(){e.preventDefault()})),this.navigation.focus(t),t.level>0&&!t.hasContent&&this.actions.closeToRoot(t),this.openOnClick){var n=this.hover;t.opened?0===t.level&&(n.openOnOver=!1,this.actions.close(t)):t.hasContent?(n.openOnOver=!0,this.actions.closeOthers(t),this.actions.open(t)):(n.openOnOver=!1,0===t.level&&"click"===this.openOnClick.toggle&&this.hover.closeCurrent())}this.actions.execute()}}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ds(cne),Ds(bne),Ds(pne),Ds(kne),Ds(Ya),Ds(qu),Ds(qa))},e.\u0275cmp=Et({type:e,selectors:[["","kendoMenuList",""]],inputs:{animate:"animate",items:"items",level:"level",index:"index",vertical:"vertical",rtl:"rtl",openOnClick:"openOnClick",itemTemplate:"itemTemplate",itemLinkTemplate:"itemLinkTemplate"},attrs:yte,decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["kendoMenuItem","","role","menuitem","class","k-item k-menu-item",3,"item","level","vertical","animate","rtl","itemTemplate","itemLinkTemplate","openOnClick","index","siblingIndex","ngClass","ngStyle","k-first","k-last","k-state-disabled",4,"ngIf"],["class","k-separator k-item","role","separator",3,"ngClass","ngStyle",4,"ngIf"],["kendoMenuItem","","role","menuitem",1,"k-item","k-menu-item",3,"item","level","vertical","animate","rtl","itemTemplate","itemLinkTemplate","openOnClick","index","siblingIndex","ngClass","ngStyle"],["role","separator",1,"k-separator","k-item",3,"ngClass","ngStyle"]],template:function(e,t){1&e&&Rs(0,_te,3,2,"ng-container",0),2&e&&Ms("ngForOf",t.items)},directives:function(){return[Fc,zc,qne,Pc,eh]},encapsulation:2}),e}(),Lne={vertical:"top",horizontal:"left"},Vne={vertical:"top",horizontal:"right"},Nne={vertical:"flip",horizontal:"fit"},Bne={vertical:"fit",horizontal:"flip"},jne={vertical:{anchor:{vertical:"bottom",horizontal:"right"},popup:Vne,collision:Nne,animate:"down"},horizontal:{anchor:{vertical:"top",horizontal:"left"},popup:Vne,collision:Bne,animate:"left"}},Hne={vertical:{anchor:{vertical:"bottom",horizontal:"left"},popup:Lne,collision:Nne,animate:"down"},horizontal:{anchor:{vertical:"top",horizontal:"right"},popup:Lne,collision:Bne,animate:"right"}},Gne=function(e){return void 0!==e},Une=function(){if(_m())return new qa(document.body)},Wne=Une,qne=((Jte=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.itemsService=t,this.navigation=n,this.changeDetector=i,this.renderer=r,this.popupService=o,this.element=s,this.animate=!0,this.openOnClick=!1,this.opened=!1,this.navigating=!1,this.destroyed=!1}return _createClass(e,[{key:"hasContentTemplates",value:function(){var e=this.item;return this.itemTemplate||e.contentTemplate||this.itemLinkTemplate||e.items&&e.items.find((function(e){return e.template||e.linkTemplate}))}},{key:"ngOnInit",value:function(){this.itemsService.add(this)}},{key:"ngOnDestroy",value:function(){this.itemsService.remove(this),this.destroyed=!0,this.popupRef&&(this.popupRef.close(),this.popupRef=null)}},{key:"focus",value:function(){this.element.nativeElement.focus()}},{key:"toggleActive",value:function(e){this.setAttribute("tabindex",e?"0":"-1")}},{key:"open",value:function(){if(!this.destroyed&&this.hasContent&&!this.opened){var e=this.popupSettings,t=!!this.animate&&Object.assign({},this.animate,{direction:e.animate});this.opened=!0,this.popupRef=this.popupService.open({popupAlign:e.popup,anchorAlign:e.anchor,collision:e.collision,anchor:this.element,positionMode:"absolute",content:this.popupTemplate,popupClass:{"k-rtl":this.rtl,"k-menu-popup":!0},animate:t}),this.setAttribute("aria-expanded","true"),this.setAttribute("aria-owns",this.childId),this.changeDetector.detectChanges()}}},{key:"close",value:function(){!this.destroyed&&this.opened&&(this.opened=!1,this.popupRef&&(this.popupRef.close(),this.popupRef=null),this.changeDetector.detectChanges(),this.setAttribute("aria-expanded","false"),this.renderer.removeAttribute(this.element.nativeElement,"aria-owns"))}},{key:"navigate",value:function(){var e;this.linkTemplate?e=this.element.nativeElement.querySelector("a.k-menu-link"):this.hasLink&&(e=this.link.nativeElement),e&&(this.navigating=!0,e.click(),this.navigating=!1)}},{key:"setAttribute",value:function(e,t){this.renderer.setAttribute(this.element.nativeElement,e,t)}},{key:"index",set:function(e){this._index&&this._index!==e?(this.itemsService.remove(this),this._index=e,this.itemsService.add(this)):this._index=e,this.childId=this.itemsService.childId(e)},get:function(){return this._index}},{key:"disabled",get:function(){return this.item.disabled}},{key:"hasPopup",get:function(){return!!this.hasContent||null}},{key:"expanded",get:function(){return this.hasContent?this.opened:null}},{key:"label",get:function(){return this.item.text?this.item.text:null}},{key:"activeId",get:function(){return this.index===this.navigation.activeIndex?"0":"-1"}},{key:"popupSettings",get:function(){var e=this.rtl?jne:Hne;return this.horizontal?e.horizontal:e.vertical}},{key:"horizontal",get:function(){return this.vertical||this.level>0}},{key:"hasLink",get:function(){return Boolean(this.item.url)}},{key:"linkTemplate",get:function(){return this.item.linkTemplate||this.itemLinkTemplate}},{key:"hasContent",get:function(){var e=this.item.items;return e&&e.length||this.item.contentTemplate}},{key:"isContent",get:function(){return Boolean(this.item.content)}},{key:"iconClass",get:function(){return"k-i-".concat(this.item.icon)}},{key:"children",get:function(){var e=this.item;return e.contentTemplate?(this.contentItems||(this.contentItems=[{content:e.contentTemplate,owner:e,ownerIndex:this.index}]),this.contentItems):e.items}},{key:"template",get:function(){return this.item.template||this.itemTemplate}}]),e}()).\u0275fac=function(e){return new(e||Jte)(Ds(cne),Ds(kne),Ds(Xo),Ds(Ya),Ds(zk),Ds(qa))},Jte.\u0275cmp=Et({type:Jte,selectors:[["","kendoMenuItem",""]],viewQuery:function(e,t){var n;1&e&&(pu(Cte,!0),pu(wte,!0)),2&e&&(fu(n=ku())&&(t.link=n.first),fu(n=ku())&&(t.popupTemplate=n.first))},hostVars:5,hostBindings:function(e,t){2&e&&As("aria-disabled",t.disabled)("aria-haspopup",t.hasPopup)("aria-expanded",t.expanded)("aria-label",t.label)("tabindex",t.activeId)},inputs:{animate:"animate",openOnClick:"openOnClick",index:"index",item:"item",level:"level",siblingIndex:"siblingIndex",vertical:"vertical",rtl:"rtl",itemTemplate:"itemTemplate",itemLinkTemplate:"itemLinkTemplate"},features:[Ha([zk,{provide:Mk,useFactory:Wne}])],attrs:xte,decls:8,vars:4,consts:[["class","k-link k-menu-link","role","presentation",3,"k-state-active",4,"ngIf"],["class","k-link k-menu-link","tabindex","-1","role","presentation",3,"k-state-active",4,"ngIf"],[4,"ngIf"],["class","k-content","role","presentation",4,"ngIf"],["popupTemplate",""],["itemcontent",""],["role","presentation",1,"k-link","k-menu-link"],["link",""],[3,"ngTemplateOutlet"],["tabindex","-1","role","presentation",1,"k-link","k-menu-link"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","presentation",1,"k-content"],["kendoMenuList","","role","menu",1,"k-group","k-menu-group","k-reset",3,"animate","rtl","vertical","openOnClick","items","level","index","itemTemplate","itemLinkTemplate"],["class","k-icon","role","presentation",3,"ngClass",4,"ngIf"],["class","k-icon k-menu-expand-arrow","role","presentation",3,"k-i-arrow-60-down","k-i-arrow-60-right","k-i-arrow-60-left",4,"ngIf"],["role","presentation",1,"k-icon",3,"ngClass"],["role","presentation",1,"k-icon","k-menu-expand-arrow"]],template:function(e,t){1&e&&(Rs(0,Tte,3,3,"span",0),Rs(1,Ite,3,4,"a",1),Rs(2,Rte,1,5,void 0,2),Rs(3,Dte,2,5,"div",3),Rs(4,Fte,1,10,"ng-template",null,4,wu),Rs(6,Bte,4,4,"ng-template",null,5,wu)),2&e&&(Ms("ngIf",!t.hasLink&&!t.item.content&&!t.linkTemplate),wr(1),Ms("ngIf",t.item.url&&!t.linkTemplate),wr(1),Ms("ngIf",t.linkTemplate&&!t.item.content),wr(1),Ms("ngIf",t.item.content))},directives:[zc,th,zne,Pc],encapsulation:2}),Jte),Zne=((Qte=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:Qte}),Qte.\u0275inj=Te({factory:function(e){return new(e||Qte)},imports:[[Lk,ih]]}),Qte),$ne=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(hne),Kne=((ine=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||ine)(Ds(vl,8))},ine.\u0275dir=Mt({type:ine,selectors:[["","kendoContextMenuTemplate",""]]}),ine),Yne=((nne=function(){function e(t){_classCallCheck(this,e),this.contextService=t}return _createClass(e,[{key:"get",value:function(e){if(this.contextService.items)return this.contextService.items.get(e)}}]),e}()).\u0275fac=function(e){return new(e||nne)(ut(Ene))},nne.\u0275prov=xe({token:nne,factory:nne.\u0275fac}),nne),Xne=((tne=function(){function e(){_classCallCheck(this,e),this.targets=[]}return _createClass(e,[{key:"add",value:function(e){this.targets.push(e)}},{key:"remove",value:function(e){var t=this.targets.indexOf(e);this.targets.splice(t,1)}},{key:"find",value:function(e){return this.targets.find((function(t){return t.element===e}))}}]),e}()).\u0275fac=function(e){return new(e||tne)},tne.\u0275prov=xe({token:tne,factory:tne.\u0275fac}),tne),Qne=((ene=function e(t,n){_classCallCheck(this,e),this.targetService=n,t&&(this.element=t.nativeElement)}).\u0275fac=function(e){return new(e||ene)(Ds(qa),Ds(Xne))},ene.\u0275dir=Mt({type:ene,selectors:[["","kendoContextMenuTargetContainer",""]],exportAs:["kendoContextMenuTargetContainer"],features:[Ha([Xne])]}),ene),Jne={horizontal:"left",vertical:"bottom"},eie={horizontal:"left",vertical:"top"},tie={horizontal:"fit",vertical:"flip"},nie=function(e){return e.preventDefault()},iie=Une,rie=((one=function(e){function t(e,n,i,r){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).popupService=e,o.service=n,o.ngZone=i,o.renderer=r,o.showOn="contextmenu",o.alignToAnchor=!1,o.vertical=!0,o.popupOpen=new tu,o.popupClose=new tu,o.select=new tu,o.open=new tu,o.close=new tu,o.service.owner=_assertThisInitialized(o),o.popupKeyDownHandler=o.popupKeyDownHandler.bind(_assertThisInitialized(o)),o}return _inherits(t,e),_createClass(t,[{key:"hide",value:function(){this.removePopup()}},{key:"show",value:function(e){if(e){var t=e;this.removePopup(),Gne(t.left)&&Gne(t.top)?this.createPopup({offset:t}):(this.currentTarget=t.nativeElement||t,this.createPopup({anchor:this.currentTarget}))}}},{key:"ngOnChanges",value:function(e){(e.target||e.showOn)&&this.bindShowHandler()}},{key:"ngOnInit",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){var t=e.renderer.listen("document","mousedown",(function(t){e.popupRef&&!Cne(t.target,(function(t){return t===e.popupRef.popupElement}))&&e.service.leaveMenu(t)&&e.closePopup(t)})),n=e.renderer.listen("window","blur",(function(t){e.popupRef&&e.closePopup(t)}));e.closeSubscription=function(){t(),n()}}))}},{key:"ngOnDestroy",value:function(){this.closeSubscription&&(this.closeSubscription(),this.closeSubscription=null),this.unbindShowHandler(),this.removePopup()}},{key:"emitMenuEvent",value:function(e,t){t.target=this.currentTarget,t.sender=this,this[e].emit(t),"select"!==e||t.hasContent||this.closeAndFocus(t.originalEvent)}},{key:"bindShowHandler",value:function(){var e=this;this.unbindShowHandler(),this.ngZone.runOutsideAngular((function(){var t=e.targetElement();if(t){var n=e.showOn||"contextmenu";e.showSubscription=e.renderer.listen(t,e.showOn||"contextmenu",(function(n){e.showContextMenu(n,t)})),"contextmenu"===n&&(e.keydownSubscription=e.renderer.listen(t,"keydown",(function(n){n.shiftKey&&n.keyCode===Bm.F10&&e.showContextMenu(n,t)})))}}))}},{key:"showContextMenu",value:function(e,t){var n=this,i=this.targetFilter(),r=t;if(i){if((r=function(e,t,n){var i=n.getAttribute("id");i||n.setAttribute("id","kendo-matches-container");var r="#".concat(i||"kendo-matches-container"," ").concat(t),o=wne(e,(function(e){return function(e,t){return(e.matches||e.msMatchesSelector).call(e,t)}(e,r)}),n);return i||n.removeAttribute("id"),o}(e.target,i,t))&&r!==e.target&&xne(e.target))return;r&&this.directiveTarget&&(r=this.target.targetService.find(r))}r?this.ngZone.run((function(){n.closePopup(e)||(n.currentTarget=r,n.openPopup(e))})):this.closePopup(e)}},{key:"unbindShowHandler",value:function(){this.showSubscription&&(this.showSubscription(),this.showSubscription=null),this.keydownSubscription&&(this.keydownSubscription(),this.keydownSubscription=null)}},{key:"targetElement",value:function(){if(_m()){this.directiveTarget=!1;var e=this.target;return"string"==typeof e?e=document.querySelector(e):e&&e.nativeElement?e=e.nativeElement:e instanceof Qne&&(e=e.element,this.directiveTarget=!0),e}}},{key:"targetFilter",value:function(){return this.directiveTarget?".k-contextmenu-target":this.filter}},{key:"closePopup",value:function(e){var t=this;if(this.popupRef)return this.popupAction("popupClose",e,(function(){t.removePopup()}))}},{key:"removePopup",value:function(){this.popupRef&&(this.popupRef.close(),this.popupRef=null,this.currentTarget=null),this.popupSubscriptions&&(this.popupSubscriptions(),this.popupSubscriptions=null)}},{key:"openPopup",value:function(e){var t=this;this.popupAction("popupOpen",e,(function(){var n,i;e.preventDefault(),t.alignToAnchor||"keydown"===e.type?n=t.currentTargetElement:i={left:e.pageX,top:e.pageY},t.createPopup({anchor:n,offset:i})}))}},{key:"createPopup",value:function(e){var t=this;this.popupRef=this.popupService.open(Object.assign({animate:!Gne(this.popupAnimate)||this.popupAnimate,appendTo:this.appendTo,collision:this.collision||tie,popupAlign:this.popupAlign||eie,anchorAlign:this.anchorAlign||Jne,content:this.contentTemplate?this.contentTemplate.templateRef:this.defaultContentTemplate,popupClass:"k-menu-popup"},e));var n=this.popupRef.popupElement;this.renderer.addClass(n,"k-context-menu-popup"),this.renderer.setAttribute(n,"tabindex","-1"),this.renderer.setStyle(n,"outline","0"),this.ariaLabel&&this.renderer.setAttribute(n,"aria-label",this.ariaLabel),this.activeTarget=this.currentTargetElement===document.activeElement,this.ngZone.runOutsideAngular((function(){var e=t.renderer.listen(n,"keydown",t.popupKeyDownHandler),i=t.renderer.listen(n,"contextmenu",nie);t.popupSubscriptions=function(){e(),i()}})),n.focus()}},{key:"closeAndFocus",value:function(e){var t=this.currentTargetElement;!this.closePopup(e)&&this.activeTarget&&t.focus()}},{key:"popupKeyDownHandler",value:function(e){var t=this.popupRef.popupElement;e.keyCode!==Bm.Escape||!Tne(e.target,"k-menu-item")&&e.target!==t?e.target===t&&this.service.keydown.emit(e):this.closeAndFocus(e)}},{key:"popupAction",value:function(e,t,n){var i=this,r=this[e],o=!1;return xm(r)?this.ngZone.run((function(){var e=new $ne({originalEvent:t,sender:i,target:i.currentTarget});r.emit(e),e.isDefaultPrevented()||n(),o=e.isDefaultPrevented()})):n(),o}},{key:"currentTargetElement",get:function(){return this.directiveTarget&&this.currentTarget?this.currentTarget.element:this.currentTarget}}]),t}(Fne)).\u0275fac=function(e){return new(e||one)(Ds(zk),Ds(Ene),Ds(qu),Ds(Ya))},one.\u0275cmp=Et({type:one,selectors:[["kendo-contextmenu"]],contentQueries:function(e,t,n){var i;1&e&&gu(n,Kne,!0),2&e&&fu(i=ku())&&(t.contentTemplate=i.first)},viewQuery:function(e,t){var n;1&e&&pu(jte,!0),2&e&&fu(n=ku())&&(t.defaultContentTemplate=n.first)},inputs:{showOn:"showOn",alignToAnchor:"alignToAnchor",vertical:"vertical",target:"target",filter:"filter",popupAnimate:"popupAnimate",popupAlign:"popupAlign",anchorAlign:"anchorAlign",collision:"collision",appendTo:"appendTo",ariaLabel:"ariaLabel"},outputs:{popupOpen:"popupOpen",popupClose:"popupClose",select:"select",open:"open",close:"close"},exportAs:["kendoContextMenu"],features:[Ha([Ene,jy,{provide:By,useValue:"kendo.contextmenu"},{provide:cne,useClass:Yne},{provide:Fne,useExisting:Ve((function(){return one}))},zk,{provide:Mk,useFactory:iie}]),Sa,Ra()],decls:2,vars:0,consts:[["default",""],[3,"items","vertical","openOnClick","hoverDelay","animate","menuItemTemplate","menuItemLinkTemplate"]],template:function(e,t){1&e&&Rs(0,Hte,1,7,"ng-template",null,0,wu)},directives:[Mne],encapsulation:2}),one),oie=((rne=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:rne}),rne.\u0275inj=Te({factory:function(e){return new(e||rne)},imports:[[Lk,ih,Zne],Zne]}),rne),sie=function(e){return{$implicit:e}},aie=["*"];function lie(e,t){}function uie(e,t){if(1&e&&Rs(0,lie,0,0,"ng-template",4),2&e){var n=$s(3);Ms("ngTemplateOutlet",null==n.headerTemplate?null:n.headerTemplate.templateRef)}}function cie(e,t){}function hie(e,t){if(1&e&&Rs(0,cie,0,0,"ng-template",4),2&e){var n=$s(3);Ms("ngTemplateOutlet",null==n.footerTemplate?null:n.footerTemplate.templateRef)}}function fie(e,t){if(1&e&&(Bs(0),Rs(1,uie,1,1,void 0,2),Ns(2,"ul",3),Rs(3,hie,1,1,void 0,2),js()),2&e){var n=$s(2);wr(1),Ms("ngIf",n.headerTemplate),wr(1),Ms("items",n.items)("mini",n.mini)("expanded",n.expanded)("itemTemplate",null==n.itemTemplate?null:n.itemTemplate.templateRef),wr(1),Ms("ngIf",n.footerTemplate)}}function die(e,t){}function pie(e,t){if(1&e&&Rs(0,die,0,0,"ng-template",4),2&e){var n=$s(2);Ms("ngTemplateOutlet",null==n.drawerTemplate?null:n.drawerTemplate.templateRef)}}function vie(e,t){if(1&e&&(Ls(0,"div",1),Rs(1,fie,4,6,"ng-container",2),Rs(2,pie,1,1,void 0,2),Vs()),2&e){var n=$s();oa("width",n.drawerWidth,"px"),wr(1),Ms("ngIf",!n.drawerTemplate),wr(1),Ms("ngIf",n.drawerTemplate)}}function gie(e,t){if(1&e){var n=Gs();Ls(0,"div",1),Ws("click",(function(){return Xt(n),$s().closeDrawer()})),Vs()}}var mie=["kendoDrawerItem",""];function yie(e,t){}function kie(e,t){if(1&e&&Rs(0,yie,0,0,"ng-template",2),2&e){var n=$s();Ms("ngTemplateOutlet",n.itemTemplate)("ngTemplateOutletContext",jl(2,sie,n.item))}}function bie(e,t){if(1&e&&(Bs(0),Ns(1,"span",4),Ls(2,"span",5),ya(3),Vs(),js()),2&e){var n=$s(2);wr(1),Ms("ngClass",n.iconClasses(n.item.icon)),wr(2),ka(n.item.text)}}function _ie(e,t){if(1&e&&(Bs(0),Ns(1,"span",4),js()),2&e){var n=$s(2);wr(1),Ms("ngClass",n.iconClasses(n.item.icon))}}function Cie(e,t){if(1&e&&(Rs(0,bie,4,2,"ng-container",3),Rs(1,_ie,2,1,"ng-container",3)),2&e){var n=$s();Ms("ngIf",n.expanded),wr(1),Ms("ngIf",n.mini&&!n.expanded)}}var wie=["kendoDrawerList",""];function xie(e,t){if(1&e&&Ns(0,"li",3),2&e){var n=$s(),i=n.$implicit,r=n.index,o=$s();Ms("item",i)("index",r)("mini",o.mini)("expanded",o.expanded)("itemTemplate",o.itemTemplate)("ngClass",i.cssClass)("ngStyle",i.cssStyle),As("data-kendo-drawer-index",r)}}function Sie(e,t){if(1&e&&(Ls(0,"li",4),ya(1," \xa0 "),Vs()),2&e){var n=$s().$implicit;Ms("ngClass",n.cssClass)("ngStyle",n.cssStyle)}}function Tie(e,t){if(1&e&&(Bs(0),Rs(1,xie,1,8,"li",1),Rs(2,Sie,2,2,"li",2),js()),2&e){var n=t.$implicit;wr(1),Ms("ngIf",!n.separator),wr(1),Ms("ngIf",n.separator)}}var Oie,Iie,Eie,Aie,Rie,Pie,Die,Fie,Mie,zie,Lie,Vie,Nie,Bie,jie,Hie,Gie,Uie=function(e){return null!=e},Wie=function(e){return Uie(e.getAttribute("data-kendo-drawer-index"))},qie=((Aie=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||Aie)(Ds(vl,8))},Aie.\u0275dir=Mt({type:Aie,selectors:[["","kendoDrawerTemplate",""]]}),Aie),Zie=((Eie=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||Eie)(Ds(vl,8))},Eie.\u0275dir=Mt({type:Eie,selectors:[["","kendoDrawerItemTemplate",""]]}),Eie),$ie=((Iie=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||Iie)(Ds(vl,8))},Iie.\u0275dir=Mt({type:Iie,selectors:[["","kendoDrawerHeaderTemplate",""]]}),Iie),Kie=((Oie=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||Oie)(Ds(vl,8))},Oie.\u0275dir=Mt({type:Oie,selectors:[["","kendoDrawerFooterTemplate",""]]}),Oie),Yie=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(function(){function e(t){_classCallCheck(this,e),this.prevented=!1,Object.assign(this,t)}return _createClass(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}()),Xie=((Rie=function(){function e(){_classCallCheck(this,e),this.selectedIndices=[]}return _createClass(e,[{key:"emit",value:function(e,t){var n=this.owner,i=new Yie(Object.assign({},t,{sender:n}));return xm(n[e])&&n[e].emit(i),i.isDefaultPrevented()}},{key:"onSelect",value:function(e){this.selectedIndices=[e];var t=this.owner;t.autoCollapse&&!t.minimized&&t.toggle(!1)}},{key:"initSelection",value:function(){var e=this.owner.items;this.selectedIndices=[];for(var t=0;t<e.length;t++)e[t].selected&&this.selectedIndices.push(t)}}]),e}()).\u0275fac=function(e){return new(e||Rie)},Rie.\u0275prov=xe({token:Rie,factory:Rie.\u0275fac}),Rie),Qie={type:"slide",duration:200},Jie=((Gie=function(){function e(t,n,i,r){var o=this;_classCallCheck(this,e),this.element=t,this.builder=n,this.localizationService=i,this.drawerService=r,this.hostClasses=!0,this.mode="overlay",this.position="start",this.mini=!1,this.expanded=!1,this.width=240,this.miniWidth=50,this.autoCollapse=!0,this.animation=Qie,this.expand=new tu,this.collapse=new tu,this.select=new tu,this.expandedChange=new tu,this.animationEnd=new tu,this.rtl=!1,this._items=[],this.dynamicRTLSubscription=this.localizationService.changes.subscribe((function(e){var t=e.rtl;o.rtl=t,o.direction=o.rtl?"rtl":"ltr"})),this.drawerService.owner=this}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()}},{key:"toggle",value:function(e){var t=this,n=this.expanded,i=Uie(e)?e:!n;i!==n&&(!0===i?this.setExpanded(!0):!1!==i||this.animation||this.setExpanded(!1),this.animation?(this.animationEnd.pipe(Og(1)).subscribe((function(){t.onAnimationEnd(i)})),this.animate(i)):this[i?"expand":"collapse"].emit())}},{key:"onAnimationEnd",value:function(e){e?this.expand.emit():(this.setExpanded(!1),this.collapse.emit())}},{key:"setExpanded",value:function(e){this.expanded=e,this.expandedChange.emit(e)}},{key:"animate",value:function(e){var t={mode:this.mode,mini:this.mini,miniWidth:this.miniWidth,width:this.width,rtl:this.rtl,position:this.position,animation:"boolean"!=typeof this.animation?this.animation:Qie},n=e?function(e){var t=e.animation.duration,n=e.width,i=e.miniWidth,r=e.mode,o=e.mini,s=e.rtl,a=e.position;return o&&"push"===r?function(e,t,n){return[Gh({overflow:"hidden",flexBasis:"".concat(n,"px")}),jh("".concat(e,"ms ease-in"),Gh({flexBasis:"".concat(t,"px")}))]}(t,n,i):o||"push"!==r?o||"overlay"!==r?o&&"overlay"===r?function(e,t,n){return[Gh({width:"".concat(n,"px")}),jh("".concat(e,"ms ease-in"),Gh({overflow:"hidden",width:"".concat(t,"px")}))]}(t,n,i):void 0:s?function(e){return[Gh({transform:"translateX(100%)"}),jh("".concat(e,"ms ease-in"),Gh({overflow:"hidden",transform:"translateX(0)"}))]}(t):function(e,t){return[Gh({transform:"translateX(".concat("end"!==t?"-100%":"100%",")")}),jh("".concat(e,"ms ease-in"),Gh({overflow:"hidden",transform:"translateX(0)"}))]}(t,a):function(e,t){return[Gh({overflow:"hidden",flexBasis:"0px"}),jh("".concat(e,"ms ease-in"),Gh({flexBasis:"".concat(t,"px")}))]}(t,n)}(t):function(e){var t=e.animation.duration,n=e.width,i=e.miniWidth,r=e.mode,o=e.mini,s=e.rtl,a=e.position;return o&&"push"===r?function(e,t,n){return[Gh({overflow:"hidden",flexBasis:"".concat(t,"px")}),jh("".concat(e,"ms ease-in"),Gh({flexBasis:"".concat(n,"px")}))]}(t,n,i):o||"push"!==r?o||"overlay"!==r?o&&"overlay"===r?function(e,t,n){return[Gh({width:"".concat(t,"px")}),jh("".concat(e,"ms ease-in"),Gh({overflow:"hidden",width:"".concat(n,"px")}))]}(t,n,i):void 0:s?function(e){return[Gh({transform:"translateX(0)"}),jh("".concat(e,"ms ease-in"),Gh({overflow:"hidden",transform:"translateX(100%)"}))]}(t):function(e,t){var n="end"!==t?"-100%":"100%";return[Gh({transform:"translateX(0)"}),jh("".concat(e,"ms ease-in"),Gh({overflow:"hidden",transform:"translateX(".concat(n,")")}))]}(t,a):function(e,t){return[Gh({flexBasis:"".concat(t,"px")}),jh("".concat(e,"ms ease-in"),Gh({overflow:"hidden",flexBasis:"0px"}))]}(t,n)}(t);this.createPlayer(n,this.element.nativeElement).play()}},{key:"createPlayer",value:function(e,t){var n=this,i=this.builder.build(e).create(t);return i.onDone((function(){i&&(n.animationEnd.emit(),i.destroy(),i=null)})),i}},{key:"startPositionClass",get:function(){return"start"===this.position}},{key:"endPositionClass",get:function(){return"end"===this.position}},{key:"overlayTransofrmStyles",get:function(){if("push"!==this.mode)return this.expanded||this.minimized?"translateX(0px)":"translateX(-100%)"}},{key:"flexStyles",get:function(){if("overlay"!==this.mode)return this.expanded||this.minimized?this.drawerWidth:0}},{key:"items",set:function(e){Uie(e)&&e.length>0&&(this._items=e,this.drawerService.initSelection())},get:function(){return this._items}},{key:"minimized",get:function(){return this.mini&&!this.expanded}},{key:"drawerWidth",get:function(){return this.minimized?this.miniWidth:this.width}}]),e}()).\u0275fac=function(e){return new(e||Gie)(Ds(qa),Ds(Nh),Ds(jy),Ds(Xie))},Gie.\u0275cmp=Et({type:Gie,selectors:[["kendo-drawer"]],contentQueries:function(e,t,n){var i;1&e&&(gu(n,qie,!0),gu(n,Kie,!0),gu(n,$ie,!0),gu(n,Zie,!0)),2&e&&(fu(i=ku())&&(t.drawerTemplate=i.first),fu(i=ku())&&(t.footerTemplate=i.first),fu(i=ku())&&(t.headerTemplate=i.first),fu(i=ku())&&(t.itemTemplate=i.first))},hostVars:13,hostBindings:function(e,t){2&e&&(As("dir",t.direction),oa("transform",t.overlayTransofrmStyles)("flex-basis",t.flexStyles,"px"),sa("k-widget",t.hostClasses)("k-drawer",t.hostClasses)("k-drawer-start",t.startPositionClass)("k-drawer-end",t.endPositionClass))},inputs:{mode:"mode",position:"position",mini:"mini",expanded:"expanded",width:"width",miniWidth:"miniWidth",autoCollapse:"autoCollapse",animation:"animation",items:"items"},outputs:{expand:"expand",collapse:"collapse",select:"select",expandedChange:"expandedChange"},exportAs:["kendoDrawer"],features:[Ha([jy,Xie,{provide:By,useValue:"kendo.drawer"}])],decls:1,vars:1,consts:[["class","k-drawer-wrapper",3,"width",4,"ngIf"],[1,"k-drawer-wrapper"],[4,"ngIf"],["kendoDrawerList","",1,"k-drawer-items",3,"items","mini","expanded","itemTemplate"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&Rs(0,vie,3,4,"div",0),2&e&&Ms("ngIf",t.expanded||t.mini)},directives:function(){return[zc,sre,th]},encapsulation:2}),Gie),ere=((Hie=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:Hie}),Hie.\u0275inj=Te({factory:function(e){return new(e||Hie)},imports:[[ih]]}),Hie),tre=((jie=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:jie}),jie.\u0275inj=Te({factory:function(e){return new(e||jie)},imports:[[ih,Om]]}),jie),nre=((Bie=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:Bie}),Bie.\u0275inj=Te({factory:function(e){return new(e||Bie)},imports:[[ih]]}),Bie),ire=((Nie=function(){function e(t){var n=this;_classCallCheck(this,e),this.localizationService=t,this.rtl=!1,this.dynamicRTLSubscription=this.localizationService.changes.subscribe((function(e){var t=e.rtl;n.rtl=t,n.direction=n.rtl?"rtl":"ltr"}))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()}},{key:"closeDrawer",value:function(){this.overlay&&this.drawer.autoCollapse&&this.drawer.toggle(!1)}},{key:"hostClass",get:function(){return!0}},{key:"overlayClass",get:function(){return"overlay"===this.drawer.mode}},{key:"miniClass",get:function(){return this.drawer.mini}},{key:"pushClass",get:function(){return"push"===this.drawer.mode}},{key:"isExpandedClass",get:function(){return this.drawer.expanded}},{key:"overlay",get:function(){return Uie(this.drawer)&&this.drawer.expanded&&"overlay"===this.drawer.mode}}]),e}()).\u0275fac=function(e){return new(e||Nie)(Ds(jy))},Nie.\u0275cmp=Et({type:Nie,selectors:[["kendo-drawer-container"]],contentQueries:function(e,t,n){var i;1&e&&gu(n,Jie,!0),2&e&&fu(i=ku())&&(t.drawer=i.first)},hostVars:11,hostBindings:function(e,t){2&e&&(As("dir",t.direction),sa("k-drawer-container",t.hostClass)("k-drawer-overlay",t.overlayClass)("k-drawer-mini",t.miniClass)("k-drawer-push",t.pushClass)("k-drawer-expanded",t.isExpandedClass))},features:[Ha([jy,{provide:By,useValue:"kendo.drawer.container"}])],ngContentSelectors:aie,decls:2,vars:1,consts:[["class","k-overlay",3,"click",4,"ngIf"],[1,"k-overlay",3,"click"]],template:function(e,t){1&e&&(Ys(),Rs(0,gie,1,0,"div",0),Xs(1)),2&e&&Ms("ngIf",t.overlay)},directives:[zc],encapsulation:2}),Nie),rre=((Vie=function e(){_classCallCheck(this,e),this.hostClasses=!0}).\u0275fac=function(e){return new(e||Vie)},Vie.\u0275cmp=Et({type:Vie,selectors:[["kendo-drawer-content"]],hostVars:2,hostBindings:function(e,t){2&e&&sa("k-drawer-content",t.hostClasses)},ngContentSelectors:aie,decls:1,vars:0,template:function(e,t){1&e&&(Ys(),Xs(0))},encapsulation:2}),Vie),ore=((Lie=function(){function e(t){_classCallCheck(this,e),this.drawer=t}return _createClass(e,[{key:"iconClasses",value:function(e){return"k-icon ".concat(e)}},{key:"disabledClass",get:function(){return this.item.disabled}},{key:"selectedClass",get:function(){return this.drawer.selectedIndices.indexOf(this.index)>=0}}]),e}()).\u0275fac=function(e){return new(e||Lie)(Ds(Xie))},Lie.\u0275cmp=Et({type:Lie,selectors:[["","kendoDrawerItem",""]],hostVars:4,hostBindings:function(e,t){2&e&&sa("k-state-disabled",t.disabledClass)("k-state-selected",t.selectedClass)},inputs:{item:"item",index:"index",itemTemplate:"itemTemplate",mini:"mini",expanded:"expanded",disabled:"disabled",cssClass:"cssClass",cssStyle:"cssStyle"},attrs:mie,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"ngClass"],[1,"k-item-text"]],template:function(e,t){if(1&e&&(Rs(0,kie,1,4,void 0,0),Rs(1,Cie,2,2,"ng-template",null,1,wu)),2&e){var n=Ps(2);Ms("ngIf",t.itemTemplate)("ngIfElse",n)}},directives:[zc,th,Pc],encapsulation:2}),Lie),sre=((zie=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.drawerService=t,this.renderer=n,this.ngZone=i,this.changeDetector=r,this.element=o}return _createClass(e,[{key:"ngOnInit",value:function(){this.initialSelection(),this.initDomEvents()}},{key:"ngOnDestroy",value:function(){this.clickSubscription&&this.clickSubscription()}},{key:"initialSelection",value:function(){0===this.drawerService.selectedIndices.length&&this.drawerService.initSelection()}},{key:"initDomEvents",value:function(){var e=this;this.element&&this.ngZone.runOutsideAngular((function(){e.clickSubscription=e.renderer.listen(e.element.nativeElement,"click",e.clickHandler.bind(e))}))}},{key:"clickHandler",value:function(e){var t=this,n=this.getDrawerItemIndex(e.target),i=this.items[n];if(i)if(i.disabled)e.preventDefault();else{var r={index:n,item:i,originalEvent:e};this.ngZone.run((function(){t.drawerService.emit("select",r)||(t.drawerService.onSelect(n),t.changeDetector.detectChanges())}))}}},{key:"getDrawerItemIndex",value:function(e){var t=this,n=function(e,n){return function(e,t,n){for(;e&&e!==n&&!t(e);)e=e.parentNode;if(e!==n)return e}(e,Wie,t.element.nativeElement)}(e);if(n)return function(e){return+e.getAttribute("data-kendo-drawer-index")}(n)}}]),e}()).\u0275fac=function(e){return new(e||zie)(Ds(Xie),Ds(Ya),Ds(qu),Ds(Xo),Ds(qa))},zie.\u0275cmp=Et({type:zie,selectors:[["","kendoDrawerList",""]],inputs:{items:"items",itemTemplate:"itemTemplate",mini:"mini",expanded:"expanded"},attrs:wie,decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["kendoDrawerItem","","class","k-drawer-item",3,"item","index","mini","expanded","itemTemplate","ngClass","ngStyle",4,"ngIf"],["class","k-drawer-item k-drawer-separator",3,"ngClass","ngStyle",4,"ngIf"],["kendoDrawerItem","",1,"k-drawer-item",3,"item","index","mini","expanded","itemTemplate","ngClass","ngStyle"],[1,"k-drawer-item","k-drawer-separator",3,"ngClass","ngStyle"]],template:function(e,t){1&e&&Rs(0,Tie,3,2,"ng-container",0),2&e&&Ms("ngForOf",t.items)},directives:[Fc,zc,ore,Pc,eh],encapsulation:2}),zie),are=((Mie=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:Mie}),Mie.\u0275inj=Te({factory:function(e){return new(e||Mie)},imports:[[ih]]}),Mie),lre=((Fie=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:Fie}),Fie.\u0275inj=Te({factory:function(e){return new(e||Fie)},imports:[[ih]]}),Fie),ure=((Die=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:Die}),Die.\u0275inj=Te({factory:function(e){return new(e||Die)},imports:[[ih]]}),Die),cre=((Pie=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:Pie}),Pie.\u0275inj=Te({factory:function(e){return new(e||Pie)},imports:[ere,tre,nre,are,ure,lre]}),Pie),hre=["closeTitle",$localize(_templateObject104())];function fre(e,t){}var dre=function(e,t){return{$implicit:e,anchor:t}};function pre(e,t){if(1&e&&(Ls(0,"div",7),Rs(1,fre,0,0,"ng-template",4),Vs()),2&e){var n=$s();wr(1),Ms("ngIf",n.titleTemplate)("ngTemplateOutlet",n.titleTemplate)("ngTemplateOutletContext",Hl(3,dre,n.anchor,n.anchor))}}function vre(e,t){if(1&e){var n=Gs();Ls(0,"div",8),Ws("click",(function(e){return Xt(n),$s().onCloseClick(e)})),Ns(1,"a",9),Vs()}if(2&e){var i=$s();wr(1),As("title",i.closeButtonTitle)}}function gre(e,t){}function mre(e,t){1&e&&ya(0),2&e&&ba(" ",$s().templateString," ")}function yre(e,t){1&e&&Ns(0,"div",10),2&e&&Ms("ngClass",$s().calloutPositionClass())}var kre,bre=new et("kendo-ui-tooltip-settings"),_re=((kre=function e(){_classCallCheck(this,e)}).\u0275prov=xe({token:kre,factory:kre.\u0275fac=function(e){return new(e||kre)}}),kre);function Cre(e){return 9===e.nodeType}function wre(e,t){if(e.closest)return e.closest(t);for(var n=Element.prototype.matches?function(e,t){return e.matches(t)}:function(e,t){return e.msMatchesSelector(t)},i=e;i&&!Cre(i);){if(n(i,t))return i;i=i.parentNode}}function xre(e,t){return!!e&&!Cre(e)&&(e.contains?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY):void 0)}function Sre(e,t,n){var i=e.getBoundingClientRect();return i[t]+i[n]/2}function Tre(e,t){return-1!==e.indexOf(t)}var Ore,Ire,Ere,Are=((Ire=function(){function e(t,n){_classCallCheck(this,e),this.content=t,this.localizationService=n,this.close=new tu,this.tooltipWidth=null,this.tooltipHeight=null,this.callout=!0,this.calloutStyles=function(e,t,n){var i={},r="top"===e||"bottom"===e;return n?("top"===e?i.bottom="unset":"bottom"===e?i.top="unset":"left"===e?i.right="unset":"right"===e&&(i.left="unset"),i[e]="".concat(-t,"px"),i.transform=r?"rotateX(180deg)":"rotateY(180deg)",i):(i.transform=r?"rotateX(0deg)":"rotateY(0deg)",i)},this.direction=n.rtl?"rtl":"ltr"}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.dynamicRTLSubscription=this.localizationService.changes.subscribe((function(t){var n=t.rtl;return e.direction=n?"rtl":"ltr"}))}},{key:"ngOnDestroy",value:function(){this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()}},{key:"calloutPositionClass",value:function(){return{top:"k-callout-s",left:"k-callout-e",bottom:"k-callout-n",right:"k-callout-w"}[this.position]}},{key:"onCloseClick",value:function(e){e.preventDefault(),this.close.emit()}},{key:"updateCalloutPosition",value:function(e,t){if(this.callout){var n=this.content.nativeElement.querySelector(".k-callout"),i="top"===e||"bottom"===e,r=i?"width":"height",o=i?"left":"top",s=i?"marginLeft":"marginTop",a=n.getBoundingClientRect()[r],l=Sre(this.anchor.nativeElement,o,r),u=Sre(this.content.nativeElement,o,r),c=Math.abs(u-l);(c>1||0===c||0===Math.round(c))&&(n.style[s]="".concat(-(u-l+a/2),"px"));var h=this.calloutStyles(e,a,t);Object.keys(h).forEach((function(e){n.style[e]=h[e]}))}}},{key:"cssClasses",get:function(){return"k-widget k-tooltip"}},{key:"className",get:function(){return this.closable}},{key:"cssPosition",get:function(){return"relative"}},{key:"closeButtonTitle",get:function(){return this.closeTitle||this.localizationService.get("closeTitle")}}]),e}()).\u0275fac=function(e){return new(e||Ire)(Ds(qa),Ds(jy))},Ire.\u0275cmp=Et({type:Ire,selectors:[["kendo-tooltip"]],hostVars:11,hostBindings:function(e,t){2&e&&(As("dir",t.direction),aa(t.cssClasses),oa("width",t.tooltipWidth,"px")("height",t.tooltipHeight,"px")("position",t.cssPosition),sa("k-tooltip-closable",t.className))},inputs:{tooltipWidth:"tooltipWidth",tooltipHeight:"tooltipHeight",titleTemplate:"titleTemplate",anchor:"anchor",closable:"closable",templateRef:"templateRef",templateString:"templateString"},outputs:{close:"close"},features:[Ha([jy,{provide:By,useValue:"kendo.tooltip"}])],decls:8,vars:10,consts:[["kendoTooltipLocalizedMessages","",6,"closeTitle"],["class","k-tooltip-title",4,"ngIf"],["class","k-tooltip-button",3,"click",4,"ngIf"],[1,"k-tooltip-content"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngIf"],["class","k-callout",3,"ngClass",4,"ngIf"],[1,"k-tooltip-title"],[1,"k-tooltip-button",3,"click"],["href","#",1,"k-icon","k-i-close"],[1,"k-callout",3,"ngClass"]],template:function(e,t){1&e&&(Bs(0,0),Ml(1,hre),js(),Rs(2,pre,2,6,"div",1),Rs(3,vre,2,1,"div",2),Ls(4,"div",3),Rs(5,gre,0,0,"ng-template",4),Rs(6,mre,1,1,"ng-template",5),Vs(),Rs(7,yre,1,1,"div",6)),2&e&&(wr(2),Ms("ngIf",t.titleTemplate),wr(1),Ms("ngIf",t.closable),wr(2),Ms("ngIf",t.templateRef)("ngTemplateOutlet",t.templateRef)("ngTemplateOutletContext",Hl(7,dre,t.anchor,t.anchor)),wr(1),Ms("ngIf",t.templateString),wr(1),Ms("ngIf",t.callout))},directives:function(){return[Pre,zc,th,Pc]},encapsulation:2}),Ire),Rre=((Ore=function(){function e(t,n,i,r,o,s){var a=this;_classCallCheck(this,e),this.tooltipWrapper=t,this.ngZone=n,this.renderer=i,this.popupService=r,this.filter="[title]",this.position="top",this.showAfter=100,this.callout=!0,this.closable=!1,this.offset=6,this.anchor=null,this.validPositions=["top","bottom","right","left"],this.validShowOptions=["hover","click","none"],Object.assign(this,o,s),this.ngZone.runOutsideAngular((function(){var e=a.tooltipWrapper.nativeElement;a.anchorTitleSubscription=ig(e,"mouseover").pipe(Pg((function(){return""!==a.filter}))).subscribe((function(e){var t=wre(e.target,a.filter);t&&a.hideElementTitle({nativeElement:t})})),a.mouseOverSubscription=ig(e,"mouseover").pipe(Qg(100),Pg((function(){return""!==a.filter}))).subscribe((function(e){return a.onMouseOver(e)})),a.mouseOutSubscription=ig(e,"mouseout").pipe(Qg(100)).subscribe((function(e){return a.onMouseOut(e)}))}))}return _createClass(e,[{key:"show",value:function(e){var t=this;if(!this.popupRef)if(e instanceof Element&&(e={nativeElement:e}),this.anchor=e,"hover"===this.showOn){if(this.popupRef)return;clearTimeout(this.showTimeout),this.showTimeout=window.setTimeout((function(){return t.showContent(t.anchor)}),this.showAfter)}else this.hideElementTitle(this.anchor),this.showContent(this.anchor)}},{key:"hide",value:function(){clearTimeout(this.showTimeout);var e=this.anchor&&this.anchor.nativeElement;e&&e.getAttribute("data-title")&&(e.getAttribute("title")||e.setAttribute("title",e.getAttribute("data-title")),e.setAttribute("data-title","")),this.popupMouseOutSubscription&&this.popupMouseOutSubscription.unsubscribe(),this.closeClickSubscription&&this.closeClickSubscription.unsubscribe(),this.closePopup()}},{key:"toggle",value:function(e,t){var n=this.anchor&&this.anchor.nativeElement;e instanceof Element&&(e={nativeElement:e}),n!==e.nativeElement&&this.hide(),n===e.nativeElement&&"click"===this.showOn&&this.hide(),void 0===t&&(t=!this.popupRef),t?this.show(e):this.hide()}},{key:"ngOnInit",value:function(){void 0===this.showOn&&(this.showOn="hover"),this.verifyProperties()}},{key:"ngOnChanges",value:function(e){e.showOn&&this.subscribeClick()}},{key:"ngAfterViewChecked",value:function(){this.popupRef&&this.anchor&&!function(e,t){for(;e&&e!==t;)e=e.parentNode;return e}(this.anchor.nativeElement||this.anchor,this.tooltipWrapper.nativeElement)&&(this.anchor=null,this.hide())}},{key:"ngOnDestroy",value:function(){this.hide(),this.template=null,this.anchorTitleSubscription.unsubscribe(),this.mouseOverSubscription.unsubscribe(),this.mouseOutSubscription.unsubscribe(),this.mouseClickSubscription&&this.mouseClickSubscription.unsubscribe(),this.popupPositionChangeSubscription&&this.popupPositionChangeSubscription.unsubscribe(),this.popupMouseOutSubscription&&this.popupMouseOutSubscription.unsubscribe()}},{key:"showContent",value:function(e){var t=this;(e.nativeElement.getAttribute("data-title")||this.template)&&(this.ngZone.run((function(){t.openPopup(e),t.bindContent(t.popupRef.content,e)})),this.popupRef.popupAnchorViewportLeave.pipe(Og(1)).subscribe((function(){return t.hide()})))}},{key:"bindContent",value:function(e,t){var n=this,i=e.instance;this.closeClickSubscription=i.close.subscribe((function(){n.hide()})),this.template?i.templateRef=this.template:i.templateString=this.anchor.nativeElement.getAttribute("data-title"),this.titleTemplate&&(i.titleTemplate=this.titleTemplate),i.closeTitle=this.closeTitle,i.anchor=t,i.callout=this.callout,i.closable=this.closable,i.position=this.position,i.tooltipWidth=this.tooltipWidth,i.tooltipHeight=this.tooltipHeight,this.popupRef.content.changeDetectorRef.detectChanges()}},{key:"hideElementTitle",value:function(e){var t=e.nativeElement;t.getAttribute("title")&&(t.setAttribute("data-title",t.getAttribute("title")),t.setAttribute("title",""))}},{key:"openPopup",value:function(e){var t,n,i=this,r=function(e,t){var n={},i={},r={};switch(e){case"top":n={horizontal:"center",vertical:"top"},i={horizontal:"center",vertical:"bottom"},r={horizontal:0,vertical:t};break;case"bottom":n={horizontal:"center",vertical:"bottom"},i={horizontal:"center",vertical:"top"},r={horizontal:0,vertical:t};break;case"right":n={horizontal:"right",vertical:"center"},i={horizontal:"left",vertical:"center"},r={horizontal:t,vertical:0};break;case"left":n={horizontal:"left",vertical:"center"},i={horizontal:"right",vertical:"center"},r={horizontal:t,vertical:0}}return{anchorAlign:n,popupAlign:i,popupMargin:r}}(this.position,this.offset);this.popupRef=this.popupService.open({anchor:e,anchorAlign:r.anchorAlign,animate:!1,content:Are,collision:(t=this.collision,n=this.position,t||("top"===n||"bottom"===n?{horizontal:"fit",vertical:"flip"}:{horizontal:"flip",vertical:"fit"})),margin:r.popupMargin,popupAlign:r.popupAlign,popupClass:"k-popup-transparent"}),this.renderer.addClass(this.popupRef.popupElement,"k-tooltip-wrapper"),this.tooltipClass&&this.renderer.addClass(this.popupRef.popupElement,this.tooltipClass);var o=this.popupRef.content.instance;o.callout&&(this.popupPositionChangeSubscription=this.popupRef.popupPositionChange.subscribe((function(e){var t=e.flip;o.updateCalloutPosition(i.position,!0===t.horizontal||!0===t.vertical)}))),"hover"===this.showOn&&this.ngZone.runOutsideAngular((function(){i.popupMouseOutSubscription=ig(i.popupRef.popupElement,"mouseout").subscribe((function(e){return i.onMouseOut(e)}))}))}},{key:"closePopup",value:function(){this.popupRef&&(this.popupRef.close(),this.popupRef=null),this.popupPositionChangeSubscription&&this.popupPositionChangeSubscription.unsubscribe()}},{key:"subscribeClick",value:function(){var e=this;this.mouseClickSubscription&&this.mouseClickSubscription.unsubscribe(),"click"===this.showOn&&(this.mouseClickSubscription=ig(document,"click").pipe(Pg((function(){return""!==e.filter}))).subscribe((function(t){return e.onMouseClick(t,e.tooltipWrapper.nativeElement)})))}},{key:"onMouseClick",value:function(e,t){var n=e.target,i=wre(n,this.filter),r=this.popupRef&&this.popupRef.popupElement;if(r){if(r.contains(n))return;if(this.closable)return}t.contains(n)&&i?this.toggle(i,!0):r&&this.hide()}},{key:"onMouseOver",value:function(e){var t=wre(e.target,this.filter);"hover"===this.showOn&&t&&this.toggle(t,!0)}},{key:"onMouseOut",value:function(e){if("hover"===this.showOn&&!this.closable){var t=this.popupRef&&this.popupRef.popupElement,n=e.relatedTarget;n&&this.anchor&&xre(this.anchor.nativeElement,n)||n&&xre(t,n)||this.hide()}}},{key:"verifyProperties",value:function(){if(Ci()){if(!Tre(this.validPositions,this.position))throw new Error("Invalid value provided for position property.The available options are 'top', 'bottom', 'left', or 'right'.");if(!Tre(this.validShowOptions,this.showOn))throw new Error("Invalid value provided for showOn property.The available options are 'hover' or 'none'.")}}},{key:"tooltipTemplate",set:function(e){this.template=e},get:function(){return this.template}}]),e}()).\u0275fac=function(e){return new(e||Ore)(Ds(qa),Ds(qu),Ds(Ya),Ds(zk),Ds(_re,8),Ds(bre,8))},Ore.\u0275dir=Mt({type:Ore,selectors:[["","kendoTooltip",""]],inputs:{filter:"filter",position:"position",showAfter:"showAfter",callout:"callout",closable:"closable",offset:"offset",tooltipTemplate:"tooltipTemplate",showOn:"showOn",titleTemplate:"titleTemplate",tooltipWidth:"tooltipWidth",tooltipHeight:"tooltipHeight",tooltipClass:"tooltipClass",collision:"collision",closeTitle:"closeTitle"},exportAs:["kendoTooltip"],features:[Ra()]}),Ore),Pre=function(){var e=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).service=e,n}return _inherits(t,e),t}(Vy);return e.\u0275fac=function(t){return new(t||e)(Ds(jy))},e.\u0275dir=Mt({type:e,selectors:[["","kendoTooltipLocalizedMessages",""]],inputs:{closeTitle:"closeTitle"},features:[Ha([{provide:Vy,useExisting:Ve((function(){return e}))}]),Sa]}),e}(),Dre=[Lk],Fre=((Ere=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:Ere}),Ere.\u0275inj=Te({factory:function(e){return new(e||Ere)},imports:[[ih].concat(Dre)]}),Ere),Mre=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Et({type:e,selectors:[["app-header"]],decls:9,vars:0,consts:[[1,"navbar","d-flex","align-items-center","navbar-expand-lg","py-3","header"],[1,"container","d-flex","justify-content-between"],[1,"align-self-center"],[1,"mb-0","header-title"],[1,"profile-wrapper","d-flex","flex-column","align-self-center"],[1,"profile-image"],[1,"text-white-50"]],template:function(e,t){1&e&&(Ls(0,"nav",0),Ls(1,"div",1),Ls(2,"div",2),Ls(3,"h1",3),ya(4,"My Stocks Portfolio"),Vs(),Vs(),Ls(5,"div",4),Ns(6,"div",5),Ls(7,"div",6),ya(8,"Collin Johnson"),Vs(),Vs(),Vs(),Vs())},styles:[".header[_ngcontent-%COMP%]{height:140px;background:url(header-bg.fb71804a4fb1923f2360.svg);background-position:bottom;background-repeat:no-repeat}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif;font-weight:200;color:#fff}.header[_ngcontent-%COMP%]   .profile-wrapper[_ngcontent-%COMP%]{outline:none}.header[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{align-self:center;width:58px;height:58px;border-radius:50%;background-image:url(user.30f34c6e5c421dc64e98.jpg);background-size:cover;background-position:50%}"]}),e}(),zre=[{field:"price",title:"Price"},{field:"pe",title:"PE Ratio"},{field:"volume",title:"Volume"},{field:"volume_avg",title:"Avg Volume"},{field:"market_cap",title:"Market Cap"},{field:"day_change",title:"Day Change"},{field:"change_pct",title:"% Change"}],Lre=["Bar","Stack Bar","100% Stack Bar","Column","Stack Column","100% Stack Column","Area","Stack Area","100% Stack Area","Line","Radar"],Vre=["Scatter","Bubble"],Nre=["Pie","Donut"],Bre=[{text:"Charts",items:[{text:"Bar",items:[{text:"Bar"},{text:"Stack Bar"},{text:"100% Stack Bar"}],iconClass:"icon-bar"},{text:"Column",items:[{text:"Column"},{text:"Stack Column"},{text:"100% Stack Column"}],iconClass:"icon-column"},{text:"Area",items:[{text:"Area"},{text:"Stack Area"},{text:"100% Stack Area"}],iconClass:"icon-area"},{text:"Pie",items:[{text:"Pie"},{text:"Donut"}],iconClass:"icon-pie"},{text:"Line",iconClass:"icon-line"},{text:"Radar",iconClass:"icon-radar"},{text:"Scatter",iconClass:"icon-scatter"},{text:"Bubble",iconClass:"icon-bubble"}],icon:"k-icon k-i-validation-data"},{text:"Export Excel",icon:"k-icon k-i-excel"}],jre=[{symbol:"AAN",name:"Aaron's, Inc.",price:76.61,day_change:-1.18,change_pct:-1.52,volume:710442,volume_avg:837114,market_cap:5174814208,pe:25.94,intraday:[77.77,77.48,77.47,77.22,77.29,76.9,76.69,76.65,76.69,76.82,76.75,76.81,76.87,76.84,76.7,76.65,76.44,76.29,76.42,76.32,76.2,75.94,75.87,75.8,75.99,76.09,75.8,75.82,75.91,75.84,75.85,76.01,75.99,75.92,75.99,76.06,76.06,76.11,76.17,76.18,76.17,76.13,76.04,75.88,75.72,75.69,75.92,75.99,76.04,76.07,76.03,75.95,75.75,75.58,75.8,75.87,75.93,76.08,75.95,76.01,76.05,76.07,76.16,76.21,76.2,76.38,76.41,76.43,76.38,76.51,76.7,76.65,76.71,76.68,76.65,76.46,76.53,76.59]},{symbol:"AAPL",name:"Apple Inc.",price:246.58,day_change:2.49,change_pct:1.02,volume:15827692,volume_avg:20028962,market_cap:1114344259584,pe:20.94,intraday:[243.75,243.54,243.32,243.47,243.74,243.43,243.34,243.39,243.47,243.66,243.68,244.43,244.53,244.25,244.16,243.93,244.41,244.69,244.52,244.52,244.62,244.88,245.07,245.7,245.31,245.34,245.48,245.54,245.28,245.43,245.41,245.2,245.33,245.31,245.34,245.56,245.59,245.47,245.1,245.18,245.29,245.24,245.35,245.26,245.16,245.38,245.31,245.3,245.3,245.25,245.39,245.45,245.38,245.37,245.25,244.81,245.05,245.07,245.1,245.2,245.18,245.13,245.18,245.35,245.34,245.31,245.39,245.46,245.57,245.65,245.67,245.76,245.68,245.77,245.79,245.86,245.9,246.24]},{symbol:"ACN",name:"Accenture plc",price:183.07,day_change:-.77,change_pct:-.42,volume:1369124,volume_avg:1892150,market_cap:116597284864,pe:24.87,intraday:[184.08,184.36,183.49,183.77,183.74,183.57,183.62,183.76,184.13,183.95,183.99,184.16,184.05,183.85,183.81,183.84,184.4,184.34,184.4,184.32,184.24,184.45,184.5,184.54,184.52,184.55,184.58,184.71,184.63,184.74,184.58,184.29,184.13,184.12,184.1,184.11,184.21,184.21,184.11,184.05,184.06,184,183.94,183.9,183.89,183.9,183.94,183.83,183.9,183.75,183.73,183.78,183.78,183.92,183.9,183.75,183.87,183.87,183.83,183.81,183.7,183.4,183.42,183.53,183.53,183.6,183.64,183.5,183.46,183.51,183.54,183.62,183.59,183.66,183.54,183.4,183.24,183.31]},{symbol:"ADBE",name:"Adobe Inc.",price:270.98,day_change:2.93,change_pct:1.09,volume:1511852,volume_avg:3342325,market_cap:131175735296,pe:48.22,intraday:[267.66,267.8,268.63,269.04,269.44,269.13,269.3,269.95,270.13,269.81,269.9,270.2,270.35,270.2,270.14,270.33,271.13,270.73,270.55,270.31,270.46,271.06,271.54,271.31,270.86,270.97,271.18,271.33,271.16,271.29,271.11,270.73,270.61,270.82,271.02,270.95,271.18,271.07,270.96,271.03,271.02,270.95,270.91,270.93,270.88,271.06,271.03,270.89,271.02,270.95,271.04,270.74,270.86,270.57,270.85,270.68,270.63,270.59,270.59,270.7,270.82,270.35,270.53,270.73,270.76,271,271.06,270.64,270.65,270.79,270.88,270.88,270.9,271.02,270.77,270.72,270.68,270.59]},{symbol:"AGM",name:"Federal Agricultural Mortgage Corporation",price:84.57,day_change:.17,change_pct:.2,volume:22444,volume_avg:22114,market_cap:890445952,pe:9.46,intraday:[84.42,84.87,84.87,84.02,84.02,84.18,84.11,83.5,82.7,82.7,82.97,82.97,82.97,83.08,83.08,83.29,83.29,83.01,83.01,83.21,83.21,83.18,83.38,83.08,83.08,83.34,83.34,83.39,83.39,83.35,83.35,83.32,83.32,83.28,83.28,83.28,83.58,83.58,83.58,83.26,83.26,83.49,83.49,84.52,84.52,84.1,84.1,84.1,83.41,84.77,83.53,83.53,83.92,83.92,83.76,83.76,84.44,84.44,84.44,84.33,84.72,84.59]},{symbol:"AMZN",name:"Amazon.com, Inc.",price:1779.99,day_change:17.78,change_pct:1.01,volume:2173743,volume_avg:3771314,market_cap:882513674240,pe:78.87,intraday:[1762.22,1762,1763.11,1768.61,1768.02,1766.44,1764.64,1766.46,1767.14,1768.17,1767.75,1769.02,1768.68,1771.99,1771.46,1774.6,1778.5,1778.76,1776.4,1773.73,1774.49,1771.65,1772.55,1773.22,1773.5,1770.94,1769.19,1770.69,1771.39,1772.2,1770.41,1771.65,1769.62,1769.5,1769.54,1768.72,1768.31,1767.99,1767.33,1766.14,1765.66,1765.45,1765.79,1765.99,1767.82,1767.14,1768.4,1768.29,1767.83,1767.51,1769.12,1767.93,1768.07,1768.5,1769.81,1769.46,1775.4,1774.97,1772.7,1771,1768.94,1769.56,1774.53,1775.34,1778.57,1779.69,1780.34,1779.24,1778.32,1780,1781,1779.16,1778.02,1777.22,1777.04,1778.57,1780.24,1780]},{symbol:"ASML",name:"ASML Holding N.V.",price:263.99,day_change:1.26,change_pct:.48,volume:549797,volume_avg:1164687,market_cap:110834614272,pe:37.94,intraday:[262.8,262.63,262.18,261.98,262.34,262.23,262.23,262.21,262.78,262.62,262.75,262.74,262.88,262.85,263.11,263,263.38,263.45,263.63,263.23,263.45,263.16,263.29,263.48,263.52,263.89,264.08,264.5,264.54,264.38,263.95,263.82,263.78,263.93,264.13,264.16,263.97,263.94,264,263.84,263.98,263.95,264.11,264.15,264.26,264.06,264.49,264.02,264.08,264.6,264.65,264.27,264.36,263.92,263.75,264.29,264.09,264.24,264.33,263.92,263.77,263.74,264.02,263.88,263.82,263.79,263.6,263.43,263.58,263.57,263.61,263.55,263.57,263.41,264.06]},{symbol:"AVGO",name:"Broadcom Inc.",price:289.82,day_change:5.87,change_pct:2.07,volume:1987976,volume_avg:1691400,market_cap:114963193856,pe:40.79,intraday:[283.88,284.32,284.93,284.65,285.68,285.99,286.07,285.96,286.29,286.21,286.29,286.64,286.62,286.22,286.17,285.92,286.8,286.83,287.17,287.14,287.66,287.87,287.92,288.42,288.4,288.42,288.8,288.9,289.24,289.27,288.96,288.16,288.27,288.4,288.8,288.8,289.16,288.92,288.97,289.09,289.16,288.75,288.88,289.1,289.4,290.08,290.01,290.26,290.67,290.22,290.47,290.91,290.79,291.15,291.27,290.16,290.1,289.79,290.02,290.05,290.03,289.9,289.92,290.29,290.22,290.28,290.24,290.46,290.64,290.62,290.67,290.61,290.63,290.19,290.01,290.2,289.89,289.75]},{symbol:"BNPQY",name:"BNP Paribas SA",price:26.43,day_change:.43,change_pct:1.65,volume:103645,volume_avg:193571,market_cap:66021871616,pe:null,intraday:[26,25.97,25.97,25.98,25.95,25.95,25.89,25.91,25.89,25.85,25.91,25.93,25.89,25.94,25.94,25.94,25.94,25.91,25.9,25.89,25.92,25.97,25.97,25.94,25.94,25.94,25.94,25.99,26.07,26.07,26.01,26.01,26.04,26.03,26.03,26.03,25.99,25.99,26.08,26.08,26.06,26.05,26.05,26.05,25.99,25.99,25.99,26.06,25.99,26.02,26.05,26.05,26,26,26,25.98,26,26,26.03,26.11,26.22,26.26,26.36,26.41,26.41,26.29,26.41,26.4,26.35,26.35,26.42,26.43,26.43]},{symbol:"CACC",name:"Credit Acceptance Corporation",price:439.2,day_change:-.69,change_pct:-.16,volume:57324,volume_avg:84857,market_cap:8255554560,pe:13.4,intraday:[439.4,438.08,438.08,438.57,438.57,439.86,439.86,440.89,440.89,439.95,439.95,440,440.8,440.58,439.52,439.03,438.46,437.69,437.29,438.59,437.05,437.25,437.34,438.89,438.89,438.89,440,438.22,437.41,438.13,438.14,437.57,437.14,436.77,436.77,437.89,437.31,437.31,437.09,437.09,436.91,436.91,437.43,437.43,437.22,437.22,436.83,436.47,436.47,436.82,436.82,438.84,438.84,437.4,437.4,438.35,438.35,438.2,439.57,440.49,438.99,438.67,440.14,439.22,439.77,439.77,439.25,439.43,438.9,439.24,438.69,438.71]}];function Hre(e){return zre.find((function(t){return t.field===e})).title}function Gre(e){switch(e){case"Stack Area":return{type:"normal"};case"100% Stack Area":return{type:"100%"};case"Stack Bar":return{type:"normal"};case"100% Stack Bar":return{type:"100%"};case"Stack Column":return{type:"normal"};case"100% Stack Column":return{type:"100%"};default:return!1}}function Ure(e){switch(e){case"Stack Area":case"100% Stack Area":return"area";case"Stack Bar":case"100% Stack Bar":return"bar";case"Stack Column":case"100% Stack Column":return"column";case"Radar":return"radarLine";default:return e.toLowerCase()}}var Wre,qre,Zre=function(){return{background:"transparent"}},$re=function(){return{visible:!1}},Kre=((qre=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||qre)},qre.\u0275cmp=Et({type:qre,selectors:[["day-chart"]],inputs:{data:"data",changePct:"changePct"},decls:9,vars:20,consts:[[1,"charts-height",3,"transitions","chartArea"],[3,"visible","majorGridLines"],[3,"type","data","markers","color"],[3,"type","data","markers","color","opacity"]],template:function(e,t){1&e&&(Ls(0,"kendo-chart",0),Ls(1,"kendo-chart-value-axis"),Ns(2,"kendo-chart-value-axis-item",1),Vs(),Ls(3,"kendo-chart-category-axis"),Ns(4,"kendo-chart-category-axis-item",1),Vs(),Ls(5,"kendo-chart-series"),Ns(6,"kendo-chart-series-item",2),Ns(7,"kendo-chart-series-item",3),Vs(),Ns(8,"kendo-chart-tooltip"),Vs()),2&e&&(Ms("transitions",!1)("chartArea",Bl(15,Zre)),wr(2),Ms("visible",!1)("majorGridLines",Bl(16,$re)),wr(2),Ms("visible",!1)("majorGridLines",Bl(17,$re)),wr(2),Ms("type","line")("data",t.data)("markers",Bl(18,$re))("color",t.changePct>0?"green":"red"),wr(1),Ms("type","area")("data",t.data)("markers",Bl(19,$re))("color",t.changePct>0?"green":"red")("opacity",.2))},directives:[L9,eee,Q9,H9,B9,q9,N7,Y9],encapsulation:2}),qre),Yre=((Wre=function(){function e(){_classCallCheck(this,e),this.valueChange=new tu}return _createClass(e,[{key:"onChange",value:function(e){this.valueChange.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||Wre)},Wre.\u0275cmp=Et({type:Wre,selectors:[["select-chart-type"]],inputs:{data:"data",chartName:"chartName"},outputs:{valueChange:"valueChange"},decls:3,vars:2,consts:[[3,"data","value","valueChange"]],template:function(e,t){1&e&&(Ls(0,"label"),ya(1,"Type: "),Ls(2,"kendo-dropdownlist",0),Ws("valueChange",(function(e){return t.onChange(e)})),Vs(),Vs()),2&e&&(wr(2),Ms("data",t.data)("value",t.chartName))},directives:[GC],encapsulation:2}),Wre);function Xre(e,t){if(1&e&&(Ns(0,"span",2),ya(1)),2&e){var n=t.$implicit;wr(1),ba(" ",n.length," series selected ")}}var Qre,Jre=((Qre=function(){function e(){_classCallCheck(this,e),this.valueChange=new tu,this.selectedSeries=["price","pe"]}return _createClass(e,[{key:"onChange",value:function(e){this.selectedSeries=e,this.valueChange.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||Qre)},Qre.\u0275cmp=Et({type:Qre,selectors:[["select-series"]],inputs:{data:"data"},outputs:{valueChange:"valueChange"},decls:4,vars:8,consts:[["kendoMultiSelectSummaryTag","",3,"clearButton","autoClose","data","valuePrimitive","textField","valueField","value","placeholder","valueChange"],["kendoMultiSelectGroupTagTemplate",""],[1,"k-icon","k-i-arrow-s"]],template:function(e,t){1&e&&(Ls(0,"label"),ya(1," Series: "),Ls(2,"kendo-multiselect",0),Ws("valueChange",(function(e){return t.onChange(e)})),Rs(3,Xre,2,1,"ng-template",1),Vs(),Vs()),2&e&&(wr(2),Ms("clearButton",!1)("autoClose",!1)("data",t.data)("valuePrimitive",!0)("textField","title")("valueField","field")("value",t.selectedSeries)("placeholder","Select the desired series"))},directives:[KC,JC,qC],encapsulation:2}),Qre);function eoe(e,t){if(1&e){var n=Gs();Ls(0,"h3"),ya(1," Configuration"),Vs(),Ls(2,"select-chart-type",12),Ws("valueChange",(function(e){return Xt(n),$s().onValueChange(e)})),Vs(),Ls(3,"select-series",13),Ws("valueChange",(function(e){return Xt(n),$s().selectedSeries=e})),Vs()}if(2&e){var i=$s();wr(2),Ms("data",i.seriesTypes)("chartName",i.chartConfiguration.chartName),wr(1),Ms("data",i.series)}}function toe(e,t){if(1&e&&ya(0),2&e){var n=t.value,i=$s().$implicit;_a(" ",$s().getTitle(i),": ",n," ")}}function noe(e,t){if(1&e&&(Ls(0,"kendo-chart-series-item",14),Ls(1,"kendo-chart-series-item-tooltip"),Rs(2,toe,1,2,"ng-template"),Vs(),Vs()),2&e){var n=t.$implicit,i=$s();Ms("type",i.chartConfiguration.seriesType)("stack",i.chartConfiguration.stack)("gap",2)("spacing",.25)("data",i.data)("field",n)("name",i.getTitle(n))("categoryField","symbol")}}var ioe,roe=function(){return{rotation:"auto"}},ooe=((ioe=function(){function e(){_classCallCheck(this,e),this.series=zre,this.selectedSeries=["price","pe"],this.seriesTypes=Lre,this.getTitle=Hre,this.expanded=!1}return _createClass(e,[{key:"onValueChange",value:function(e){this.chartConfiguration.stack=Gre(e),this.chartConfiguration.seriesType=Ure(e)}},{key:"exportChart",value:function(e){e.exportImage().then((function(e){iN(e,"chart.png")}))}}]),e}()).\u0275fac=function(e){return new(e||ioe)},ioe.\u0275cmp=Et({type:ioe,selectors:[["stocks-component"]],inputs:{data:"data",chartConfiguration:"chartConfiguration"},decls:19,vars:10,consts:[["position","end",3,"mode","expanded","expandedChange"],["drawer",""],["kendoDrawerTemplate",""],[1,"drawer-content"],["chart",""],["text","Details per Stock"],[3,"type","stack","gap","spacing","data","field","name","categoryField",4,"ngFor","ngForOf"],[3,"labels"],["position","bottom","orientation","horizontal"],["kendoTooltip","",1,"window-icon-buttons",3,"offset"],["kendoButton","","title","Export as PNG",3,"iconClass","click"],["kendoButton","","title","Configuration",3,"iconClass","click"],[3,"data","chartName","valueChange"],[3,"data","valueChange"],[3,"type","stack","gap","spacing","data","field","name","categoryField"]],template:function(e,t){if(1&e){var n=Gs();Ls(0,"kendo-drawer-container"),Ls(1,"kendo-drawer",0,1),Ws("expandedChange",(function(e){return t.expanded=e})),Rs(3,eoe,4,3,"ng-template",2),Vs(),Ls(4,"kendo-drawer-content"),Ls(5,"div",3),Ls(6,"kendo-chart",null,4),Ns(8,"kendo-chart-title",5),Ls(9,"kendo-chart-series"),Rs(10,noe,3,8,"kendo-chart-series-item",6),Vs(),Ls(11,"kendo-chart-category-axis"),Ns(12,"kendo-chart-category-axis-item",7),Vs(),Ls(13,"kendo-chart-value-axis"),Ns(14,"kendo-chart-value-axis-item",7),Vs(),Ns(15,"kendo-chart-legend",8),Vs(),Ls(16,"div",9),Ls(17,"button",10),Ws("click",(function(){Xt(n);var e=Ps(7);return t.exportChart(e)})),Vs(),Ls(18,"button",11),Ws("click",(function(){return Xt(n),Ps(2).toggle()})),Vs(),Vs(),Vs(),Vs(),Vs()}2&e&&(wr(1),Ms("mode","push")("expanded",t.expanded),wr(9),Ms("ngForOf",t.selectedSeries),wr(2),Ms("labels",Bl(8,roe)),wr(2),Ms("labels",Bl(9,roe)),wr(2),Ms("offset",1),wr(1),Ms("iconClass","k-i-download k-icon"),wr(1),Ms("iconClass","k-i-gear k-icon"))},directives:[ire,Jie,qie,rre,L9,$9,q9,Fc,H9,B9,eee,Q9,U9,Rre,KV,Yre,Jre,N7,L7],encapsulation:2}),ioe);function soe(e,t){if(1&e){var n=Gs();Ls(0,"h3"),ya(1," Configuration"),Vs(),Ls(2,"select-chart-type",12),Ws("valueChange",(function(e){return Xt(n),$s().onValueChange(e)})),Vs(),Ls(3,"label"),ya(4,"Series: "),Ls(5,"kendo-dropdownlist",13),Ws("valueChange",(function(e){return Xt(n),$s().selectedSeries=e})),Vs(),Vs()}if(2&e){var i=$s();wr(2),Ms("data",i.seriesTypes)("chartName",i.chartConfiguration.chartName),wr(3),Ms("data",i.series)("valuePrimitive",!0)("textField","title")("valueField","field")("value",i.selectedSeries)}}function aoe(e,t){if(1&e&&ya(0),2&e){var n=t.dataItem,i=t.value,r=$s();Ca(" ",n.symbol," ",r.getTitle(r.selectedSeries),": ",i," ")}}var loe,uoe=((loe=function(){function e(){_classCallCheck(this,e),this.expanded=!1,this.selectedSeries="price",this.series=zre,this.seriesTypes=Nre,this.getTitle=Hre}return _createClass(e,[{key:"onValueChange",value:function(e){this.chartConfiguration.seriesType=Ure(e)}},{key:"exportChart",value:function(e){e.exportImage().then((function(e){iN(e,"chart.png")}))}}]),e}()).\u0275fac=function(e){return new(e||loe)},loe.\u0275cmp=Et({type:loe,selectors:[["pie-donut-stocks"]],inputs:{data:"data",chartConfiguration:"chartConfiguration"},decls:20,vars:13,consts:[["position","end",3,"mode","expanded","expandedChange"],["drawer",""],["kendoDrawerTemplate",""],[1,"drawer-content"],["chart",""],[3,"text"],[3,"type","data","field","name","categoryField"],["position","right","orientation","vertical"],[1,"window-icon-buttons"],["kendoButton","","title","Export as PNG",3,"iconClass","click"],["kendoButton","","title","Configuration",3,"iconClass","click"],["kendoTooltip","",1,"window-icon-buttons",3,"offset"],[3,"data","chartName","valueChange"],[3,"data","valuePrimitive","textField","valueField","value","valueChange"]],template:function(e,t){if(1&e){var n=Gs();Ls(0,"kendo-drawer-container"),Ls(1,"kendo-drawer",0,1),Ws("expandedChange",(function(e){return t.expanded=e})),Rs(3,soe,6,7,"ng-template",2),Vs(),Ls(4,"kendo-drawer-content"),Ls(5,"div",3),Ls(6,"kendo-chart",null,4),Ns(8,"kendo-chart-title",5),Ls(9,"kendo-chart-series"),Ls(10,"kendo-chart-series-item",6),Ls(11,"kendo-chart-series-item-tooltip"),Rs(12,aoe,1,3,"ng-template"),Vs(),Vs(),Vs(),Ns(13,"kendo-chart-legend",7),Vs(),Ls(14,"div",8),Ls(15,"button",9),Ws("click",(function(){Xt(n);var e=Ps(7);return t.exportChart(e)})),Vs(),Ls(16,"button",10),Ws("click",(function(){return Xt(n),Ps(2).toggle()})),Vs(),Vs(),Vs(),Ls(17,"div",11),Ls(18,"button",9),Ws("click",(function(){Xt(n);var e=Ps(7);return t.exportChart(e)})),Vs(),Ls(19,"button",10),Ws("click",(function(){return Xt(n),Ps(2).toggle()})),Vs(),Vs(),Vs(),Vs()}2&e&&(wr(1),Ms("mode","push")("expanded",t.expanded),wr(7),Ms("text",t.getTitle(t.selectedSeries)+" per stock"),wr(2),Ms("type",t.chartConfiguration.seriesType)("data",t.data)("field",t.selectedSeries)("name",t.selectedSeries)("categoryField","symbol"),wr(5),Ms("iconClass","k-i-download k-icon"),wr(1),Ms("iconClass","k-i-gear k-icon"),wr(1),Ms("offset",1),wr(1),Ms("iconClass","k-i-download k-icon"),wr(1),Ms("iconClass","k-i-gear k-icon"))},directives:[ire,Jie,qie,rre,L9,$9,q9,N7,L7,U9,KV,Rre,Yre,GC],encapsulation:2}),loe);function coe(e,t){if(1&e){var n=Gs();Ls(0,"h3"),ya(1," Configuration"),Vs(),Ls(2,"select-chart-type",13),Ws("valueChange",(function(e){return Xt(n),$s().onValueChange(e)})),Vs(),Ls(3,"select-series",14),Ws("valueChange",(function(e){return Xt(n),$s().selectedSeries=e})),Vs()}if(2&e){var i=$s();wr(2),Ms("data",i.seriesTypes)("chartName",i.chartConfiguration.chartName),wr(1),Ms("data",i.series)}}function hoe(e,t){if(1&e&&ya(0),2&e){var n=t.dataItem,i=$s().$implicit,r=$s();Ca(" ",n.symbol," ",r.getTitle(i),": ",n[i]," ")}}var foe=function(){return{visible:!0}};function doe(e,t){if(1&e&&(Ls(0,"kendo-chart-series-item",15),Ls(1,"kendo-chart-series-item-tooltip"),Rs(2,hoe,1,3,"ng-template"),Vs(),Vs()),2&e){var n=t.$implicit,i=$s();Ms("data",i.stockData)("type",i.chartConfiguration.seriesType)("xField","index")("yField",n)("name",i.getTitle(n))("sizeField",n)("negativeValues",Bl(7,foe))}}var poe,voe=function(e){return{content:e,rotation:"auto"}},goe=((poe=function(){function e(){_classCallCheck(this,e),this.stockData=[],this.series=zre,this.selectedSeries=["price","pe"],this.seriesTypes=Vre,this.getTitle=Hre,this.expanded=!1,this.labelContent=this.labelContent.bind(this)}return _createClass(e,[{key:"labelContent",value:function(e){return e.value>=0?this.stockData[e.value].symbol:""}},{key:"onValueChange",value:function(e){this.chartConfiguration.seriesType=Ure(e)}},{key:"exportChart",value:function(e){e.exportImage().then((function(e){iN(e,"chart.png")}))}},{key:"data",set:function(e){this.stockData=e.map((function(e,t){return e.index=t,e}))}}]),e}()).\u0275fac=function(e){return new(e||poe)},poe.\u0275cmp=Et({type:poe,selectors:[["scatter-bubble-charts"]],inputs:{chartConfiguration:"chartConfiguration",data:"data"},decls:20,vars:13,consts:[["position","end",3,"mode","expanded","expandedChange"],["drawer",""],["kendoDrawerTemplate",""],[1,"drawer-content"],["chart",""],["text","Details per Stock"],[3,"max","majorUnit","labels"],[3,"data","type","xField","yField","name","sizeField","negativeValues",4,"ngFor","ngForOf"],["position","right","orientation","vertical"],[1,"window-icon-buttons"],["kendoButton","","title","Export as PNG",3,"iconClass","click"],["kendoButton","","title","Configuration",3,"iconClass","click"],["kendoTooltip","",1,"window-icon-buttons",3,"offset"],[3,"data","chartName","valueChange"],[3,"data","valueChange"],[3,"data","type","xField","yField","name","sizeField","negativeValues"]],template:function(e,t){if(1&e){var n=Gs();Ls(0,"kendo-drawer-container"),Ls(1,"kendo-drawer",0,1),Ws("expandedChange",(function(e){return t.expanded=e})),Rs(3,coe,4,3,"ng-template",2),Vs(),Ls(4,"kendo-drawer-content"),Ls(5,"div",3),Ls(6,"kendo-chart",null,4),Ns(8,"kendo-chart-title",5),Ls(9,"kendo-chart-x-axis"),Ns(10,"kendo-chart-x-axis-item",6),Vs(),Ls(11,"kendo-chart-series"),Rs(12,doe,3,8,"kendo-chart-series-item",7),Vs(),Ns(13,"kendo-chart-legend",8),Vs(),Ls(14,"div",9),Ls(15,"button",10),Ws("click",(function(){Xt(n);var e=Ps(7);return t.exportChart(e)})),Vs(),Ls(16,"button",11),Ws("click",(function(){return Xt(n),Ps(2).toggle()})),Vs(),Vs(),Vs(),Ls(17,"div",12),Ls(18,"button",10),Ws("click",(function(){Xt(n);var e=Ps(7);return t.exportChart(e)})),Vs(),Ls(19,"button",11),Ws("click",(function(){return Xt(n),Ps(2).toggle()})),Vs(),Vs(),Vs(),Vs()}2&e&&(wr(1),Ms("mode","push")("expanded",t.expanded),wr(9),Ms("max",t.stockData.length-1)("majorUnit",1)("labels",jl(11,voe,t.labelContent)),wr(2),Ms("ngForOf",t.selectedSeries),wr(3),Ms("iconClass","k-i-download k-icon"),wr(1),Ms("iconClass","k-i-gear k-icon"),wr(1),Ms("offset",1),wr(1),Ms("iconClass","k-i-download k-icon"),wr(1),Ms("iconClass","k-i-gear k-icon"))},directives:[ire,Jie,qie,rre,L9,$9,ree,nee,q9,Fc,U9,KV,Rre,Yre,Jre,N7,L7],encapsulation:2}),poe);function moe(e,t){if(1&e&&Ns(0,"stocks-component",1),2&e){var n=$s();Ms("data",n.data)("chartConfiguration",n.chartConfiguration)}}function yoe(e,t){if(1&e&&Ns(0,"pie-donut-stocks",1),2&e){var n=$s();Ms("data",n.data)("chartConfiguration",n.chartConfiguration)}}function koe(e,t){if(1&e&&Ns(0,"scatter-bubble-charts",1),2&e){var n=$s();Ms("data",n.data)("chartConfiguration",n.chartConfiguration)}}var boe,_oe=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isBubbleOrSeriesChart",value:function(){return"scatter"===this.chartConfiguration.seriesType||"bubble"===this.chartConfiguration.seriesType}},{key:"isCircularChart",value:function(){return"pie"===this.chartConfiguration.seriesType||"donut"===this.chartConfiguration.seriesType}},{key:"isSimpleChart",value:function(){return"pie"!==this.chartConfiguration.seriesType&&"donut"!==this.chartConfiguration.seriesType&&"scatter"!==this.chartConfiguration.seriesType&&"bubble"!==this.chartConfiguration.seriesType}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Et({type:e,selectors:[["window-component"]],inputs:{data:"data",chartConfiguration:"chartConfiguration"},decls:3,vars:3,consts:[[3,"data","chartConfiguration",4,"ngIf"],[3,"data","chartConfiguration"]],template:function(e,t){1&e&&(Rs(0,moe,1,2,"stocks-component",0),Rs(1,yoe,1,2,"pie-donut-stocks",0),Rs(2,koe,1,2,"scatter-bubble-charts",0)),2&e&&(Ms("ngIf",t.isSimpleChart()),wr(1),Ms("ngIf",t.isCircularChart()),wr(1),Ms("ngIf",t.isBubbleOrSeriesChart()))},directives:[zc,ooe,uoe,goe],encapsulation:2}),e}(),Coe=((boe=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){return function(e){return e>=1e9?(e/1e9).toFixed(3)+"B":e>=1e6?(e/1e6).toFixed(3)+"M":e>=1e3?(e/1e3).toFixed(3)+"K":e}(e)}}]),e}()).\u0275fac=function(e){return new(e||boe)},boe.\u0275pipe=zt({name:"numberFormat",type:boe,pure:!0}),boe),woe=["gridmenu"],xoe=["grid"];function Soe(e,t){1&e&&(ya(0," Price "),Ls(1,"span",34),ya(2,"(Intraday)"),Vs())}function Toe(e,t){var n,i,r;1&e&&(ya(0),Yl(1,"currency")),2&e&&ba(" ",(n=t.$implicit.price,i=Kt(),r=tr(i,1),eu(i,Jl(i,1)?$l(i,on(),1,r.transform,n,"USD",r):r.transform(n,"USD")))," ")}var Ooe=function(e,t){return{"grid-cell-positive":e,"grid-cell-negative":t}};function Ioe(e,t){if(1&e&&(Ls(0,"span",35),ya(1),Vs()),2&e){var n=t.$implicit;Ms("ngClass",Hl(2,Ooe,n.day_change>0,n.day_change<0)),wr(1),ba(" ",n.day_change>0?"+"+n.day_change:n.day_change," ")}}function Eoe(e,t){if(1&e&&(Ls(0,"span",35),ya(1),Vs()),2&e){var n=t.$implicit;Ms("ngClass",Hl(2,Ooe,n.change_pct>0,n.change_pct<0)),wr(1),ba(" ",n.change_pct>0?"+"+n.change_pct:n.change_pct,"% ")}}function Aoe(e,t){1&e&&(ya(0),Yl(1,"numberFormat")),2&e&&ba(" ",Xl(1,1,t.$implicit.volume)," ")}function Roe(e,t){1&e&&(ya(0," Avg Vol "),Ls(1,"span",34),ya(2,"(3 month)"),Vs())}function Poe(e,t){1&e&&(ya(0),Yl(1,"numberFormat")),2&e&&ba(" ",Xl(1,1,t.$implicit.volume_avg)," ")}function Doe(e,t){1&e&&(ya(0),Yl(1,"numberFormat")),2&e&&ba(" ",Xl(1,1,t.$implicit.market_cap)," ")}function Foe(e,t){1&e&&(ya(0," PE Ratio "),Ls(1,"span",34),ya(2,"(TTM)"),Vs())}function Moe(e,t){if(1&e&&Ns(0,"day-chart",36),2&e){var n=t.$implicit;Ms("data",n.intraday)("changePct",n.change_pct)}}function zoe(e,t){1&e&&Ns(0,"span",39),2&e&&Ms("ngClass",$s().item.iconClass)}function Loe(e,t){if(1&e&&(Rs(0,zoe,1,1,"span",37),Ls(1,"div",38),ya(2),Vs()),2&e){var n=t.item;Ms("ngIf",n.iconClass),wr(2),ka(n.text)}}function Voe(e,t){if(1&e){var n=Gs();Ls(0,"kendo-window",40),Ws("close",(function(){return Xt(n),$s().close()})),Ns(1,"window-component",41),Vs()}if(2&e){var i=$s();Ms("top",150)("minWidth",250)("width",700)("height",550),wr(1),Ms("data",i.mySelection)("chartConfiguration",i.chartConfiguration)}}var Noe,Boe,joe,Hoe=function(){return{toggle:"click"}},Goe=((joe=function(){function e(){_classCallCheck(this,e),this.items=Bre,this.opened=!1,this.gridData=jre,this.selectableSettings={checkboxOnly:!1,mode:"multiple"},this.mySelection=jre.slice(0,4),this.allData=this.allData.bind(this)}return _createClass(e,[{key:"onCellClick",value:function(e){if("contextmenu"===e.type){var t=e.originalEvent;t.preventDefault(),this.gridContextMenu.show({left:t.pageX,top:t.pageY})}}},{key:"selectBy",value:function(e){return e.dataItem}},{key:"onSelectionChange",value:function(){var e=this;this.opened&&setTimeout((function(){e.mySelection=_toConsumableArray(e.mySelection)}))}},{key:"onSelect",value:function(e){"Charts"!==e.item.text&&void 0===e.item.items&&("Export Excel"===e.item.text?this.grid.saveAsExcel():(this.chartConfiguration={chartName:e.item.text,seriesType:Ure(e.item.text),stack:Gre(e.item.text)},this.opened||(this.opened=!0),this.gridContextMenu.hide()))}},{key:"allData",value:function(){return{data:this.mySelection}}},{key:"close",value:function(){this.opened=!1}}]),e}()).\u0275fac=function(e){return new(e||joe)},joe.\u0275cmp=Et({type:joe,selectors:[["app-stock-list"]],viewQuery:function(e,t){var n;1&e&&(pu(woe,!0),pu(xoe,!0)),2&e&&(fu(n=ku())&&(t.gridContextMenu=n.first),fu(n=ku())&&(t.grid=n.first))},decls:43,vars:18,consts:[[1,"k-custom-notification"],[1,"k-widget","k-notification","k-notification-info"],[1,"k-notification-wrap"],[1,"k-icon","k-i-info"],[1,"k-notification-content"],[3,"data","selectable","height","kendoGridSelectBy","selectedKeys","cellClick","selectionChange"],["grid",""],[3,"showSelectAll","width"],["field","symbol","title","Symbol",1,"grid-symbol-col",3,"width"],["field","name","title","Name",3,"width"],["field","price","title","Price",1,"price-col",3,"width"],["kendoGridHeaderTemplate",""],["kendoGridCellTemplate",""],["field","day_change","title","Change","media","(min-width: 768px)"],["field","change_pct","title","%Change","media","(min-width: 768px)"],["field","volume","title","Volume","media","(min-width: 768px)",3,"width"],["field","volume_avg","title","Avg Vol","media","(min-width: 768px)",1,"grid-avg-volume-col"],["field","market_cap","title","Market Cap","media","(min-width: 1200px)"],["media","(min-width: 1200px)","field","pe","title","PE Ratio",1,"grid-pe-ratio-col"],["media","(min-width: 992px)","field","intraday","title","1 Day Chart",1,"grid-one-day-chart",3,"width","sortable"],["fileName","Stocks.xlsx",3,"fetchData"],["field","symbol","title","Symbol"],["field","Name","title","Name"],["field","price_col","title","Price"],["field","day_change","title","Change"],["field","change_pct","title","% Change"],["field","volume","title","Volume"],["field","volume_avg","title","Average Volume"],["field","market_cap","title","Market Capital"],["field","pe","title","PE Ratio"],[3,"items","openOnClick","select"],["gridmenu",""],["kendoMenuItemTemplate",""],["title","Stock Portfolio Details",3,"top","minWidth","width","height","close",4,"ngIf"],[1,"grid-header-subtitle"],[3,"ngClass"],[3,"data","changePct"],["class","chart-png",3,"ngClass",4,"ngIf"],[1,"menu-item"],[1,"chart-png",3,"ngClass"],["title","Stock Portfolio Details",3,"top","minWidth","width","height","close"],[3,"data","chartConfiguration"]],template:function(e,t){1&e&&(Ls(0,"div",0),Ls(1,"div",1),Ls(2,"div",2),Ns(3,"span",3),Ls(4,"div",4),ya(5,"Select rows and right click the Grid in order to choose the desired Chart and generate it."),Vs(),Vs(),Vs(),Vs(),Ls(6,"kendo-grid",5,6),Ws("cellClick",(function(e){return t.onCellClick(e)}))("selectionChange",(function(){return t.onSelectionChange()})),Ns(8,"kendo-grid-checkbox-column",7),Ns(9,"kendo-grid-column",8),Ns(10,"kendo-grid-column",9),Ls(11,"kendo-grid-column",10),Rs(12,Soe,3,0,"ng-template",11),Rs(13,Toe,2,4,"ng-template",12),Vs(),Ls(14,"kendo-grid-column",13),Rs(15,Ioe,2,5,"ng-template",12),Vs(),Ls(16,"kendo-grid-column",14),Rs(17,Eoe,2,5,"ng-template",12),Vs(),Ls(18,"kendo-grid-column",15),Rs(19,Aoe,2,3,"ng-template",12),Vs(),Ls(20,"kendo-grid-column",16),Rs(21,Roe,3,0,"ng-template",11),Rs(22,Poe,2,3,"ng-template",12),Vs(),Ls(23,"kendo-grid-column",17),Rs(24,Doe,2,3,"ng-template",12),Vs(),Ls(25,"kendo-grid-column",18),Rs(26,Foe,3,0,"ng-template",11),Vs(),Ls(27,"kendo-grid-column",19),Rs(28,Moe,1,2,"ng-template",12),Vs(),Ls(29,"kendo-grid-excel",20),Ns(30,"kendo-excelexport-column",21),Ns(31,"kendo-excelexport-column",22),Ns(32,"kendo-excelexport-column",23),Ns(33,"kendo-excelexport-column",24),Ns(34,"kendo-excelexport-column",25),Ns(35,"kendo-excelexport-column",26),Ns(36,"kendo-excelexport-column",27),Ns(37,"kendo-excelexport-column",28),Ns(38,"kendo-excelexport-column",29),Vs(),Vs(),Ls(39,"kendo-contextmenu",30,31),Ws("select",(function(e){return t.onSelect(e)})),Rs(41,Loe,3,2,"ng-template",32),Vs(),Rs(42,Voe,2,6,"kendo-window",33)),2&e&&(wr(6),Ms("data",t.gridData)("selectable",t.selectableSettings)("height",500)("kendoGridSelectBy",t.selectBy)("selectedKeys",t.mySelection),wr(2),Ms("showSelectAll",!0)("width",30),wr(1),Ms("width",80),wr(1),Ms("width",140),wr(1),Ms("width",80),wr(7),Ms("width",100),wr(9),Ms("width",170)("sortable",!1),wr(2),Ms("fetchData",t.allData),wr(10),Ms("items",t.items)("openOnClick",Bl(17,Hoe)),wr(3),Ms("ngIf",t.opened))},directives:[n$,gY,BQ,iW,OU,CU,oJ,EB,rie,Ane,zc,Pc,Kre,rte,_oe],pipes:[nh,Coe],styles:[".k-grid{margin-bottom:100px;border-width:0}.k-grid td:first-child{text-overflow:unset}.k-grid .k-grid-header .k-header{vertical-align:middle}.k-grid .k-grid-header .k-header .grid-header-subtitle{display:block;margin:0;font-weight:400;font-size:13px}.k-grid .k-grid-header .k-header .k-link>.k-icon.k-i-sort-asc-sm,.k-grid .k-grid-header .k-header .k-link>.k-icon.k-i-sort-desc-sm{margin-left:4px}.k-grid .k-grid-header .k-header .grid-header-subtitle+.k-i-sort-desc-sm,.k-grid .k-grid-header .k-header .grid-header-subtitle+.k-icon.k-i-sort-asc-sm{position:absolute;top:50%;margin-top:-10px;right:20px}.k-grid .k-grid-content tr td{vertical-align:top}.k-grid tr.k-state-selected>td{color:inherit}.k-grid .symbol-col,.k-grid tr.k-state-selected>td.symbol-col{color:#007bff}.k-grid .price-col,.k-grid .symbol-col,.k-grid th{font-weight:700}.k-grid .grid-cell-positive{color:#5cb85c}.k-grid .grid-cell-negative{color:#d9534f}.k-custom-notification{margin:30px 0}.menu-item{margin-left:10px}.chart-png{width:20px;height:20px;background-size:cover;background-repeat:no-repeat;background-position:50%;margin-bottom:3px}.k-menu-group .k-item>.k-link{padding:3px 40px 3px 10px}.k-animation-container .k-item>.k-state-active,.k-animation-container .k-menu.k-context-menu .k-item>.k-state-active{background-color:initial;color:initial}.icon-bar{background-image:url(bar.09fb399bef7d429dbe27.png)}.icon-column{background-image:url(column.09fb399bef7d429dbe27.png)}.icon-area{background-image:url(area.9711db8571702dda9e62.png)}.icon-scatter{background-image:url(scatter.82633e680bc99973260f.png)}.icon-bubble{background-image:url(bubble.579e71814cdbbbe4ebe2.png)}.icon-pie{background-image:url(pie.5d1105dac5563b0b94d5.png)}.icon-radar{background-image:url(radar.8848c712ee9100dc0c88.png)}.icon-line{background-image:url(line.85f4e48e4f9c56d1f5a9.png)}"],encapsulation:2}),joe),Uoe=((Boe=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Boe)},Boe.\u0275cmp=Et({type:Boe,selectors:[["app-action-buttons"]],decls:7,vars:0,consts:[[1,"action-buttons"],["href","https://github.com/telerik/kendo-angular/tree/master/examples-standalone/grid-charts-integration","target","_blank","role","button",1,"k-button","k-flat","k-text-left"],[1,"k-icon","k-i-download"],["href","https://www.telerik.com/kendo-angular-ui/components/grid/how-to/grid-charts-integration/","target","_blank","role","button",1,"k-button","k-flat","k-text-left"],[1,"k-icon","k-i-file-txt"]],template:function(e,t){1&e&&(Ls(0,"div",0),Ls(1,"a",1),Ns(2,"span",2),ya(3,"Download on Github"),Vs(),Ls(4,"a",3),Ns(5,"span",4),ya(6,"Documentation"),Vs(),Vs())},styles:[".action-buttons[_ngcontent-%COMP%]{padding:20px;position:fixed;right:25px;bottom:70px;border-radius:5px;background-color:#fff;box-shadow:0 2px 6px rgba(0,0,0,.08)}.action-buttons[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:block;margin-bottom:5px}.action-buttons[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:last-child{margin-bottom:0}.action-buttons[_ngcontent-%COMP%]   .k-icon[_ngcontent-%COMP%]{margin:-3px 8px 0 0}@media (max-width:767px){.action-buttons[_ngcontent-%COMP%]{position:relative;right:auto}}"]}),Boe),Woe=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Et({type:e,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"container-fluid","footer","text-center","d-flex","align-items-center"],[1,"w-100"],[1,"footer-copyright","text-center"],[1,"progress-logo","d-inline-flex"]],template:function(e,t){1&e&&(Ls(0,"footer",0),Ls(1,"div",1),Ls(2,"span",2),ya(3,"Copyright \xa9 2019 Progress Software Corporation and/or its subsidiaries or affiliates."),Vs(),Ns(4,"span",3),Vs(),Vs())},styles:[".footer[_ngcontent-%COMP%]{position:fixed;bottom:0;padding:10px;background:url(footer-bg.a08c1749b859592b8bc4.svg);background-repeat:no-repeat;background-size:cover;background-color:#00f;z-index:999;font-size:16px;color:#fff}.footer[_ngcontent-%COMP%]   .progress-logo[_ngcontent-%COMP%]{width:100px;height:20px;vertical-align:middle;background-image:url(progress-logo.86964657182b92a59a85.svg);background-position:50%;background-repeat:no-repeat}"]}),e}(),qoe=((Noe=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Noe)},Noe.\u0275cmp=Et({type:Noe,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"container-fluid","px-0"],[1,"container"]],template:function(e,t){1&e&&(Ns(0,"app-header"),Ls(1,"main",0),Ls(2,"div",1),Ns(3,"app-stock-list"),Ns(4,"app-action-buttons"),Vs(),Vs(),Ns(5,"app-footer"))},directives:[Mre,Goe,Uoe,Woe],encapsulation:2}),Noe);n("yLV6");var Zoe,$oe=((Zoe=function e(){_classCallCheck(this,e)}).\u0275mod=Dt({type:Zoe,bootstrap:[qoe]}),Zoe.\u0275inj=Te({factory:function(e){return new(e||Zoe)},imports:[[Vh,fp,eg,tJ,vee,mte,xw,Lk,oie,PD,nN,sJ,cre,Fre]]}),Zoe);(function(){if(_i)throw new Error("Cannot enable prod mode after platform setup.");bi=!1})(),zh().bootstrapModule($oe).catch((function(e){return console.error(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);